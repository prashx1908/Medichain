function _mergeNamespaces($,o){for(var a=0;a<o.length;a++){const j=o[a];if(typeof j!="string"&&!Array.isArray(j)){for(const _e in j)if(_e!=="default"&&!(_e in $)){const et=Object.getOwnPropertyDescriptor(j,_e);et&&Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:()=>j[_e]})}}}return Object.freeze(Object.defineProperty($,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const _e of document.querySelectorAll('link[rel="modulepreload"]'))j(_e);new MutationObserver(_e=>{for(const et of _e)if(et.type==="childList")for(const tt of et.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&j(tt)}).observe(document,{childList:!0,subtree:!0});function a(_e){const et={};return _e.integrity&&(et.integrity=_e.integrity),_e.referrerPolicy&&(et.referrerPolicy=_e.referrerPolicy),_e.crossOrigin==="use-credentials"?et.credentials="include":_e.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function j(_e){if(_e.ep)return;_e.ep=!0;const et=a(_e);fetch(_e.href,et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}function getAugmentedNamespace($){if($.__esModule)return $;var o=$.default;if(typeof o=="function"){var a=function j(){return this instanceof j?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};a.prototype=o.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys($).forEach(function(j){var _e=Object.getOwnPropertyDescriptor($,j);Object.defineProperty(a,j,_e.get?_e:{enumerable:!0,get:function(){return $[j]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2($){return $===null||typeof $!="object"?null:($=z$3&&$[z$3]||$["@@iterator"],typeof $=="function"?$:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1($,o,a){this.props=$,this.context=o,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function($,o){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,o,"setState")};E$1.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1($,o,a){this.props=$,this.context=o,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$2={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1($,o,a){var j,_e={},et=null,tt=null;if(o!=null)for(j in o.ref!==void 0&&(tt=o.ref),o.key!==void 0&&(et=""+o.key),o)J.call(o,j)&&!L$1.hasOwnProperty(j)&&(_e[j]=o[j]);var rt=arguments.length-2;if(rt===1)_e.children=a;else if(1<rt){for(var nt=Array(rt),it=0;it<rt;it++)nt[it]=arguments[it+2];_e.children=nt}if($&&$.defaultProps)for(j in rt=$.defaultProps,rt)_e[j]===void 0&&(_e[j]=rt[j]);return{$$typeof:l$4,type:$,key:et,ref:tt,props:_e,_owner:K$2.current}}function N$1($,o){return{$$typeof:l$4,type:$.type,key:o,ref:$.ref,props:$.props,_owner:$._owner}}function O$1($){return typeof $=="object"&&$!==null&&$.$$typeof===l$4}function escape$1($){var o={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(a){return o[a]})}var P$1=/\/+/g;function Q$1($,o){return typeof $=="object"&&$!==null&&$.key!=null?escape$1(""+$.key):o.toString(36)}function R$1($,o,a,j,_e){var et=typeof $;(et==="undefined"||et==="boolean")&&($=null);var tt=!1;if($===null)tt=!0;else switch(et){case"string":case"number":tt=!0;break;case"object":switch($.$$typeof){case l$4:case n$4:tt=!0}}if(tt)return tt=$,_e=_e(tt),$=j===""?"."+Q$1(tt,0):j,I$1(_e)?(a="",$!=null&&(a=$.replace(P$1,"$&/")+"/"),R$1(_e,o,a,"",function(it){return it})):_e!=null&&(O$1(_e)&&(_e=N$1(_e,a+(!_e.key||tt&&tt.key===_e.key?"":(""+_e.key).replace(P$1,"$&/")+"/")+$)),o.push(_e)),1;if(tt=0,j=j===""?".":j+":",I$1($))for(var rt=0;rt<$.length;rt++){et=$[rt];var nt=j+Q$1(et,rt);tt+=R$1(et,o,a,nt,_e)}else if(nt=A$2($),typeof nt=="function")for($=nt.call($),rt=0;!(et=$.next()).done;)et=et.value,nt=j+Q$1(et,rt++),tt+=R$1(et,o,a,nt,_e);else if(et==="object")throw o=String($),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$1($,o,a){if($==null)return $;var j=[],_e=0;return R$1($,j,"","",function(et){return o.call(a,et,_e++)}),j}function T$1($){if($._status===-1){var o=$._result;o=o(),o.then(function(a){($._status===0||$._status===-1)&&($._status=1,$._result=a)},function(a){($._status===0||$._status===-1)&&($._status=2,$._result=a)}),$._status===-1&&($._status=0,$._result=o)}if($._status===1)return $._result.default;throw $._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$2};react_production_min.Children={map:S$1,forEach:function($,o,a){S$1($,function(){o.apply(this,arguments)},a)},count:function($){var o=0;return S$1($,function(){o++}),o},toArray:function($){return S$1($,function(o){return o})||[]},only:function($){if(!O$1($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$1;react_production_min.Fragment=p$6;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function($,o,a){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var j=C$1({},$.props),_e=$.key,et=$.ref,tt=$._owner;if(o!=null){if(o.ref!==void 0&&(et=o.ref,tt=K$2.current),o.key!==void 0&&(_e=""+o.key),$.type&&$.type.defaultProps)var rt=$.type.defaultProps;for(nt in o)J.call(o,nt)&&!L$1.hasOwnProperty(nt)&&(j[nt]=o[nt]===void 0&&rt!==void 0?rt[nt]:o[nt])}var nt=arguments.length-2;if(nt===1)j.children=a;else if(1<nt){rt=Array(nt);for(var it=0;it<nt;it++)rt[it]=arguments[it+2];j.children=rt}return{$$typeof:l$4,type:$.type,key:_e,ref:et,props:j,_owner:tt}};react_production_min.createContext=function($){return $={$$typeof:u$2,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$3,_context:$},$.Consumer=$};react_production_min.createElement=M$1;react_production_min.createFactory=function($){var o=M$1.bind(null,$);return o.type=$,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$4,render:$}};react_production_min.isValidElement=O$1;react_production_min.lazy=function($){return{$$typeof:y$1,_payload:{_status:-1,_result:$},_init:T$1}};react_production_min.memo=function($,o){return{$$typeof:x$2,type:$,compare:o===void 0?null:o}};react_production_min.startTransition=function($){var o=V$1.transition;V$1.transition={};try{$()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function($,o){return U$1.current.useCallback($,o)};react_production_min.useContext=function($){return U$1.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$1.current.useDeferredValue($)};react_production_min.useEffect=function($,o){return U$1.current.useEffect($,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function($,o,a){return U$1.current.useImperativeHandle($,o,a)};react_production_min.useInsertionEffect=function($,o){return U$1.current.useInsertionEffect($,o)};react_production_min.useLayoutEffect=function($,o){return U$1.current.useLayoutEffect($,o)};react_production_min.useMemo=function($,o){return U$1.current.useMemo($,o)};react_production_min.useReducer=function($,o,a){return U$1.current.useReducer($,o,a)};react_production_min.useRef=function($){return U$1.current.useRef($)};react_production_min.useState=function($){return U$1.current.useState($)};react_production_min.useSyncExternalStore=function($,o,a){return U$1.current.useSyncExternalStore($,o,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$3=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$3=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$3($,o,a){var j,_e={},et=null,tt=null;a!==void 0&&(et=""+a),o.key!==void 0&&(et=""+o.key),o.ref!==void 0&&(tt=o.ref);for(j in o)m$4.call(o,j)&&!p$5.hasOwnProperty(j)&&(_e[j]=o[j]);if($&&$.defaultProps)for(j in o=$.defaultProps,o)_e[j]===void 0&&(_e[j]=o[j]);return{$$typeof:k$3,type:$,key:et,ref:tt,props:_e,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client$1={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function o(Pt,zt){var Vt=Pt.length;Pt.push(zt);e:for(;0<Vt;){var $t=Vt-1>>>1,At=Pt[$t];if(0<_e(At,zt))Pt[$t]=zt,Pt[Vt]=At,Vt=$t;else break e}}function a(Pt){return Pt.length===0?null:Pt[0]}function j(Pt){if(Pt.length===0)return null;var zt=Pt[0],Vt=Pt.pop();if(Vt!==zt){Pt[0]=Vt;e:for(var $t=0,At=Pt.length,Ht=At>>>1;$t<Ht;){var ar=2*($t+1)-1,Rt=Pt[ar],Zt=ar+1,ir=Pt[Zt];if(0>_e(Rt,Vt))Zt<At&&0>_e(ir,Rt)?(Pt[$t]=ir,Pt[Zt]=Vt,$t=Zt):(Pt[$t]=Rt,Pt[ar]=Vt,$t=ar);else if(Zt<At&&0>_e(ir,Vt))Pt[$t]=ir,Pt[Zt]=Vt,$t=Zt;else break e}}return zt}function _e(Pt,zt){var Vt=Pt.sortIndex-zt.sortIndex;return Vt!==0?Vt:Pt.id-zt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;$.unstable_now=function(){return et.now()}}else{var tt=Date,rt=tt.now();$.unstable_now=function(){return tt.now()-rt}}var nt=[],it=[],ot=1,st=null,ct=3,ut=!1,dt=!1,ft=!1,ht=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(Pt){for(var zt=a(it);zt!==null;){if(zt.callback===null)j(it);else if(zt.startTime<=Pt)j(it),zt.sortIndex=zt.expirationTime,o(nt,zt);else break;zt=a(it)}}function xt(Pt){if(ft=!1,gt(Pt),!dt)if(a(nt)!==null)dt=!0,Lt(wt);else{var zt=a(it);zt!==null&&Ot(xt,zt.startTime-Pt)}}function wt(Pt,zt){dt=!1,ft&&(ft=!1,pt(Tt),Tt=-1),ut=!0;var Vt=ct;try{for(gt(zt),st=a(nt);st!==null&&(!(st.expirationTime>zt)||Pt&&!jt());){var $t=st.callback;if(typeof $t=="function"){st.callback=null,ct=st.priorityLevel;var At=$t(st.expirationTime<=zt);zt=$.unstable_now(),typeof At=="function"?st.callback=At:st===a(nt)&&j(nt),gt(zt)}else j(nt);st=a(nt)}if(st!==null)var Ht=!0;else{var ar=a(it);ar!==null&&Ot(xt,ar.startTime-zt),Ht=!1}return Ht}finally{st=null,ct=Vt,ut=!1}}var Mt=!1,It=null,Tt=-1,Dt=5,Ut=-1;function jt(){return!($.unstable_now()-Ut<Dt)}function Xt(){if(It!==null){var Pt=$.unstable_now();Ut=Pt;var zt=!0;try{zt=It(!0,Pt)}finally{zt?kt():(Mt=!1,It=null)}}else Mt=!1}var kt;if(typeof yt=="function")kt=function(){yt(Xt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Et=vt.port2;vt.port1.onmessage=Xt,kt=function(){Et.postMessage(null)}}else kt=function(){ht(Xt,0)};function Lt(Pt){It=Pt,Mt||(Mt=!0,kt())}function Ot(Pt,zt){Tt=ht(function(){Pt($.unstable_now())},zt)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Pt){Pt.callback=null},$.unstable_continueExecution=function(){dt||ut||(dt=!0,Lt(wt))},$.unstable_forceFrameRate=function(Pt){0>Pt||125<Pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dt=0<Pt?Math.floor(1e3/Pt):5},$.unstable_getCurrentPriorityLevel=function(){return ct},$.unstable_getFirstCallbackNode=function(){return a(nt)},$.unstable_next=function(Pt){switch(ct){case 1:case 2:case 3:var zt=3;break;default:zt=ct}var Vt=ct;ct=zt;try{return Pt()}finally{ct=Vt}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Pt,zt){switch(Pt){case 1:case 2:case 3:case 4:case 5:break;default:Pt=3}var Vt=ct;ct=Pt;try{return zt()}finally{ct=Vt}},$.unstable_scheduleCallback=function(Pt,zt,Vt){var $t=$.unstable_now();switch(typeof Vt=="object"&&Vt!==null?(Vt=Vt.delay,Vt=typeof Vt=="number"&&0<Vt?$t+Vt:$t):Vt=$t,Pt){case 1:var At=-1;break;case 2:At=250;break;case 5:At=1073741823;break;case 4:At=1e4;break;default:At=5e3}return At=Vt+At,Pt={id:ot++,callback:zt,priorityLevel:Pt,startTime:Vt,expirationTime:At,sortIndex:-1},Vt>$t?(Pt.sortIndex=Vt,o(it,Pt),a(nt)===null&&Pt===a(it)&&(ft?(pt(Tt),Tt=-1):ft=!0,Ot(xt,Vt-$t))):(Pt.sortIndex=At,o(nt,Pt),dt||ut||(dt=!0,Lt(wt))),Pt},$.unstable_shouldYield=jt,$.unstable_wrapCallback=function(Pt){var zt=ct;return function(){var Vt=ct;ct=zt;try{return Pt.apply(this,arguments)}finally{ct=Vt}}}})(scheduler_production_min$1);scheduler$1.exports=scheduler_production_min$1;var schedulerExports$1=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$4($){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+$,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+$+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa($,o){ha($,o),ha($+"Capture",o)}function ha($,o){for(ea[$]=o,$=0;$<o.length;$++)da.add(o[$])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa($){return ja.call(ma,$)?!0:ja.call(la,$)?!1:ka.test($)?ma[$]=!0:(la[$]=!0,!1)}function pa($,o,a,j){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return j?!1:a!==null?!a.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa($,o,a,j){if(o===null||typeof o>"u"||pa($,o,a,j))return!0;if(j)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$3($,o,a,j,_e,et,tt){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=j,this.attributeNamespace=_e,this.mustUseProperty=a,this.propertyName=$,this.type=o,this.sanitizeURL=et,this.removeEmptyString=tt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z$2[$]=new v$3($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var o=$[0];z$2[o]=new v$3(o,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z$2[$]=new v$3($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z$2[$]=new v$3($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z$2[$]=new v$3($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z$2[$]=new v$3($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z$2[$]=new v$3($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z$2[$]=new v$3($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z$2[$]=new v$3($,5,!1,$.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var o=$.replace(ra,sa);z$2[o]=new v$3(o,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var o=$.replace(ra,sa);z$2[o]=new v$3(o,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var o=$.replace(ra,sa);z$2[o]=new v$3(o,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z$2[$]=new v$3($,1,!1,$.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z$2[$]=new v$3($,1,!1,$.toLowerCase(),null,!0,!0)});function ta($,o,a,j){var _e=z$2.hasOwnProperty(o)?z$2[o]:null;(_e!==null?_e.type!==0:j||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,a,_e,j)&&(a=null),j||_e===null?oa(o)&&(a===null?$.removeAttribute(o):$.setAttribute(o,""+a)):_e.mustUseProperty?$[_e.propertyName]=a===null?_e.type===3?!1:"":a:(o=_e.attributeName,j=_e.attributeNamespace,a===null?$.removeAttribute(o):(_e=_e.type,a=_e===3||_e===4&&a===!0?"":""+a,j?$.setAttributeNS(j,o,a):$.setAttribute(o,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja&&$[Ja]||$["@@iterator"],typeof $=="function"?$:null)}var A$1=Object.assign,La;function Ma($){if(La===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+$}var Na=!1;function Oa($,o){if(!$||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(it){var j=it}Reflect.construct($,[],o)}else{try{o.call()}catch(it){j=it}$.call(o.prototype)}else{try{throw Error()}catch(it){j=it}$()}}catch(it){if(it&&j&&typeof it.stack=="string"){for(var _e=it.stack.split(`
`),et=j.stack.split(`
`),tt=_e.length-1,rt=et.length-1;1<=tt&&0<=rt&&_e[tt]!==et[rt];)rt--;for(;1<=tt&&0<=rt;tt--,rt--)if(_e[tt]!==et[rt]){if(tt!==1||rt!==1)do if(tt--,rt--,0>rt||_e[tt]!==et[rt]){var nt=`
`+_e[tt].replace(" at new "," at ");return $.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",$.displayName)),nt}while(1<=tt&&0<=rt);break}}}finally{Na=!1,Error.prepareStackTrace=a}return($=$?$.displayName||$.name:"")?Ma($):""}function Pa($){switch($.tag){case 5:return Ma($.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return $=Oa($.type,!1),$;case 11:return $=Oa($.type.render,!1),$;case 1:return $=Oa($.type,!0),$;default:return""}}function Qa($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca:return($.displayName||"Context")+".Consumer";case Ba:return($._context.displayName||"Context")+".Provider";case Da:var o=$.render;return $=$.displayName,$||($=o.displayName||o.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga:return o=$.displayName||null,o!==null?o:Qa($.type)||"Memo";case Ha:o=$._payload,$=$._init;try{return Qa($(o))}catch{}}return null}function Ra($){var o=$.type;switch($.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=o.render,$=$.displayName||$.name||"",o.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta($){var o=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua($){var o=Ta($)?"checked":"value",a=Object.getOwnPropertyDescriptor($.constructor.prototype,o),j=""+$[o];if(!$.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var _e=a.get,et=a.set;return Object.defineProperty($,o,{configurable:!0,get:function(){return _e.call(this)},set:function(tt){j=""+tt,et.call(this,tt)}}),Object.defineProperty($,o,{enumerable:a.enumerable}),{getValue:function(){return j},setValue:function(tt){j=""+tt},stopTracking:function(){$._valueTracker=null,delete $[o]}}}}function Va($){$._valueTracker||($._valueTracker=Ua($))}function Wa($){if(!$)return!1;var o=$._valueTracker;if(!o)return!0;var a=o.getValue(),j="";return $&&(j=Ta($)?$.checked?"true":"false":$.value),$=j,$!==a?(o.setValue($),!0):!1}function Xa($){if($=$||(typeof document<"u"?document:void 0),typeof $>"u")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya($,o){var a=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??$._wrapperState.initialChecked})}function Za($,o){var a=o.defaultValue==null?"":o.defaultValue,j=o.checked!=null?o.checked:o.defaultChecked;a=Sa(o.value!=null?o.value:a),$._wrapperState={initialChecked:j,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab($,o){o=o.checked,o!=null&&ta($,"checked",o,!1)}function bb($,o){ab($,o);var a=Sa(o.value),j=o.type;if(a!=null)j==="number"?(a===0&&$.value===""||$.value!=a)&&($.value=""+a):$.value!==""+a&&($.value=""+a);else if(j==="submit"||j==="reset"){$.removeAttribute("value");return}o.hasOwnProperty("value")?cb($,o.type,a):o.hasOwnProperty("defaultValue")&&cb($,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&($.defaultChecked=!!o.defaultChecked)}function db($,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var j=o.type;if(!(j!=="submit"&&j!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+$._wrapperState.initialValue,a||o===$.value||($.value=o),$.defaultValue=o}a=$.name,a!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,a!==""&&($.name=a)}function cb($,o,a){(o!=="number"||Xa($.ownerDocument)!==$)&&(a==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+a&&($.defaultValue=""+a))}var eb=Array.isArray;function fb($,o,a,j){if($=$.options,o){o={};for(var _e=0;_e<a.length;_e++)o["$"+a[_e]]=!0;for(a=0;a<$.length;a++)_e=o.hasOwnProperty("$"+$[a].value),$[a].selected!==_e&&($[a].selected=_e),_e&&j&&($[a].defaultSelected=!0)}else{for(a=""+Sa(a),o=null,_e=0;_e<$.length;_e++){if($[_e].value===a){$[_e].selected=!0,j&&($[_e].defaultSelected=!0);return}o!==null||$[_e].disabled||(o=$[_e])}o!==null&&(o.selected=!0)}}function gb($,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb($,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(p$4(92));if(eb(a)){if(1<a.length)throw Error(p$4(93));a=a[0]}o=a}o==null&&(o=""),a=o}$._wrapperState={initialValue:Sa(a)}}function ib($,o){var a=Sa(o.value),j=Sa(o.defaultValue);a!=null&&(a=""+a,a!==$.value&&($.value=a),o.defaultValue==null&&$.defaultValue!==a&&($.defaultValue=a)),j!=null&&($.defaultValue=""+j)}function jb($){var o=$.textContent;o===$._wrapperState.initialValue&&o!==""&&o!==null&&($.value=o)}function kb($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb($,o){return $==null||$==="http://www.w3.org/1999/xhtml"?kb(o):$==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb,nb=function($){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,j,_e){MSApp.execUnsafeLocalFunction(function(){return $(o,a,j,_e)})}:$}(function($,o){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;o.firstChild;)$.appendChild(o.firstChild)}});function ob($,o){if(o){var a=$.firstChild;if(a&&a===$.lastChild&&a.nodeType===3){a.nodeValue=o;return}}$.textContent=o}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function($){qb.forEach(function(o){o=o+$.charAt(0).toUpperCase()+$.substring(1),pb$1[o]=pb$1[$]})});function rb($,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||pb$1.hasOwnProperty($)&&pb$1[$]?(""+o).trim():o+"px"}function sb($,o){$=$.style;for(var a in o)if(o.hasOwnProperty(a)){var j=a.indexOf("--")===0,_e=rb(a,o[a],j);a==="float"&&(a="cssFloat"),j?$.setProperty(a,_e):$[a]=_e}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub($,o){if(o){if(tb[$]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$4(137,$));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$4(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$4(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$4(62))}}function vb($,o){if($.indexOf("-")===-1)return typeof o.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb=null,zb=null,Ab=null;function Bb($){if($=Cb($)){if(typeof yb!="function")throw Error(p$4(280));var o=$.stateNode;o&&(o=Db(o),yb($.stateNode,$.type,o))}}function Eb($){zb?Ab?Ab.push($):Ab=[$]:zb=$}function Fb(){if(zb){var $=zb,o=Ab;if(Ab=zb=null,Bb($),o)for($=0;$<o.length;$++)Bb(o[$])}}function Gb($,o){return $(o)}function Hb(){}var Ib=!1;function Jb($,o,a){if(Ib)return $(o,a);Ib=!0;try{return Gb($,o,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb($,o){var a=$.stateNode;if(a===null)return null;var j=Db(a);if(j===null)return null;a=j[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||($=$.type,j=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!j;break e;default:$=!1}if($)return null;if(a&&typeof a!="function")throw Error(p$4(231,o,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb($,o,a,j,_e,et,tt,rt,nt){var it=Array.prototype.slice.call(arguments,3);try{o.apply(a,it)}catch(ot){this.onError(ot)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function($){Ob=!0,Pb=$}};function Tb($,o,a,j,_e,et,tt,rt,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub($,o,a,j,_e,et,tt,rt,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=it)}}function Vb($){var o=$,a=$;if($.alternate)for(;o.return;)o=o.return;else{$=o;do o=$,o.flags&4098&&(a=o.return),$=o.return;while($)}return o.tag===3?a:null}function Wb($){if($.tag===13){var o=$.memoizedState;if(o===null&&($=$.alternate,$!==null&&(o=$.memoizedState)),o!==null)return o.dehydrated}return null}function Xb($){if(Vb($)!==$)throw Error(p$4(188))}function Yb($){var o=$.alternate;if(!o){if(o=Vb($),o===null)throw Error(p$4(188));return o!==$?null:$}for(var a=$,j=o;;){var _e=a.return;if(_e===null)break;var et=_e.alternate;if(et===null){if(j=_e.return,j!==null){a=j;continue}break}if(_e.child===et.child){for(et=_e.child;et;){if(et===a)return Xb(_e),$;if(et===j)return Xb(_e),o;et=et.sibling}throw Error(p$4(188))}if(a.return!==j.return)a=_e,j=et;else{for(var tt=!1,rt=_e.child;rt;){if(rt===a){tt=!0,a=_e,j=et;break}if(rt===j){tt=!0,j=_e,a=et;break}rt=rt.sibling}if(!tt){for(rt=et.child;rt;){if(rt===a){tt=!0,a=et,j=_e;break}if(rt===j){tt=!0,j=et,a=_e;break}rt=rt.sibling}if(!tt)throw Error(p$4(189))}}if(a.alternate!==j)throw Error(p$4(190))}if(a.tag!==3)throw Error(p$4(188));return a.stateNode.current===a?$:o}function Zb($){return $=Yb($),$!==null?$b($):null}function $b($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var o=$b($);if(o!==null)return o;$=$.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc($){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,$,void 0,($.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc($){return $>>>=0,$===0?32:31-(pc($)/qc|0)|0}var rc=64,sc=4194304;function tc($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc($,o){var a=$.pendingLanes;if(a===0)return 0;var j=0,_e=$.suspendedLanes,et=$.pingedLanes,tt=a&268435455;if(tt!==0){var rt=tt&~_e;rt!==0?j=tc(rt):(et&=tt,et!==0&&(j=tc(et)))}else tt=a&~_e,tt!==0?j=tc(tt):et!==0&&(j=tc(et));if(j===0)return 0;if(o!==0&&o!==j&&!(o&_e)&&(_e=j&-j,et=o&-o,_e>=et||_e===16&&(et&4194240)!==0))return o;if(j&4&&(j|=a&16),o=$.entangledLanes,o!==0)for($=$.entanglements,o&=j;0<o;)a=31-oc(o),_e=1<<a,j|=$[a],o&=~_e;return j}function vc($,o){switch($){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc($,o){for(var a=$.suspendedLanes,j=$.pingedLanes,_e=$.expirationTimes,et=$.pendingLanes;0<et;){var tt=31-oc(et),rt=1<<tt,nt=_e[tt];nt===-1?(!(rt&a)||rt&j)&&(_e[tt]=vc(rt,o)):nt<=o&&($.expiredLanes|=rt),et&=~rt}}function xc($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc(){var $=rc;return rc<<=1,!(rc&4194240)&&(rc=64),$}function zc($){for(var o=[],a=0;31>a;a++)o.push($);return o}function Ac($,o,a){$.pendingLanes|=o,o!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,o=31-oc(o),$[o]=a}function Bc($,o){var a=$.pendingLanes&~o;$.pendingLanes=o,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=o,$.mutableReadLanes&=o,$.entangledLanes&=o,o=$.entanglements;var j=$.eventTimes;for($=$.expirationTimes;0<a;){var _e=31-oc(a),et=1<<_e;o[_e]=0,j[_e]=-1,$[_e]=-1,a&=~et}}function Cc($,o){var a=$.entangledLanes|=o;for($=$.entanglements;a;){var j=31-oc(a),_e=1<<j;_e&o|$[j]&o&&($[j]|=o),a&=~_e}}var C=0;function Dc($){return $&=-$,1<$?4<$?$&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc($,o){switch($){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc($,o,a,j,_e,et){return $===null||$.nativeEvent!==et?($={blockedOn:o,domEventName:a,eventSystemFlags:j,nativeEvent:et,targetContainers:[_e]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),$):($.eventSystemFlags|=j,o=$.targetContainers,_e!==null&&o.indexOf(_e)===-1&&o.push(_e),$)}function Uc($,o,a,j,_e){switch(o){case"focusin":return Lc=Tc(Lc,$,o,a,j,_e),!0;case"dragenter":return Mc=Tc(Mc,$,o,a,j,_e),!0;case"mouseover":return Nc=Tc(Nc,$,o,a,j,_e),!0;case"pointerover":var et=_e.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,$,o,a,j,_e)),!0;case"gotpointercapture":return et=_e.pointerId,Pc.set(et,Tc(Pc.get(et)||null,$,o,a,j,_e)),!0}return!1}function Vc($){var o=Wc($.target);if(o!==null){var a=Vb(o);if(a!==null){if(o=a.tag,o===13){if(o=Wb(a),o!==null){$.blockedOn=o,Ic($.priority,function(){Gc(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){$.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc($){if($.blockedOn!==null)return!1;for(var o=$.targetContainers;0<o.length;){var a=Yc($.domEventName,$.eventSystemFlags,o[0],$.nativeEvent);if(a===null){a=$.nativeEvent;var j=new a.constructor(a.type,a);wb=j,a.target.dispatchEvent(j),wb=null}else return o=Cb(a),o!==null&&Fc(o),$.blockedOn=a,!1;o.shift()}return!0}function Zc($,o,a){Xc($)&&a.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad($,o){$.blockedOn===o&&($.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd($){function o(_e){return ad(_e,$)}if(0<Kc.length){ad(Kc[0],$);for(var a=1;a<Kc.length;a++){var j=Kc[a];j.blockedOn===$&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,$),Mc!==null&&ad(Mc,$),Nc!==null&&ad(Nc,$),Oc.forEach(o),Pc.forEach(o),a=0;a<Qc.length;a++)j=Qc[a],j.blockedOn===$&&(j.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed($,o,a,j){var _e=C,et=cd.transition;cd.transition=null;try{C=1,fd($,o,a,j)}finally{C=_e,cd.transition=et}}function gd($,o,a,j){var _e=C,et=cd.transition;cd.transition=null;try{C=4,fd($,o,a,j)}finally{C=_e,cd.transition=et}}function fd($,o,a,j){if(dd){var _e=Yc($,o,a,j);if(_e===null)hd($,o,j,id$2,a),Sc($,j);else if(Uc(_e,$,o,a,j))j.stopPropagation();else if(Sc($,j),o&4&&-1<Rc.indexOf($)){for(;_e!==null;){var et=Cb(_e);if(et!==null&&Ec(et),et=Yc($,o,a,j),et===null&&hd($,o,j,id$2,a),et===_e)break;_e=et}_e!==null&&j.stopPropagation()}else hd($,o,j,null,a)}}var id$2=null;function Yc($,o,a,j){if(id$2=null,$=xb(j),$=Wc($),$!==null)if(o=Vb($),o===null)$=null;else if(a=o.tag,a===13){if($=Wb(o),$!==null)return $;$=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;$=null}else o!==$&&($=null);return id$2=$,null}function jd($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var $,o=ld,a=o.length,j,_e="value"in kd?kd.value:kd.textContent,et=_e.length;for($=0;$<a&&o[$]===_e[$];$++);var tt=a-$;for(j=1;j<=tt&&o[a-j]===_e[et-j];j++);return md=_e.slice($,1<j?1-j:void 0)}function od($){var o=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&o===13&&($=13)):$=o,$===10&&($=13),32<=$||$===13?$:0}function pd(){return!0}function qd(){return!1}function rd($){function o(a,j,_e,et,tt){this._reactName=a,this._targetInst=_e,this.type=j,this.nativeEvent=et,this.target=tt,this.currentTarget=null;for(var rt in $)$.hasOwnProperty(rt)&&(a=$[rt],this[rt]=a?a(et):et[rt]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd&&(yd&&$.type==="mousemove"?(wd=$.screenX-yd.screenX,xd=$.screenY-yd.screenY):xd=wd=0,yd=$),wd)},movementY:function($){return"movementY"in $?$.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd($){var o=this.nativeEvent;return o.getModifierState?o.getModifierState($):($=Od[$])?!!o[$]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function($){if($.key){var o=Md[$.key]||$.key;if(o!=="Unidentified")return o}return $.type==="keypress"?($=od($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function($){return $.type==="keypress"?od($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge($,o){switch($){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie=!1;function je($,o){switch($){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return $=o.data,$===ee&&fe?null:$;default:return null}}function ke($,o){if(ie)return $==="compositionend"||!ae&&ge($,o)?($=nd(),md=ld=kd=null,ie=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me($){var o=$&&$.nodeName&&$.nodeName.toLowerCase();return o==="input"?!!le[$.type]:o==="textarea"}function ne($,o,a,j){Eb(j),o=oe(o,"onChange"),0<o.length&&(a=new td("onChange","change",null,a,j),$.push({event:a,listeners:o}))}var pe=null,qe=null;function re($){se($,0)}function te($){var o=ue($);if(Wa(o))return $}function ve($,o){if($==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,$,xb($)),Jb(re,o)}}function Ce($,o,a){$==="focusin"?(Ae(),pe=o,qe=a,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te(qe)}function Ee($,o){if($==="click")return te(o)}function Fe($,o){if($==="input"||$==="change")return te(o)}function Ge($,o){return $===o&&($!==0||1/$===1/o)||$!==$&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie($,o){if(He($,o))return!0;if(typeof $!="object"||$===null||typeof o!="object"||o===null)return!1;var a=Object.keys($),j=Object.keys(o);if(a.length!==j.length)return!1;for(j=0;j<a.length;j++){var _e=a[j];if(!ja.call(o,_e)||!He($[_e],o[_e]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,o){var a=Je($);$=0;for(var j;a;){if(a.nodeType===3){if(j=$+a.textContent.length,$<=o&&j>=o)return{node:a,offset:o-$};$=j}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le($,o){return $&&o?$===o?!0:$&&$.nodeType===3?!1:o&&o.nodeType===3?Le($,o.parentNode):"contains"in $?$.contains(o):$.compareDocumentPosition?!!($.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var $=window,o=Xa();o instanceof $.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)$=o.contentWindow;else break;o=Xa($.document)}return o}function Ne($){var o=$&&$.nodeName&&$.nodeName.toLowerCase();return o&&(o==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||o==="textarea"||$.contentEditable==="true")}function Oe($){var o=Me(),a=$.focusedElem,j=$.selectionRange;if(o!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(j!==null&&Ne(a)){if(o=j.start,$=j.end,$===void 0&&($=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min($,a.value.length);else if($=(o=a.ownerDocument||document)&&o.defaultView||window,$.getSelection){$=$.getSelection();var _e=a.textContent.length,et=Math.min(j.start,_e);j=j.end===void 0?et:Math.min(j.end,_e),!$.extend&&et>j&&(_e=j,j=et,et=_e),_e=Ke(a,et);var tt=Ke(a,j);_e&&tt&&($.rangeCount!==1||$.anchorNode!==_e.node||$.anchorOffset!==_e.offset||$.focusNode!==tt.node||$.focusOffset!==tt.offset)&&(o=o.createRange(),o.setStart(_e.node,_e.offset),$.removeAllRanges(),et>j?($.addRange(o),$.extend(tt.node,tt.offset)):(o.setEnd(tt.node,tt.offset),$.addRange(o)))}}for(o=[],$=a;$=$.parentNode;)$.nodeType===1&&o.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)$=o[a],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue($,o,a){var j=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(o=new td("onSelect","select",null,o,a),$.push({event:o,listeners:j}),o.target=Qe)))}function Ve($,o){var a={};return a[$.toLowerCase()]=o.toLowerCase(),a["Webkit"+$]="webkit"+o,a["Moz"+$]="moz"+o,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var o=We[$],a;for(a in o)if(o.hasOwnProperty(a)&&a in Ye)return Xe[$]=o[a];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,o){df.set($,o),fa(o,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,o,a){var j=$.type||"unknown-event";$.currentTarget=a,Ub(j,o,void 0,$),$.currentTarget=null}function se($,o){o=(o&4)!==0;for(var a=0;a<$.length;a++){var j=$[a],_e=j.event;j=j.listeners;e:{var et=void 0;if(o)for(var tt=j.length-1;0<=tt;tt--){var rt=j[tt],nt=rt.instance,it=rt.currentTarget;if(rt=rt.listener,nt!==et&&_e.isPropagationStopped())break e;nf(_e,rt,it),et=nt}else for(tt=0;tt<j.length;tt++){if(rt=j[tt],nt=rt.instance,it=rt.currentTarget,rt=rt.listener,nt!==et&&_e.isPropagationStopped())break e;nf(_e,rt,it),et=nt}}}if(Qb)throw $=Rb,Qb=!1,Rb=null,$}function D($,o){var a=o[of];a===void 0&&(a=o[of]=new Set);var j=$+"__bubble";a.has(j)||(pf(o,$,2,!1),a.add(j))}function qf($,o,a){var j=0;o&&(j|=4),pf(a,$,j,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,$),qf(a,!0,$))});var o=$.nodeType===9?$:$.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf($,o,a,j){switch(jd(o)){case 1:var _e=ed;break;case 4:_e=gd;break;default:_e=fd}a=_e.bind(null,o,a,$),_e=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_e=!0),j?_e!==void 0?$.addEventListener(o,a,{capture:!0,passive:_e}):$.addEventListener(o,a,!0):_e!==void 0?$.addEventListener(o,a,{passive:_e}):$.addEventListener(o,a,!1)}function hd($,o,a,j,_e){var et=j;if(!(o&1)&&!(o&2)&&j!==null)e:for(;;){if(j===null)return;var tt=j.tag;if(tt===3||tt===4){var rt=j.stateNode.containerInfo;if(rt===_e||rt.nodeType===8&&rt.parentNode===_e)break;if(tt===4)for(tt=j.return;tt!==null;){var nt=tt.tag;if((nt===3||nt===4)&&(nt=tt.stateNode.containerInfo,nt===_e||nt.nodeType===8&&nt.parentNode===_e))return;tt=tt.return}for(;rt!==null;){if(tt=Wc(rt),tt===null)return;if(nt=tt.tag,nt===5||nt===6){j=et=tt;continue e}rt=rt.parentNode}}j=j.return}Jb(function(){var it=et,ot=xb(a),st=[];e:{var ct=df.get($);if(ct!==void 0){var ut=td,dt=$;switch($){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":ut=Rd;break;case"focusin":dt="focus",ut=Fd;break;case"focusout":dt="blur",ut=Fd;break;case"beforeblur":case"afterblur":ut=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd;break;case $e:case af:case bf:ut=Hd;break;case cf:ut=Xd;break;case"scroll":ut=vd;break;case"wheel":ut=Zd;break;case"copy":case"cut":case"paste":ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td}var ft=(o&4)!==0,ht=!ft&&$==="scroll",pt=ft?ct!==null?ct+"Capture":null:ct;ft=[];for(var yt=it,gt;yt!==null;){gt=yt;var xt=gt.stateNode;if(gt.tag===5&&xt!==null&&(gt=xt,pt!==null&&(xt=Kb(yt,pt),xt!=null&&ft.push(tf(yt,xt,gt)))),ht)break;yt=yt.return}0<ft.length&&(ct=new ut(ct,dt,null,a,ot),st.push({event:ct,listeners:ft}))}}if(!(o&7)){e:{if(ct=$==="mouseover"||$==="pointerover",ut=$==="mouseout"||$==="pointerout",ct&&a!==wb&&(dt=a.relatedTarget||a.fromElement)&&(Wc(dt)||dt[uf]))break e;if((ut||ct)&&(ct=ot.window===ot?ot:(ct=ot.ownerDocument)?ct.defaultView||ct.parentWindow:window,ut?(dt=a.relatedTarget||a.toElement,ut=it,dt=dt?Wc(dt):null,dt!==null&&(ht=Vb(dt),dt!==ht||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(ut=null,dt=it),ut!==dt)){if(ft=Bd,xt="onMouseLeave",pt="onMouseEnter",yt="mouse",($==="pointerout"||$==="pointerover")&&(ft=Td,xt="onPointerLeave",pt="onPointerEnter",yt="pointer"),ht=ut==null?ct:ue(ut),gt=dt==null?ct:ue(dt),ct=new ft(xt,yt+"leave",ut,a,ot),ct.target=ht,ct.relatedTarget=gt,xt=null,Wc(ot)===it&&(ft=new ft(pt,yt+"enter",dt,a,ot),ft.target=gt,ft.relatedTarget=ht,xt=ft),ht=xt,ut&&dt)t:{for(ft=ut,pt=dt,yt=0,gt=ft;gt;gt=vf(gt))yt++;for(gt=0,xt=pt;xt;xt=vf(xt))gt++;for(;0<yt-gt;)ft=vf(ft),yt--;for(;0<gt-yt;)pt=vf(pt),gt--;for(;yt--;){if(ft===pt||pt!==null&&ft===pt.alternate)break t;ft=vf(ft),pt=vf(pt)}ft=null}else ft=null;ut!==null&&wf(st,ct,ut,ft,!1),dt!==null&&ht!==null&&wf(st,ht,dt,ft,!0)}}e:{if(ct=it?ue(it):window,ut=ct.nodeName&&ct.nodeName.toLowerCase(),ut==="select"||ut==="input"&&ct.type==="file")var wt=ve;else if(me(ct))if(we)wt=Fe;else{wt=De;var Mt=Ce}else(ut=ct.nodeName)&&ut.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(wt=Ee);if(wt&&(wt=wt($,it))){ne(st,wt,a,ot);break e}Mt&&Mt($,ct,it),$==="focusout"&&(Mt=ct._wrapperState)&&Mt.controlled&&ct.type==="number"&&cb(ct,"number",ct.value)}switch(Mt=it?ue(it):window,$){case"focusin":(me(Mt)||Mt.contentEditable==="true")&&(Qe=Mt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(st,a,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(st,a,ot)}var It;if(ae)e:{switch($){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else ie?ge($,a)&&(Tt="onCompositionEnd"):$==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(de&&a.locale!=="ko"&&(ie||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&ie&&(It=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Mt=oe(it,Tt),0<Mt.length&&(Tt=new Ld(Tt,$,null,a,ot),st.push({event:Tt,listeners:Mt}),It?Tt.data=It:(It=he(a),It!==null&&(Tt.data=It)))),(It=ce?je($,a):ke($,a))&&(it=oe(it,"onBeforeInput"),0<it.length&&(ot=new Ld("onBeforeInput","beforeinput",null,a,ot),st.push({event:ot,listeners:it}),ot.data=It))}se(st,o)})}function tf($,o,a){return{instance:$,listener:o,currentTarget:a}}function oe($,o){for(var a=o+"Capture",j=[];$!==null;){var _e=$,et=_e.stateNode;_e.tag===5&&et!==null&&(_e=et,et=Kb($,a),et!=null&&j.unshift(tf($,et,_e)),et=Kb($,o),et!=null&&j.push(tf($,et,_e))),$=$.return}return j}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,o,a,j,_e){for(var et=o._reactName,tt=[];a!==null&&a!==j;){var rt=a,nt=rt.alternate,it=rt.stateNode;if(nt!==null&&nt===j)break;rt.tag===5&&it!==null&&(rt=it,_e?(nt=Kb(a,et),nt!=null&&tt.unshift(tf(a,nt,rt))):_e||(nt=Kb(a,et),nt!=null&&tt.push(tf(a,nt,rt)))),a=a.return}tt.length!==0&&$.push({event:o,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,o,a){if(o=zf(o),zf($)!==o&&a)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef($,o){return $==="textarea"||$==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,o){var a=o,j=0;do{var _e=a.nextSibling;if($.removeChild(a),_e&&_e.nodeType===8)if(a=_e.data,a==="/$"){if(j===0){$.removeChild(_e),bd(o);return}j--}else a!=="$"&&a!=="$?"&&a!=="$!"||j++;a=_e}while(a);bd(o)}function Lf($){for(;$!=null;$=$.nextSibling){var o=$.nodeType;if(o===1||o===3)break;if(o===8){if(o=$.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var o=0;$;){if($.nodeType===8){var a=$.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return $;o--}else a==="/$"&&o++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc($){var o=$[Of];if(o)return o;for(var a=$.parentNode;a;){if(o=a[uf]||a[Of]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for($=Mf($);$!==null;){if(a=$[Of])return a;$=Mf($)}return o}$=a,a=$.parentNode}return null}function Cb($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$4(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G($,o){Tf++,Sf[Tf]=$.current,$.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,o){var a=$.type.contextTypes;if(!a)return Vf;var j=$.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===o)return j.__reactInternalMemoizedMaskedChildContext;var _e={},et;for(et in a)_e[et]=o[et];return j&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=o,$.__reactInternalMemoizedMaskedChildContext=_e),_e}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E(Wf),E(H)}function ag($,o,a){if(H.current!==Vf)throw Error(p$4(168));G(H,o),G(Wf,a)}function bg($,o,a){var j=$.stateNode;if(o=o.childContextTypes,typeof j.getChildContext!="function")return a;j=j.getChildContext();for(var _e in j)if(!(_e in o))throw Error(p$4(108,Ra($)||"Unknown",_e));return A$1({},a,j)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,$),G(Wf,Wf.current),!0}function dg($,o,a){var j=$.stateNode;if(!j)throw Error(p$4(169));a?($=bg($,o,Xf),j.__reactInternalMemoizedMergedChildContext=$,E(Wf),E(H),G(H,$)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,o=C;try{var a=eg;for(C=1;$<a.length;$++){var j=a[$];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(_e){throw eg!==null&&(eg=eg.slice($+1)),ac(fc,jg),_e}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,o){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=o}function ug($,o,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var j=rg;$=sg;var _e=32-oc(j)-1;j&=~(1<<_e),a+=1;var et=32-oc(o)+_e;if(30<et){var tt=_e-_e%5;et=(j&(1<<tt)-1).toString(32),j>>=tt,_e-=tt,rg=1<<32-oc(o)+_e|a<<_e|j,sg=et+$}else rg=1<<et|a<<_e|j,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag($,o){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=$,o=$.deletions,o===null?($.deletions=[a],$.flags|=16):o.push(a)}function Cg($,o){switch($.tag){case 5:var a=$.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?($.stateNode=o,xg=$,yg=Lf(o.firstChild),!0):!1;case 6:return o=$.pendingProps===""||o.nodeType!==3?null:o,o!==null?($.stateNode=o,xg=$,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=o,a.return=$,$.child=a,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I){var o=yg;if(o){var a=o;if(!Cg($,o)){if(Dg($))throw Error(p$4(418));o=Lf(a.nextSibling);var j=xg;o&&Cg($,o)?Ag(j,a):($.flags=$.flags&-4097|2,I=!1,xg=$)}}else{if(Dg($))throw Error(p$4(418));$.flags=$.flags&-4097|2,I=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I)return Fg($),I=!0,!1;var o;if((o=$.tag!==3)&&!(o=$.tag!==5)&&(o=$.type,o=o!=="head"&&o!=="body"&&!Ef($.type,$.memoizedProps)),o&&(o=yg)){if(Dg($))throw Hg(),Error(p$4(418));for(;o;)Ag($,o),o=Lf(o.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$4(317));e:{for($=$.nextSibling,o=0;$;){if($.nodeType===8){var a=$.data;if(a==="/$"){if(o===0){yg=Lf($.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua.ReactCurrentBatchConfig;function Lg($,o){if($&&$.defaultProps){o=A$1({},o),$=$.defaultProps;for(var a in $)o[a]===void 0&&(o[a]=$[a]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg($){var o=Mg.current;E(Mg),$._currentValue=o}function Sg($,o,a){for(;$!==null;){var j=$.alternate;if(($.childLanes&o)!==o?($.childLanes|=o,j!==null&&(j.childLanes|=o)):j!==null&&(j.childLanes&o)!==o&&(j.childLanes|=o),$===a)break;$=$.return}}function Tg($,o){Ng=$,Pg=Og=null,$=$.dependencies,$!==null&&$.firstContext!==null&&($.lanes&o&&(Ug=!0),$.firstContext=null)}function Vg($){var o=$._currentValue;if(Pg!==$)if($={context:$,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$4(308));Og=$,Ng.dependencies={lanes:0,firstContext:$}}else Og=Og.next=$;return o}var Wg=null;function Xg($){Wg===null?Wg=[$]:Wg.push($)}function Yg($,o,a,j){var _e=o.interleaved;return _e===null?(a.next=a,Xg(o)):(a.next=_e.next,_e.next=a),o.interleaved=a,Zg($,j)}function Zg($,o){$.lanes|=o;var a=$.alternate;for(a!==null&&(a.lanes|=o),a=$,$=$.return;$!==null;)$.childLanes|=o,a=$.alternate,a!==null&&(a.childLanes|=o),a=$,$=$.return;return a.tag===3?a.stateNode:null}var $g=!1;function ah($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh($,o){$=$.updateQueue,o.updateQueue===$&&(o.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function ch($,o){return{eventTime:$,lane:o,tag:0,payload:null,callback:null,next:null}}function dh($,o,a){var j=$.updateQueue;if(j===null)return null;if(j=j.shared,K$1&2){var _e=j.pending;return _e===null?o.next=o:(o.next=_e.next,_e.next=o),j.pending=o,Zg($,a)}return _e=j.interleaved,_e===null?(o.next=o,Xg(j)):(o.next=_e.next,_e.next=o),j.interleaved=o,Zg($,a)}function eh($,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var j=o.lanes;j&=$.pendingLanes,a|=j,o.lanes=a,Cc($,a)}}function fh($,o){var a=$.updateQueue,j=$.alternate;if(j!==null&&(j=j.updateQueue,a===j)){var _e=null,et=null;if(a=a.firstBaseUpdate,a!==null){do{var tt={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};et===null?_e=et=tt:et=et.next=tt,a=a.next}while(a!==null);et===null?_e=et=o:et=et.next=o}else _e=et=o;a={baseState:j.baseState,firstBaseUpdate:_e,lastBaseUpdate:et,shared:j.shared,effects:j.effects},$.updateQueue=a;return}$=a.lastBaseUpdate,$===null?a.firstBaseUpdate=o:$.next=o,a.lastBaseUpdate=o}function gh($,o,a,j){var _e=$.updateQueue;$g=!1;var et=_e.firstBaseUpdate,tt=_e.lastBaseUpdate,rt=_e.shared.pending;if(rt!==null){_e.shared.pending=null;var nt=rt,it=nt.next;nt.next=null,tt===null?et=it:tt.next=it,tt=nt;var ot=$.alternate;ot!==null&&(ot=ot.updateQueue,rt=ot.lastBaseUpdate,rt!==tt&&(rt===null?ot.firstBaseUpdate=it:rt.next=it,ot.lastBaseUpdate=nt))}if(et!==null){var st=_e.baseState;tt=0,ot=it=nt=null,rt=et;do{var ct=rt.lane,ut=rt.eventTime;if((j&ct)===ct){ot!==null&&(ot=ot.next={eventTime:ut,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var dt=$,ft=rt;switch(ct=o,ut=a,ft.tag){case 1:if(dt=ft.payload,typeof dt=="function"){st=dt.call(ut,st,ct);break e}st=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ft.payload,ct=typeof dt=="function"?dt.call(ut,st,ct):dt,ct==null)break e;st=A$1({},st,ct);break e;case 2:$g=!0}}rt.callback!==null&&rt.lane!==0&&($.flags|=64,ct=_e.effects,ct===null?_e.effects=[rt]:ct.push(rt))}else ut={eventTime:ut,lane:ct,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},ot===null?(it=ot=ut,nt=st):ot=ot.next=ut,tt|=ct;if(rt=rt.next,rt===null){if(rt=_e.shared.pending,rt===null)break;ct=rt,rt=ct.next,ct.next=null,_e.lastBaseUpdate=ct,_e.shared.pending=null}}while(1);if(ot===null&&(nt=st),_e.baseState=nt,_e.firstBaseUpdate=it,_e.lastBaseUpdate=ot,o=_e.shared.interleaved,o!==null){_e=o;do tt|=_e.lane,_e=_e.next;while(_e!==o)}else et===null&&(_e.shared.lanes=0);hh|=tt,$.lanes=tt,$.memoizedState=st}}function ih($,o,a){if($=o.effects,o.effects=null,$!==null)for(o=0;o<$.length;o++){var j=$[o],_e=j.callback;if(_e!==null){if(j.callback=null,j=a,typeof _e!="function")throw Error(p$4(191,_e));_e.call(j)}}}var jh=new aa.Component().refs;function kh($,o,a,j){o=$.memoizedState,a=a(j,o),a=a==null?o:A$1({},o,a),$.memoizedState=a,$.lanes===0&&($.updateQueue.baseState=a)}var nh={isMounted:function($){return($=$._reactInternals)?Vb($)===$:!1},enqueueSetState:function($,o,a){$=$._reactInternals;var j=L(),_e=lh($),et=ch(j,_e);et.payload=o,a!=null&&(et.callback=a),o=dh($,et,_e),o!==null&&(mh(o,$,_e,j),eh(o,$,_e))},enqueueReplaceState:function($,o,a){$=$._reactInternals;var j=L(),_e=lh($),et=ch(j,_e);et.tag=1,et.payload=o,a!=null&&(et.callback=a),o=dh($,et,_e),o!==null&&(mh(o,$,_e,j),eh(o,$,_e))},enqueueForceUpdate:function($,o){$=$._reactInternals;var a=L(),j=lh($),_e=ch(a,j);_e.tag=2,o!=null&&(_e.callback=o),o=dh($,_e,j),o!==null&&(mh(o,$,j,a),eh(o,$,j))}};function oh($,o,a,j,_e,et,tt){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(j,et,tt):o.prototype&&o.prototype.isPureReactComponent?!Ie(a,j)||!Ie(_e,et):!0}function ph($,o,a){var j=!1,_e=Vf,et=o.contextType;return typeof et=="object"&&et!==null?et=Vg(et):(_e=Zf(o)?Xf:H.current,j=o.contextTypes,et=(j=j!=null)?Yf($,_e):Vf),o=new o(a,et),$.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,$.stateNode=o,o._reactInternals=$,j&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=_e,$.__reactInternalMemoizedMaskedChildContext=et),o}function qh($,o,a,j){$=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,j),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,j),o.state!==$&&nh.enqueueReplaceState(o,o.state,null)}function rh$1($,o,a,j){var _e=$.stateNode;_e.props=a,_e.state=$.memoizedState,_e.refs=jh,ah($);var et=o.contextType;typeof et=="object"&&et!==null?_e.context=Vg(et):(et=Zf(o)?Xf:H.current,_e.context=Yf($,et)),_e.state=$.memoizedState,et=o.getDerivedStateFromProps,typeof et=="function"&&(kh($,o,et,a),_e.state=$.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(o=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),o!==_e.state&&nh.enqueueReplaceState(_e,_e.state,null),gh($,a,_e,j),_e.state=$.memoizedState),typeof _e.componentDidMount=="function"&&($.flags|=4194308)}function sh$1($,o,a){if($=a.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$4(309));var j=a.stateNode}if(!j)throw Error(p$4(147,$));var _e=j,et=""+$;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===et?o.ref:(o=function(tt){var rt=_e.refs;rt===jh&&(rt=_e.refs={}),tt===null?delete rt[et]:rt[et]=tt},o._stringRef=et,o)}if(typeof $!="string")throw Error(p$4(284));if(!a._owner)throw Error(p$4(290,$))}return $}function th($,o){throw $=Object.prototype.toString.call(o),Error(p$4(31,$==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":$))}function uh($){var o=$._init;return o($._payload)}function vh($){function o(pt,yt){if($){var gt=pt.deletions;gt===null?(pt.deletions=[yt],pt.flags|=16):gt.push(yt)}}function a(pt,yt){if(!$)return null;for(;yt!==null;)o(pt,yt),yt=yt.sibling;return null}function j(pt,yt){for(pt=new Map;yt!==null;)yt.key!==null?pt.set(yt.key,yt):pt.set(yt.index,yt),yt=yt.sibling;return pt}function _e(pt,yt){return pt=wh(pt,yt),pt.index=0,pt.sibling=null,pt}function et(pt,yt,gt){return pt.index=gt,$?(gt=pt.alternate,gt!==null?(gt=gt.index,gt<yt?(pt.flags|=2,yt):gt):(pt.flags|=2,yt)):(pt.flags|=1048576,yt)}function tt(pt){return $&&pt.alternate===null&&(pt.flags|=2),pt}function rt(pt,yt,gt,xt){return yt===null||yt.tag!==6?(yt=xh(gt,pt.mode,xt),yt.return=pt,yt):(yt=_e(yt,gt),yt.return=pt,yt)}function nt(pt,yt,gt,xt){var wt=gt.type;return wt===ya?ot(pt,yt,gt.props.children,xt,gt.key):yt!==null&&(yt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&uh(wt)===yt.type)?(xt=_e(yt,gt.props),xt.ref=sh$1(pt,yt,gt),xt.return=pt,xt):(xt=yh(gt.type,gt.key,gt.props,null,pt.mode,xt),xt.ref=sh$1(pt,yt,gt),xt.return=pt,xt)}function it(pt,yt,gt,xt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==gt.containerInfo||yt.stateNode.implementation!==gt.implementation?(yt=zh(gt,pt.mode,xt),yt.return=pt,yt):(yt=_e(yt,gt.children||[]),yt.return=pt,yt)}function ot(pt,yt,gt,xt,wt){return yt===null||yt.tag!==7?(yt=Ah(gt,pt.mode,xt,wt),yt.return=pt,yt):(yt=_e(yt,gt),yt.return=pt,yt)}function st(pt,yt,gt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=xh(""+yt,pt.mode,gt),yt.return=pt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return gt=yh(yt.type,yt.key,yt.props,null,pt.mode,gt),gt.ref=sh$1(pt,null,yt),gt.return=pt,gt;case wa:return yt=zh(yt,pt.mode,gt),yt.return=pt,yt;case Ha:var xt=yt._init;return st(pt,xt(yt._payload),gt)}if(eb(yt)||Ka(yt))return yt=Ah(yt,pt.mode,gt,null),yt.return=pt,yt;th(pt,yt)}return null}function ct(pt,yt,gt,xt){var wt=yt!==null?yt.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number")return wt!==null?null:rt(pt,yt,""+gt,xt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return gt.key===wt?nt(pt,yt,gt,xt):null;case wa:return gt.key===wt?it(pt,yt,gt,xt):null;case Ha:return wt=gt._init,ct(pt,yt,wt(gt._payload),xt)}if(eb(gt)||Ka(gt))return wt!==null?null:ot(pt,yt,gt,xt,null);th(pt,gt)}return null}function ut(pt,yt,gt,xt,wt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return pt=pt.get(gt)||null,rt(yt,pt,""+xt,wt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return pt=pt.get(xt.key===null?gt:xt.key)||null,nt(yt,pt,xt,wt);case wa:return pt=pt.get(xt.key===null?gt:xt.key)||null,it(yt,pt,xt,wt);case Ha:var Mt=xt._init;return ut(pt,yt,gt,Mt(xt._payload),wt)}if(eb(xt)||Ka(xt))return pt=pt.get(gt)||null,ot(yt,pt,xt,wt,null);th(yt,xt)}return null}function dt(pt,yt,gt,xt){for(var wt=null,Mt=null,It=yt,Tt=yt=0,Dt=null;It!==null&&Tt<gt.length;Tt++){It.index>Tt?(Dt=It,It=null):Dt=It.sibling;var Ut=ct(pt,It,gt[Tt],xt);if(Ut===null){It===null&&(It=Dt);break}$&&It&&Ut.alternate===null&&o(pt,It),yt=et(Ut,yt,Tt),Mt===null?wt=Ut:Mt.sibling=Ut,Mt=Ut,It=Dt}if(Tt===gt.length)return a(pt,It),I&&tg(pt,Tt),wt;if(It===null){for(;Tt<gt.length;Tt++)It=st(pt,gt[Tt],xt),It!==null&&(yt=et(It,yt,Tt),Mt===null?wt=It:Mt.sibling=It,Mt=It);return I&&tg(pt,Tt),wt}for(It=j(pt,It);Tt<gt.length;Tt++)Dt=ut(It,pt,Tt,gt[Tt],xt),Dt!==null&&($&&Dt.alternate!==null&&It.delete(Dt.key===null?Tt:Dt.key),yt=et(Dt,yt,Tt),Mt===null?wt=Dt:Mt.sibling=Dt,Mt=Dt);return $&&It.forEach(function(jt){return o(pt,jt)}),I&&tg(pt,Tt),wt}function ft(pt,yt,gt,xt){var wt=Ka(gt);if(typeof wt!="function")throw Error(p$4(150));if(gt=wt.call(gt),gt==null)throw Error(p$4(151));for(var Mt=wt=null,It=yt,Tt=yt=0,Dt=null,Ut=gt.next();It!==null&&!Ut.done;Tt++,Ut=gt.next()){It.index>Tt?(Dt=It,It=null):Dt=It.sibling;var jt=ct(pt,It,Ut.value,xt);if(jt===null){It===null&&(It=Dt);break}$&&It&&jt.alternate===null&&o(pt,It),yt=et(jt,yt,Tt),Mt===null?wt=jt:Mt.sibling=jt,Mt=jt,It=Dt}if(Ut.done)return a(pt,It),I&&tg(pt,Tt),wt;if(It===null){for(;!Ut.done;Tt++,Ut=gt.next())Ut=st(pt,Ut.value,xt),Ut!==null&&(yt=et(Ut,yt,Tt),Mt===null?wt=Ut:Mt.sibling=Ut,Mt=Ut);return I&&tg(pt,Tt),wt}for(It=j(pt,It);!Ut.done;Tt++,Ut=gt.next())Ut=ut(It,pt,Tt,Ut.value,xt),Ut!==null&&($&&Ut.alternate!==null&&It.delete(Ut.key===null?Tt:Ut.key),yt=et(Ut,yt,Tt),Mt===null?wt=Ut:Mt.sibling=Ut,Mt=Ut);return $&&It.forEach(function(Xt){return o(pt,Xt)}),I&&tg(pt,Tt),wt}function ht(pt,yt,gt,xt){if(typeof gt=="object"&&gt!==null&&gt.type===ya&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:e:{for(var wt=gt.key,Mt=yt;Mt!==null;){if(Mt.key===wt){if(wt=gt.type,wt===ya){if(Mt.tag===7){a(pt,Mt.sibling),yt=_e(Mt,gt.props.children),yt.return=pt,pt=yt;break e}}else if(Mt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&uh(wt)===Mt.type){a(pt,Mt.sibling),yt=_e(Mt,gt.props),yt.ref=sh$1(pt,Mt,gt),yt.return=pt,pt=yt;break e}a(pt,Mt);break}else o(pt,Mt);Mt=Mt.sibling}gt.type===ya?(yt=Ah(gt.props.children,pt.mode,xt,gt.key),yt.return=pt,pt=yt):(xt=yh(gt.type,gt.key,gt.props,null,pt.mode,xt),xt.ref=sh$1(pt,yt,gt),xt.return=pt,pt=xt)}return tt(pt);case wa:e:{for(Mt=gt.key;yt!==null;){if(yt.key===Mt)if(yt.tag===4&&yt.stateNode.containerInfo===gt.containerInfo&&yt.stateNode.implementation===gt.implementation){a(pt,yt.sibling),yt=_e(yt,gt.children||[]),yt.return=pt,pt=yt;break e}else{a(pt,yt);break}else o(pt,yt);yt=yt.sibling}yt=zh(gt,pt.mode,xt),yt.return=pt,pt=yt}return tt(pt);case Ha:return Mt=gt._init,ht(pt,yt,Mt(gt._payload),xt)}if(eb(gt))return dt(pt,yt,gt,xt);if(Ka(gt))return ft(pt,yt,gt,xt);th(pt,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"?(gt=""+gt,yt!==null&&yt.tag===6?(a(pt,yt.sibling),yt=_e(yt,gt),yt.return=pt,pt=yt):(a(pt,yt),yt=xh(gt,pt.mode,xt),yt.return=pt,pt=yt),tt(pt)):a(pt,yt)}return ht}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh($){if($===Dh)throw Error(p$4(174));return $}function Ih($,o){switch(G(Gh,o),G(Fh,$),G(Eh,Dh),$=o.nodeType,$){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:$=$===8?o.parentNode:o,o=$.namespaceURI||null,$=$.tagName,o=lb(o,$)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh$1($){Hh(Gh.current);var o=Hh(Eh.current),a=lb(o,$.type);o!==a&&(G(Fh,$),G(Eh,a))}function Lh($){Fh.current===$&&(E(Eh),E(Fh))}var M=Uf(0);function Mh($){for(var o=$;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===$)break;for(;o.sibling===null;){if(o.return===null||o.return===$)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var $=0;$<Nh.length;$++)Nh[$]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$4(321))}function Wh($,o){if(o===null)return!1;for(var a=0;a<o.length&&a<$.length;a++)if(!He($[a],o[a]))return!1;return!0}function Xh($,o,a,j,_e,et){if(Rh=et,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=$===null||$.memoizedState===null?Yh:Zh,$=a(j,_e),Th){et=0;do{if(Th=!1,Uh=0,25<=et)throw Error(p$4(301));et+=1,P=O=null,o.updateQueue=null,Ph.current=$h,$=a(j,_e)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$4(300));return $}function bi(){var $=Uh!==0;return Uh=0,$}function ci(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=$:P=P.next=$,P}function di(){if(O===null){var $=N.alternate;$=$!==null?$.memoizedState:null}else $=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=$;else{if($===null)throw Error(p$4(310));O=$,$={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=$:P=P.next=$}return P}function ei($,o){return typeof o=="function"?o($):o}function fi($){var o=di(),a=o.queue;if(a===null)throw Error(p$4(311));a.lastRenderedReducer=$;var j=O,_e=j.baseQueue,et=a.pending;if(et!==null){if(_e!==null){var tt=_e.next;_e.next=et.next,et.next=tt}j.baseQueue=_e=et,a.pending=null}if(_e!==null){et=_e.next,j=j.baseState;var rt=tt=null,nt=null,it=et;do{var ot=it.lane;if((Rh&ot)===ot)nt!==null&&(nt=nt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),j=it.hasEagerState?it.eagerState:$(j,it.action);else{var st={lane:ot,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};nt===null?(rt=nt=st,tt=j):nt=nt.next=st,N.lanes|=ot,hh|=ot}it=it.next}while(it!==null&&it!==et);nt===null?tt=j:nt.next=rt,He(j,o.memoizedState)||(Ug=!0),o.memoizedState=j,o.baseState=tt,o.baseQueue=nt,a.lastRenderedState=j}if($=a.interleaved,$!==null){_e=$;do et=_e.lane,N.lanes|=et,hh|=et,_e=_e.next;while(_e!==$)}else _e===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function gi($){var o=di(),a=o.queue;if(a===null)throw Error(p$4(311));a.lastRenderedReducer=$;var j=a.dispatch,_e=a.pending,et=o.memoizedState;if(_e!==null){a.pending=null;var tt=_e=_e.next;do et=$(et,tt.action),tt=tt.next;while(tt!==_e);He(et,o.memoizedState)||(Ug=!0),o.memoizedState=et,o.baseQueue===null&&(o.baseState=et),a.lastRenderedState=et}return[et,j]}function hi(){}function ii($,o){var a=N,j=di(),_e=o(),et=!He(j.memoizedState,_e);if(et&&(j.memoizedState=_e,Ug=!0),j=j.queue,ji(ki.bind(null,a,j,$),[$]),j.getSnapshot!==o||et||P!==null&&P.memoizedState.tag&1){if(a.flags|=2048,li(9,mi.bind(null,a,j,_e,o),void 0,null),R===null)throw Error(p$4(349));Rh&30||ni(a,o,_e)}return _e}function ni($,o,a){$.flags|=16384,$={getSnapshot:o,value:a},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[$]):(a=o.stores,a===null?o.stores=[$]:a.push($))}function mi($,o,a,j){o.value=a,o.getSnapshot=j,oi(o)&&pi($)}function ki($,o,a){return a(function(){oi(o)&&pi($)})}function oi($){var o=$.getSnapshot;$=$.value;try{var a=o();return!He($,a)}catch{return!0}}function pi($){var o=Zg($,1);o!==null&&mh(o,$,1,-1)}function qi($){var o=ci();return typeof $=="function"&&($=$()),o.memoizedState=o.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:$},o.queue=$,$=$.dispatch=ri.bind(null,N,$),[o.memoizedState,$]}function li($,o,a,j){return $={tag:$,create:o,destroy:a,deps:j,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=$.next=$):(a=o.lastEffect,a===null?o.lastEffect=$.next=$:(j=a.next,a.next=$,$.next=j,o.lastEffect=$)),$}function si(){return di().memoizedState}function ti($,o,a,j){var _e=ci();N.flags|=$,_e.memoizedState=li(1|o,a,void 0,j===void 0?null:j)}function ui($,o,a,j){var _e=di();j=j===void 0?null:j;var et=void 0;if(O!==null){var tt=O.memoizedState;if(et=tt.destroy,j!==null&&Wh(j,tt.deps)){_e.memoizedState=li(o,a,et,j);return}}N.flags|=$,_e.memoizedState=li(1|o,a,et,j)}function vi($,o){return ti(8390656,8,$,o)}function ji($,o){return ui(2048,8,$,o)}function wi($,o){return ui(4,2,$,o)}function xi($,o){return ui(4,4,$,o)}function yi($,o){if(typeof o=="function")return $=$(),o($),function(){o(null)};if(o!=null)return $=$(),o.current=$,function(){o.current=null}}function zi($,o,a){return a=a!=null?a.concat([$]):null,ui(4,4,yi.bind(null,o,$),a)}function Ai(){}function Bi($,o){var a=di();o=o===void 0?null:o;var j=a.memoizedState;return j!==null&&o!==null&&Wh(o,j[1])?j[0]:(a.memoizedState=[$,o],$)}function Ci($,o){var a=di();o=o===void 0?null:o;var j=a.memoizedState;return j!==null&&o!==null&&Wh(o,j[1])?j[0]:($=$(),a.memoizedState=[$,o],$)}function Di($,o,a){return Rh&21?(He(a,o)||(a=yc(),N.lanes|=a,hh|=a,$.baseState=!0),o):($.baseState&&($.baseState=!1,Ug=!0),$.memoizedState=a)}function Ei($,o){var a=C;C=a!==0&&4>a?a:4,$(!0);var j=Qh.transition;Qh.transition={};try{$(!1),o()}finally{C=a,Qh.transition=j}}function Fi(){return di().memoizedState}function Gi($,o,a){var j=lh($);if(a={lane:j,action:a,hasEagerState:!1,eagerState:null,next:null},Hi($))Ii(o,a);else if(a=Yg($,o,a,j),a!==null){var _e=L();mh(a,$,j,_e),Ji(a,o,j)}}function ri($,o,a){var j=lh($),_e={lane:j,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hi($))Ii(o,_e);else{var et=$.alternate;if($.lanes===0&&(et===null||et.lanes===0)&&(et=o.lastRenderedReducer,et!==null))try{var tt=o.lastRenderedState,rt=et(tt,a);if(_e.hasEagerState=!0,_e.eagerState=rt,He(rt,tt)){var nt=o.interleaved;nt===null?(_e.next=_e,Xg(o)):(_e.next=nt.next,nt.next=_e),o.interleaved=_e;return}}catch{}finally{}a=Yg($,o,_e,j),a!==null&&(_e=L(),mh(a,$,j,_e),Ji(a,o,j))}}function Hi($){var o=$.alternate;return $===N||o!==null&&o===N}function Ii($,o){Th=Sh=!0;var a=$.pending;a===null?o.next=o:(o.next=a.next,a.next=o),$.pending=o}function Ji($,o,a){if(a&4194240){var j=o.lanes;j&=$.pendingLanes,a|=j,o.lanes=a,Cc($,a)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function($,o){return ci().memoizedState=[$,o===void 0?null:o],$},useContext:Vg,useEffect:vi,useImperativeHandle:function($,o,a){return a=a!=null?a.concat([$]):null,ti(4194308,4,yi.bind(null,o,$),a)},useLayoutEffect:function($,o){return ti(4194308,4,$,o)},useInsertionEffect:function($,o){return ti(4,2,$,o)},useMemo:function($,o){var a=ci();return o=o===void 0?null:o,$=$(),a.memoizedState=[$,o],$},useReducer:function($,o,a){var j=ci();return o=a!==void 0?a(o):o,j.memoizedState=j.baseState=o,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:o},j.queue=$,$=$.dispatch=Gi.bind(null,N,$),[j.memoizedState,$]},useRef:function($){var o=ci();return $={current:$},o.memoizedState=$},useState:qi,useDebugValue:Ai,useDeferredValue:function($){return ci().memoizedState=$},useTransition:function(){var $=qi(!1),o=$[0];return $=Ei.bind(null,$[1]),ci().memoizedState=$,[o,$]},useMutableSource:function(){},useSyncExternalStore:function($,o,a){var j=N,_e=ci();if(I){if(a===void 0)throw Error(p$4(407));a=a()}else{if(a=o(),R===null)throw Error(p$4(349));Rh&30||ni(j,o,a)}_e.memoizedState=a;var et={value:a,getSnapshot:o};return _e.queue=et,vi(ki.bind(null,j,et,$),[$]),j.flags|=2048,li(9,mi.bind(null,j,et,a,o),void 0,null),a},useId:function(){var $=ci(),o=R.identifierPrefix;if(I){var a=sg,j=rg;a=(j&~(1<<32-oc(j)-1)).toString(32)+a,o=":"+o+"R"+a,a=Uh++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=Vh++,o=":"+o+"r"+a.toString(32)+":";return $.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function($){var o=di();return Di(o,O.memoizedState,$)},useTransition:function(){var $=fi(ei)[0],o=di().memoizedState;return[$,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function($){var o=di();return O===null?o.memoizedState=$:Di(o,O.memoizedState,$)},useTransition:function(){var $=gi(ei)[0],o=di().memoizedState;return[$,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki($,o){try{var a="",j=o;do a+=Pa(j),j=j.return;while(j);var _e=a}catch(et){_e=`
Error generating stack: `+et.message+`
`+et.stack}return{value:$,source:o,stack:_e,digest:null}}function Li($,o,a){return{value:$,source:null,stack:a??null,digest:o??null}}function Mi($,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi($,o,a){a=ch(-1,a),a.tag=3,a.payload={element:null};var j=o.value;return a.callback=function(){Pi||(Pi=!0,Qi=j),Mi($,o)},a}function Ri($,o,a){a=ch(-1,a),a.tag=3;var j=$.type.getDerivedStateFromError;if(typeof j=="function"){var _e=o.value;a.payload=function(){return j(_e)},a.callback=function(){Mi($,o)}}var et=$.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(a.callback=function(){Mi($,o),typeof j!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var tt=o.stack;this.componentDidCatch(o.value,{componentStack:tt!==null?tt:""})}),a}function Ti($,o,a){var j=$.pingCache;if(j===null){j=$.pingCache=new Ni;var _e=new Set;j.set(o,_e)}else _e=j.get(o),_e===void 0&&(_e=new Set,j.set(o,_e));_e.has(a)||(_e.add(a),$=Ui.bind(null,$,o,a),o.then($,$))}function Vi($){do{var o;if((o=$.tag===13)&&(o=$.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return $;$=$.return}while($!==null);return null}function Wi($,o,a,j,_e){return $.mode&1?($.flags|=65536,$.lanes=_e,$):($===o?$.flags|=65536:($.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=ch(-1,1),o.tag=2,dh(a,o,1))),a.lanes|=1),$)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi($,o,a,j){o.child=$===null?Ch(o,null,a,j):Bh(o,$.child,a,j)}function Zi($,o,a,j,_e){a=a.render;var et=o.ref;return Tg(o,_e),j=Xh($,o,a,j,et,_e),a=bi(),$!==null&&!Ug?(o.updateQueue=$.updateQueue,o.flags&=-2053,$.lanes&=~_e,$i($,o,_e)):(I&&a&&vg(o),o.flags|=1,Yi($,o,j,_e),o.child)}function aj($,o,a,j,_e){if($===null){var et=a.type;return typeof et=="function"&&!bj(et)&&et.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=et,cj($,o,et,j,_e)):($=yh(a.type,null,j,o,o.mode,_e),$.ref=o.ref,$.return=o,o.child=$)}if(et=$.child,!($.lanes&_e)){var tt=et.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(tt,j)&&$.ref===o.ref)return $i($,o,_e)}return o.flags|=1,$=wh(et,j),$.ref=o.ref,$.return=o,o.child=$}function cj($,o,a,j,_e){if($!==null){var et=$.memoizedProps;if(Ie(et,j)&&$.ref===o.ref)if(Ug=!1,o.pendingProps=j=et,($.lanes&_e)!==0)$.flags&131072&&(Ug=!0);else return o.lanes=$.lanes,$i($,o,_e)}return dj($,o,a,j,_e)}function ej($,o,a){var j=o.pendingProps,_e=j.children,et=$!==null?$.memoizedState:null;if(j.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=a;else{if(!(a&1073741824))return $=et!==null?et.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:$,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=$,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=et!==null?et.baseLanes:a,G(fj,gj),gj|=j}else et!==null?(j=et.baseLanes|a,o.memoizedState=null):j=a,G(fj,gj),gj|=j;return Yi($,o,_e,a),o.child}function hj($,o){var a=o.ref;($===null&&a!==null||$!==null&&$.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function dj($,o,a,j,_e){var et=Zf(a)?Xf:H.current;return et=Yf(o,et),Tg(o,_e),a=Xh($,o,a,j,et,_e),j=bi(),$!==null&&!Ug?(o.updateQueue=$.updateQueue,o.flags&=-2053,$.lanes&=~_e,$i($,o,_e)):(I&&j&&vg(o),o.flags|=1,Yi($,o,a,_e),o.child)}function ij($,o,a,j,_e){if(Zf(a)){var et=!0;cg(o)}else et=!1;if(Tg(o,_e),o.stateNode===null)jj($,o),ph(o,a,j),rh$1(o,a,j,_e),j=!0;else if($===null){var tt=o.stateNode,rt=o.memoizedProps;tt.props=rt;var nt=tt.context,it=a.contextType;typeof it=="object"&&it!==null?it=Vg(it):(it=Zf(a)?Xf:H.current,it=Yf(o,it));var ot=a.getDerivedStateFromProps,st=typeof ot=="function"||typeof tt.getSnapshotBeforeUpdate=="function";st||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==j||nt!==it)&&qh(o,tt,j,it),$g=!1;var ct=o.memoizedState;tt.state=ct,gh(o,j,tt,_e),nt=o.memoizedState,rt!==j||ct!==nt||Wf.current||$g?(typeof ot=="function"&&(kh(o,a,ot,j),nt=o.memoizedState),(rt=$g||oh(o,a,rt,j,ct,nt,it))?(st||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(o.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=j,o.memoizedState=nt),tt.props=j,tt.state=nt,tt.context=it,j=rt):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),j=!1)}else{tt=o.stateNode,bh($,o),rt=o.memoizedProps,it=o.type===o.elementType?rt:Lg(o.type,rt),tt.props=it,st=o.pendingProps,ct=tt.context,nt=a.contextType,typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(a)?Xf:H.current,nt=Yf(o,nt));var ut=a.getDerivedStateFromProps;(ot=typeof ut=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==st||ct!==nt)&&qh(o,tt,j,nt),$g=!1,ct=o.memoizedState,tt.state=ct,gh(o,j,tt,_e);var dt=o.memoizedState;rt!==st||ct!==dt||Wf.current||$g?(typeof ut=="function"&&(kh(o,a,ut,j),dt=o.memoizedState),(it=$g||oh(o,a,it,j,ct,dt,nt)||!1)?(ot||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate(j,dt,nt),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate(j,dt,nt)),typeof tt.componentDidUpdate=="function"&&(o.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof tt.componentDidUpdate!="function"||rt===$.memoizedProps&&ct===$.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===$.memoizedProps&&ct===$.memoizedState||(o.flags|=1024),o.memoizedProps=j,o.memoizedState=dt),tt.props=j,tt.state=dt,tt.context=nt,j=it):(typeof tt.componentDidUpdate!="function"||rt===$.memoizedProps&&ct===$.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===$.memoizedProps&&ct===$.memoizedState||(o.flags|=1024),j=!1)}return kj($,o,a,j,et,_e)}function kj($,o,a,j,_e,et){hj($,o);var tt=(o.flags&128)!==0;if(!j&&!tt)return _e&&dg(o,a,!1),$i($,o,et);j=o.stateNode,Xi.current=o;var rt=tt&&typeof a.getDerivedStateFromError!="function"?null:j.render();return o.flags|=1,$!==null&&tt?(o.child=Bh(o,$.child,null,et),o.child=Bh(o,null,rt,et)):Yi($,o,rt,et),o.memoizedState=j.state,_e&&dg(o,a,!0),o.child}function lj($){var o=$.stateNode;o.pendingContext?ag($,o.pendingContext,o.pendingContext!==o.context):o.context&&ag($,o.context,!1),Ih($,o.containerInfo)}function mj($,o,a,j,_e){return Ig(),Jg(_e),o.flags|=256,Yi($,o,a,j),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj($){return{baseLanes:$,cachePool:null,transitions:null}}function pj($,o,a){var j=o.pendingProps,_e=M.current,et=!1,tt=(o.flags&128)!==0,rt;if((rt=tt)||(rt=$!==null&&$.memoizedState===null?!1:(_e&2)!==0),rt?(et=!0,o.flags&=-129):($===null||$.memoizedState!==null)&&(_e|=1),G(M,_e&1),$===null)return Eg(o),$=o.memoizedState,$!==null&&($=$.dehydrated,$!==null)?(o.mode&1?$.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(tt=j.children,$=j.fallback,et?(j=o.mode,et=o.child,tt={mode:"hidden",children:tt},!(j&1)&&et!==null?(et.childLanes=0,et.pendingProps=tt):et=qj(tt,j,0,null),$=Ah($,j,a,null),et.return=o,$.return=o,et.sibling=$,o.child=et,o.child.memoizedState=oj(a),o.memoizedState=nj,$):rj(o,tt));if(_e=$.memoizedState,_e!==null&&(rt=_e.dehydrated,rt!==null))return sj($,o,tt,j,rt,_e,a);if(et){et=j.fallback,tt=o.mode,_e=$.child,rt=_e.sibling;var nt={mode:"hidden",children:j.children};return!(tt&1)&&o.child!==_e?(j=o.child,j.childLanes=0,j.pendingProps=nt,o.deletions=null):(j=wh(_e,nt),j.subtreeFlags=_e.subtreeFlags&14680064),rt!==null?et=wh(rt,et):(et=Ah(et,tt,a,null),et.flags|=2),et.return=o,j.return=o,j.sibling=et,o.child=j,j=et,et=o.child,tt=$.child.memoizedState,tt=tt===null?oj(a):{baseLanes:tt.baseLanes|a,cachePool:null,transitions:tt.transitions},et.memoizedState=tt,et.childLanes=$.childLanes&~a,o.memoizedState=nj,j}return et=$.child,$=et.sibling,j=wh(et,{mode:"visible",children:j.children}),!(o.mode&1)&&(j.lanes=a),j.return=o,j.sibling=null,$!==null&&(a=o.deletions,a===null?(o.deletions=[$],o.flags|=16):a.push($)),o.child=j,o.memoizedState=null,j}function rj($,o){return o=qj({mode:"visible",children:o},$.mode,0,null),o.return=$,$.child=o}function tj($,o,a,j){return j!==null&&Jg(j),Bh(o,$.child,null,a),$=rj(o,o.pendingProps.children),$.flags|=2,o.memoizedState=null,$}function sj($,o,a,j,_e,et,tt){if(a)return o.flags&256?(o.flags&=-257,j=Li(Error(p$4(422))),tj($,o,tt,j)):o.memoizedState!==null?(o.child=$.child,o.flags|=128,null):(et=j.fallback,_e=o.mode,j=qj({mode:"visible",children:j.children},_e,0,null),et=Ah(et,_e,tt,null),et.flags|=2,j.return=o,et.return=o,j.sibling=et,o.child=j,o.mode&1&&Bh(o,$.child,null,tt),o.child.memoizedState=oj(tt),o.memoizedState=nj,et);if(!(o.mode&1))return tj($,o,tt,null);if(_e.data==="$!"){if(j=_e.nextSibling&&_e.nextSibling.dataset,j)var rt=j.dgst;return j=rt,et=Error(p$4(419)),j=Li(et,j,void 0),tj($,o,tt,j)}if(rt=(tt&$.childLanes)!==0,Ug||rt){if(j=R,j!==null){switch(tt&-tt){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=_e&(j.suspendedLanes|tt)?0:_e,_e!==0&&_e!==et.retryLane&&(et.retryLane=_e,Zg($,_e),mh(j,$,_e,-1))}return uj(),j=Li(Error(p$4(421))),tj($,o,tt,j)}return _e.data==="$?"?(o.flags|=128,o.child=$.child,o=vj.bind(null,$),_e._reactRetry=o,null):($=et.treeContext,yg=Lf(_e.nextSibling),xg=o,I=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=o),o=rj(o,j.children),o.flags|=4096,o)}function wj($,o,a){$.lanes|=o;var j=$.alternate;j!==null&&(j.lanes|=o),Sg($.return,o,a)}function xj($,o,a,j,_e){var et=$.memoizedState;et===null?$.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:j,tail:a,tailMode:_e}:(et.isBackwards=o,et.rendering=null,et.renderingStartTime=0,et.last=j,et.tail=a,et.tailMode=_e)}function yj($,o,a){var j=o.pendingProps,_e=j.revealOrder,et=j.tail;if(Yi($,o,j.children,a),j=M.current,j&2)j=j&1|2,o.flags|=128;else{if($!==null&&$.flags&128)e:for($=o.child;$!==null;){if($.tag===13)$.memoizedState!==null&&wj($,a,o);else if($.tag===19)wj($,a,o);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===o)break e;for(;$.sibling===null;){if($.return===null||$.return===o)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}j&=1}if(G(M,j),!(o.mode&1))o.memoizedState=null;else switch(_e){case"forwards":for(a=o.child,_e=null;a!==null;)$=a.alternate,$!==null&&Mh($)===null&&(_e=a),a=a.sibling;a=_e,a===null?(_e=o.child,o.child=null):(_e=a.sibling,a.sibling=null),xj(o,!1,_e,a,et);break;case"backwards":for(a=null,_e=o.child,o.child=null;_e!==null;){if($=_e.alternate,$!==null&&Mh($)===null){o.child=_e;break}$=_e.sibling,_e.sibling=a,a=_e,_e=$}xj(o,!0,a,null,et);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj($,o){!(o.mode&1)&&$!==null&&($.alternate=null,o.alternate=null,o.flags|=2)}function $i($,o,a){if($!==null&&(o.dependencies=$.dependencies),hh|=o.lanes,!(a&o.childLanes))return null;if($!==null&&o.child!==$.child)throw Error(p$4(153));if(o.child!==null){for($=o.child,a=wh($,$.pendingProps),o.child=a,a.return=o;$.sibling!==null;)$=$.sibling,a=a.sibling=wh($,$.pendingProps),a.return=o;a.sibling=null}return o.child}function zj($,o,a){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh$1(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var j=o.type._context,_e=o.memoizedProps.value;G(Mg,j._currentValue),j._currentValue=_e;break;case 13:if(j=o.memoizedState,j!==null)return j.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):a&o.child.childLanes?pj($,o,a):(G(M,M.current&1),$=$i($,o,a),$!==null?$.sibling:null);G(M,M.current&1);break;case 19:if(j=(a&o.childLanes)!==0,$.flags&128){if(j)return yj($,o,a);o.flags|=128}if(_e=o.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),G(M,M.current),j)break;return null;case 22:case 23:return o.lanes=0,ej($,o,a)}return $i($,o,a)}var Aj,Bj,Cj,Dj;Aj=function($,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)$.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Bj=function(){};Cj=function($,o,a,j){var _e=$.memoizedProps;if(_e!==j){$=o.stateNode,Hh(Eh.current);var et=null;switch(a){case"input":_e=Ya($,_e),j=Ya($,j),et=[];break;case"select":_e=A$1({},_e,{value:void 0}),j=A$1({},j,{value:void 0}),et=[];break;case"textarea":_e=gb($,_e),j=gb($,j),et=[];break;default:typeof _e.onClick!="function"&&typeof j.onClick=="function"&&($.onclick=Bf)}ub(a,j);var tt;a=null;for(it in _e)if(!j.hasOwnProperty(it)&&_e.hasOwnProperty(it)&&_e[it]!=null)if(it==="style"){var rt=_e[it];for(tt in rt)rt.hasOwnProperty(tt)&&(a||(a={}),a[tt]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?et||(et=[]):(et=et||[]).push(it,null));for(it in j){var nt=j[it];if(rt=_e!=null?_e[it]:void 0,j.hasOwnProperty(it)&&nt!==rt&&(nt!=null||rt!=null))if(it==="style")if(rt){for(tt in rt)!rt.hasOwnProperty(tt)||nt&&nt.hasOwnProperty(tt)||(a||(a={}),a[tt]="");for(tt in nt)nt.hasOwnProperty(tt)&&rt[tt]!==nt[tt]&&(a||(a={}),a[tt]=nt[tt])}else a||(et||(et=[]),et.push(it,a)),a=nt;else it==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,rt=rt?rt.__html:void 0,nt!=null&&rt!==nt&&(et=et||[]).push(it,nt)):it==="children"?typeof nt!="string"&&typeof nt!="number"||(et=et||[]).push(it,""+nt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(nt!=null&&it==="onScroll"&&D("scroll",$),et||rt===nt||(et=[])):(et=et||[]).push(it,nt))}a&&(et=et||[]).push("style",a);var it=et;(o.updateQueue=it)&&(o.flags|=4)}};Dj=function($,o,a,j){a!==j&&(o.flags|=4)};function Ej($,o){if(!I)switch($.tailMode){case"hidden":o=$.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?$.tail=null:a.sibling=null;break;case"collapsed":a=$.tail;for(var j=null;a!==null;)a.alternate!==null&&(j=a),a=a.sibling;j===null?o||$.tail===null?$.tail=null:$.tail.sibling=null:j.sibling=null}}function S($){var o=$.alternate!==null&&$.alternate.child===$.child,a=0,j=0;if(o)for(var _e=$.child;_e!==null;)a|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags&14680064,j|=_e.flags&14680064,_e.return=$,_e=_e.sibling;else for(_e=$.child;_e!==null;)a|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags,j|=_e.flags,_e.return=$,_e=_e.sibling;return $.subtreeFlags|=j,$.childLanes=a,o}function Fj($,o,a){var j=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return j=o.stateNode,Jh(),E(Wf),E(H),Oh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),($===null||$.child===null)&&(Gg(o)?o.flags|=4:$===null||$.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj($,o),S(o),null;case 5:Lh(o);var _e=Hh(Gh.current);if(a=o.type,$!==null&&o.stateNode!=null)Cj($,o,a,j,_e),$.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!j){if(o.stateNode===null)throw Error(p$4(166));return S(o),null}if($=Hh(Eh.current),Gg(o)){j=o.stateNode,a=o.type;var et=o.memoizedProps;switch(j[Of]=o,j[Pf]=et,$=(o.mode&1)!==0,a){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,et),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!et.multiple},D("invalid",j);break;case"textarea":hb(j,et),D("invalid",j)}ub(a,et),_e=null;for(var tt in et)if(et.hasOwnProperty(tt)){var rt=et[tt];tt==="children"?typeof rt=="string"?j.textContent!==rt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,rt,$),_e=["children",rt]):typeof rt=="number"&&j.textContent!==""+rt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,rt,$),_e=["children",""+rt]):ea.hasOwnProperty(tt)&&rt!=null&&tt==="onScroll"&&D("scroll",j)}switch(a){case"input":Va(j),db(j,et,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(j.onclick=Bf)}j=_e,o.updateQueue=j,j!==null&&(o.flags|=4)}else{tt=_e.nodeType===9?_e:_e.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb(a)),$==="http://www.w3.org/1999/xhtml"?a==="script"?($=tt.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof j.is=="string"?$=tt.createElement(a,{is:j.is}):($=tt.createElement(a),a==="select"&&(tt=$,j.multiple?tt.multiple=!0:j.size&&(tt.size=j.size))):$=tt.createElementNS($,a),$[Of]=o,$[Pf]=j,Aj($,o,!1,!1),o.stateNode=$;e:{switch(tt=vb(a,j),a){case"dialog":D("cancel",$),D("close",$),_e=j;break;case"iframe":case"object":case"embed":D("load",$),_e=j;break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],$);_e=j;break;case"source":D("error",$),_e=j;break;case"img":case"image":case"link":D("error",$),D("load",$),_e=j;break;case"details":D("toggle",$),_e=j;break;case"input":Za($,j),_e=Ya($,j),D("invalid",$);break;case"option":_e=j;break;case"select":$._wrapperState={wasMultiple:!!j.multiple},_e=A$1({},j,{value:void 0}),D("invalid",$);break;case"textarea":hb($,j),_e=gb($,j),D("invalid",$);break;default:_e=j}ub(a,_e),rt=_e;for(et in rt)if(rt.hasOwnProperty(et)){var nt=rt[et];et==="style"?sb($,nt):et==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb($,nt)):et==="children"?typeof nt=="string"?(a!=="textarea"||nt!=="")&&ob($,nt):typeof nt=="number"&&ob($,""+nt):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?nt!=null&&et==="onScroll"&&D("scroll",$):nt!=null&&ta($,et,nt,tt))}switch(a){case"input":Va($),db($,j,!1);break;case"textarea":Va($),jb($);break;case"option":j.value!=null&&$.setAttribute("value",""+Sa(j.value));break;case"select":$.multiple=!!j.multiple,et=j.value,et!=null?fb($,!!j.multiple,et,!1):j.defaultValue!=null&&fb($,!!j.multiple,j.defaultValue,!0);break;default:typeof _e.onClick=="function"&&($.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if($&&o.stateNode!=null)Dj($,o,$.memoizedProps,j);else{if(typeof j!="string"&&o.stateNode===null)throw Error(p$4(166));if(a=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(j=o.stateNode,a=o.memoizedProps,j[Of]=o,(et=j.nodeValue!==a)&&($=xg,$!==null))switch($.tag){case 3:Af(j.nodeValue,a,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,a,($.mode&1)!==0)}et&&(o.flags|=4)}else j=(a.nodeType===9?a:a.ownerDocument).createTextNode(j),j[Of]=o,o.stateNode=j}return S(o),null;case 13:if(E(M),j=o.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,et=!1;else if(et=Gg(o),j!==null&&j.dehydrated!==null){if($===null){if(!et)throw Error(p$4(318));if(et=o.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$4(317));et[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),et=!1}else zg!==null&&(Gj(zg),zg=null),et=!0;if(!et)return o.flags&65536?o:null}return o.flags&128?(o.lanes=a,o):(j=j!==null,j!==($!==null&&$.memoizedState!==null)&&j&&(o.child.flags|=8192,o.mode&1&&($===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj($,o),$===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),et=o.memoizedState,et===null)return S(o),null;if(j=(o.flags&128)!==0,tt=et.rendering,tt===null)if(j)Ej(et,!1);else{if(T!==0||$!==null&&$.flags&128)for($=o.child;$!==null;){if(tt=Mh($),tt!==null){for(o.flags|=128,Ej(et,!1),j=tt.updateQueue,j!==null&&(o.updateQueue=j,o.flags|=4),o.subtreeFlags=0,j=a,a=o.child;a!==null;)et=a,$=j,et.flags&=14680066,tt=et.alternate,tt===null?(et.childLanes=0,et.lanes=$,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=tt.childLanes,et.lanes=tt.lanes,et.child=tt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=tt.memoizedProps,et.memoizedState=tt.memoizedState,et.updateQueue=tt.updateQueue,et.type=tt.type,$=tt.dependencies,et.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),a=a.sibling;return G(M,M.current&1|2),o.child}$=$.sibling}et.tail!==null&&B()>Hj&&(o.flags|=128,j=!0,Ej(et,!1),o.lanes=4194304)}else{if(!j)if($=Mh(tt),$!==null){if(o.flags|=128,j=!0,a=$.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),Ej(et,!0),et.tail===null&&et.tailMode==="hidden"&&!tt.alternate&&!I)return S(o),null}else 2*B()-et.renderingStartTime>Hj&&a!==1073741824&&(o.flags|=128,j=!0,Ej(et,!1),o.lanes=4194304);et.isBackwards?(tt.sibling=o.child,o.child=tt):(a=et.last,a!==null?a.sibling=tt:o.child=tt,et.last=tt)}return et.tail!==null?(o=et.tail,et.rendering=o,et.tail=o.sibling,et.renderingStartTime=B(),o.sibling=null,a=M.current,G(M,j?a&1|2:a&1),o):(S(o),null);case 22:case 23:return Ij(),j=o.memoizedState!==null,$!==null&&$.memoizedState!==null!==j&&(o.flags|=8192),j&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$4(156,o.tag))}function Jj($,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),$=o.flags,$&65536?(o.flags=$&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),$=o.flags,$&65536&&!($&128)?(o.flags=$&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),$=o.memoizedState,$!==null&&$.dehydrated!==null){if(o.alternate===null)throw Error(p$4(340));Ig()}return $=o.flags,$&65536?(o.flags=$&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj($,o){var a=$.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(j){W($,o,j)}else a.current=null}function Nj($,o,a){try{a()}catch(j){W($,o,j)}}var Oj=!1;function Pj($,o){if(Cf=dd,$=Me(),Ne($)){if("selectionStart"in $)var a={start:$.selectionStart,end:$.selectionEnd};else e:{a=(a=$.ownerDocument)&&a.defaultView||window;var j=a.getSelection&&a.getSelection();if(j&&j.rangeCount!==0){a=j.anchorNode;var _e=j.anchorOffset,et=j.focusNode;j=j.focusOffset;try{a.nodeType,et.nodeType}catch{a=null;break e}var tt=0,rt=-1,nt=-1,it=0,ot=0,st=$,ct=null;t:for(;;){for(var ut;st!==a||_e!==0&&st.nodeType!==3||(rt=tt+_e),st!==et||j!==0&&st.nodeType!==3||(nt=tt+j),st.nodeType===3&&(tt+=st.nodeValue.length),(ut=st.firstChild)!==null;)ct=st,st=ut;for(;;){if(st===$)break t;if(ct===a&&++it===_e&&(rt=tt),ct===et&&++ot===j&&(nt=tt),(ut=st.nextSibling)!==null)break;st=ct,ct=st.parentNode}st=ut}a=rt===-1||nt===-1?null:{start:rt,end:nt}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:$,selectionRange:a},dd=!1,V=o;V!==null;)if(o=V,$=o.child,(o.subtreeFlags&1028)!==0&&$!==null)$.return=o,V=$;else for(;V!==null;){o=V;try{var dt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var ft=dt.memoizedProps,ht=dt.memoizedState,pt=o.stateNode,yt=pt.getSnapshotBeforeUpdate(o.elementType===o.type?ft:Lg(o.type,ft),ht);pt.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var gt=o.stateNode.containerInfo;gt.nodeType===1?gt.textContent="":gt.nodeType===9&&gt.documentElement&&gt.removeChild(gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(xt){W(o,o.return,xt)}if($=o.sibling,$!==null){$.return=o.return,V=$;break}V=o.return}return dt=Oj,Oj=!1,dt}function Qj($,o,a){var j=o.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var _e=j=j.next;do{if((_e.tag&$)===$){var et=_e.destroy;_e.destroy=void 0,et!==void 0&&Nj(o,a,et)}_e=_e.next}while(_e!==j)}}function Rj($,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&$)===$){var j=a.create;a.destroy=j()}a=a.next}while(a!==o)}}function Sj($){var o=$.ref;if(o!==null){var a=$.stateNode;switch($.tag){case 5:$=a;break;default:$=a}typeof o=="function"?o($):o.current=$}}function Tj($){var o=$.alternate;o!==null&&($.alternate=null,Tj(o)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(o=$.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Uj($){return $.tag===5||$.tag===3||$.tag===4}function Vj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Uj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Wj($,o,a){var j=$.tag;if(j===5||j===6)$=$.stateNode,o?a.nodeType===8?a.parentNode.insertBefore($,o):a.insertBefore($,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore($,a)):(o=a,o.appendChild($)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Bf));else if(j!==4&&($=$.child,$!==null))for(Wj($,o,a),$=$.sibling;$!==null;)Wj($,o,a),$=$.sibling}function Xj($,o,a){var j=$.tag;if(j===5||j===6)$=$.stateNode,o?a.insertBefore($,o):a.appendChild($);else if(j!==4&&($=$.child,$!==null))for(Xj($,o,a),$=$.sibling;$!==null;)Xj($,o,a),$=$.sibling}var X=null,Yj=!1;function Zj($,o,a){for(a=a.child;a!==null;)ak($,o,a),a=a.sibling}function ak($,o,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Mj(a,o);case 6:var j=X,_e=Yj;X=null,Zj($,o,a),X=j,Yj=_e,X!==null&&(Yj?($=X,a=a.stateNode,$.nodeType===8?$.parentNode.removeChild(a):$.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Yj?($=X,a=a.stateNode,$.nodeType===8?Kf($.parentNode,a):$.nodeType===1&&Kf($,a),bd($)):Kf(X,a.stateNode));break;case 4:j=X,_e=Yj,X=a.stateNode.containerInfo,Yj=!0,Zj($,o,a),X=j,Yj=_e;break;case 0:case 11:case 14:case 15:if(!U&&(j=a.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){_e=j=j.next;do{var et=_e,tt=et.destroy;et=et.tag,tt!==void 0&&(et&2||et&4)&&Nj(a,o,tt),_e=_e.next}while(_e!==j)}Zj($,o,a);break;case 1:if(!U&&(Mj(a,o),j=a.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=a.memoizedProps,j.state=a.memoizedState,j.componentWillUnmount()}catch(rt){W(a,o,rt)}Zj($,o,a);break;case 21:Zj($,o,a);break;case 22:a.mode&1?(U=(j=U)||a.memoizedState!==null,Zj($,o,a),U=j):Zj($,o,a);break;default:Zj($,o,a)}}function bk($){var o=$.updateQueue;if(o!==null){$.updateQueue=null;var a=$.stateNode;a===null&&(a=$.stateNode=new Lj),o.forEach(function(j){var _e=ck.bind(null,$,j);a.has(j)||(a.add(j),j.then(_e,_e))})}}function dk($,o){var a=o.deletions;if(a!==null)for(var j=0;j<a.length;j++){var _e=a[j];try{var et=$,tt=o,rt=tt;e:for(;rt!==null;){switch(rt.tag){case 5:X=rt.stateNode,Yj=!1;break e;case 3:X=rt.stateNode.containerInfo,Yj=!0;break e;case 4:X=rt.stateNode.containerInfo,Yj=!0;break e}rt=rt.return}if(X===null)throw Error(p$4(160));ak(et,tt,_e),X=null,Yj=!1;var nt=_e.alternate;nt!==null&&(nt.return=null),_e.return=null}catch(it){W(_e,o,it)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,$),o=o.sibling}function ek($,o){var a=$.alternate,j=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(dk(o,$),fk($),j&4){try{Qj(3,$,$.return),Rj(3,$)}catch(ft){W($,$.return,ft)}try{Qj(5,$,$.return)}catch(ft){W($,$.return,ft)}}break;case 1:dk(o,$),fk($),j&512&&a!==null&&Mj(a,a.return);break;case 5:if(dk(o,$),fk($),j&512&&a!==null&&Mj(a,a.return),$.flags&32){var _e=$.stateNode;try{ob(_e,"")}catch(ft){W($,$.return,ft)}}if(j&4&&(_e=$.stateNode,_e!=null)){var et=$.memoizedProps,tt=a!==null?a.memoizedProps:et,rt=$.type,nt=$.updateQueue;if($.updateQueue=null,nt!==null)try{rt==="input"&&et.type==="radio"&&et.name!=null&&ab(_e,et),vb(rt,tt);var it=vb(rt,et);for(tt=0;tt<nt.length;tt+=2){var ot=nt[tt],st=nt[tt+1];ot==="style"?sb(_e,st):ot==="dangerouslySetInnerHTML"?nb(_e,st):ot==="children"?ob(_e,st):ta(_e,ot,st,it)}switch(rt){case"input":bb(_e,et);break;case"textarea":ib(_e,et);break;case"select":var ct=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!et.multiple;var ut=et.value;ut!=null?fb(_e,!!et.multiple,ut,!1):ct!==!!et.multiple&&(et.defaultValue!=null?fb(_e,!!et.multiple,et.defaultValue,!0):fb(_e,!!et.multiple,et.multiple?[]:"",!1))}_e[Pf]=et}catch(ft){W($,$.return,ft)}}break;case 6:if(dk(o,$),fk($),j&4){if($.stateNode===null)throw Error(p$4(162));_e=$.stateNode,et=$.memoizedProps;try{_e.nodeValue=et}catch(ft){W($,$.return,ft)}}break;case 3:if(dk(o,$),fk($),j&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(ft){W($,$.return,ft)}break;case 4:dk(o,$),fk($);break;case 13:dk(o,$),fk($),_e=$.child,_e.flags&8192&&(et=_e.memoizedState!==null,_e.stateNode.isHidden=et,!et||_e.alternate!==null&&_e.alternate.memoizedState!==null||(gk=B())),j&4&&bk($);break;case 22:if(ot=a!==null&&a.memoizedState!==null,$.mode&1?(U=(it=U)||ot,dk(o,$),U=it):dk(o,$),fk($),j&8192){if(it=$.memoizedState!==null,($.stateNode.isHidden=it)&&!ot&&$.mode&1)for(V=$,ot=$.child;ot!==null;){for(st=V=ot;V!==null;){switch(ct=V,ut=ct.child,ct.tag){case 0:case 11:case 14:case 15:Qj(4,ct,ct.return);break;case 1:Mj(ct,ct.return);var dt=ct.stateNode;if(typeof dt.componentWillUnmount=="function"){j=ct,a=ct.return;try{o=j,dt.props=o.memoizedProps,dt.state=o.memoizedState,dt.componentWillUnmount()}catch(ft){W(j,a,ft)}}break;case 5:Mj(ct,ct.return);break;case 22:if(ct.memoizedState!==null){hk(st);continue}}ut!==null?(ut.return=ct,V=ut):hk(st)}ot=ot.sibling}e:for(ot=null,st=$;;){if(st.tag===5){if(ot===null){ot=st;try{_e=st.stateNode,it?(et=_e.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(rt=st.stateNode,nt=st.memoizedProps.style,tt=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,rt.style.display=rb("display",tt))}catch(ft){W($,$.return,ft)}}}else if(st.tag===6){if(ot===null)try{st.stateNode.nodeValue=it?"":st.memoizedProps}catch(ft){W($,$.return,ft)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===$)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===$)break e;for(;st.sibling===null;){if(st.return===null||st.return===$)break e;ot===st&&(ot=null),st=st.return}ot===st&&(ot=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:dk(o,$),fk($),j&4&&bk($);break;case 21:break;default:dk(o,$),fk($)}}function fk($){var o=$.flags;if(o&2){try{e:{for(var a=$.return;a!==null;){if(Uj(a)){var j=a;break e}a=a.return}throw Error(p$4(160))}switch(j.tag){case 5:var _e=j.stateNode;j.flags&32&&(ob(_e,""),j.flags&=-33);var et=Vj($);Xj($,et,_e);break;case 3:case 4:var tt=j.stateNode.containerInfo,rt=Vj($);Wj($,rt,tt);break;default:throw Error(p$4(161))}}catch(nt){W($,$.return,nt)}$.flags&=-3}o&4096&&($.flags&=-4097)}function ik($,o,a){V=$,jk($)}function jk($,o,a){for(var j=($.mode&1)!==0;V!==null;){var _e=V,et=_e.child;if(_e.tag===22&&j){var tt=_e.memoizedState!==null||Kj;if(!tt){var rt=_e.alternate,nt=rt!==null&&rt.memoizedState!==null||U;rt=Kj;var it=U;if(Kj=tt,(U=nt)&&!it)for(V=_e;V!==null;)tt=V,nt=tt.child,tt.tag===22&&tt.memoizedState!==null?kk(_e):nt!==null?(nt.return=tt,V=nt):kk(_e);for(;et!==null;)V=et,jk(et),et=et.sibling;V=_e,Kj=rt,U=it}lk($)}else _e.subtreeFlags&8772&&et!==null?(et.return=_e,V=et):lk($)}}function lk($){for(;V!==null;){var o=V;if(o.flags&8772){var a=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var j=o.stateNode;if(o.flags&4&&!U)if(a===null)j.componentDidMount();else{var _e=o.elementType===o.type?a.memoizedProps:Lg(o.type,a.memoizedProps);j.componentDidUpdate(_e,a.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var et=o.updateQueue;et!==null&&ih(o,et,j);break;case 3:var tt=o.updateQueue;if(tt!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}ih(o,tt,a)}break;case 5:var rt=o.stateNode;if(a===null&&o.flags&4){a=rt;var nt=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&a.focus();break;case"img":nt.src&&(a.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var it=o.alternate;if(it!==null){var ot=it.memoizedState;if(ot!==null){var st=ot.dehydrated;st!==null&&bd(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U||o.flags&512&&Sj(o)}catch(ct){W(o,o.return,ct)}}if(o===$){V=null;break}if(a=o.sibling,a!==null){a.return=o.return,V=a;break}V=o.return}}function hk($){for(;V!==null;){var o=V;if(o===$){V=null;break}var a=o.sibling;if(a!==null){a.return=o.return,V=a;break}V=o.return}}function kk($){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{Rj(4,o)}catch(nt){W(o,a,nt)}break;case 1:var j=o.stateNode;if(typeof j.componentDidMount=="function"){var _e=o.return;try{j.componentDidMount()}catch(nt){W(o,_e,nt)}}var et=o.return;try{Sj(o)}catch(nt){W(o,et,nt)}break;case 5:var tt=o.return;try{Sj(o)}catch(nt){W(o,tt,nt)}}}catch(nt){W(o,o.return,nt)}if(o===$){V=null;break}var rt=o.sibling;if(rt!==null){rt.return=o.return,V=rt;break}V=o.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K$1&6?B():Bk!==-1?Bk:Bk=B()}function lh($){return $.mode&1?K$1&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):($=C,$!==0||($=window.event,$=$===void 0?16:jd($.type)),$):1}function mh($,o,a,j){if(50<zk)throw zk=0,Ak=null,Error(p$4(185));Ac($,a,j),(!(K$1&2)||$!==R)&&($===R&&(!(K$1&2)&&(rk|=a),T===4&&Dk($,Z)),Ek($,j),a===1&&K$1===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek($,o){var a=$.callbackNode;wc($,o);var j=uc($,$===R?Z:0);if(j===0)a!==null&&bc(a),$.callbackNode=null,$.callbackPriority=0;else if(o=j&-j,$.callbackPriority!==o){if(a!=null&&bc(a),o===1)$.tag===0?ig(Fk.bind(null,$)):hg(Fk.bind(null,$)),Jf(function(){!(K$1&6)&&jg()}),a=null;else{switch(Dc(j)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Gk(a,Hk.bind(null,$))}$.callbackPriority=o,$.callbackNode=a}}function Hk($,o){if(Bk=-1,Ck=0,K$1&6)throw Error(p$4(327));var a=$.callbackNode;if(Ik()&&$.callbackNode!==a)return null;var j=uc($,$===R?Z:0);if(j===0)return null;if(j&30||j&$.expiredLanes||o)o=Jk($,j);else{o=j;var _e=K$1;K$1|=2;var et=Kk();(R!==$||Z!==o)&&(vk=null,Hj=B()+500,Lk($,o));do try{Mk();break}catch(rt){Nk($,rt)}while(1);Qg(),nk.current=et,K$1=_e,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&(_e=xc($),_e!==0&&(j=_e,o=Ok($,_e))),o===1)throw a=qk,Lk($,0),Dk($,j),Ek($,B()),a;if(o===6)Dk($,j);else{if(_e=$.current.alternate,!(j&30)&&!Pk(_e)&&(o=Jk($,j),o===2&&(et=xc($),et!==0&&(j=et,o=Ok($,et))),o===1))throw a=qk,Lk($,0),Dk($,j),Ek($,B()),a;switch($.finishedWork=_e,$.finishedLanes=j,o){case 0:case 1:throw Error(p$4(345));case 2:Qk($,uk,vk);break;case 3:if(Dk($,j),(j&130023424)===j&&(o=gk+500-B(),10<o)){if(uc($,0)!==0)break;if(_e=$.suspendedLanes,(_e&j)!==j){L(),$.pingedLanes|=$.suspendedLanes&_e;break}$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),o);break}Qk($,uk,vk);break;case 4:if(Dk($,j),(j&4194240)===j)break;for(o=$.eventTimes,_e=-1;0<j;){var tt=31-oc(j);et=1<<tt,tt=o[tt],tt>_e&&(_e=tt),j&=~et}if(j=_e,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*mk(j/1960))-j,10<j){$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),j);break}Qk($,uk,vk);break;case 5:Qk($,uk,vk);break;default:throw Error(p$4(329))}}}return Ek($,B()),$.callbackNode===a?Hk.bind(null,$):null}function Ok($,o){var a=tk;return $.current.memoizedState.isDehydrated&&(Lk($,o).flags|=256),$=Jk($,o),$!==2&&(o=uk,uk=a,o!==null&&Gj(o)),$}function Gj($){uk===null?uk=$:uk.push.apply(uk,$)}function Pk($){for(var o=$;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var j=0;j<a.length;j++){var _e=a[j],et=_e.getSnapshot;_e=_e.value;try{if(!He(et(),_e))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===$)break;for(;o.sibling===null;){if(o.return===null||o.return===$)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk($,o){for(o&=~sk,o&=~rk,$.suspendedLanes|=o,$.pingedLanes&=~o,$=$.expirationTimes;0<o;){var a=31-oc(o),j=1<<a;$[a]=-1,o&=~j}}function Fk($){if(K$1&6)throw Error(p$4(327));Ik();var o=uc($,0);if(!(o&1))return Ek($,B()),null;var a=Jk($,o);if($.tag!==0&&a===2){var j=xc($);j!==0&&(o=j,a=Ok($,j))}if(a===1)throw a=qk,Lk($,0),Dk($,o),Ek($,B()),a;if(a===6)throw Error(p$4(345));return $.finishedWork=$.current.alternate,$.finishedLanes=o,Qk($,uk,vk),Ek($,B()),null}function Rk($,o){var a=K$1;K$1|=1;try{return $(o)}finally{K$1=a,K$1===0&&(Hj=B()+500,fg&&jg())}}function Sk($){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var o=K$1;K$1|=1;var a=pk.transition,j=C;try{if(pk.transition=null,C=1,$)return $()}finally{C=j,pk.transition=a,K$1=o,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk($,o){$.finishedWork=null,$.finishedLanes=0;var a=$.timeoutHandle;if(a!==-1&&($.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var j=a;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(j);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(j.type._context);break;case 22:case 23:Ij()}a=a.return}if(R=$,Y=$=wh($.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(a=Wg[o],j=a.interleaved,j!==null){a.interleaved=null;var _e=j.next,et=a.pending;if(et!==null){var tt=et.next;et.next=_e,j.next=tt}a.pending=j}Wg=null}return $}function Nk($,o){do{var a=Y;try{if(Qg(),Ph.current=ai,Sh){for(var j=N.memoizedState;j!==null;){var _e=j.queue;_e!==null&&(_e.pending=null),j=j.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,a===null||a.return===null){T=1,qk=o,Y=null;break}e:{var et=$,tt=a.return,rt=a,nt=o;if(o=Z,rt.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var it=nt,ot=rt,st=ot.tag;if(!(ot.mode&1)&&(st===0||st===11||st===15)){var ct=ot.alternate;ct?(ot.updateQueue=ct.updateQueue,ot.memoizedState=ct.memoizedState,ot.lanes=ct.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var ut=Vi(tt);if(ut!==null){ut.flags&=-257,Wi(ut,tt,rt,et,o),ut.mode&1&&Ti(et,it,o),o=ut,nt=it;var dt=o.updateQueue;if(dt===null){var ft=new Set;ft.add(nt),o.updateQueue=ft}else dt.add(nt);break e}else{if(!(o&1)){Ti(et,it,o),uj();break e}nt=Error(p$4(426))}}else if(I&&rt.mode&1){var ht=Vi(tt);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),Wi(ht,tt,rt,et,o),Jg(Ki(nt,rt));break e}}et=nt=Ki(nt,rt),T!==4&&(T=2),tk===null?tk=[et]:tk.push(et),et=tt;do{switch(et.tag){case 3:et.flags|=65536,o&=-o,et.lanes|=o;var pt=Oi(et,nt,o);fh(et,pt);break e;case 1:rt=nt;var yt=et.type,gt=et.stateNode;if(!(et.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(Si===null||!Si.has(gt)))){et.flags|=65536,o&=-o,et.lanes|=o;var xt=Ri(et,rt,o);fh(et,xt);break e}}et=et.return}while(et!==null)}Tk(a)}catch(wt){o=wt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(1)}function Kk(){var $=nk.current;return nk.current=ai,$===null?ai:$}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk($,o){var a=K$1;K$1|=2;var j=Kk();(R!==$||Z!==o)&&(vk=null,Lk($,o));do try{Uk();break}catch(_e){Nk($,_e)}while(1);if(Qg(),K$1=a,nk.current=j,Y!==null)throw Error(p$4(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk($){var o=Wk($.alternate,$,gj);$.memoizedProps=$.pendingProps,o===null?Tk($):Y=o,ok.current=null}function Tk($){var o=$;do{var a=o.alternate;if($=o.return,o.flags&32768){if(a=Jj(a,o),a!==null){a.flags&=32767,Y=a;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T=6,Y=null;return}}else if(a=Fj(a,o,gj),a!==null){Y=a;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=$}while(o!==null);T===0&&(T=5)}function Qk($,o,a){var j=C,_e=pk.transition;try{pk.transition=null,C=1,Xk($,o,a,j)}finally{pk.transition=_e,C=j}return null}function Xk($,o,a,j){do Ik();while(xk!==null);if(K$1&6)throw Error(p$4(327));a=$.finishedWork;var _e=$.finishedLanes;if(a===null)return null;if($.finishedWork=null,$.finishedLanes=0,a===$.current)throw Error(p$4(177));$.callbackNode=null,$.callbackPriority=0;var et=a.lanes|a.childLanes;if(Bc($,et),$===R&&(Y=R=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),et=(a.flags&15990)!==0,a.subtreeFlags&15990||et){et=pk.transition,pk.transition=null;var tt=C;C=1;var rt=K$1;K$1|=4,ok.current=null,Pj($,a),ek(a,$),Oe(Df),dd=!!Cf,Df=Cf=null,$.current=a,ik(a),dc(),K$1=rt,C=tt,pk.transition=et}else $.current=a;if(wk&&(wk=!1,xk=$,yk=_e),et=$.pendingLanes,et===0&&(Si=null),mc(a.stateNode),Ek($,B()),o!==null)for(j=$.onRecoverableError,a=0;a<o.length;a++)_e=o[a],j(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Pi)throw Pi=!1,$=Qi,Qi=null,$;return yk&1&&$.tag!==0&&Ik(),et=$.pendingLanes,et&1?$===Ak?zk++:(zk=0,Ak=$):zk=0,jg(),null}function Ik(){if(xk!==null){var $=Dc(yk),o=pk.transition,a=C;try{if(pk.transition=null,C=16>$?16:$,xk===null)var j=!1;else{if($=xk,xk=null,yk=0,K$1&6)throw Error(p$4(331));var _e=K$1;for(K$1|=4,V=$.current;V!==null;){var et=V,tt=et.child;if(V.flags&16){var rt=et.deletions;if(rt!==null){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];for(V=it;V!==null;){var ot=V;switch(ot.tag){case 0:case 11:case 15:Qj(8,ot,et)}var st=ot.child;if(st!==null)st.return=ot,V=st;else for(;V!==null;){ot=V;var ct=ot.sibling,ut=ot.return;if(Tj(ot),ot===it){V=null;break}if(ct!==null){ct.return=ut,V=ct;break}V=ut}}}var dt=et.alternate;if(dt!==null){var ft=dt.child;if(ft!==null){dt.child=null;do{var ht=ft.sibling;ft.sibling=null,ft=ht}while(ft!==null)}}V=et}}if(et.subtreeFlags&2064&&tt!==null)tt.return=et,V=tt;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Qj(9,et,et.return)}var pt=et.sibling;if(pt!==null){pt.return=et.return,V=pt;break e}V=et.return}}var yt=$.current;for(V=yt;V!==null;){tt=V;var gt=tt.child;if(tt.subtreeFlags&2064&&gt!==null)gt.return=tt,V=gt;else e:for(tt=yt;V!==null;){if(rt=V,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:Rj(9,rt)}}catch(wt){W(rt,rt.return,wt)}if(rt===tt){V=null;break e}var xt=rt.sibling;if(xt!==null){xt.return=rt.return,V=xt;break e}V=rt.return}}if(K$1=_e,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,$)}catch{}j=!0}return j}finally{C=a,pk.transition=o}}return!1}function Yk($,o,a){o=Ki(a,o),o=Oi($,o,1),$=dh($,o,1),o=L(),$!==null&&(Ac($,1,o),Ek($,o))}function W($,o,a){if($.tag===3)Yk($,$,a);else for(;o!==null;){if(o.tag===3){Yk(o,$,a);break}else if(o.tag===1){var j=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Si===null||!Si.has(j))){$=Ki(a,$),$=Ri(o,$,1),o=dh(o,$,1),$=L(),o!==null&&(Ac(o,1,$),Ek(o,$));break}}o=o.return}}function Ui($,o,a){var j=$.pingCache;j!==null&&j.delete(o),o=L(),$.pingedLanes|=$.suspendedLanes&a,R===$&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk($,0):sk|=a),Ek($,o)}function Zk($,o){o===0&&($.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var a=L();$=Zg($,o),$!==null&&(Ac($,o,a),Ek($,a))}function vj($){var o=$.memoizedState,a=0;o!==null&&(a=o.retryLane),Zk($,a)}function ck($,o){var a=0;switch($.tag){case 13:var j=$.stateNode,_e=$.memoizedState;_e!==null&&(a=_e.retryLane);break;case 19:j=$.stateNode;break;default:throw Error(p$4(314))}j!==null&&j.delete(o),Zk($,a)}var Wk;Wk=function($,o,a){if($!==null)if($.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!($.lanes&a)&&!(o.flags&128))return Ug=!1,zj($,o,a);Ug=!!($.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var j=o.type;jj($,o),$=o.pendingProps;var _e=Yf(o,H.current);Tg(o,a),_e=Xh(null,o,j,$,_e,a);var et=bi();return o.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(j)?(et=!0,cg(o)):et=!1,o.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,ah(o),_e.updater=nh,o.stateNode=_e,_e._reactInternals=o,rh$1(o,j,$,a),o=kj(null,o,j,!0,et,a)):(o.tag=0,I&&et&&vg(o),Yi(null,o,_e,a),o=o.child),o;case 16:j=o.elementType;e:{switch(jj($,o),$=o.pendingProps,_e=j._init,j=_e(j._payload),o.type=j,_e=o.tag=$k(j),$=Lg(j,$),_e){case 0:o=dj(null,o,j,$,a);break e;case 1:o=ij(null,o,j,$,a);break e;case 11:o=Zi(null,o,j,$,a);break e;case 14:o=aj(null,o,j,Lg(j.type,$),a);break e}throw Error(p$4(306,j,""))}return o;case 0:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),dj($,o,j,_e,a);case 1:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),ij($,o,j,_e,a);case 3:e:{if(lj(o),$===null)throw Error(p$4(387));j=o.pendingProps,et=o.memoizedState,_e=et.element,bh($,o),gh(o,j,null,a);var tt=o.memoizedState;if(j=tt.element,et.isDehydrated)if(et={element:j,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},o.updateQueue.baseState=et,o.memoizedState=et,o.flags&256){_e=Ki(Error(p$4(423)),o),o=mj($,o,j,a,_e);break e}else if(j!==_e){_e=Ki(Error(p$4(424)),o),o=mj($,o,j,a,_e);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,a=Ch(o,null,j,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),j===_e){o=$i($,o,a);break e}Yi($,o,j,a)}o=o.child}return o;case 5:return Kh$1(o),$===null&&Eg(o),j=o.type,_e=o.pendingProps,et=$!==null?$.memoizedProps:null,tt=_e.children,Ef(j,_e)?tt=null:et!==null&&Ef(j,et)&&(o.flags|=32),hj($,o),Yi($,o,tt,a),o.child;case 6:return $===null&&Eg(o),null;case 13:return pj($,o,a);case 4:return Ih(o,o.stateNode.containerInfo),j=o.pendingProps,$===null?o.child=Bh(o,null,j,a):Yi($,o,j,a),o.child;case 11:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),Zi($,o,j,_e,a);case 7:return Yi($,o,o.pendingProps,a),o.child;case 8:return Yi($,o,o.pendingProps.children,a),o.child;case 12:return Yi($,o,o.pendingProps.children,a),o.child;case 10:e:{if(j=o.type._context,_e=o.pendingProps,et=o.memoizedProps,tt=_e.value,G(Mg,j._currentValue),j._currentValue=tt,et!==null)if(He(et.value,tt)){if(et.children===_e.children&&!Wf.current){o=$i($,o,a);break e}}else for(et=o.child,et!==null&&(et.return=o);et!==null;){var rt=et.dependencies;if(rt!==null){tt=et.child;for(var nt=rt.firstContext;nt!==null;){if(nt.context===j){if(et.tag===1){nt=ch(-1,a&-a),nt.tag=2;var it=et.updateQueue;if(it!==null){it=it.shared;var ot=it.pending;ot===null?nt.next=nt:(nt.next=ot.next,ot.next=nt),it.pending=nt}}et.lanes|=a,nt=et.alternate,nt!==null&&(nt.lanes|=a),Sg(et.return,a,o),rt.lanes|=a;break}nt=nt.next}}else if(et.tag===10)tt=et.type===o.type?null:et.child;else if(et.tag===18){if(tt=et.return,tt===null)throw Error(p$4(341));tt.lanes|=a,rt=tt.alternate,rt!==null&&(rt.lanes|=a),Sg(tt,a,o),tt=et.sibling}else tt=et.child;if(tt!==null)tt.return=et;else for(tt=et;tt!==null;){if(tt===o){tt=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,tt=et;break}tt=tt.return}et=tt}Yi($,o,_e.children,a),o=o.child}return o;case 9:return _e=o.type,j=o.pendingProps.children,Tg(o,a),_e=Vg(_e),j=j(_e),o.flags|=1,Yi($,o,j,a),o.child;case 14:return j=o.type,_e=Lg(j,o.pendingProps),_e=Lg(j.type,_e),aj($,o,j,_e,a);case 15:return cj($,o,o.type,o.pendingProps,a);case 17:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),jj($,o),o.tag=1,Zf(j)?($=!0,cg(o)):$=!1,Tg(o,a),ph(o,j,_e),rh$1(o,j,_e,a),kj(null,o,j,!0,$,a);case 19:return yj($,o,a);case 22:return ej($,o,a)}throw Error(p$4(156,o.tag))};function Gk($,o){return ac($,o)}function al($,o,a,j){this.tag=$,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,o,a,j){return new al($,o,a,j)}function bj($){return $=$.prototype,!(!$||!$.isReactComponent)}function $k($){if(typeof $=="function")return bj($)?1:0;if($!=null){if($=$.$$typeof,$===Da)return 11;if($===Ga)return 14}return 2}function wh($,o){var a=$.alternate;return a===null?(a=Bg($.tag,o,$.key,$.mode),a.elementType=$.elementType,a.type=$.type,a.stateNode=$.stateNode,a.alternate=$,$.alternate=a):(a.pendingProps=o,a.type=$.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=$.flags&14680064,a.childLanes=$.childLanes,a.lanes=$.lanes,a.child=$.child,a.memoizedProps=$.memoizedProps,a.memoizedState=$.memoizedState,a.updateQueue=$.updateQueue,o=$.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=$.sibling,a.index=$.index,a.ref=$.ref,a}function yh($,o,a,j,_e,et){var tt=2;if(j=$,typeof $=="function")bj($)&&(tt=1);else if(typeof $=="string")tt=5;else e:switch($){case ya:return Ah(a.children,_e,et,o);case za:tt=8,_e|=8;break;case Aa:return $=Bg(12,a,o,_e|2),$.elementType=Aa,$.lanes=et,$;case Ea:return $=Bg(13,a,o,_e),$.elementType=Ea,$.lanes=et,$;case Fa:return $=Bg(19,a,o,_e),$.elementType=Fa,$.lanes=et,$;case Ia:return qj(a,_e,et,o);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,j=null;break e}throw Error(p$4(130,$==null?$:typeof $,""))}return o=Bg(tt,a,o,_e),o.elementType=$,o.type=j,o.lanes=et,o}function Ah($,o,a,j){return $=Bg(7,$,j,o),$.lanes=a,$}function qj($,o,a,j){return $=Bg(22,$,j,o),$.elementType=Ia,$.lanes=a,$.stateNode={isHidden:!1},$}function xh($,o,a){return $=Bg(6,$,null,o),$.lanes=a,$}function zh($,o,a){return o=Bg(4,$.children!==null?$.children:[],$.key,o),o.lanes=a,o.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},o}function bl($,o,a,j,_e){this.tag=o,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function cl($,o,a,j,_e,et,tt,rt,nt){return $=new bl($,o,a,rt,nt),o===1?(o=1,et===!0&&(o|=8)):o=0,et=Bg(3,null,null,o),$.current=et,et.stateNode=$,et.memoizedState={element:j,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(et),$}function dl($,o,a){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:$,containerInfo:o,implementation:a}}function el($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb($)!==$||$.tag!==1)throw Error(p$4(170));var o=$;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$4(171))}if($.tag===1){var a=$.type;if(Zf(a))return bg($,a,o)}return o}function fl($,o,a,j,_e,et,tt,rt,nt){return $=cl(a,j,!0,$,_e,et,tt,rt,nt),$.context=el(null),a=$.current,j=L(),_e=lh(a),et=ch(j,_e),et.callback=o??null,dh(a,et,_e),$.current.lanes=_e,Ac($,_e,j),Ek($,j),$}function gl($,o,a,j){var _e=o.current,et=L(),tt=lh(_e);return a=el(a),o.context===null?o.context=a:o.pendingContext=a,o=ch(et,tt),o.payload={element:$},j=j===void 0?null:j,j!==null&&(o.callback=j),$=dh(_e,o,tt),$!==null&&(mh($,_e,tt,et),eh($,_e,tt)),tt}function hl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function il($,o){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var a=$.retryLane;$.retryLane=a!==0&&a<o?a:o}}function jl($,o){il($,o),($=$.alternate)&&il($,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function($){console.error($)};function ml($){this._internalRoot=$}nl.prototype.render=ml.prototype.render=function($){var o=this._internalRoot;if(o===null)throw Error(p$4(409));gl($,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var o=$.containerInfo;Sk(function(){gl(null,$,null,null)}),o[uf]=null}};function nl($){this._internalRoot=$}nl.prototype.unstable_scheduleHydration=function($){if($){var o=Hc();$={blockedOn:null,target:$,priority:o};for(var a=0;a<Qc.length&&o!==0&&o<Qc[a].priority;a++);Qc.splice(a,0,$),a===0&&Vc($)}};function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function pl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl($,o,a,j,_e){if(_e){if(typeof j=="function"){var et=j;j=function(){var it=hl(tt);et.call(it)}}var tt=fl(o,j,$,0,null,!1,!1,"",ql);return $._reactRootContainer=tt,$[uf]=tt.current,sf($.nodeType===8?$.parentNode:$),Sk(),tt}for(;_e=$.lastChild;)$.removeChild(_e);if(typeof j=="function"){var rt=j;j=function(){var it=hl(nt);rt.call(it)}}var nt=cl($,0,!1,null,null,!1,!1,"",ql);return $._reactRootContainer=nt,$[uf]=nt.current,sf($.nodeType===8?$.parentNode:$),Sk(function(){gl(o,nt,a,j)}),nt}function sl($,o,a,j,_e){var et=a._reactRootContainer;if(et){var tt=et;if(typeof _e=="function"){var rt=_e;_e=function(){var nt=hl(tt);rt.call(nt)}}gl(o,tt,$,_e)}else tt=rl(a,o,$,_e,j);return hl(tt)}Ec=function($){switch($.tag){case 3:var o=$.stateNode;if(o.current.memoizedState.isDehydrated){var a=tc(o.pendingLanes);a!==0&&(Cc(o,a|1),Ek(o,B()),!(K$1&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var j=Zg($,1);if(j!==null){var _e=L();mh(j,$,1,_e)}}),jl($,1)}};Fc=function($){if($.tag===13){var o=Zg($,134217728);if(o!==null){var a=L();mh(o,$,134217728,a)}jl($,134217728)}};Gc=function($){if($.tag===13){var o=lh($),a=Zg($,o);if(a!==null){var j=L();mh(a,$,o,j)}jl($,o)}};Hc=function(){return C};Ic=function($,o){var a=C;try{return C=$,o()}finally{C=a}};yb=function($,o,a){switch(o){case"input":if(bb($,a),o=a.name,a.type==="radio"&&o!=null){for(a=$;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var j=a[o];if(j!==$&&j.form===$.form){var _e=Db(j);if(!_e)throw Error(p$4(90));Wa(j),bb(j,_e)}}}break;case"textarea":ib($,a);break;case"select":o=a.value,o!=null&&fb($,!!a.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb($),$===null?null:$.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function($,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$4(200));return dl($,o,null,a)};reactDom_production_min.createRoot=function($,o){if(!ol($))throw Error(p$4(299));var a=!1,j="",_e=ll;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(j=o.identifierPrefix),o.onRecoverableError!==void 0&&(_e=o.onRecoverableError)),o=cl($,1,!1,null,null,a,!1,j,_e),$[uf]=o.current,sf($.nodeType===8?$.parentNode:$),new ml(o)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var o=$._reactInternals;if(o===void 0)throw typeof $.render=="function"?Error(p$4(188)):($=Object.keys($).join(","),Error(p$4(268,$)));return $=Zb(o),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Sk($)};reactDom_production_min.hydrate=function($,o,a){if(!pl(o))throw Error(p$4(200));return sl(null,$,o,!0,a)};reactDom_production_min.hydrateRoot=function($,o,a){if(!ol($))throw Error(p$4(405));var j=a!=null&&a.hydratedSources||null,_e=!1,et="",tt=ll;if(a!=null&&(a.unstable_strictMode===!0&&(_e=!0),a.identifierPrefix!==void 0&&(et=a.identifierPrefix),a.onRecoverableError!==void 0&&(tt=a.onRecoverableError)),o=fl(o,null,$,1,a??null,_e,!1,et,tt),$[uf]=o.current,sf($),j)for($=0;$<j.length;$++)a=j[$],_e=a._getVersion,_e=_e(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,_e]:o.mutableSourceEagerHydrationData.push(a,_e);return new nl(o)};reactDom_production_min.render=function($,o,a){if(!pl(o))throw Error(p$4(200));return sl(null,$,o,!1,a)};reactDom_production_min.unmountComponentAtNode=function($){if(!pl($))throw Error(p$4(40));return $._reactRootContainer?(Sk(function(){sl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,o,a,j){if(!pl(a))throw Error(p$4(200));if($==null||$._reactInternals===void 0)throw Error(p$4(38));return sl($,o,a,!1,j)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch($){console.error($)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot$1,m$3=reactDomExports;createRoot$1=client$1.createRoot=m$3.createRoot,client$1.hydrateRoot=m$3.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function($){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&($[j]=a[j])}return $},_extends$4.apply(this,arguments)}var Action;(function($){$.Pop="POP",$.Push="PUSH",$.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory($){$===void 0&&($={});function o(j,_e){let{pathname:et,search:tt,hash:rt}=j.location;return createLocation("",{pathname:et,search:tt,hash:rt},_e.state&&_e.state.usr||null,_e.state&&_e.state.key||"default")}function a(j,_e){return typeof _e=="string"?_e:createPath(_e)}return getUrlBasedHistory(o,a,null,$)}function invariant($,o){if($===!1||$===null||typeof $>"u")throw new Error(o)}function warning($,o){if(!$){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState($,o){return{usr:$.state,key:$.key,idx:o}}function createLocation($,o,a,j){return a===void 0&&(a=null),_extends$4({pathname:typeof $=="string"?$:$.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:a,key:o&&o.key||j||createKey()})}function createPath($){let{pathname:o="/",search:a="",hash:j=""}=$;return a&&a!=="?"&&(o+=a.charAt(0)==="?"?a:"?"+a),j&&j!=="#"&&(o+=j.charAt(0)==="#"?j:"#"+j),o}function parsePath($){let o={};if($){let a=$.indexOf("#");a>=0&&(o.hash=$.substr(a),$=$.substr(0,a));let j=$.indexOf("?");j>=0&&(o.search=$.substr(j),$=$.substr(0,j)),$&&(o.pathname=$)}return o}function getUrlBasedHistory($,o,a,j){j===void 0&&(j={});let{window:_e=document.defaultView,v5Compat:et=!1}=j,tt=_e.history,rt=Action.Pop,nt=null,it=ot();it==null&&(it=0,tt.replaceState(_extends$4({},tt.state,{idx:it}),""));function ot(){return(tt.state||{idx:null}).idx}function st(){rt=Action.Pop;let ht=ot(),pt=ht==null?null:ht-it;it=ht,nt&&nt({action:rt,location:ft.location,delta:pt})}function ct(ht,pt){rt=Action.Push;let yt=createLocation(ft.location,ht,pt);a&&a(yt,ht),it=ot()+1;let gt=getHistoryState(yt,it),xt=ft.createHref(yt);try{tt.pushState(gt,"",xt)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;_e.location.assign(xt)}et&&nt&&nt({action:rt,location:ft.location,delta:1})}function ut(ht,pt){rt=Action.Replace;let yt=createLocation(ft.location,ht,pt);a&&a(yt,ht),it=ot();let gt=getHistoryState(yt,it),xt=ft.createHref(yt);tt.replaceState(gt,"",xt),et&&nt&&nt({action:rt,location:ft.location,delta:0})}function dt(ht){let pt=_e.location.origin!=="null"?_e.location.origin:_e.location.href,yt=typeof ht=="string"?ht:createPath(ht);return yt=yt.replace(/ $/,"%20"),invariant(pt,"No window.location.(origin|href) available to create URL for href: "+yt),new URL(yt,pt)}let ft={get action(){return rt},get location(){return $(_e,tt)},listen(ht){if(nt)throw new Error("A history only accepts one active listener");return _e.addEventListener(PopStateEventType,st),nt=ht,()=>{_e.removeEventListener(PopStateEventType,st),nt=null}},createHref(ht){return o(_e,ht)},createURL:dt,encodeLocation(ht){let pt=dt(ht);return{pathname:pt.pathname,search:pt.search,hash:pt.hash}},push:ct,replace:ut,go(ht){return tt.go(ht)}};return ft}var ResultType;(function($){$.data="data",$.deferred="deferred",$.redirect="redirect",$.error="error"})(ResultType||(ResultType={}));function matchRoutes($,o,a){a===void 0&&(a="/");let j=typeof o=="string"?parsePath(o):o,_e=stripBasename(j.pathname||"/",a);if(_e==null)return null;let et=flattenRoutes($);rankRouteBranches(et);let tt=null;for(let rt=0;tt==null&&rt<et.length;++rt){let nt=decodePath(_e);tt=matchRouteBranch(et[rt],nt)}return tt}function flattenRoutes($,o,a,j){o===void 0&&(o=[]),a===void 0&&(a=[]),j===void 0&&(j="");let _e=(et,tt,rt)=>{let nt={relativePath:rt===void 0?et.path||"":rt,caseSensitive:et.caseSensitive===!0,childrenIndex:tt,route:et};nt.relativePath.startsWith("/")&&(invariant(nt.relativePath.startsWith(j),'Absolute route path "'+nt.relativePath+'" nested under path '+('"'+j+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),nt.relativePath=nt.relativePath.slice(j.length));let it=joinPaths([j,nt.relativePath]),ot=a.concat(nt);et.children&&et.children.length>0&&(invariant(et.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+it+'".')),flattenRoutes(et.children,o,ot,it)),!(et.path==null&&!et.index)&&o.push({path:it,score:computeScore(it,et.index),routesMeta:ot})};return $.forEach((et,tt)=>{var rt;if(et.path===""||!((rt=et.path)!=null&&rt.includes("?")))_e(et,tt);else for(let nt of explodeOptionalSegments(et.path))_e(et,tt,nt)}),o}function explodeOptionalSegments($){let o=$.split("/");if(o.length===0)return[];let[a,...j]=o,_e=a.endsWith("?"),et=a.replace(/\?$/,"");if(j.length===0)return _e?[et,""]:[et];let tt=explodeOptionalSegments(j.join("/")),rt=[];return rt.push(...tt.map(nt=>nt===""?et:[et,nt].join("/"))),_e&&rt.push(...tt),rt.map(nt=>$.startsWith("/")&&nt===""?"/":nt)}function rankRouteBranches($){$.sort((o,a)=>o.score!==a.score?a.score-o.score:compareIndexes(o.routesMeta.map(j=>j.childrenIndex),a.routesMeta.map(j=>j.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=$=>$==="*";function computeScore($,o){let a=$.split("/"),j=a.length;return a.some(isSplat)&&(j+=splatPenalty),o&&(j+=indexRouteValue),a.filter(_e=>!isSplat(_e)).reduce((_e,et)=>_e+(paramRe.test(et)?dynamicSegmentValue:et===""?emptySegmentValue:staticSegmentValue),j)}function compareIndexes($,o){return $.length===o.length&&$.slice(0,-1).every((j,_e)=>j===o[_e])?$[$.length-1]-o[o.length-1]:0}function matchRouteBranch($,o){let{routesMeta:a}=$,j={},_e="/",et=[];for(let tt=0;tt<a.length;++tt){let rt=a[tt],nt=tt===a.length-1,it=_e==="/"?o:o.slice(_e.length)||"/",ot=matchPath({path:rt.relativePath,caseSensitive:rt.caseSensitive,end:nt},it);if(!ot)return null;Object.assign(j,ot.params);let st=rt.route;et.push({params:j,pathname:joinPaths([_e,ot.pathname]),pathnameBase:normalizePathname(joinPaths([_e,ot.pathnameBase])),route:st}),ot.pathnameBase!=="/"&&(_e=joinPaths([_e,ot.pathnameBase]))}return et}function matchPath($,o){typeof $=="string"&&($={path:$,caseSensitive:!1,end:!0});let[a,j]=compilePath($.path,$.caseSensitive,$.end),_e=o.match(a);if(!_e)return null;let et=_e[0],tt=et.replace(/(.)\/+$/,"$1"),rt=_e.slice(1);return{params:j.reduce((it,ot,st)=>{let{paramName:ct,isOptional:ut}=ot;if(ct==="*"){let ft=rt[st]||"";tt=et.slice(0,et.length-ft.length).replace(/(.)\/+$/,"$1")}const dt=rt[st];return ut&&!dt?it[ct]=void 0:it[ct]=(dt||"").replace(/%2F/g,"/"),it},{}),pathname:et,pathnameBase:tt,pattern:$}}function compilePath($,o,a){o===void 0&&(o=!1),a===void 0&&(a=!0),warning($==="*"||!$.endsWith("*")||$.endsWith("/*"),'Route path "'+$+'" will be treated as if it were '+('"'+$.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+$.replace(/\*$/,"/*")+'".'));let j=[],_e="^"+$.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(tt,rt,nt)=>(j.push({paramName:rt,isOptional:nt!=null}),nt?"/?([^\\/]+)?":"/([^\\/]+)"));return $.endsWith("*")?(j.push({paramName:"*"}),_e+=$==="*"||$==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?_e+="\\/*$":$!==""&&$!=="/"&&(_e+="(?:(?=\\/|$))"),[new RegExp(_e,o?void 0:"i"),j]}function decodePath($){try{return $.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return warning(!1,'The URL path "'+$+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),$}}function stripBasename($,o){if(o==="/")return $;if(!$.toLowerCase().startsWith(o.toLowerCase()))return null;let a=o.endsWith("/")?o.length-1:o.length,j=$.charAt(a);return j&&j!=="/"?null:$.slice(a)||"/"}function resolvePath($,o){o===void 0&&(o="/");let{pathname:a,search:j="",hash:_e=""}=typeof $=="string"?parsePath($):$;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,o):o,search:normalizeSearch(j),hash:normalizeHash(_e)}}function resolvePathname($,o){let a=o.replace(/\/+$/,"").split("/");return $.split("/").forEach(_e=>{_e===".."?a.length>1&&a.pop():_e!=="."&&a.push(_e)}),a.length>1?a.join("/"):"/"}function getInvalidPathError($,o,a,j){return"Cannot include a '"+$+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(j)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches($){return $.filter((o,a)=>a===0||o.route.path&&o.route.path.length>0)}function getResolveToMatches($,o){let a=getPathContributingMatches($);return o?a.map((j,_e)=>_e===$.length-1?j.pathname:j.pathnameBase):a.map(j=>j.pathnameBase)}function resolveTo($,o,a,j){j===void 0&&(j=!1);let _e;typeof $=="string"?_e=parsePath($):(_e=_extends$4({},$),invariant(!_e.pathname||!_e.pathname.includes("?"),getInvalidPathError("?","pathname","search",_e)),invariant(!_e.pathname||!_e.pathname.includes("#"),getInvalidPathError("#","pathname","hash",_e)),invariant(!_e.search||!_e.search.includes("#"),getInvalidPathError("#","search","hash",_e)));let et=$===""||_e.pathname==="",tt=et?"/":_e.pathname,rt;if(tt==null)rt=a;else{let st=o.length-1;if(!j&&tt.startsWith("..")){let ct=tt.split("/");for(;ct[0]==="..";)ct.shift(),st-=1;_e.pathname=ct.join("/")}rt=st>=0?o[st]:"/"}let nt=resolvePath(_e,rt),it=tt&&tt!=="/"&&tt.endsWith("/"),ot=(et||tt===".")&&a.endsWith("/");return!nt.pathname.endsWith("/")&&(it||ot)&&(nt.pathname+="/"),nt}const joinPaths=$=>$.join("/").replace(/\/\/+/g,"/"),normalizePathname=$=>$.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=$=>!$||$==="?"?"":$.startsWith("?")?$:"?"+$,normalizeHash=$=>!$||$==="#"?"":$.startsWith("#")?$:"#"+$;function isRouteErrorResponse($){return $!=null&&typeof $.status=="number"&&typeof $.statusText=="string"&&typeof $.internal=="boolean"&&"data"in $}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function($){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&($[j]=a[j])}return $},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$2($){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect($)}function useNavigate(){let{isDataRoute:$}=reactExports.useContext(RouteContext);return $?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let $=reactExports.useContext(DataRouterContext),{basename:o,future:a,navigator:j}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:et}=useLocation(),tt=JSON.stringify(getResolveToMatches(_e,a.v7_relativeSplatPath)),rt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{rt.current=!0}),reactExports.useCallback(function(it,ot){if(ot===void 0&&(ot={}),!rt.current)return;if(typeof it=="number"){j.go(it);return}let st=resolveTo(it,JSON.parse(tt),et,ot.relative==="path");$==null&&o!=="/"&&(st.pathname=st.pathname==="/"?o:joinPaths([o,st.pathname])),(ot.replace?j.replace:j.push)(st,ot.state,ot)},[o,j,tt,et,$])}function useRoutes($,o){return useRoutesImpl($,o)}function useRoutesImpl($,o,a,j){useInRouterContext()||invariant(!1);let{navigator:_e}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),tt=et[et.length-1],rt=tt?tt.params:{};tt&&tt.pathname;let nt=tt?tt.pathnameBase:"/";tt&&tt.route;let it=useLocation(),ot;if(o){var st;let ht=typeof o=="string"?parsePath(o):o;nt==="/"||(st=ht.pathname)!=null&&st.startsWith(nt)||invariant(!1),ot=ht}else ot=it;let ct=ot.pathname||"/",ut=ct;if(nt!=="/"){let ht=nt.replace(/^\//,"").split("/");ut="/"+ct.replace(/^\//,"").split("/").slice(ht.length).join("/")}let dt=matchRoutes($,{pathname:ut}),ft=_renderMatches(dt&&dt.map(ht=>Object.assign({},ht,{params:Object.assign({},rt,ht.params),pathname:joinPaths([nt,_e.encodeLocation?_e.encodeLocation(ht.pathname).pathname:ht.pathname]),pathnameBase:ht.pathnameBase==="/"?nt:joinPaths([nt,_e.encodeLocation?_e.encodeLocation(ht.pathnameBase).pathname:ht.pathnameBase])})),et,a,j);return o&&ft?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},ot),navigationType:Action.Pop}},ft):ft}function DefaultErrorComponent(){let $=useRouteError(),o=isRouteErrorResponse($)?$.status+" "+$.statusText:$ instanceof Error?$.message:JSON.stringify($),a=$ instanceof Error?$.stack:null,_e={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},et=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),a?reactExports.createElement("pre",{style:_e},a):null,et)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,a){return a.location!==o.location||a.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:a.error,location:a.location,revalidation:o.revalidation||a.revalidation}}componentDidCatch(o,a){console.error("React Router caught the following error during render",o,a)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute($){let{routeContext:o,match:a,children:j}=$,_e=reactExports.useContext(DataRouterContext);return _e&&_e.static&&_e.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(_e.staticContext._deepestRenderedBoundaryId=a.route.id),reactExports.createElement(RouteContext.Provider,{value:o},j)}function _renderMatches($,o,a,j){var _e;if(o===void 0&&(o=[]),a===void 0&&(a=null),j===void 0&&(j=null),$==null){var et;if((et=a)!=null&&et.errors)$=a.matches;else return null}let tt=$,rt=(_e=a)==null?void 0:_e.errors;if(rt!=null){let ot=tt.findIndex(st=>st.route.id&&(rt==null?void 0:rt[st.route.id]));ot>=0||invariant(!1),tt=tt.slice(0,Math.min(tt.length,ot+1))}let nt=!1,it=-1;if(a&&j&&j.v7_partialHydration)for(let ot=0;ot<tt.length;ot++){let st=tt[ot];if((st.route.HydrateFallback||st.route.hydrateFallbackElement)&&(it=ot),st.route.id){let{loaderData:ct,errors:ut}=a,dt=st.route.loader&&ct[st.route.id]===void 0&&(!ut||ut[st.route.id]===void 0);if(st.route.lazy||dt){nt=!0,it>=0?tt=tt.slice(0,it+1):tt=[tt[0]];break}}}return tt.reduceRight((ot,st,ct)=>{let ut,dt=!1,ft=null,ht=null;a&&(ut=rt&&st.route.id?rt[st.route.id]:void 0,ft=st.route.errorElement||defaultErrorElement,nt&&(it<0&&ct===0?(warningOnce("route-fallback",!1),dt=!0,ht=null):it===ct&&(dt=!0,ht=st.route.hydrateFallbackElement||null)));let pt=o.concat(tt.slice(0,ct+1)),yt=()=>{let gt;return ut?gt=ft:dt?gt=ht:st.route.Component?gt=reactExports.createElement(st.route.Component,null):st.route.element?gt=st.route.element:gt=ot,reactExports.createElement(RenderedRoute,{match:st,routeContext:{outlet:ot,matches:pt,isDataRoute:a!=null},children:gt})};return a&&(st.route.ErrorBoundary||st.route.errorElement||ct===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,revalidation:a.revalidation,component:ft,error:ut,children:yt(),routeContext:{outlet:null,matches:pt,isDataRoute:!0}}):yt()},null)}var DataRouterHook$1=function($){return $.UseBlocker="useBlocker",$.UseRevalidator="useRevalidator",$.UseNavigateStable="useNavigate",$}(DataRouterHook$1||{}),DataRouterStateHook$1=function($){return $.UseBlocker="useBlocker",$.UseLoaderData="useLoaderData",$.UseActionData="useActionData",$.UseRouteError="useRouteError",$.UseNavigation="useNavigation",$.UseRouteLoaderData="useRouteLoaderData",$.UseMatches="useMatches",$.UseRevalidator="useRevalidator",$.UseNavigateStable="useNavigate",$.UseRouteId="useRouteId",$}(DataRouterStateHook$1||{});function useDataRouterContext($){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useDataRouterState($){let o=reactExports.useContext(DataRouterStateContext);return o||invariant(!1),o}function useRouteContext($){let o=reactExports.useContext(RouteContext);return o||invariant(!1),o}function useCurrentRouteId($){let o=useRouteContext(),a=o.matches[o.matches.length-1];return a.route.id||invariant(!1),a.route.id}function useRouteError(){var $;let o=reactExports.useContext(RouteErrorContext),a=useDataRouterState(DataRouterStateHook$1.UseRouteError),j=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return o!==void 0?o:($=a.errors)==null?void 0:$[j]}function useNavigateStable(){let{router:$}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),o=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),a=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{a.current=!0}),reactExports.useCallback(function(_e,et){et===void 0&&(et={}),a.current&&(typeof _e=="number"?$.navigate(_e):$.navigate(_e,_extends$3({fromRouteId:o},et)))},[$,o])}const alreadyWarned={};function warningOnce($,o,a){!o&&!alreadyWarned[$]&&(alreadyWarned[$]=!0)}function Route($){invariant(!1)}function Router($){let{basename:o="/",children:a=null,location:j,navigationType:_e=Action.Pop,navigator:et,static:tt=!1,future:rt}=$;useInRouterContext()&&invariant(!1);let nt=o.replace(/^\/*/,"/"),it=reactExports.useMemo(()=>({basename:nt,navigator:et,static:tt,future:_extends$3({v7_relativeSplatPath:!1},rt)}),[nt,rt,et,tt]);typeof j=="string"&&(j=parsePath(j));let{pathname:ot="/",search:st="",hash:ct="",state:ut=null,key:dt="default"}=j,ft=reactExports.useMemo(()=>{let ht=stripBasename(ot,nt);return ht==null?null:{location:{pathname:ht,search:st,hash:ct,state:ut,key:dt},navigationType:_e}},[nt,ot,st,ct,ut,dt,_e]);return ft==null?null:reactExports.createElement(NavigationContext.Provider,{value:it},reactExports.createElement(LocationContext.Provider,{children:a,value:ft}))}function Routes($){let{children:o,location:a}=$;return useRoutes(createRoutesFromChildren(o),a)}new Promise(()=>{});function createRoutesFromChildren($,o){o===void 0&&(o=[]);let a=[];return reactExports.Children.forEach($,(j,_e)=>{if(!reactExports.isValidElement(j))return;let et=[...o,_e];if(j.type===reactExports.Fragment){a.push.apply(a,createRoutesFromChildren(j.props.children,et));return}j.type!==Route&&invariant(!1),!j.props.index||!j.props.children||invariant(!1);let tt={id:j.props.id||et.join("-"),caseSensitive:j.props.caseSensitive,element:j.props.element,Component:j.props.Component,index:j.props.index,path:j.props.path,loader:j.props.loader,action:j.props.action,errorElement:j.props.errorElement,ErrorBoundary:j.props.ErrorBoundary,hasErrorBoundary:j.props.ErrorBoundary!=null||j.props.errorElement!=null,shouldRevalidate:j.props.shouldRevalidate,handle:j.props.handle,lazy:j.props.lazy};j.props.children&&(tt.children=createRoutesFromChildren(j.props.children,et)),a.push(tt)}),a}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$2[START_TRANSITION];function BrowserRouter($){let{basename:o,children:a,future:j,window:_e}=$,et=reactExports.useRef();et.current==null&&(et.current=createBrowserHistory({window:_e,v5Compat:!0}));let tt=et.current,[rt,nt]=reactExports.useState({action:tt.action,location:tt.location}),{v7_startTransition:it}=j||{},ot=reactExports.useCallback(st=>{it&&startTransitionImpl?startTransitionImpl(()=>nt(st)):nt(st)},[nt,it]);return reactExports.useLayoutEffect(()=>tt.listen(ot),[tt,ot]),reactExports.createElement(Router,{basename:o,children:a,location:rt.location,navigationType:rt.action,navigator:tt,future:j})}var DataRouterHook;(function($){$.UseScrollRestoration="useScrollRestoration",$.UseSubmit="useSubmit",$.UseSubmitFetcher="useSubmitFetcher",$.UseFetcher="useFetcher",$.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function($){$.UseFetcher="useFetcher",$.UseFetchers="useFetchers",$.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const App$1="";var bn={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);bn.exports;(function($){(function(o,a){function j(kt,vt){if(!kt)throw new Error(vt||"Assertion failed")}function _e(kt,vt){kt.super_=vt;var Et=function(){};Et.prototype=vt.prototype,kt.prototype=new Et,kt.prototype.constructor=kt}function et(kt,vt,Et){if(et.isBN(kt))return kt;this.negative=0,this.words=null,this.length=0,this.red=null,kt!==null&&((vt==="le"||vt==="be")&&(Et=vt,vt=10),this._init(kt||0,vt||10,Et||"be"))}typeof o=="object"?o.exports=et:a.BN=et,et.BN=et,et.wordSize=26;var tt;try{typeof window<"u"&&typeof window.Buffer<"u"?tt=window.Buffer:tt=require$$0.Buffer}catch{}et.isBN=function(vt){return vt instanceof et?!0:vt!==null&&typeof vt=="object"&&vt.constructor.wordSize===et.wordSize&&Array.isArray(vt.words)},et.max=function(vt,Et){return vt.cmp(Et)>0?vt:Et},et.min=function(vt,Et){return vt.cmp(Et)<0?vt:Et},et.prototype._init=function(vt,Et,Lt){if(typeof vt=="number")return this._initNumber(vt,Et,Lt);if(typeof vt=="object")return this._initArray(vt,Et,Lt);Et==="hex"&&(Et=16),j(Et===(Et|0)&&Et>=2&&Et<=36),vt=vt.toString().replace(/\s+/g,"");var Ot=0;vt[0]==="-"&&(Ot++,this.negative=1),Ot<vt.length&&(Et===16?this._parseHex(vt,Ot,Lt):(this._parseBase(vt,Et,Ot),Lt==="le"&&this._initArray(this.toArray(),Et,Lt)))},et.prototype._initNumber=function(vt,Et,Lt){vt<0&&(this.negative=1,vt=-vt),vt<67108864?(this.words=[vt&67108863],this.length=1):vt<4503599627370496?(this.words=[vt&67108863,vt/67108864&67108863],this.length=2):(j(vt<9007199254740992),this.words=[vt&67108863,vt/67108864&67108863,1],this.length=3),Lt==="le"&&this._initArray(this.toArray(),Et,Lt)},et.prototype._initArray=function(vt,Et,Lt){if(j(typeof vt.length=="number"),vt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(vt.length/3),this.words=new Array(this.length);for(var Ot=0;Ot<this.length;Ot++)this.words[Ot]=0;var Pt,zt,Vt=0;if(Lt==="be")for(Ot=vt.length-1,Pt=0;Ot>=0;Ot-=3)zt=vt[Ot]|vt[Ot-1]<<8|vt[Ot-2]<<16,this.words[Pt]|=zt<<Vt&67108863,this.words[Pt+1]=zt>>>26-Vt&67108863,Vt+=24,Vt>=26&&(Vt-=26,Pt++);else if(Lt==="le")for(Ot=0,Pt=0;Ot<vt.length;Ot+=3)zt=vt[Ot]|vt[Ot+1]<<8|vt[Ot+2]<<16,this.words[Pt]|=zt<<Vt&67108863,this.words[Pt+1]=zt>>>26-Vt&67108863,Vt+=24,Vt>=26&&(Vt-=26,Pt++);return this._strip()};function rt(kt,vt){var Et=kt.charCodeAt(vt);if(Et>=48&&Et<=57)return Et-48;if(Et>=65&&Et<=70)return Et-55;if(Et>=97&&Et<=102)return Et-87;j(!1,"Invalid character in "+kt)}function nt(kt,vt,Et){var Lt=rt(kt,Et);return Et-1>=vt&&(Lt|=rt(kt,Et-1)<<4),Lt}et.prototype._parseHex=function(vt,Et,Lt){this.length=Math.ceil((vt.length-Et)/6),this.words=new Array(this.length);for(var Ot=0;Ot<this.length;Ot++)this.words[Ot]=0;var Pt=0,zt=0,Vt;if(Lt==="be")for(Ot=vt.length-1;Ot>=Et;Ot-=2)Vt=nt(vt,Et,Ot)<<Pt,this.words[zt]|=Vt&67108863,Pt>=18?(Pt-=18,zt+=1,this.words[zt]|=Vt>>>26):Pt+=8;else{var $t=vt.length-Et;for(Ot=$t%2===0?Et+1:Et;Ot<vt.length;Ot+=2)Vt=nt(vt,Et,Ot)<<Pt,this.words[zt]|=Vt&67108863,Pt>=18?(Pt-=18,zt+=1,this.words[zt]|=Vt>>>26):Pt+=8}this._strip()};function it(kt,vt,Et,Lt){for(var Ot=0,Pt=0,zt=Math.min(kt.length,Et),Vt=vt;Vt<zt;Vt++){var $t=kt.charCodeAt(Vt)-48;Ot*=Lt,$t>=49?Pt=$t-49+10:$t>=17?Pt=$t-17+10:Pt=$t,j($t>=0&&Pt<Lt,"Invalid character"),Ot+=Pt}return Ot}et.prototype._parseBase=function(vt,Et,Lt){this.words=[0],this.length=1;for(var Ot=0,Pt=1;Pt<=67108863;Pt*=Et)Ot++;Ot--,Pt=Pt/Et|0;for(var zt=vt.length-Lt,Vt=zt%Ot,$t=Math.min(zt,zt-Vt)+Lt,At=0,Ht=Lt;Ht<$t;Ht+=Ot)At=it(vt,Ht,Ht+Ot,Et),this.imuln(Pt),this.words[0]+At<67108864?this.words[0]+=At:this._iaddn(At);if(Vt!==0){var ar=1;for(At=it(vt,Ht,vt.length,Et),Ht=0;Ht<Vt;Ht++)ar*=Et;this.imuln(ar),this.words[0]+At<67108864?this.words[0]+=At:this._iaddn(At)}this._strip()},et.prototype.copy=function(vt){vt.words=new Array(this.length);for(var Et=0;Et<this.length;Et++)vt.words[Et]=this.words[Et];vt.length=this.length,vt.negative=this.negative,vt.red=this.red};function ot(kt,vt){kt.words=vt.words,kt.length=vt.length,kt.negative=vt.negative,kt.red=vt.red}if(et.prototype._move=function(vt){ot(vt,this)},et.prototype.clone=function(){var vt=new et(null);return this.copy(vt),vt},et.prototype._expand=function(vt){for(;this.length<vt;)this.words[this.length++]=0;return this},et.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},et.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{et.prototype[Symbol.for("nodejs.util.inspect.custom")]=st}catch{et.prototype.inspect=st}else et.prototype.inspect=st;function st(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ct=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ut=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],dt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];et.prototype.toString=function(vt,Et){vt=vt||10,Et=Et|0||1;var Lt;if(vt===16||vt==="hex"){Lt="";for(var Ot=0,Pt=0,zt=0;zt<this.length;zt++){var Vt=this.words[zt],$t=((Vt<<Ot|Pt)&16777215).toString(16);Pt=Vt>>>24-Ot&16777215,Ot+=2,Ot>=26&&(Ot-=26,zt--),Pt!==0||zt!==this.length-1?Lt=ct[6-$t.length]+$t+Lt:Lt=$t+Lt}for(Pt!==0&&(Lt=Pt.toString(16)+Lt);Lt.length%Et!==0;)Lt="0"+Lt;return this.negative!==0&&(Lt="-"+Lt),Lt}if(vt===(vt|0)&&vt>=2&&vt<=36){var At=ut[vt],Ht=dt[vt];Lt="";var ar=this.clone();for(ar.negative=0;!ar.isZero();){var Rt=ar.modrn(Ht).toString(vt);ar=ar.idivn(Ht),ar.isZero()?Lt=Rt+Lt:Lt=ct[At-Rt.length]+Rt+Lt}for(this.isZero()&&(Lt="0"+Lt);Lt.length%Et!==0;)Lt="0"+Lt;return this.negative!==0&&(Lt="-"+Lt),Lt}j(!1,"Base should be between 2 and 36")},et.prototype.toNumber=function(){var vt=this.words[0];return this.length===2?vt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?vt+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-vt:vt},et.prototype.toJSON=function(){return this.toString(16,2)},tt&&(et.prototype.toBuffer=function(vt,Et){return this.toArrayLike(tt,vt,Et)}),et.prototype.toArray=function(vt,Et){return this.toArrayLike(Array,vt,Et)};var ft=function(vt,Et){return vt.allocUnsafe?vt.allocUnsafe(Et):new vt(Et)};et.prototype.toArrayLike=function(vt,Et,Lt){this._strip();var Ot=this.byteLength(),Pt=Lt||Math.max(1,Ot);j(Ot<=Pt,"byte array longer than desired length"),j(Pt>0,"Requested array length <= 0");var zt=ft(vt,Pt),Vt=Et==="le"?"LE":"BE";return this["_toArrayLike"+Vt](zt,Ot),zt},et.prototype._toArrayLikeLE=function(vt,Et){for(var Lt=0,Ot=0,Pt=0,zt=0;Pt<this.length;Pt++){var Vt=this.words[Pt]<<zt|Ot;vt[Lt++]=Vt&255,Lt<vt.length&&(vt[Lt++]=Vt>>8&255),Lt<vt.length&&(vt[Lt++]=Vt>>16&255),zt===6?(Lt<vt.length&&(vt[Lt++]=Vt>>24&255),Ot=0,zt=0):(Ot=Vt>>>24,zt+=2)}if(Lt<vt.length)for(vt[Lt++]=Ot;Lt<vt.length;)vt[Lt++]=0},et.prototype._toArrayLikeBE=function(vt,Et){for(var Lt=vt.length-1,Ot=0,Pt=0,zt=0;Pt<this.length;Pt++){var Vt=this.words[Pt]<<zt|Ot;vt[Lt--]=Vt&255,Lt>=0&&(vt[Lt--]=Vt>>8&255),Lt>=0&&(vt[Lt--]=Vt>>16&255),zt===6?(Lt>=0&&(vt[Lt--]=Vt>>24&255),Ot=0,zt=0):(Ot=Vt>>>24,zt+=2)}if(Lt>=0)for(vt[Lt--]=Ot;Lt>=0;)vt[Lt--]=0},Math.clz32?et.prototype._countBits=function(vt){return 32-Math.clz32(vt)}:et.prototype._countBits=function(vt){var Et=vt,Lt=0;return Et>=4096&&(Lt+=13,Et>>>=13),Et>=64&&(Lt+=7,Et>>>=7),Et>=8&&(Lt+=4,Et>>>=4),Et>=2&&(Lt+=2,Et>>>=2),Lt+Et},et.prototype._zeroBits=function(vt){if(vt===0)return 26;var Et=vt,Lt=0;return Et&8191||(Lt+=13,Et>>>=13),Et&127||(Lt+=7,Et>>>=7),Et&15||(Lt+=4,Et>>>=4),Et&3||(Lt+=2,Et>>>=2),Et&1||Lt++,Lt},et.prototype.bitLength=function(){var vt=this.words[this.length-1],Et=this._countBits(vt);return(this.length-1)*26+Et};function ht(kt){for(var vt=new Array(kt.bitLength()),Et=0;Et<vt.length;Et++){var Lt=Et/26|0,Ot=Et%26;vt[Et]=kt.words[Lt]>>>Ot&1}return vt}et.prototype.zeroBits=function(){if(this.isZero())return 0;for(var vt=0,Et=0;Et<this.length;Et++){var Lt=this._zeroBits(this.words[Et]);if(vt+=Lt,Lt!==26)break}return vt},et.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},et.prototype.toTwos=function(vt){return this.negative!==0?this.abs().inotn(vt).iaddn(1):this.clone()},et.prototype.fromTwos=function(vt){return this.testn(vt-1)?this.notn(vt).iaddn(1).ineg():this.clone()},et.prototype.isNeg=function(){return this.negative!==0},et.prototype.neg=function(){return this.clone().ineg()},et.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},et.prototype.iuor=function(vt){for(;this.length<vt.length;)this.words[this.length++]=0;for(var Et=0;Et<vt.length;Et++)this.words[Et]=this.words[Et]|vt.words[Et];return this._strip()},et.prototype.ior=function(vt){return j((this.negative|vt.negative)===0),this.iuor(vt)},et.prototype.or=function(vt){return this.length>vt.length?this.clone().ior(vt):vt.clone().ior(this)},et.prototype.uor=function(vt){return this.length>vt.length?this.clone().iuor(vt):vt.clone().iuor(this)},et.prototype.iuand=function(vt){var Et;this.length>vt.length?Et=vt:Et=this;for(var Lt=0;Lt<Et.length;Lt++)this.words[Lt]=this.words[Lt]&vt.words[Lt];return this.length=Et.length,this._strip()},et.prototype.iand=function(vt){return j((this.negative|vt.negative)===0),this.iuand(vt)},et.prototype.and=function(vt){return this.length>vt.length?this.clone().iand(vt):vt.clone().iand(this)},et.prototype.uand=function(vt){return this.length>vt.length?this.clone().iuand(vt):vt.clone().iuand(this)},et.prototype.iuxor=function(vt){var Et,Lt;this.length>vt.length?(Et=this,Lt=vt):(Et=vt,Lt=this);for(var Ot=0;Ot<Lt.length;Ot++)this.words[Ot]=Et.words[Ot]^Lt.words[Ot];if(this!==Et)for(;Ot<Et.length;Ot++)this.words[Ot]=Et.words[Ot];return this.length=Et.length,this._strip()},et.prototype.ixor=function(vt){return j((this.negative|vt.negative)===0),this.iuxor(vt)},et.prototype.xor=function(vt){return this.length>vt.length?this.clone().ixor(vt):vt.clone().ixor(this)},et.prototype.uxor=function(vt){return this.length>vt.length?this.clone().iuxor(vt):vt.clone().iuxor(this)},et.prototype.inotn=function(vt){j(typeof vt=="number"&&vt>=0);var Et=Math.ceil(vt/26)|0,Lt=vt%26;this._expand(Et),Lt>0&&Et--;for(var Ot=0;Ot<Et;Ot++)this.words[Ot]=~this.words[Ot]&67108863;return Lt>0&&(this.words[Ot]=~this.words[Ot]&67108863>>26-Lt),this._strip()},et.prototype.notn=function(vt){return this.clone().inotn(vt)},et.prototype.setn=function(vt,Et){j(typeof vt=="number"&&vt>=0);var Lt=vt/26|0,Ot=vt%26;return this._expand(Lt+1),Et?this.words[Lt]=this.words[Lt]|1<<Ot:this.words[Lt]=this.words[Lt]&~(1<<Ot),this._strip()},et.prototype.iadd=function(vt){var Et;if(this.negative!==0&&vt.negative===0)return this.negative=0,Et=this.isub(vt),this.negative^=1,this._normSign();if(this.negative===0&&vt.negative!==0)return vt.negative=0,Et=this.isub(vt),vt.negative=1,Et._normSign();var Lt,Ot;this.length>vt.length?(Lt=this,Ot=vt):(Lt=vt,Ot=this);for(var Pt=0,zt=0;zt<Ot.length;zt++)Et=(Lt.words[zt]|0)+(Ot.words[zt]|0)+Pt,this.words[zt]=Et&67108863,Pt=Et>>>26;for(;Pt!==0&&zt<Lt.length;zt++)Et=(Lt.words[zt]|0)+Pt,this.words[zt]=Et&67108863,Pt=Et>>>26;if(this.length=Lt.length,Pt!==0)this.words[this.length]=Pt,this.length++;else if(Lt!==this)for(;zt<Lt.length;zt++)this.words[zt]=Lt.words[zt];return this},et.prototype.add=function(vt){var Et;return vt.negative!==0&&this.negative===0?(vt.negative=0,Et=this.sub(vt),vt.negative^=1,Et):vt.negative===0&&this.negative!==0?(this.negative=0,Et=vt.sub(this),this.negative=1,Et):this.length>vt.length?this.clone().iadd(vt):vt.clone().iadd(this)},et.prototype.isub=function(vt){if(vt.negative!==0){vt.negative=0;var Et=this.iadd(vt);return vt.negative=1,Et._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(vt),this.negative=1,this._normSign();var Lt=this.cmp(vt);if(Lt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ot,Pt;Lt>0?(Ot=this,Pt=vt):(Ot=vt,Pt=this);for(var zt=0,Vt=0;Vt<Pt.length;Vt++)Et=(Ot.words[Vt]|0)-(Pt.words[Vt]|0)+zt,zt=Et>>26,this.words[Vt]=Et&67108863;for(;zt!==0&&Vt<Ot.length;Vt++)Et=(Ot.words[Vt]|0)+zt,zt=Et>>26,this.words[Vt]=Et&67108863;if(zt===0&&Vt<Ot.length&&Ot!==this)for(;Vt<Ot.length;Vt++)this.words[Vt]=Ot.words[Vt];return this.length=Math.max(this.length,Vt),Ot!==this&&(this.negative=1),this._strip()},et.prototype.sub=function(vt){return this.clone().isub(vt)};function pt(kt,vt,Et){Et.negative=vt.negative^kt.negative;var Lt=kt.length+vt.length|0;Et.length=Lt,Lt=Lt-1|0;var Ot=kt.words[0]|0,Pt=vt.words[0]|0,zt=Ot*Pt,Vt=zt&67108863,$t=zt/67108864|0;Et.words[0]=Vt;for(var At=1;At<Lt;At++){for(var Ht=$t>>>26,ar=$t&67108863,Rt=Math.min(At,vt.length-1),Zt=Math.max(0,At-kt.length+1);Zt<=Rt;Zt++){var ir=At-Zt|0;Ot=kt.words[ir]|0,Pt=vt.words[Zt]|0,zt=Ot*Pt+ar,Ht+=zt/67108864|0,ar=zt&67108863}Et.words[At]=ar|0,$t=Ht|0}return $t!==0?Et.words[At]=$t|0:Et.length--,Et._strip()}var yt=function(vt,Et,Lt){var Ot=vt.words,Pt=Et.words,zt=Lt.words,Vt=0,$t,At,Ht,ar=Ot[0]|0,Rt=ar&8191,Zt=ar>>>13,ir=Ot[1]|0,sr=ir&8191,pr=ir>>>13,_r=Ot[2]|0,fr=_r&8191,nr=_r>>>13,lr=Ot[3]|0,cr=lr&8191,Ar=lr>>>13,kr=Ot[4]|0,Dr=kr&8191,Lr=kr>>>13,Ur=Ot[5]|0,Or=Ur&8191,Nr=Ur>>>13,Jt=Ot[6]|0,Wt=Jt&8191,ur=Jt>>>13,Pr=Ot[7]|0,Tr=Pr&8191,Ft=Pr>>>13,St=Ot[8]|0,Ct=St&8191,Gt=St>>>13,Qt=Ot[9]|0,rr=Qt&8191,er=Qt>>>13,Cr=Pt[0]|0,Br=Cr&8191,Yt=Cr>>>13,br=Pt[1]|0,Rr=br&8191,tr=br>>>13,xr=Pt[2]|0,Er=xr&8191,Ir=xr>>>13,Hr=Pt[3]|0,Xr=Hr&8191,qr=Hr>>>13,dn=Pt[4]|0,rn=dn&8191,Qr=dn>>>13,_n=Pt[5]|0,on=_n&8191,xn=_n>>>13,mo=Pt[6]|0,vn=mo&8191,Kt=mo>>>13,gr=Pt[7]|0,yr=gr&8191,hr=gr>>>13,Mr=Pt[8]|0,$r=Mr&8191,Vr=Mr>>>13,en=Pt[9]|0,Wr=en&8191,Kr=en>>>13;Lt.negative=vt.negative^Et.negative,Lt.length=19,$t=Math.imul(Rt,Br),At=Math.imul(Rt,Yt),At=At+Math.imul(Zt,Br)|0,Ht=Math.imul(Zt,Yt);var tn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(tn>>>26)|0,tn&=67108863,$t=Math.imul(sr,Br),At=Math.imul(sr,Yt),At=At+Math.imul(pr,Br)|0,Ht=Math.imul(pr,Yt),$t=$t+Math.imul(Rt,Rr)|0,At=At+Math.imul(Rt,tr)|0,At=At+Math.imul(Zt,Rr)|0,Ht=Ht+Math.imul(Zt,tr)|0;var nn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(nn>>>26)|0,nn&=67108863,$t=Math.imul(fr,Br),At=Math.imul(fr,Yt),At=At+Math.imul(nr,Br)|0,Ht=Math.imul(nr,Yt),$t=$t+Math.imul(sr,Rr)|0,At=At+Math.imul(sr,tr)|0,At=At+Math.imul(pr,Rr)|0,Ht=Ht+Math.imul(pr,tr)|0,$t=$t+Math.imul(Rt,Er)|0,At=At+Math.imul(Rt,Ir)|0,At=At+Math.imul(Zt,Er)|0,Ht=Ht+Math.imul(Zt,Ir)|0;var yn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(yn>>>26)|0,yn&=67108863,$t=Math.imul(cr,Br),At=Math.imul(cr,Yt),At=At+Math.imul(Ar,Br)|0,Ht=Math.imul(Ar,Yt),$t=$t+Math.imul(fr,Rr)|0,At=At+Math.imul(fr,tr)|0,At=At+Math.imul(nr,Rr)|0,Ht=Ht+Math.imul(nr,tr)|0,$t=$t+Math.imul(sr,Er)|0,At=At+Math.imul(sr,Ir)|0,At=At+Math.imul(pr,Er)|0,Ht=Ht+Math.imul(pr,Ir)|0,$t=$t+Math.imul(Rt,Xr)|0,At=At+Math.imul(Rt,qr)|0,At=At+Math.imul(Zt,Xr)|0,Ht=Ht+Math.imul(Zt,qr)|0;var Mn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,$t=Math.imul(Dr,Br),At=Math.imul(Dr,Yt),At=At+Math.imul(Lr,Br)|0,Ht=Math.imul(Lr,Yt),$t=$t+Math.imul(cr,Rr)|0,At=At+Math.imul(cr,tr)|0,At=At+Math.imul(Ar,Rr)|0,Ht=Ht+Math.imul(Ar,tr)|0,$t=$t+Math.imul(fr,Er)|0,At=At+Math.imul(fr,Ir)|0,At=At+Math.imul(nr,Er)|0,Ht=Ht+Math.imul(nr,Ir)|0,$t=$t+Math.imul(sr,Xr)|0,At=At+Math.imul(sr,qr)|0,At=At+Math.imul(pr,Xr)|0,Ht=Ht+Math.imul(pr,qr)|0,$t=$t+Math.imul(Rt,rn)|0,At=At+Math.imul(Rt,Qr)|0,At=At+Math.imul(Zt,rn)|0,Ht=Ht+Math.imul(Zt,Qr)|0;var Dn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,$t=Math.imul(Or,Br),At=Math.imul(Or,Yt),At=At+Math.imul(Nr,Br)|0,Ht=Math.imul(Nr,Yt),$t=$t+Math.imul(Dr,Rr)|0,At=At+Math.imul(Dr,tr)|0,At=At+Math.imul(Lr,Rr)|0,Ht=Ht+Math.imul(Lr,tr)|0,$t=$t+Math.imul(cr,Er)|0,At=At+Math.imul(cr,Ir)|0,At=At+Math.imul(Ar,Er)|0,Ht=Ht+Math.imul(Ar,Ir)|0,$t=$t+Math.imul(fr,Xr)|0,At=At+Math.imul(fr,qr)|0,At=At+Math.imul(nr,Xr)|0,Ht=Ht+Math.imul(nr,qr)|0,$t=$t+Math.imul(sr,rn)|0,At=At+Math.imul(sr,Qr)|0,At=At+Math.imul(pr,rn)|0,Ht=Ht+Math.imul(pr,Qr)|0,$t=$t+Math.imul(Rt,on)|0,At=At+Math.imul(Rt,xn)|0,At=At+Math.imul(Zt,on)|0,Ht=Ht+Math.imul(Zt,xn)|0;var _i=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(_i>>>26)|0,_i&=67108863,$t=Math.imul(Wt,Br),At=Math.imul(Wt,Yt),At=At+Math.imul(ur,Br)|0,Ht=Math.imul(ur,Yt),$t=$t+Math.imul(Or,Rr)|0,At=At+Math.imul(Or,tr)|0,At=At+Math.imul(Nr,Rr)|0,Ht=Ht+Math.imul(Nr,tr)|0,$t=$t+Math.imul(Dr,Er)|0,At=At+Math.imul(Dr,Ir)|0,At=At+Math.imul(Lr,Er)|0,Ht=Ht+Math.imul(Lr,Ir)|0,$t=$t+Math.imul(cr,Xr)|0,At=At+Math.imul(cr,qr)|0,At=At+Math.imul(Ar,Xr)|0,Ht=Ht+Math.imul(Ar,qr)|0,$t=$t+Math.imul(fr,rn)|0,At=At+Math.imul(fr,Qr)|0,At=At+Math.imul(nr,rn)|0,Ht=Ht+Math.imul(nr,Qr)|0,$t=$t+Math.imul(sr,on)|0,At=At+Math.imul(sr,xn)|0,At=At+Math.imul(pr,on)|0,Ht=Ht+Math.imul(pr,xn)|0,$t=$t+Math.imul(Rt,vn)|0,At=At+Math.imul(Rt,Kt)|0,At=At+Math.imul(Zt,vn)|0,Ht=Ht+Math.imul(Zt,Kt)|0;var En=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(En>>>26)|0,En&=67108863,$t=Math.imul(Tr,Br),At=Math.imul(Tr,Yt),At=At+Math.imul(Ft,Br)|0,Ht=Math.imul(Ft,Yt),$t=$t+Math.imul(Wt,Rr)|0,At=At+Math.imul(Wt,tr)|0,At=At+Math.imul(ur,Rr)|0,Ht=Ht+Math.imul(ur,tr)|0,$t=$t+Math.imul(Or,Er)|0,At=At+Math.imul(Or,Ir)|0,At=At+Math.imul(Nr,Er)|0,Ht=Ht+Math.imul(Nr,Ir)|0,$t=$t+Math.imul(Dr,Xr)|0,At=At+Math.imul(Dr,qr)|0,At=At+Math.imul(Lr,Xr)|0,Ht=Ht+Math.imul(Lr,qr)|0,$t=$t+Math.imul(cr,rn)|0,At=At+Math.imul(cr,Qr)|0,At=At+Math.imul(Ar,rn)|0,Ht=Ht+Math.imul(Ar,Qr)|0,$t=$t+Math.imul(fr,on)|0,At=At+Math.imul(fr,xn)|0,At=At+Math.imul(nr,on)|0,Ht=Ht+Math.imul(nr,xn)|0,$t=$t+Math.imul(sr,vn)|0,At=At+Math.imul(sr,Kt)|0,At=At+Math.imul(pr,vn)|0,Ht=Ht+Math.imul(pr,Kt)|0,$t=$t+Math.imul(Rt,yr)|0,At=At+Math.imul(Rt,hr)|0,At=At+Math.imul(Zt,yr)|0,Ht=Ht+Math.imul(Zt,hr)|0;var ln=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(ln>>>26)|0,ln&=67108863,$t=Math.imul(Ct,Br),At=Math.imul(Ct,Yt),At=At+Math.imul(Gt,Br)|0,Ht=Math.imul(Gt,Yt),$t=$t+Math.imul(Tr,Rr)|0,At=At+Math.imul(Tr,tr)|0,At=At+Math.imul(Ft,Rr)|0,Ht=Ht+Math.imul(Ft,tr)|0,$t=$t+Math.imul(Wt,Er)|0,At=At+Math.imul(Wt,Ir)|0,At=At+Math.imul(ur,Er)|0,Ht=Ht+Math.imul(ur,Ir)|0,$t=$t+Math.imul(Or,Xr)|0,At=At+Math.imul(Or,qr)|0,At=At+Math.imul(Nr,Xr)|0,Ht=Ht+Math.imul(Nr,qr)|0,$t=$t+Math.imul(Dr,rn)|0,At=At+Math.imul(Dr,Qr)|0,At=At+Math.imul(Lr,rn)|0,Ht=Ht+Math.imul(Lr,Qr)|0,$t=$t+Math.imul(cr,on)|0,At=At+Math.imul(cr,xn)|0,At=At+Math.imul(Ar,on)|0,Ht=Ht+Math.imul(Ar,xn)|0,$t=$t+Math.imul(fr,vn)|0,At=At+Math.imul(fr,Kt)|0,At=At+Math.imul(nr,vn)|0,Ht=Ht+Math.imul(nr,Kt)|0,$t=$t+Math.imul(sr,yr)|0,At=At+Math.imul(sr,hr)|0,At=At+Math.imul(pr,yr)|0,Ht=Ht+Math.imul(pr,hr)|0,$t=$t+Math.imul(Rt,$r)|0,At=At+Math.imul(Rt,Vr)|0,At=At+Math.imul(Zt,$r)|0,Ht=Ht+Math.imul(Zt,Vr)|0;var eo=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(eo>>>26)|0,eo&=67108863,$t=Math.imul(rr,Br),At=Math.imul(rr,Yt),At=At+Math.imul(er,Br)|0,Ht=Math.imul(er,Yt),$t=$t+Math.imul(Ct,Rr)|0,At=At+Math.imul(Ct,tr)|0,At=At+Math.imul(Gt,Rr)|0,Ht=Ht+Math.imul(Gt,tr)|0,$t=$t+Math.imul(Tr,Er)|0,At=At+Math.imul(Tr,Ir)|0,At=At+Math.imul(Ft,Er)|0,Ht=Ht+Math.imul(Ft,Ir)|0,$t=$t+Math.imul(Wt,Xr)|0,At=At+Math.imul(Wt,qr)|0,At=At+Math.imul(ur,Xr)|0,Ht=Ht+Math.imul(ur,qr)|0,$t=$t+Math.imul(Or,rn)|0,At=At+Math.imul(Or,Qr)|0,At=At+Math.imul(Nr,rn)|0,Ht=Ht+Math.imul(Nr,Qr)|0,$t=$t+Math.imul(Dr,on)|0,At=At+Math.imul(Dr,xn)|0,At=At+Math.imul(Lr,on)|0,Ht=Ht+Math.imul(Lr,xn)|0,$t=$t+Math.imul(cr,vn)|0,At=At+Math.imul(cr,Kt)|0,At=At+Math.imul(Ar,vn)|0,Ht=Ht+Math.imul(Ar,Kt)|0,$t=$t+Math.imul(fr,yr)|0,At=At+Math.imul(fr,hr)|0,At=At+Math.imul(nr,yr)|0,Ht=Ht+Math.imul(nr,hr)|0,$t=$t+Math.imul(sr,$r)|0,At=At+Math.imul(sr,Vr)|0,At=At+Math.imul(pr,$r)|0,Ht=Ht+Math.imul(pr,Vr)|0,$t=$t+Math.imul(Rt,Wr)|0,At=At+Math.imul(Rt,Kr)|0,At=At+Math.imul(Zt,Wr)|0,Ht=Ht+Math.imul(Zt,Kr)|0;var Sn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,$t=Math.imul(rr,Rr),At=Math.imul(rr,tr),At=At+Math.imul(er,Rr)|0,Ht=Math.imul(er,tr),$t=$t+Math.imul(Ct,Er)|0,At=At+Math.imul(Ct,Ir)|0,At=At+Math.imul(Gt,Er)|0,Ht=Ht+Math.imul(Gt,Ir)|0,$t=$t+Math.imul(Tr,Xr)|0,At=At+Math.imul(Tr,qr)|0,At=At+Math.imul(Ft,Xr)|0,Ht=Ht+Math.imul(Ft,qr)|0,$t=$t+Math.imul(Wt,rn)|0,At=At+Math.imul(Wt,Qr)|0,At=At+Math.imul(ur,rn)|0,Ht=Ht+Math.imul(ur,Qr)|0,$t=$t+Math.imul(Or,on)|0,At=At+Math.imul(Or,xn)|0,At=At+Math.imul(Nr,on)|0,Ht=Ht+Math.imul(Nr,xn)|0,$t=$t+Math.imul(Dr,vn)|0,At=At+Math.imul(Dr,Kt)|0,At=At+Math.imul(Lr,vn)|0,Ht=Ht+Math.imul(Lr,Kt)|0,$t=$t+Math.imul(cr,yr)|0,At=At+Math.imul(cr,hr)|0,At=At+Math.imul(Ar,yr)|0,Ht=Ht+Math.imul(Ar,hr)|0,$t=$t+Math.imul(fr,$r)|0,At=At+Math.imul(fr,Vr)|0,At=At+Math.imul(nr,$r)|0,Ht=Ht+Math.imul(nr,Vr)|0,$t=$t+Math.imul(sr,Wr)|0,At=At+Math.imul(sr,Kr)|0,At=At+Math.imul(pr,Wr)|0,Ht=Ht+Math.imul(pr,Kr)|0;var jn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(jn>>>26)|0,jn&=67108863,$t=Math.imul(rr,Er),At=Math.imul(rr,Ir),At=At+Math.imul(er,Er)|0,Ht=Math.imul(er,Ir),$t=$t+Math.imul(Ct,Xr)|0,At=At+Math.imul(Ct,qr)|0,At=At+Math.imul(Gt,Xr)|0,Ht=Ht+Math.imul(Gt,qr)|0,$t=$t+Math.imul(Tr,rn)|0,At=At+Math.imul(Tr,Qr)|0,At=At+Math.imul(Ft,rn)|0,Ht=Ht+Math.imul(Ft,Qr)|0,$t=$t+Math.imul(Wt,on)|0,At=At+Math.imul(Wt,xn)|0,At=At+Math.imul(ur,on)|0,Ht=Ht+Math.imul(ur,xn)|0,$t=$t+Math.imul(Or,vn)|0,At=At+Math.imul(Or,Kt)|0,At=At+Math.imul(Nr,vn)|0,Ht=Ht+Math.imul(Nr,Kt)|0,$t=$t+Math.imul(Dr,yr)|0,At=At+Math.imul(Dr,hr)|0,At=At+Math.imul(Lr,yr)|0,Ht=Ht+Math.imul(Lr,hr)|0,$t=$t+Math.imul(cr,$r)|0,At=At+Math.imul(cr,Vr)|0,At=At+Math.imul(Ar,$r)|0,Ht=Ht+Math.imul(Ar,Vr)|0,$t=$t+Math.imul(fr,Wr)|0,At=At+Math.imul(fr,Kr)|0,At=At+Math.imul(nr,Wr)|0,Ht=Ht+Math.imul(nr,Kr)|0;var Do=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(Do>>>26)|0,Do&=67108863,$t=Math.imul(rr,Xr),At=Math.imul(rr,qr),At=At+Math.imul(er,Xr)|0,Ht=Math.imul(er,qr),$t=$t+Math.imul(Ct,rn)|0,At=At+Math.imul(Ct,Qr)|0,At=At+Math.imul(Gt,rn)|0,Ht=Ht+Math.imul(Gt,Qr)|0,$t=$t+Math.imul(Tr,on)|0,At=At+Math.imul(Tr,xn)|0,At=At+Math.imul(Ft,on)|0,Ht=Ht+Math.imul(Ft,xn)|0,$t=$t+Math.imul(Wt,vn)|0,At=At+Math.imul(Wt,Kt)|0,At=At+Math.imul(ur,vn)|0,Ht=Ht+Math.imul(ur,Kt)|0,$t=$t+Math.imul(Or,yr)|0,At=At+Math.imul(Or,hr)|0,At=At+Math.imul(Nr,yr)|0,Ht=Ht+Math.imul(Nr,hr)|0,$t=$t+Math.imul(Dr,$r)|0,At=At+Math.imul(Dr,Vr)|0,At=At+Math.imul(Lr,$r)|0,Ht=Ht+Math.imul(Lr,Vr)|0,$t=$t+Math.imul(cr,Wr)|0,At=At+Math.imul(cr,Kr)|0,At=At+Math.imul(Ar,Wr)|0,Ht=Ht+Math.imul(Ar,Kr)|0;var to=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(to>>>26)|0,to&=67108863,$t=Math.imul(rr,rn),At=Math.imul(rr,Qr),At=At+Math.imul(er,rn)|0,Ht=Math.imul(er,Qr),$t=$t+Math.imul(Ct,on)|0,At=At+Math.imul(Ct,xn)|0,At=At+Math.imul(Gt,on)|0,Ht=Ht+Math.imul(Gt,xn)|0,$t=$t+Math.imul(Tr,vn)|0,At=At+Math.imul(Tr,Kt)|0,At=At+Math.imul(Ft,vn)|0,Ht=Ht+Math.imul(Ft,Kt)|0,$t=$t+Math.imul(Wt,yr)|0,At=At+Math.imul(Wt,hr)|0,At=At+Math.imul(ur,yr)|0,Ht=Ht+Math.imul(ur,hr)|0,$t=$t+Math.imul(Or,$r)|0,At=At+Math.imul(Or,Vr)|0,At=At+Math.imul(Nr,$r)|0,Ht=Ht+Math.imul(Nr,Vr)|0,$t=$t+Math.imul(Dr,Wr)|0,At=At+Math.imul(Dr,Kr)|0,At=At+Math.imul(Lr,Wr)|0,Ht=Ht+Math.imul(Lr,Kr)|0;var Xn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,$t=Math.imul(rr,on),At=Math.imul(rr,xn),At=At+Math.imul(er,on)|0,Ht=Math.imul(er,xn),$t=$t+Math.imul(Ct,vn)|0,At=At+Math.imul(Ct,Kt)|0,At=At+Math.imul(Gt,vn)|0,Ht=Ht+Math.imul(Gt,Kt)|0,$t=$t+Math.imul(Tr,yr)|0,At=At+Math.imul(Tr,hr)|0,At=At+Math.imul(Ft,yr)|0,Ht=Ht+Math.imul(Ft,hr)|0,$t=$t+Math.imul(Wt,$r)|0,At=At+Math.imul(Wt,Vr)|0,At=At+Math.imul(ur,$r)|0,Ht=Ht+Math.imul(ur,Vr)|0,$t=$t+Math.imul(Or,Wr)|0,At=At+Math.imul(Or,Kr)|0,At=At+Math.imul(Nr,Wr)|0,Ht=Ht+Math.imul(Nr,Kr)|0;var An=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(An>>>26)|0,An&=67108863,$t=Math.imul(rr,vn),At=Math.imul(rr,Kt),At=At+Math.imul(er,vn)|0,Ht=Math.imul(er,Kt),$t=$t+Math.imul(Ct,yr)|0,At=At+Math.imul(Ct,hr)|0,At=At+Math.imul(Gt,yr)|0,Ht=Ht+Math.imul(Gt,hr)|0,$t=$t+Math.imul(Tr,$r)|0,At=At+Math.imul(Tr,Vr)|0,At=At+Math.imul(Ft,$r)|0,Ht=Ht+Math.imul(Ft,Vr)|0,$t=$t+Math.imul(Wt,Wr)|0,At=At+Math.imul(Wt,Kr)|0,At=At+Math.imul(ur,Wr)|0,Ht=Ht+Math.imul(ur,Kr)|0;var fn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(fn>>>26)|0,fn&=67108863,$t=Math.imul(rr,yr),At=Math.imul(rr,hr),At=At+Math.imul(er,yr)|0,Ht=Math.imul(er,hr),$t=$t+Math.imul(Ct,$r)|0,At=At+Math.imul(Ct,Vr)|0,At=At+Math.imul(Gt,$r)|0,Ht=Ht+Math.imul(Gt,Vr)|0,$t=$t+Math.imul(Tr,Wr)|0,At=At+Math.imul(Tr,Kr)|0,At=At+Math.imul(Ft,Wr)|0,Ht=Ht+Math.imul(Ft,Kr)|0;var hn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(hn>>>26)|0,hn&=67108863,$t=Math.imul(rr,$r),At=Math.imul(rr,Vr),At=At+Math.imul(er,$r)|0,Ht=Math.imul(er,Vr),$t=$t+Math.imul(Ct,Wr)|0,At=At+Math.imul(Ct,Kr)|0,At=At+Math.imul(Gt,Wr)|0,Ht=Ht+Math.imul(Gt,Kr)|0;var Cn=(Vt+$t|0)+((At&8191)<<13)|0;Vt=(Ht+(At>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,$t=Math.imul(rr,Wr),At=Math.imul(rr,Kr),At=At+Math.imul(er,Wr)|0,Ht=Math.imul(er,Kr);var Tn=(Vt+$t|0)+((At&8191)<<13)|0;return Vt=(Ht+(At>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,zt[0]=tn,zt[1]=nn,zt[2]=yn,zt[3]=Mn,zt[4]=Dn,zt[5]=_i,zt[6]=En,zt[7]=ln,zt[8]=eo,zt[9]=Sn,zt[10]=jn,zt[11]=Do,zt[12]=to,zt[13]=Xn,zt[14]=An,zt[15]=fn,zt[16]=hn,zt[17]=Cn,zt[18]=Tn,Vt!==0&&(zt[19]=Vt,Lt.length++),Lt};Math.imul||(yt=pt);function gt(kt,vt,Et){Et.negative=vt.negative^kt.negative,Et.length=kt.length+vt.length;for(var Lt=0,Ot=0,Pt=0;Pt<Et.length-1;Pt++){var zt=Ot;Ot=0;for(var Vt=Lt&67108863,$t=Math.min(Pt,vt.length-1),At=Math.max(0,Pt-kt.length+1);At<=$t;At++){var Ht=Pt-At,ar=kt.words[Ht]|0,Rt=vt.words[At]|0,Zt=ar*Rt,ir=Zt&67108863;zt=zt+(Zt/67108864|0)|0,ir=ir+Vt|0,Vt=ir&67108863,zt=zt+(ir>>>26)|0,Ot+=zt>>>26,zt&=67108863}Et.words[Pt]=Vt,Lt=zt,zt=Ot}return Lt!==0?Et.words[Pt]=Lt:Et.length--,Et._strip()}function xt(kt,vt,Et){return gt(kt,vt,Et)}et.prototype.mulTo=function(vt,Et){var Lt,Ot=this.length+vt.length;return this.length===10&&vt.length===10?Lt=yt(this,vt,Et):Ot<63?Lt=pt(this,vt,Et):Ot<1024?Lt=gt(this,vt,Et):Lt=xt(this,vt,Et),Lt},et.prototype.mul=function(vt){var Et=new et(null);return Et.words=new Array(this.length+vt.length),this.mulTo(vt,Et)},et.prototype.mulf=function(vt){var Et=new et(null);return Et.words=new Array(this.length+vt.length),xt(this,vt,Et)},et.prototype.imul=function(vt){return this.clone().mulTo(vt,this)},et.prototype.imuln=function(vt){var Et=vt<0;Et&&(vt=-vt),j(typeof vt=="number"),j(vt<67108864);for(var Lt=0,Ot=0;Ot<this.length;Ot++){var Pt=(this.words[Ot]|0)*vt,zt=(Pt&67108863)+(Lt&67108863);Lt>>=26,Lt+=Pt/67108864|0,Lt+=zt>>>26,this.words[Ot]=zt&67108863}return Lt!==0&&(this.words[Ot]=Lt,this.length++),Et?this.ineg():this},et.prototype.muln=function(vt){return this.clone().imuln(vt)},et.prototype.sqr=function(){return this.mul(this)},et.prototype.isqr=function(){return this.imul(this.clone())},et.prototype.pow=function(vt){var Et=ht(vt);if(Et.length===0)return new et(1);for(var Lt=this,Ot=0;Ot<Et.length&&Et[Ot]===0;Ot++,Lt=Lt.sqr());if(++Ot<Et.length)for(var Pt=Lt.sqr();Ot<Et.length;Ot++,Pt=Pt.sqr())Et[Ot]!==0&&(Lt=Lt.mul(Pt));return Lt},et.prototype.iushln=function(vt){j(typeof vt=="number"&&vt>=0);var Et=vt%26,Lt=(vt-Et)/26,Ot=67108863>>>26-Et<<26-Et,Pt;if(Et!==0){var zt=0;for(Pt=0;Pt<this.length;Pt++){var Vt=this.words[Pt]&Ot,$t=(this.words[Pt]|0)-Vt<<Et;this.words[Pt]=$t|zt,zt=Vt>>>26-Et}zt&&(this.words[Pt]=zt,this.length++)}if(Lt!==0){for(Pt=this.length-1;Pt>=0;Pt--)this.words[Pt+Lt]=this.words[Pt];for(Pt=0;Pt<Lt;Pt++)this.words[Pt]=0;this.length+=Lt}return this._strip()},et.prototype.ishln=function(vt){return j(this.negative===0),this.iushln(vt)},et.prototype.iushrn=function(vt,Et,Lt){j(typeof vt=="number"&&vt>=0);var Ot;Et?Ot=(Et-Et%26)/26:Ot=0;var Pt=vt%26,zt=Math.min((vt-Pt)/26,this.length),Vt=67108863^67108863>>>Pt<<Pt,$t=Lt;if(Ot-=zt,Ot=Math.max(0,Ot),$t){for(var At=0;At<zt;At++)$t.words[At]=this.words[At];$t.length=zt}if(zt!==0)if(this.length>zt)for(this.length-=zt,At=0;At<this.length;At++)this.words[At]=this.words[At+zt];else this.words[0]=0,this.length=1;var Ht=0;for(At=this.length-1;At>=0&&(Ht!==0||At>=Ot);At--){var ar=this.words[At]|0;this.words[At]=Ht<<26-Pt|ar>>>Pt,Ht=ar&Vt}return $t&&Ht!==0&&($t.words[$t.length++]=Ht),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},et.prototype.ishrn=function(vt,Et,Lt){return j(this.negative===0),this.iushrn(vt,Et,Lt)},et.prototype.shln=function(vt){return this.clone().ishln(vt)},et.prototype.ushln=function(vt){return this.clone().iushln(vt)},et.prototype.shrn=function(vt){return this.clone().ishrn(vt)},et.prototype.ushrn=function(vt){return this.clone().iushrn(vt)},et.prototype.testn=function(vt){j(typeof vt=="number"&&vt>=0);var Et=vt%26,Lt=(vt-Et)/26,Ot=1<<Et;if(this.length<=Lt)return!1;var Pt=this.words[Lt];return!!(Pt&Ot)},et.prototype.imaskn=function(vt){j(typeof vt=="number"&&vt>=0);var Et=vt%26,Lt=(vt-Et)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=Lt)return this;if(Et!==0&&Lt++,this.length=Math.min(Lt,this.length),Et!==0){var Ot=67108863^67108863>>>Et<<Et;this.words[this.length-1]&=Ot}return this._strip()},et.prototype.maskn=function(vt){return this.clone().imaskn(vt)},et.prototype.iaddn=function(vt){return j(typeof vt=="number"),j(vt<67108864),vt<0?this.isubn(-vt):this.negative!==0?this.length===1&&(this.words[0]|0)<=vt?(this.words[0]=vt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(vt),this.negative=1,this):this._iaddn(vt)},et.prototype._iaddn=function(vt){this.words[0]+=vt;for(var Et=0;Et<this.length&&this.words[Et]>=67108864;Et++)this.words[Et]-=67108864,Et===this.length-1?this.words[Et+1]=1:this.words[Et+1]++;return this.length=Math.max(this.length,Et+1),this},et.prototype.isubn=function(vt){if(j(typeof vt=="number"),j(vt<67108864),vt<0)return this.iaddn(-vt);if(this.negative!==0)return this.negative=0,this.iaddn(vt),this.negative=1,this;if(this.words[0]-=vt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Et=0;Et<this.length&&this.words[Et]<0;Et++)this.words[Et]+=67108864,this.words[Et+1]-=1;return this._strip()},et.prototype.addn=function(vt){return this.clone().iaddn(vt)},et.prototype.subn=function(vt){return this.clone().isubn(vt)},et.prototype.iabs=function(){return this.negative=0,this},et.prototype.abs=function(){return this.clone().iabs()},et.prototype._ishlnsubmul=function(vt,Et,Lt){var Ot=vt.length+Lt,Pt;this._expand(Ot);var zt,Vt=0;for(Pt=0;Pt<vt.length;Pt++){zt=(this.words[Pt+Lt]|0)+Vt;var $t=(vt.words[Pt]|0)*Et;zt-=$t&67108863,Vt=(zt>>26)-($t/67108864|0),this.words[Pt+Lt]=zt&67108863}for(;Pt<this.length-Lt;Pt++)zt=(this.words[Pt+Lt]|0)+Vt,Vt=zt>>26,this.words[Pt+Lt]=zt&67108863;if(Vt===0)return this._strip();for(j(Vt===-1),Vt=0,Pt=0;Pt<this.length;Pt++)zt=-(this.words[Pt]|0)+Vt,Vt=zt>>26,this.words[Pt]=zt&67108863;return this.negative=1,this._strip()},et.prototype._wordDiv=function(vt,Et){var Lt=this.length-vt.length,Ot=this.clone(),Pt=vt,zt=Pt.words[Pt.length-1]|0,Vt=this._countBits(zt);Lt=26-Vt,Lt!==0&&(Pt=Pt.ushln(Lt),Ot.iushln(Lt),zt=Pt.words[Pt.length-1]|0);var $t=Ot.length-Pt.length,At;if(Et!=="mod"){At=new et(null),At.length=$t+1,At.words=new Array(At.length);for(var Ht=0;Ht<At.length;Ht++)At.words[Ht]=0}var ar=Ot.clone()._ishlnsubmul(Pt,1,$t);ar.negative===0&&(Ot=ar,At&&(At.words[$t]=1));for(var Rt=$t-1;Rt>=0;Rt--){var Zt=(Ot.words[Pt.length+Rt]|0)*67108864+(Ot.words[Pt.length+Rt-1]|0);for(Zt=Math.min(Zt/zt|0,67108863),Ot._ishlnsubmul(Pt,Zt,Rt);Ot.negative!==0;)Zt--,Ot.negative=0,Ot._ishlnsubmul(Pt,1,Rt),Ot.isZero()||(Ot.negative^=1);At&&(At.words[Rt]=Zt)}return At&&At._strip(),Ot._strip(),Et!=="div"&&Lt!==0&&Ot.iushrn(Lt),{div:At||null,mod:Ot}},et.prototype.divmod=function(vt,Et,Lt){if(j(!vt.isZero()),this.isZero())return{div:new et(0),mod:new et(0)};var Ot,Pt,zt;return this.negative!==0&&vt.negative===0?(zt=this.neg().divmod(vt,Et),Et!=="mod"&&(Ot=zt.div.neg()),Et!=="div"&&(Pt=zt.mod.neg(),Lt&&Pt.negative!==0&&Pt.iadd(vt)),{div:Ot,mod:Pt}):this.negative===0&&vt.negative!==0?(zt=this.divmod(vt.neg(),Et),Et!=="mod"&&(Ot=zt.div.neg()),{div:Ot,mod:zt.mod}):this.negative&vt.negative?(zt=this.neg().divmod(vt.neg(),Et),Et!=="div"&&(Pt=zt.mod.neg(),Lt&&Pt.negative!==0&&Pt.isub(vt)),{div:zt.div,mod:Pt}):vt.length>this.length||this.cmp(vt)<0?{div:new et(0),mod:this}:vt.length===1?Et==="div"?{div:this.divn(vt.words[0]),mod:null}:Et==="mod"?{div:null,mod:new et(this.modrn(vt.words[0]))}:{div:this.divn(vt.words[0]),mod:new et(this.modrn(vt.words[0]))}:this._wordDiv(vt,Et)},et.prototype.div=function(vt){return this.divmod(vt,"div",!1).div},et.prototype.mod=function(vt){return this.divmod(vt,"mod",!1).mod},et.prototype.umod=function(vt){return this.divmod(vt,"mod",!0).mod},et.prototype.divRound=function(vt){var Et=this.divmod(vt);if(Et.mod.isZero())return Et.div;var Lt=Et.div.negative!==0?Et.mod.isub(vt):Et.mod,Ot=vt.ushrn(1),Pt=vt.andln(1),zt=Lt.cmp(Ot);return zt<0||Pt===1&&zt===0?Et.div:Et.div.negative!==0?Et.div.isubn(1):Et.div.iaddn(1)},et.prototype.modrn=function(vt){var Et=vt<0;Et&&(vt=-vt),j(vt<=67108863);for(var Lt=(1<<26)%vt,Ot=0,Pt=this.length-1;Pt>=0;Pt--)Ot=(Lt*Ot+(this.words[Pt]|0))%vt;return Et?-Ot:Ot},et.prototype.modn=function(vt){return this.modrn(vt)},et.prototype.idivn=function(vt){var Et=vt<0;Et&&(vt=-vt),j(vt<=67108863);for(var Lt=0,Ot=this.length-1;Ot>=0;Ot--){var Pt=(this.words[Ot]|0)+Lt*67108864;this.words[Ot]=Pt/vt|0,Lt=Pt%vt}return this._strip(),Et?this.ineg():this},et.prototype.divn=function(vt){return this.clone().idivn(vt)},et.prototype.egcd=function(vt){j(vt.negative===0),j(!vt.isZero());var Et=this,Lt=vt.clone();Et.negative!==0?Et=Et.umod(vt):Et=Et.clone();for(var Ot=new et(1),Pt=new et(0),zt=new et(0),Vt=new et(1),$t=0;Et.isEven()&&Lt.isEven();)Et.iushrn(1),Lt.iushrn(1),++$t;for(var At=Lt.clone(),Ht=Et.clone();!Et.isZero();){for(var ar=0,Rt=1;!(Et.words[0]&Rt)&&ar<26;++ar,Rt<<=1);if(ar>0)for(Et.iushrn(ar);ar-- >0;)(Ot.isOdd()||Pt.isOdd())&&(Ot.iadd(At),Pt.isub(Ht)),Ot.iushrn(1),Pt.iushrn(1);for(var Zt=0,ir=1;!(Lt.words[0]&ir)&&Zt<26;++Zt,ir<<=1);if(Zt>0)for(Lt.iushrn(Zt);Zt-- >0;)(zt.isOdd()||Vt.isOdd())&&(zt.iadd(At),Vt.isub(Ht)),zt.iushrn(1),Vt.iushrn(1);Et.cmp(Lt)>=0?(Et.isub(Lt),Ot.isub(zt),Pt.isub(Vt)):(Lt.isub(Et),zt.isub(Ot),Vt.isub(Pt))}return{a:zt,b:Vt,gcd:Lt.iushln($t)}},et.prototype._invmp=function(vt){j(vt.negative===0),j(!vt.isZero());var Et=this,Lt=vt.clone();Et.negative!==0?Et=Et.umod(vt):Et=Et.clone();for(var Ot=new et(1),Pt=new et(0),zt=Lt.clone();Et.cmpn(1)>0&&Lt.cmpn(1)>0;){for(var Vt=0,$t=1;!(Et.words[0]&$t)&&Vt<26;++Vt,$t<<=1);if(Vt>0)for(Et.iushrn(Vt);Vt-- >0;)Ot.isOdd()&&Ot.iadd(zt),Ot.iushrn(1);for(var At=0,Ht=1;!(Lt.words[0]&Ht)&&At<26;++At,Ht<<=1);if(At>0)for(Lt.iushrn(At);At-- >0;)Pt.isOdd()&&Pt.iadd(zt),Pt.iushrn(1);Et.cmp(Lt)>=0?(Et.isub(Lt),Ot.isub(Pt)):(Lt.isub(Et),Pt.isub(Ot))}var ar;return Et.cmpn(1)===0?ar=Ot:ar=Pt,ar.cmpn(0)<0&&ar.iadd(vt),ar},et.prototype.gcd=function(vt){if(this.isZero())return vt.abs();if(vt.isZero())return this.abs();var Et=this.clone(),Lt=vt.clone();Et.negative=0,Lt.negative=0;for(var Ot=0;Et.isEven()&&Lt.isEven();Ot++)Et.iushrn(1),Lt.iushrn(1);do{for(;Et.isEven();)Et.iushrn(1);for(;Lt.isEven();)Lt.iushrn(1);var Pt=Et.cmp(Lt);if(Pt<0){var zt=Et;Et=Lt,Lt=zt}else if(Pt===0||Lt.cmpn(1)===0)break;Et.isub(Lt)}while(!0);return Lt.iushln(Ot)},et.prototype.invm=function(vt){return this.egcd(vt).a.umod(vt)},et.prototype.isEven=function(){return(this.words[0]&1)===0},et.prototype.isOdd=function(){return(this.words[0]&1)===1},et.prototype.andln=function(vt){return this.words[0]&vt},et.prototype.bincn=function(vt){j(typeof vt=="number");var Et=vt%26,Lt=(vt-Et)/26,Ot=1<<Et;if(this.length<=Lt)return this._expand(Lt+1),this.words[Lt]|=Ot,this;for(var Pt=Ot,zt=Lt;Pt!==0&&zt<this.length;zt++){var Vt=this.words[zt]|0;Vt+=Pt,Pt=Vt>>>26,Vt&=67108863,this.words[zt]=Vt}return Pt!==0&&(this.words[zt]=Pt,this.length++),this},et.prototype.isZero=function(){return this.length===1&&this.words[0]===0},et.prototype.cmpn=function(vt){var Et=vt<0;if(this.negative!==0&&!Et)return-1;if(this.negative===0&&Et)return 1;this._strip();var Lt;if(this.length>1)Lt=1;else{Et&&(vt=-vt),j(vt<=67108863,"Number is too big");var Ot=this.words[0]|0;Lt=Ot===vt?0:Ot<vt?-1:1}return this.negative!==0?-Lt|0:Lt},et.prototype.cmp=function(vt){if(this.negative!==0&&vt.negative===0)return-1;if(this.negative===0&&vt.negative!==0)return 1;var Et=this.ucmp(vt);return this.negative!==0?-Et|0:Et},et.prototype.ucmp=function(vt){if(this.length>vt.length)return 1;if(this.length<vt.length)return-1;for(var Et=0,Lt=this.length-1;Lt>=0;Lt--){var Ot=this.words[Lt]|0,Pt=vt.words[Lt]|0;if(Ot!==Pt){Ot<Pt?Et=-1:Ot>Pt&&(Et=1);break}}return Et},et.prototype.gtn=function(vt){return this.cmpn(vt)===1},et.prototype.gt=function(vt){return this.cmp(vt)===1},et.prototype.gten=function(vt){return this.cmpn(vt)>=0},et.prototype.gte=function(vt){return this.cmp(vt)>=0},et.prototype.ltn=function(vt){return this.cmpn(vt)===-1},et.prototype.lt=function(vt){return this.cmp(vt)===-1},et.prototype.lten=function(vt){return this.cmpn(vt)<=0},et.prototype.lte=function(vt){return this.cmp(vt)<=0},et.prototype.eqn=function(vt){return this.cmpn(vt)===0},et.prototype.eq=function(vt){return this.cmp(vt)===0},et.red=function(vt){return new jt(vt)},et.prototype.toRed=function(vt){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),vt.convertTo(this)._forceRed(vt)},et.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},et.prototype._forceRed=function(vt){return this.red=vt,this},et.prototype.forceRed=function(vt){return j(!this.red,"Already a number in reduction context"),this._forceRed(vt)},et.prototype.redAdd=function(vt){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,vt)},et.prototype.redIAdd=function(vt){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,vt)},et.prototype.redSub=function(vt){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,vt)},et.prototype.redISub=function(vt){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,vt)},et.prototype.redShl=function(vt){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,vt)},et.prototype.redMul=function(vt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,vt),this.red.mul(this,vt)},et.prototype.redIMul=function(vt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,vt),this.red.imul(this,vt)},et.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},et.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},et.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},et.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},et.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},et.prototype.redPow=function(vt){return j(this.red&&!vt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,vt)};var wt={k256:null,p224:null,p192:null,p25519:null};function Mt(kt,vt){this.name=kt,this.p=new et(vt,16),this.n=this.p.bitLength(),this.k=new et(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mt.prototype._tmp=function(){var vt=new et(null);return vt.words=new Array(Math.ceil(this.n/13)),vt},Mt.prototype.ireduce=function(vt){var Et=vt,Lt;do this.split(Et,this.tmp),Et=this.imulK(Et),Et=Et.iadd(this.tmp),Lt=Et.bitLength();while(Lt>this.n);var Ot=Lt<this.n?-1:Et.ucmp(this.p);return Ot===0?(Et.words[0]=0,Et.length=1):Ot>0?Et.isub(this.p):Et.strip!==void 0?Et.strip():Et._strip(),Et},Mt.prototype.split=function(vt,Et){vt.iushrn(this.n,0,Et)},Mt.prototype.imulK=function(vt){return vt.imul(this.k)};function It(){Mt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_e(It,Mt),It.prototype.split=function(vt,Et){for(var Lt=4194303,Ot=Math.min(vt.length,9),Pt=0;Pt<Ot;Pt++)Et.words[Pt]=vt.words[Pt];if(Et.length=Ot,vt.length<=9){vt.words[0]=0,vt.length=1;return}var zt=vt.words[9];for(Et.words[Et.length++]=zt&Lt,Pt=10;Pt<vt.length;Pt++){var Vt=vt.words[Pt]|0;vt.words[Pt-10]=(Vt&Lt)<<4|zt>>>22,zt=Vt}zt>>>=22,vt.words[Pt-10]=zt,zt===0&&vt.length>10?vt.length-=10:vt.length-=9},It.prototype.imulK=function(vt){vt.words[vt.length]=0,vt.words[vt.length+1]=0,vt.length+=2;for(var Et=0,Lt=0;Lt<vt.length;Lt++){var Ot=vt.words[Lt]|0;Et+=Ot*977,vt.words[Lt]=Et&67108863,Et=Ot*64+(Et/67108864|0)}return vt.words[vt.length-1]===0&&(vt.length--,vt.words[vt.length-1]===0&&vt.length--),vt};function Tt(){Mt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_e(Tt,Mt);function Dt(){Mt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_e(Dt,Mt);function Ut(){Mt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_e(Ut,Mt),Ut.prototype.imulK=function(vt){for(var Et=0,Lt=0;Lt<vt.length;Lt++){var Ot=(vt.words[Lt]|0)*19+Et,Pt=Ot&67108863;Ot>>>=26,vt.words[Lt]=Pt,Et=Ot}return Et!==0&&(vt.words[vt.length++]=Et),vt},et._prime=function(vt){if(wt[vt])return wt[vt];var Et;if(vt==="k256")Et=new It;else if(vt==="p224")Et=new Tt;else if(vt==="p192")Et=new Dt;else if(vt==="p25519")Et=new Ut;else throw new Error("Unknown prime "+vt);return wt[vt]=Et,Et};function jt(kt){if(typeof kt=="string"){var vt=et._prime(kt);this.m=vt.p,this.prime=vt}else j(kt.gtn(1),"modulus must be greater than 1"),this.m=kt,this.prime=null}jt.prototype._verify1=function(vt){j(vt.negative===0,"red works only with positives"),j(vt.red,"red works only with red numbers")},jt.prototype._verify2=function(vt,Et){j((vt.negative|Et.negative)===0,"red works only with positives"),j(vt.red&&vt.red===Et.red,"red works only with red numbers")},jt.prototype.imod=function(vt){return this.prime?this.prime.ireduce(vt)._forceRed(this):(ot(vt,vt.umod(this.m)._forceRed(this)),vt)},jt.prototype.neg=function(vt){return vt.isZero()?vt.clone():this.m.sub(vt)._forceRed(this)},jt.prototype.add=function(vt,Et){this._verify2(vt,Et);var Lt=vt.add(Et);return Lt.cmp(this.m)>=0&&Lt.isub(this.m),Lt._forceRed(this)},jt.prototype.iadd=function(vt,Et){this._verify2(vt,Et);var Lt=vt.iadd(Et);return Lt.cmp(this.m)>=0&&Lt.isub(this.m),Lt},jt.prototype.sub=function(vt,Et){this._verify2(vt,Et);var Lt=vt.sub(Et);return Lt.cmpn(0)<0&&Lt.iadd(this.m),Lt._forceRed(this)},jt.prototype.isub=function(vt,Et){this._verify2(vt,Et);var Lt=vt.isub(Et);return Lt.cmpn(0)<0&&Lt.iadd(this.m),Lt},jt.prototype.shl=function(vt,Et){return this._verify1(vt),this.imod(vt.ushln(Et))},jt.prototype.imul=function(vt,Et){return this._verify2(vt,Et),this.imod(vt.imul(Et))},jt.prototype.mul=function(vt,Et){return this._verify2(vt,Et),this.imod(vt.mul(Et))},jt.prototype.isqr=function(vt){return this.imul(vt,vt.clone())},jt.prototype.sqr=function(vt){return this.mul(vt,vt)},jt.prototype.sqrt=function(vt){if(vt.isZero())return vt.clone();var Et=this.m.andln(3);if(j(Et%2===1),Et===3){var Lt=this.m.add(new et(1)).iushrn(2);return this.pow(vt,Lt)}for(var Ot=this.m.subn(1),Pt=0;!Ot.isZero()&&Ot.andln(1)===0;)Pt++,Ot.iushrn(1);j(!Ot.isZero());var zt=new et(1).toRed(this),Vt=zt.redNeg(),$t=this.m.subn(1).iushrn(1),At=this.m.bitLength();for(At=new et(2*At*At).toRed(this);this.pow(At,$t).cmp(Vt)!==0;)At.redIAdd(Vt);for(var Ht=this.pow(At,Ot),ar=this.pow(vt,Ot.addn(1).iushrn(1)),Rt=this.pow(vt,Ot),Zt=Pt;Rt.cmp(zt)!==0;){for(var ir=Rt,sr=0;ir.cmp(zt)!==0;sr++)ir=ir.redSqr();j(sr<Zt);var pr=this.pow(Ht,new et(1).iushln(Zt-sr-1));ar=ar.redMul(pr),Ht=pr.redSqr(),Rt=Rt.redMul(Ht),Zt=sr}return ar},jt.prototype.invm=function(vt){var Et=vt._invmp(this.m);return Et.negative!==0?(Et.negative=0,this.imod(Et).redNeg()):this.imod(Et)},jt.prototype.pow=function(vt,Et){if(Et.isZero())return new et(1).toRed(this);if(Et.cmpn(1)===0)return vt.clone();var Lt=4,Ot=new Array(1<<Lt);Ot[0]=new et(1).toRed(this),Ot[1]=vt;for(var Pt=2;Pt<Ot.length;Pt++)Ot[Pt]=this.mul(Ot[Pt-1],vt);var zt=Ot[0],Vt=0,$t=0,At=Et.bitLength()%26;for(At===0&&(At=26),Pt=Et.length-1;Pt>=0;Pt--){for(var Ht=Et.words[Pt],ar=At-1;ar>=0;ar--){var Rt=Ht>>ar&1;if(zt!==Ot[0]&&(zt=this.sqr(zt)),Rt===0&&Vt===0){$t=0;continue}Vt<<=1,Vt|=Rt,$t++,!($t!==Lt&&(Pt!==0||ar!==0))&&(zt=this.mul(zt,Ot[Vt]),$t=0,Vt=0)}At=26}return zt},jt.prototype.convertTo=function(vt){var Et=vt.umod(this.m);return Et===vt?Et.clone():Et},jt.prototype.convertFrom=function(vt){var Et=vt.clone();return Et.red=null,Et},et.mont=function(vt){return new Xt(vt)};function Xt(kt){jt.call(this,kt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new et(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_e(Xt,jt),Xt.prototype.convertTo=function(vt){return this.imod(vt.ushln(this.shift))},Xt.prototype.convertFrom=function(vt){var Et=this.imod(vt.mul(this.rinv));return Et.red=null,Et},Xt.prototype.imul=function(vt,Et){if(vt.isZero()||Et.isZero())return vt.words[0]=0,vt.length=1,vt;var Lt=vt.imul(Et),Ot=Lt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Pt=Lt.isub(Ot).iushrn(this.shift),zt=Pt;return Pt.cmp(this.m)>=0?zt=Pt.isub(this.m):Pt.cmpn(0)<0&&(zt=Pt.iadd(this.m)),zt._forceRed(this)},Xt.prototype.mul=function(vt,Et){if(vt.isZero()||Et.isZero())return new et(0)._forceRed(this);var Lt=vt.mul(Et),Ot=Lt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Pt=Lt.isub(Ot).iushrn(this.shift),zt=Pt;return Pt.cmp(this.m)>=0?zt=Pt.isub(this.m):Pt.cmpn(0)<0&&(zt=Pt.iadd(this.m)),zt._forceRed(this)},Xt.prototype.invm=function(vt){var Et=this.imod(vt._invmp(this.m).mul(this.r2));return Et._forceRed(this)}})($,commonjsGlobal)})(bn);var bnExports=bn.exports;const BN$1=getDefaultExportFromCjs(bnExports),version$j="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const $=[];if(["NFD","NFC","NFKD","NFKC"].forEach(o=>{try{if("test".normalize(o)!=="test")throw new Error("bad normalize")}catch{$.push(o)}}),$.length)throw new Error("missing "+$.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($){return $.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function($){$.DEBUG="DEBUG",$.INFO="INFO",$.WARNING="WARNING",$.ERROR="ERROR",$.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function($){$.UNKNOWN_ERROR="UNKNOWN_ERROR",$.NOT_IMPLEMENTED="NOT_IMPLEMENTED",$.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",$.NETWORK_ERROR="NETWORK_ERROR",$.SERVER_ERROR="SERVER_ERROR",$.TIMEOUT="TIMEOUT",$.BUFFER_OVERRUN="BUFFER_OVERRUN",$.NUMERIC_FAULT="NUMERIC_FAULT",$.MISSING_NEW="MISSING_NEW",$.INVALID_ARGUMENT="INVALID_ARGUMENT",$.MISSING_ARGUMENT="MISSING_ARGUMENT",$.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",$.CALL_EXCEPTION="CALL_EXCEPTION",$.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",$.NONCE_EXPIRED="NONCE_EXPIRED",$.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",$.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",$.TRANSACTION_REPLACED="TRANSACTION_REPLACED",$.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(o){Object.defineProperty(this,"version",{enumerable:!0,value:o,writable:!1})}_log(o,a){const j=o.toLowerCase();LogLevels[j]==null&&this.throwArgumentError("invalid log level name","logLevel",o),!(_logLevel>LogLevels[j])&&console.log.apply(console,a)}debug(...o){this._log(Logger.levels.DEBUG,o)}info(...o){this._log(Logger.levels.INFO,o)}warn(...o){this._log(Logger.levels.WARNING,o)}makeError(o,a,j){if(_censorErrors)return this.makeError("censored error",a,{});a||(a=Logger.errors.UNKNOWN_ERROR),j||(j={});const _e=[];Object.keys(j).forEach(nt=>{const it=j[nt];try{if(it instanceof Uint8Array){let ot="";for(let st=0;st<it.length;st++)ot+=HEX[it[st]>>4],ot+=HEX[it[st]&15];_e.push(nt+"=Uint8Array(0x"+ot+")")}else _e.push(nt+"="+JSON.stringify(it))}catch{_e.push(nt+"="+JSON.stringify(j[nt].toString()))}}),_e.push(`code=${a}`),_e.push(`version=${this.version}`);const et=o;let tt="";switch(a){case ErrorCode.NUMERIC_FAULT:{tt="NUMERIC_FAULT";const nt=o;switch(nt){case"overflow":case"underflow":case"division-by-zero":tt+="-"+nt;break;case"negative-power":case"negative-width":tt+="-unsupported";break;case"unbound-bitwise-result":tt+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:tt=a;break}tt&&(o+=" [ See: https://links.ethers.org/v5-errors-"+tt+" ]"),_e.length&&(o+=" ("+_e.join(", ")+")");const rt=new Error(o);return rt.reason=et,rt.code=a,Object.keys(j).forEach(function(nt){rt[nt]=j[nt]}),rt}throwError(o,a,j){throw this.makeError(o,a,j)}throwArgumentError(o,a,j){return this.throwError(o,Logger.errors.INVALID_ARGUMENT,{argument:a,value:j})}assert(o,a,j,_e){o||this.throwError(a,j,_e)}assertArgument(o,a,j,_e){o||this.throwArgumentError(a,j,_e)}checkNormalize(o){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(o,a){typeof o=="number"&&(a==null&&(a="value not safe"),(o<0||o>=9007199254740991)&&this.throwError(a,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:o}),o%1&&this.throwError(a,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:o}))}checkArgumentCount(o,a,j){j?j=": "+j:j="",o<a&&this.throwError("missing argument"+j,Logger.errors.MISSING_ARGUMENT,{count:o,expectedCount:a}),o>a&&this.throwError("too many arguments"+j,Logger.errors.UNEXPECTED_ARGUMENT,{count:o,expectedCount:a})}checkNew(o,a){(o===Object||o==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:a.name})}checkAbstract(o,a){o===a?this.throwError("cannot instantiate abstract class "+JSON.stringify(a.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:o.name,operation:"new"}):(o===Object||o==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:a.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$j)),_globalLogger}static setCensorship(o,a){if(!o&&a&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!o)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!o,_permanentCensorErrors=!!a}static setLogLevel(o){const a=LogLevels[o.toLowerCase()];if(a==null){Logger.globalLogger().warn("invalid log level - "+o);return}_logLevel=a}static from(o){return new Logger(o)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$i="bytes/5.7.0",logger$o=new Logger(version$i);function isHexable($){return!!$.toHexString}function addSlice($){return $.slice||($.slice=function(){const o=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply($,o)))}),$}function isBytesLike($){return isHexString($)&&!($.length%2)||isBytes$2($)}function isInteger($){return typeof $=="number"&&$==$&&$%1===0}function isBytes$2($){if($==null)return!1;if($.constructor===Uint8Array)return!0;if(typeof $=="string"||!isInteger($.length)||$.length<0)return!1;for(let o=0;o<$.length;o++){const a=$[o];if(!isInteger(a)||a<0||a>=256)return!1}return!0}function arrayify($,o){if(o||(o={}),typeof $=="number"){logger$o.checkSafeUint53($,"invalid arrayify value");const a=[];for(;$;)a.unshift($&255),$=parseInt(String($/256));return a.length===0&&a.push(0),addSlice(new Uint8Array(a))}if(o.allowMissingPrefix&&typeof $=="string"&&$.substring(0,2)!=="0x"&&($="0x"+$),isHexable($)&&($=$.toHexString()),isHexString($)){let a=$.substring(2);a.length%2&&(o.hexPad==="left"?a="0"+a:o.hexPad==="right"?a+="0":logger$o.throwArgumentError("hex data is odd-length","value",$));const j=[];for(let _e=0;_e<a.length;_e+=2)j.push(parseInt(a.substring(_e,_e+2),16));return addSlice(new Uint8Array(j))}return isBytes$2($)?addSlice(new Uint8Array($)):logger$o.throwArgumentError("invalid arrayify value","value",$)}function concat$3($){const o=$.map(_e=>arrayify(_e)),a=o.reduce((_e,et)=>_e+et.length,0),j=new Uint8Array(a);return o.reduce((_e,et)=>(j.set(et,_e),_e+et.length),0),addSlice(j)}function stripZeros($){let o=arrayify($);if(o.length===0)return o;let a=0;for(;a<o.length&&o[a]===0;)a++;return a&&(o=o.slice(a)),o}function zeroPad($,o){$=arrayify($),$.length>o&&logger$o.throwArgumentError("value out of range","value",arguments[0]);const a=new Uint8Array(o);return a.set($,o-$.length),addSlice(a)}function isHexString($,o){return!(typeof $!="string"||!$.match(/^0x[0-9A-Fa-f]*$/)||o&&$.length!==2+2*o)}const HexCharacters="0123456789abcdef";function hexlify($,o){if(o||(o={}),typeof $=="number"){logger$o.checkSafeUint53($,"invalid hexlify value");let a="";for(;$;)a=HexCharacters[$&15]+a,$=Math.floor($/16);return a.length?(a.length%2&&(a="0"+a),"0x"+a):"0x00"}if(typeof $=="bigint")return $=$.toString(16),$.length%2?"0x0"+$:"0x"+$;if(o.allowMissingPrefix&&typeof $=="string"&&$.substring(0,2)!=="0x"&&($="0x"+$),isHexable($))return $.toHexString();if(isHexString($))return $.length%2&&(o.hexPad==="left"?$="0x0"+$.substring(2):o.hexPad==="right"?$+="0":logger$o.throwArgumentError("hex data is odd-length","value",$)),$.toLowerCase();if(isBytes$2($)){let a="0x";for(let j=0;j<$.length;j++){let _e=$[j];a+=HexCharacters[(_e&240)>>4]+HexCharacters[_e&15]}return a}return logger$o.throwArgumentError("invalid hexlify value","value",$)}function hexDataLength($){if(typeof $!="string")$=hexlify($);else if(!isHexString($)||$.length%2)return null;return($.length-2)/2}function hexDataSlice($,o,a){return typeof $!="string"?$=hexlify($):(!isHexString($)||$.length%2)&&logger$o.throwArgumentError("invalid hexData","value",$),o=2+2*o,a!=null?"0x"+$.substring(o,2+2*a):"0x"+$.substring(o)}function hexConcat($){let o="0x";return $.forEach(a=>{o+=hexlify(a).substring(2)}),o}function hexValue($){const o=hexStripZeros(hexlify($,{hexPad:"left"}));return o==="0x"?"0x0":o}function hexStripZeros($){typeof $!="string"&&($=hexlify($)),isHexString($)||logger$o.throwArgumentError("invalid hex string","value",$),$=$.substring(2);let o=0;for(;o<$.length&&$[o]==="0";)o++;return"0x"+$.substring(o)}function hexZeroPad($,o){for(typeof $!="string"?$=hexlify($):isHexString($)||logger$o.throwArgumentError("invalid hex string","value",$),$.length>2*o+2&&logger$o.throwArgumentError("value out of range","value",arguments[1]);$.length<2*o+2;)$="0x0"+$.substring(2);return $}function splitSignature($){const o={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike($)){let a=arrayify($);a.length===64?(o.v=27+(a[32]>>7),a[32]&=127,o.r=hexlify(a.slice(0,32)),o.s=hexlify(a.slice(32,64))):a.length===65?(o.r=hexlify(a.slice(0,32)),o.s=hexlify(a.slice(32,64)),o.v=a[64]):logger$o.throwArgumentError("invalid signature string","signature",$),o.v<27&&(o.v===0||o.v===1?o.v+=27:logger$o.throwArgumentError("signature invalid v byte","signature",$)),o.recoveryParam=1-o.v%2,o.recoveryParam&&(a[32]|=128),o._vs=hexlify(a.slice(32,64))}else{if(o.r=$.r,o.s=$.s,o.v=$.v,o.recoveryParam=$.recoveryParam,o._vs=$._vs,o._vs!=null){const _e=zeroPad(arrayify(o._vs),32);o._vs=hexlify(_e);const et=_e[0]>=128?1:0;o.recoveryParam==null?o.recoveryParam=et:o.recoveryParam!==et&&logger$o.throwArgumentError("signature recoveryParam mismatch _vs","signature",$),_e[0]&=127;const tt=hexlify(_e);o.s==null?o.s=tt:o.s!==tt&&logger$o.throwArgumentError("signature v mismatch _vs","signature",$)}if(o.recoveryParam==null)o.v==null?logger$o.throwArgumentError("signature missing v and recoveryParam","signature",$):o.v===0||o.v===1?o.recoveryParam=o.v:o.recoveryParam=1-o.v%2;else if(o.v==null)o.v=27+o.recoveryParam;else{const _e=o.v===0||o.v===1?o.v:1-o.v%2;o.recoveryParam!==_e&&logger$o.throwArgumentError("signature recoveryParam mismatch v","signature",$)}o.r==null||!isHexString(o.r)?logger$o.throwArgumentError("signature missing or invalid r","signature",$):o.r=hexZeroPad(o.r,32),o.s==null||!isHexString(o.s)?logger$o.throwArgumentError("signature missing or invalid s","signature",$):o.s=hexZeroPad(o.s,32);const a=arrayify(o.s);a[0]>=128&&logger$o.throwArgumentError("signature s out of range","signature",$),o.recoveryParam&&(a[0]|=128);const j=hexlify(a);o._vs&&(isHexString(o._vs)||logger$o.throwArgumentError("signature invalid _vs","signature",$),o._vs=hexZeroPad(o._vs,32)),o._vs==null?o._vs=j:o._vs!==j&&logger$o.throwArgumentError("signature _vs mismatch v and s","signature",$)}return o.yParityAndS=o._vs,o.compact=o.r+o.yParityAndS.substring(2),o}const version$h="bignumber/5.7.0";var BN=BN$1.BN;const logger$n=new Logger(version$h),_constructorGuard$3={},MAX_SAFE=9007199254740991;function isBigNumberish($){return $!=null&&(BigNumber.isBigNumber($)||typeof $=="number"&&$%1===0||typeof $=="string"&&!!$.match(/^-?[0-9]+$/)||isHexString($)||typeof $=="bigint"||isBytes$2($))}let _warnedToStringRadix=!1;class BigNumber{constructor(o,a){o!==_constructorGuard$3&&logger$n.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=a,this._isBigNumber=!0,Object.freeze(this)}fromTwos(o){return toBigNumber(toBN(this).fromTwos(o))}toTwos(o){return toBigNumber(toBN(this).toTwos(o))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(o){return toBigNumber(toBN(this).add(toBN(o)))}sub(o){return toBigNumber(toBN(this).sub(toBN(o)))}div(o){return BigNumber.from(o).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(o)))}mul(o){return toBigNumber(toBN(this).mul(toBN(o)))}mod(o){const a=toBN(o);return a.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(a))}pow(o){const a=toBN(o);return a.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(a))}and(o){const a=toBN(o);return(this.isNegative()||a.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(a))}or(o){const a=toBN(o);return(this.isNegative()||a.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(a))}xor(o){const a=toBN(o);return(this.isNegative()||a.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(a))}mask(o){return(this.isNegative()||o<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(o))}shl(o){return(this.isNegative()||o<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(o))}shr(o){return(this.isNegative()||o<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(o))}eq(o){return toBN(this).eq(toBN(o))}lt(o){return toBN(this).lt(toBN(o))}lte(o){return toBN(this).lte(toBN(o))}gt(o){return toBN(this).gt(toBN(o))}gte(o){return toBN(this).gte(toBN(o))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$n.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$n.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$n.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$n.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(o){return{type:"BigNumber",hex:this.toHexString()}}static from(o){if(o instanceof BigNumber)return o;if(typeof o=="string")return o.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$3,toHex$1(o)):o.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$3,toHex$1(new BN(o))):logger$n.throwArgumentError("invalid BigNumber string","value",o);if(typeof o=="number")return o%1&&throwFault$1("underflow","BigNumber.from",o),(o>=MAX_SAFE||o<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",o),BigNumber.from(String(o));const a=o;if(typeof a=="bigint")return BigNumber.from(a.toString());if(isBytes$2(a))return BigNumber.from(hexlify(a));if(a)if(a.toHexString){const j=a.toHexString();if(typeof j=="string")return BigNumber.from(j)}else{let j=a._hex;if(j==null&&a.type==="BigNumber"&&(j=a.hex),typeof j=="string"&&(isHexString(j)||j[0]==="-"&&isHexString(j.substring(1))))return BigNumber.from(j)}return logger$n.throwArgumentError("invalid BigNumber value","value",o)}static isBigNumber(o){return!!(o&&o._isBigNumber)}}function toHex$1($){if(typeof $!="string")return toHex$1($.toString(16));if($[0]==="-")return $=$.substring(1),$[0]==="-"&&logger$n.throwArgumentError("invalid hex","value",$),$=toHex$1($),$==="0x00"?$:"-"+$;if($.substring(0,2)!=="0x"&&($="0x"+$),$==="0x")return"0x00";for($.length%2&&($="0x0"+$.substring(2));$.length>4&&$.substring(0,4)==="0x00";)$="0x"+$.substring(4);return $}function toBigNumber($){return BigNumber.from(toHex$1($))}function toBN($){const o=BigNumber.from($).toHexString();return o[0]==="-"?new BN("-"+o.substring(3),16):new BN(o.substring(2),16)}function throwFault$1($,o,a){const j={fault:$,operation:o};return a!=null&&(j.value=a),logger$n.throwError($,Logger.errors.NUMERIC_FAULT,j)}function _base36To16($){return new BN($,36).toString(16)}const logger$m=new Logger(version$h),_constructorGuard$2={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault($,o,a,j){const _e={fault:o,operation:a};return j!==void 0&&(_e.value=j),logger$m.throwError($,Logger.errors.NUMERIC_FAULT,_e)}let zeros="0";for(;zeros.length<256;)zeros+=zeros;function getMultiplier($){if(typeof $!="number")try{$=BigNumber.from($).toNumber()}catch{}return typeof $=="number"&&$>=0&&$<=256&&!($%1)?"1"+zeros.substring(0,$):logger$m.throwArgumentError("invalid decimal size","decimals",$)}function formatFixed($,o){o==null&&(o=0);const a=getMultiplier(o);$=BigNumber.from($);const j=$.lt(Zero$2);j&&($=$.mul(NegativeOne$2));let _e=$.mod(a).toString();for(;_e.length<a.length-1;)_e="0"+_e;_e=_e.match(/^([0-9]*[1-9]|0)(0*)/)[1];const et=$.div(a).toString();return a.length===1?$=et:$=et+"."+_e,j&&($="-"+$),$}function parseFixed($,o){o==null&&(o=0);const a=getMultiplier(o);(typeof $!="string"||!$.match(/^-?[0-9.]+$/))&&logger$m.throwArgumentError("invalid decimal value","value",$);const j=$.substring(0,1)==="-";j&&($=$.substring(1)),$==="."&&logger$m.throwArgumentError("missing value","value",$);const _e=$.split(".");_e.length>2&&logger$m.throwArgumentError("too many decimal points","value",$);let et=_e[0],tt=_e[1];for(et||(et="0"),tt||(tt="0");tt[tt.length-1]==="0";)tt=tt.substring(0,tt.length-1);for(tt.length>a.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),tt===""&&(tt="0");tt.length<a.length-1;)tt+="0";const rt=BigNumber.from(et),nt=BigNumber.from(tt);let it=rt.mul(a).add(nt);return j&&(it=it.mul(NegativeOne$2)),it}class FixedFormat{constructor(o,a,j,_e){o!==_constructorGuard$2&&logger$m.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=a,this.width=j,this.decimals=_e,this.name=(a?"":"u")+"fixed"+String(j)+"x"+String(_e),this._multiplier=getMultiplier(_e),Object.freeze(this)}static from(o){if(o instanceof FixedFormat)return o;typeof o=="number"&&(o=`fixed128x${o}`);let a=!0,j=128,_e=18;if(typeof o=="string"){if(o!=="fixed")if(o==="ufixed")a=!1;else{const et=o.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);et||logger$m.throwArgumentError("invalid fixed format","format",o),a=et[1]!=="u",j=parseInt(et[2]),_e=parseInt(et[3])}}else if(o){const et=(tt,rt,nt)=>o[tt]==null?nt:(typeof o[tt]!==rt&&logger$m.throwArgumentError("invalid fixed format ("+tt+" not "+rt+")","format."+tt,o[tt]),o[tt]);a=et("signed","boolean",a),j=et("width","number",j),_e=et("decimals","number",_e)}return j%8&&logger$m.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",j),_e>80&&logger$m.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",_e),new FixedFormat(_constructorGuard$2,a,j,_e)}}class FixedNumber{constructor(o,a,j,_e){o!==_constructorGuard$2&&logger$m.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=_e,this._hex=a,this._value=j,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(o){this.format.name!==o.format.name&&logger$m.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",o)}addUnsafe(o){this._checkFormat(o);const a=parseFixed(this._value,this.format.decimals),j=parseFixed(o._value,o.format.decimals);return FixedNumber.fromValue(a.add(j),this.format.decimals,this.format)}subUnsafe(o){this._checkFormat(o);const a=parseFixed(this._value,this.format.decimals),j=parseFixed(o._value,o.format.decimals);return FixedNumber.fromValue(a.sub(j),this.format.decimals,this.format)}mulUnsafe(o){this._checkFormat(o);const a=parseFixed(this._value,this.format.decimals),j=parseFixed(o._value,o.format.decimals);return FixedNumber.fromValue(a.mul(j).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(o){this._checkFormat(o);const a=parseFixed(this._value,this.format.decimals),j=parseFixed(o._value,o.format.decimals);return FixedNumber.fromValue(a.mul(this.format._multiplier).div(j),this.format.decimals,this.format)}floor(){const o=this.toString().split(".");o.length===1&&o.push("0");let a=FixedNumber.from(o[0],this.format);const j=!o[1].match(/^(0*)$/);return this.isNegative()&&j&&(a=a.subUnsafe(ONE.toFormat(a.format))),a}ceiling(){const o=this.toString().split(".");o.length===1&&o.push("0");let a=FixedNumber.from(o[0],this.format);const j=!o[1].match(/^(0*)$/);return!this.isNegative()&&j&&(a=a.addUnsafe(ONE.toFormat(a.format))),a}round(o){o==null&&(o=0);const a=this.toString().split(".");if(a.length===1&&a.push("0"),(o<0||o>80||o%1)&&logger$m.throwArgumentError("invalid decimal count","decimals",o),a[1].length<=o)return this;const j=FixedNumber.from("1"+zeros.substring(0,o),this.format),_e=BUMP.toFormat(this.format);return this.mulUnsafe(j).addUnsafe(_e).floor().divUnsafe(j)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(o){if(o==null)return this._hex;o%8&&logger$m.throwArgumentError("invalid byte width","width",o);const a=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(o).toHexString();return hexZeroPad(a,o/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(o){return FixedNumber.fromString(this._value,o)}static fromValue(o,a,j){return j==null&&a!=null&&!isBigNumberish(a)&&(j=a,a=null),a==null&&(a=0),j==null&&(j="fixed"),FixedNumber.fromString(formatFixed(o,a),FixedFormat.from(j))}static fromString(o,a){a==null&&(a="fixed");const j=FixedFormat.from(a),_e=parseFixed(o,j.decimals);!j.signed&&_e.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",o);let et=null;j.signed?et=_e.toTwos(j.width).toHexString():(et=_e.toHexString(),et=hexZeroPad(et,j.width/8));const tt=formatFixed(_e,j.decimals);return new FixedNumber(_constructorGuard$2,et,tt,j)}static fromBytes(o,a){a==null&&(a="fixed");const j=FixedFormat.from(a);if(arrayify(o).length>j.width/8)throw new Error("overflow");let _e=BigNumber.from(o);j.signed&&(_e=_e.fromTwos(j.width));const et=_e.toTwos((j.signed?0:1)+j.width).toHexString(),tt=formatFixed(_e,j.decimals);return new FixedNumber(_constructorGuard$2,et,tt,j)}static from(o,a){if(typeof o=="string")return FixedNumber.fromString(o,a);if(isBytes$2(o))return FixedNumber.fromBytes(o,a);try{return FixedNumber.fromValue(o,0,a)}catch(j){if(j.code!==Logger.errors.INVALID_ARGUMENT)throw j}return logger$m.throwArgumentError("invalid FixedNumber value","value",o)}static isFixedNumber(o){return!!(o&&o._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$g="properties/5.7.0";var __awaiter$8=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(ot){try{it(j.next(ot))}catch(st){tt(st)}}function nt(ot){try{it(j.throw(ot))}catch(st){tt(st)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(rt,nt)}it((j=j.apply($,o||[])).next())})};const logger$l=new Logger(version$g);function defineReadOnly($,o,a){Object.defineProperty($,o,{enumerable:!0,value:a,writable:!1})}function getStatic($,o){for(let a=0;a<32;a++){if($[o])return $[o];if(!$.prototype||typeof $.prototype!="object")break;$=Object.getPrototypeOf($.prototype).constructor}return null}function resolveProperties($){return __awaiter$8(this,void 0,void 0,function*(){const o=Object.keys($).map(j=>{const _e=$[j];return Promise.resolve(_e).then(et=>({key:j,value:et}))});return(yield Promise.all(o)).reduce((j,_e)=>(j[_e.key]=_e.value,j),{})})}function checkProperties($,o){(!$||typeof $!="object")&&logger$l.throwArgumentError("invalid object","object",$),Object.keys($).forEach(a=>{o[a]||logger$l.throwArgumentError("invalid object key - "+a,"transaction:"+a,$)})}function shallowCopy($){const o={};for(const a in $)o[a]=$[a];return o}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen($){if($==null||opaque[typeof $])return!0;if(Array.isArray($)||typeof $=="object"){if(!Object.isFrozen($))return!1;const o=Object.keys($);for(let a=0;a<o.length;a++){let j=null;try{j=$[o[a]]}catch{continue}if(!_isFrozen(j))return!1}return!0}return logger$l.throwArgumentError(`Cannot deepCopy ${typeof $}`,"object",$)}function _deepCopy($){if(_isFrozen($))return $;if(Array.isArray($))return Object.freeze($.map(o=>deepCopy(o)));if(typeof $=="object"){const o={};for(const a in $){const j=$[a];j!==void 0&&defineReadOnly(o,a,deepCopy(j))}return o}return logger$l.throwArgumentError(`Cannot deepCopy ${typeof $}`,"object",$)}function deepCopy($){return _deepCopy($)}class Description{constructor(o){for(const a in o)this[a]=deepCopy(o[a])}}const version$f="abi/5.7.0",logger$k=new Logger(version$f),_constructorGuard$1={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier($,o){if($==="bytes"||$==="string"){if(ModifiersBytes[o])return!0}else if($==="address"){if(o==="payable")return!0}else if(($.indexOf("[")>=0||$==="tuple")&&ModifiersNest[o])return!0;return(ModifiersBytes[o]||o==="payable")&&logger$k.throwArgumentError("invalid modifier","name",o),!1}function parseParamType($,o){let a=$;function j(rt){logger$k.throwArgumentError(`unexpected character at position ${rt}`,"param",$)}$=$.replace(/\s/g," ");function _e(rt){let nt={type:"",name:"",parent:rt,state:{allowType:!0}};return o&&(nt.indexed=!1),nt}let et={type:"",name:"",state:{allowType:!0}},tt=et;for(let rt=0;rt<$.length;rt++){let nt=$[rt];switch(nt){case"(":tt.state.allowType&&tt.type===""?tt.type="tuple":tt.state.allowParams||j(rt),tt.state.allowType=!1,tt.type=verifyType(tt.type),tt.components=[_e(tt)],tt=tt.components[0];break;case")":delete tt.state,tt.name==="indexed"&&(o||j(rt),tt.indexed=!0,tt.name=""),checkModifier(tt.type,tt.name)&&(tt.name=""),tt.type=verifyType(tt.type);let it=tt;tt=tt.parent,tt||j(rt),delete it.parent,tt.state.allowParams=!1,tt.state.allowName=!0,tt.state.allowArray=!0;break;case",":delete tt.state,tt.name==="indexed"&&(o||j(rt),tt.indexed=!0,tt.name=""),checkModifier(tt.type,tt.name)&&(tt.name=""),tt.type=verifyType(tt.type);let ot=_e(tt.parent);tt.parent.components.push(ot),delete tt.parent,tt=ot;break;case" ":tt.state.allowType&&tt.type!==""&&(tt.type=verifyType(tt.type),delete tt.state.allowType,tt.state.allowName=!0,tt.state.allowParams=!0),tt.state.allowName&&tt.name!==""&&(tt.name==="indexed"?(o||j(rt),tt.indexed&&j(rt),tt.indexed=!0,tt.name=""):checkModifier(tt.type,tt.name)?tt.name="":tt.state.allowName=!1);break;case"[":tt.state.allowArray||j(rt),tt.type+=nt,tt.state.allowArray=!1,tt.state.allowName=!1,tt.state.readArray=!0;break;case"]":tt.state.readArray||j(rt),tt.type+=nt,tt.state.readArray=!1,tt.state.allowArray=!0,tt.state.allowName=!0;break;default:tt.state.allowType?(tt.type+=nt,tt.state.allowParams=!0,tt.state.allowArray=!0):tt.state.allowName?(tt.name+=nt,delete tt.state.allowArray):tt.state.readArray?tt.type+=nt:j(rt)}}return tt.parent&&logger$k.throwArgumentError("unexpected eof","param",$),delete et.state,tt.name==="indexed"?(o||j(a.length-7),tt.indexed&&j(a.length-7),tt.indexed=!0,tt.name=""):checkModifier(tt.type,tt.name)&&(tt.name=""),et.type=verifyType(et.type),et}function populate($,o){for(let a in o)defineReadOnly($,a,o[a])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(o,a){o!==_constructorGuard$1&&logger$k.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,a);let j=this.type.match(paramTypeArray);j?populate(this,{arrayLength:parseInt(j[2]||"-1"),arrayChildren:ParamType.fromObject({type:j[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json){let j={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(j.indexed=this.indexed),this.components&&(j.components=this.components.map(_e=>JSON.parse(_e.format(o)))),JSON.stringify(j)}let a="";return this.baseType==="array"?(a+=this.arrayChildren.format(o),a+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(o!==FormatTypes.sighash&&(a+=this.type),a+="("+this.components.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+")"):a+=this.type,o!==FormatTypes.sighash&&(this.indexed===!0&&(a+=" indexed"),o===FormatTypes.full&&this.name&&(a+=" "+this.name)),a}static from(o,a){return typeof o=="string"?ParamType.fromString(o,a):ParamType.fromObject(o)}static fromObject(o){return ParamType.isParamType(o)?o:new ParamType(_constructorGuard$1,{name:o.name||null,type:verifyType(o.type),indexed:o.indexed==null?null:!!o.indexed,components:o.components?o.components.map(ParamType.fromObject):null})}static fromString(o,a){function j(_e){return ParamType.fromObject({name:_e.name,type:_e.type,indexed:_e.indexed,components:_e.components})}return j(parseParamType(o,!!a))}static isParamType(o){return!!(o!=null&&o._isParamType)}}function parseParams($,o){return splitNesting($).map(a=>ParamType.fromString(a,o))}class Fragment{constructor(o,a){o!==_constructorGuard$1&&logger$k.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,a),this._isFragment=!0,Object.freeze(this)}static from(o){return Fragment.isFragment(o)?o:typeof o=="string"?Fragment.fromString(o):Fragment.fromObject(o)}static fromObject(o){if(Fragment.isFragment(o))return o;switch(o.type){case"function":return FunctionFragment.fromObject(o);case"event":return EventFragment.fromObject(o);case"constructor":return ConstructorFragment.fromObject(o);case"error":return ErrorFragment.fromObject(o);case"fallback":case"receive":return null}return logger$k.throwArgumentError("invalid fragment object","value",o)}static fromString(o){return o=o.replace(/\s/g," "),o=o.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),o=o.trim(),o.split(" ")[0]==="event"?EventFragment.fromString(o.substring(5).trim()):o.split(" ")[0]==="function"?FunctionFragment.fromString(o.substring(8).trim()):o.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(o.trim()):o.split(" ")[0]==="error"?ErrorFragment.fromString(o.substring(5).trim()):logger$k.throwArgumentError("unsupported fragment","value",o)}static isFragment(o){return!!(o&&o._isFragment)}}class EventFragment extends Fragment{format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(j=>JSON.parse(j.format(o)))});let a="";return o!==FormatTypes.sighash&&(a+="event "),a+=this.name+"("+this.inputs.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+") ",o!==FormatTypes.sighash&&this.anonymous&&(a+="anonymous "),a.trim()}static from(o){return typeof o=="string"?EventFragment.fromString(o):EventFragment.fromObject(o)}static fromObject(o){if(EventFragment.isEventFragment(o))return o;o.type!=="event"&&logger$k.throwArgumentError("invalid event object","value",o);const a={name:verifyIdentifier(o.name),anonymous:o.anonymous,inputs:o.inputs?o.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$1,a)}static fromString(o){let a=o.match(regexParen);a||logger$k.throwArgumentError("invalid event string","value",o);let j=!1;return a[3].split(" ").forEach(_e=>{switch(_e.trim()){case"anonymous":j=!0;break;case"":break;default:logger$k.warn("unknown modifier: "+_e)}}),EventFragment.fromObject({name:a[1].trim(),anonymous:j,inputs:parseParams(a[2],!0),type:"event"})}static isEventFragment(o){return o&&o._isFragment&&o.type==="event"}}function parseGas($,o){o.gas=null;let a=$.split("@");return a.length!==1?(a.length>2&&logger$k.throwArgumentError("invalid human-readable ABI signature","value",$),a[1].match(/^[0-9]+$/)||logger$k.throwArgumentError("invalid human-readable ABI signature gas","value",$),o.gas=BigNumber.from(a[1]),a[0]):$}function parseModifiers($,o){o.constant=!1,o.payable=!1,o.stateMutability="nonpayable",$.split(" ").forEach(a=>{switch(a.trim()){case"constant":o.constant=!0;break;case"payable":o.payable=!0,o.stateMutability="payable";break;case"nonpayable":o.payable=!1,o.stateMutability="nonpayable";break;case"pure":o.constant=!0,o.stateMutability="pure";break;case"view":o.constant=!0,o.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+a)}})}function verifyState($){let o={constant:!1,payable:!0,stateMutability:"payable"};return $.stateMutability!=null?(o.stateMutability=$.stateMutability,o.constant=o.stateMutability==="view"||o.stateMutability==="pure",$.constant!=null&&!!$.constant!==o.constant&&logger$k.throwArgumentError("cannot have constant function with mutability "+o.stateMutability,"value",$),o.payable=o.stateMutability==="payable",$.payable!=null&&!!$.payable!==o.payable&&logger$k.throwArgumentError("cannot have payable function with mutability "+o.stateMutability,"value",$)):$.payable!=null?(o.payable=!!$.payable,$.constant==null&&!o.payable&&$.type!=="constructor"&&logger$k.throwArgumentError("unable to determine stateMutability","value",$),o.constant=!!$.constant,o.constant?o.stateMutability="view":o.stateMutability=o.payable?"payable":"nonpayable",o.payable&&o.constant&&logger$k.throwArgumentError("cannot have constant payable function","value",$)):$.constant!=null?(o.constant=!!$.constant,o.payable=!o.constant,o.stateMutability=o.constant?"view":"payable"):$.type!=="constructor"&&logger$k.throwArgumentError("unable to determine stateMutability","value",$),o}class ConstructorFragment extends Fragment{format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(j=>JSON.parse(j.format(o)))});o===FormatTypes.sighash&&logger$k.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let a="constructor("+this.inputs.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(a+=this.stateMutability+" "),a.trim()}static from(o){return typeof o=="string"?ConstructorFragment.fromString(o):ConstructorFragment.fromObject(o)}static fromObject(o){if(ConstructorFragment.isConstructorFragment(o))return o;o.type!=="constructor"&&logger$k.throwArgumentError("invalid constructor object","value",o);let a=verifyState(o);a.constant&&logger$k.throwArgumentError("constructor cannot be constant","value",o);const j={name:null,type:o.type,inputs:o.inputs?o.inputs.map(ParamType.fromObject):[],payable:a.payable,stateMutability:a.stateMutability,gas:o.gas?BigNumber.from(o.gas):null};return new ConstructorFragment(_constructorGuard$1,j)}static fromString(o){let a={type:"constructor"};o=parseGas(o,a);let j=o.match(regexParen);return(!j||j[1].trim()!=="constructor")&&logger$k.throwArgumentError("invalid constructor string","value",o),a.inputs=parseParams(j[2].trim(),!1),parseModifiers(j[3].trim(),a),ConstructorFragment.fromObject(a)}static isConstructorFragment(o){return o&&o._isFragment&&o.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(j=>JSON.parse(j.format(o))),outputs:this.outputs.map(j=>JSON.parse(j.format(o)))});let a="";return o!==FormatTypes.sighash&&(a+="function "),a+=this.name+"("+this.inputs.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+") ",o!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(a+=this.stateMutability+" "):this.constant&&(a+="view "),this.outputs&&this.outputs.length&&(a+="returns ("+this.outputs.map(j=>j.format(o)).join(", ")+") "),this.gas!=null&&(a+="@"+this.gas.toString()+" ")),a.trim()}static from(o){return typeof o=="string"?FunctionFragment.fromString(o):FunctionFragment.fromObject(o)}static fromObject(o){if(FunctionFragment.isFunctionFragment(o))return o;o.type!=="function"&&logger$k.throwArgumentError("invalid function object","value",o);let a=verifyState(o);const j={type:o.type,name:verifyIdentifier(o.name),constant:a.constant,inputs:o.inputs?o.inputs.map(ParamType.fromObject):[],outputs:o.outputs?o.outputs.map(ParamType.fromObject):[],payable:a.payable,stateMutability:a.stateMutability,gas:o.gas?BigNumber.from(o.gas):null};return new FunctionFragment(_constructorGuard$1,j)}static fromString(o){let a={type:"function"};o=parseGas(o,a);let j=o.split(" returns ");j.length>2&&logger$k.throwArgumentError("invalid function string","value",o);let _e=j[0].match(regexParen);if(_e||logger$k.throwArgumentError("invalid function signature","value",o),a.name=_e[1].trim(),a.name&&verifyIdentifier(a.name),a.inputs=parseParams(_e[2],!1),parseModifiers(_e[3].trim(),a),j.length>1){let et=j[1].match(regexParen);(et[1].trim()!=""||et[3].trim()!="")&&logger$k.throwArgumentError("unexpected tokens","value",o),a.outputs=parseParams(et[2],!1)}else a.outputs=[];return FunctionFragment.fromObject(a)}static isFunctionFragment(o){return o&&o._isFragment&&o.type==="function"}}function checkForbidden($){const o=$.format();return(o==="Error(string)"||o==="Panic(uint256)")&&logger$k.throwArgumentError(`cannot specify user defined ${o} error`,"fragment",$),$}class ErrorFragment extends Fragment{format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(j=>JSON.parse(j.format(o)))});let a="";return o!==FormatTypes.sighash&&(a+="error "),a+=this.name+"("+this.inputs.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+") ",a.trim()}static from(o){return typeof o=="string"?ErrorFragment.fromString(o):ErrorFragment.fromObject(o)}static fromObject(o){if(ErrorFragment.isErrorFragment(o))return o;o.type!=="error"&&logger$k.throwArgumentError("invalid error object","value",o);const a={type:o.type,name:verifyIdentifier(o.name),inputs:o.inputs?o.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$1,a))}static fromString(o){let a={type:"error"},j=o.match(regexParen);return j||logger$k.throwArgumentError("invalid error signature","value",o),a.name=j[1].trim(),a.name&&verifyIdentifier(a.name),a.inputs=parseParams(j[2],!1),checkForbidden(ErrorFragment.fromObject(a))}static isErrorFragment(o){return o&&o._isFragment&&o.type==="error"}}function verifyType($){return $.match(/^uint($|[^1-9])/)?$="uint256"+$.substring(4):$.match(/^int($|[^1-9])/)&&($="int256"+$.substring(3)),$}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier($){return(!$||!$.match(regexIdentifier))&&logger$k.throwArgumentError(`invalid identifier "${$}"`,"value",$),$}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting($){$=$.trim();let o=[],a="",j=0;for(let _e=0;_e<$.length;_e++){let et=$[_e];et===","&&j===0?(o.push(a),a=""):(a+=et,et==="("?j++:et===")"&&(j--,j===-1&&logger$k.throwArgumentError("unbalanced parenthesis","value",$)))}return a&&o.push(a),o}const logger$j=new Logger(version$f);function checkResultErrors($){const o=[],a=function(j,_e){if(Array.isArray(_e))for(let et in _e){const tt=j.slice();tt.push(et);try{a(tt,_e[et])}catch(rt){o.push({path:tt,error:rt})}}};return a([],$),o}class Coder{constructor(o,a,j,_e){this.name=o,this.type=a,this.localName=j,this.dynamic=_e}_throwError(o,a){logger$j.throwArgumentError(o,this.localName,a)}}let Writer$2=class{constructor(o){defineReadOnly(this,"wordSize",o||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(o)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(o){return this._data.push(o),this._dataLength+=o.length,o.length}appendWriter(o){return this._writeData(concat$3(o._data))}writeBytes(o){let a=arrayify(o);const j=a.length%this.wordSize;return j&&(a=concat$3([a,this._padding.slice(j)])),this._writeData(a)}_getValue(o){let a=arrayify(BigNumber.from(o));return a.length>this.wordSize&&logger$j.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:a.length}),a.length%this.wordSize&&(a=concat$3([this._padding.slice(a.length%this.wordSize),a])),a}writeValue(o){return this._writeData(this._getValue(o))}writeUpdatableValue(){const o=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,a=>{this._data[o]=this._getValue(a)}}},Reader$2=class Ku{constructor(o,a,j,_e){defineReadOnly(this,"_data",arrayify(o)),defineReadOnly(this,"wordSize",a||32),defineReadOnly(this,"_coerceFunc",j),defineReadOnly(this,"allowLoose",_e),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(o,a){let j=o.match("^u?int([0-9]+)$");return j&&parseInt(j[1])<=48&&(a=a.toNumber()),a}coerce(o,a){return this._coerceFunc?this._coerceFunc(o,a):Ku.coerce(o,a)}_peekBytes(o,a,j){let _e=Math.ceil(a/this.wordSize)*this.wordSize;return this._offset+_e>this._data.length&&(this.allowLoose&&j&&this._offset+a<=this._data.length?_e=a:logger$j.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+_e})),this._data.slice(this._offset,this._offset+_e)}subReader(o){return new Ku(this._data.slice(this._offset+o),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(o,a){let j=this._peekBytes(0,o,!!a);return this._offset+=j.length,j.slice(0,o)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}};var sha3$1={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function($){(function(){var o="input is invalid type",a="finalize already called",j=typeof window=="object",_e=j?window:{};_e.JS_SHA3_NO_WINDOW&&(j=!1);var et=!j&&typeof self=="object",tt=!_e.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;tt?_e=commonjsGlobal:et&&(_e=self);var rt=!_e.JS_SHA3_NO_COMMON_JS&&!0&&$.exports,nt=!_e.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",it="0123456789abcdef".split(""),ot=[31,7936,2031616,520093696],st=[4,1024,262144,67108864],ct=[1,256,65536,16777216],ut=[6,1536,393216,100663296],dt=[0,8,16,24],ft=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],ht=[224,256,384,512],pt=[128,256],yt=["hex","buffer","arrayBuffer","array","digest"],gt={128:168,256:136};(_e.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Rt){return Object.prototype.toString.call(Rt)==="[object Array]"}),nt&&(_e.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Rt){return typeof Rt=="object"&&Rt.buffer&&Rt.buffer.constructor===ArrayBuffer});for(var xt=function(Rt,Zt,ir){return function(sr){return new At(Rt,Zt,Rt).update(sr)[ir]()}},wt=function(Rt,Zt,ir){return function(sr,pr){return new At(Rt,Zt,pr).update(sr)[ir]()}},Mt=function(Rt,Zt,ir){return function(sr,pr,_r,fr){return vt["cshake"+Rt].update(sr,pr,_r,fr)[ir]()}},It=function(Rt,Zt,ir){return function(sr,pr,_r,fr){return vt["kmac"+Rt].update(sr,pr,_r,fr)[ir]()}},Tt=function(Rt,Zt,ir,sr){for(var pr=0;pr<yt.length;++pr){var _r=yt[pr];Rt[_r]=Zt(ir,sr,_r)}return Rt},Dt=function(Rt,Zt){var ir=xt(Rt,Zt,"hex");return ir.create=function(){return new At(Rt,Zt,Rt)},ir.update=function(sr){return ir.create().update(sr)},Tt(ir,xt,Rt,Zt)},Ut=function(Rt,Zt){var ir=wt(Rt,Zt,"hex");return ir.create=function(sr){return new At(Rt,Zt,sr)},ir.update=function(sr,pr){return ir.create(pr).update(sr)},Tt(ir,wt,Rt,Zt)},jt=function(Rt,Zt){var ir=gt[Rt],sr=Mt(Rt,Zt,"hex");return sr.create=function(pr,_r,fr){return!_r&&!fr?vt["shake"+Rt].create(pr):new At(Rt,Zt,pr).bytepad([_r,fr],ir)},sr.update=function(pr,_r,fr,nr){return sr.create(_r,fr,nr).update(pr)},Tt(sr,Mt,Rt,Zt)},Xt=function(Rt,Zt){var ir=gt[Rt],sr=It(Rt,Zt,"hex");return sr.create=function(pr,_r,fr){return new Ht(Rt,Zt,_r).bytepad(["KMAC",fr],ir).bytepad([pr],ir)},sr.update=function(pr,_r,fr,nr){return sr.create(pr,fr,nr).update(_r)},Tt(sr,It,Rt,Zt)},kt=[{name:"keccak",padding:ct,bits:ht,createMethod:Dt},{name:"sha3",padding:ut,bits:ht,createMethod:Dt},{name:"shake",padding:ot,bits:pt,createMethod:Ut},{name:"cshake",padding:st,bits:pt,createMethod:jt},{name:"kmac",padding:st,bits:pt,createMethod:Xt}],vt={},Et=[],Lt=0;Lt<kt.length;++Lt)for(var Ot=kt[Lt],Pt=Ot.bits,zt=0;zt<Pt.length;++zt){var Vt=Ot.name+"_"+Pt[zt];if(Et.push(Vt),vt[Vt]=Ot.createMethod(Pt[zt],Ot.padding),Ot.name!=="sha3"){var $t=Ot.name+Pt[zt];Et.push($t),vt[$t]=vt[Vt]}}function At(Rt,Zt,ir){this.blocks=[],this.s=[],this.padding=Zt,this.outputBits=ir,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Rt<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ir>>5,this.extraBytes=(ir&31)>>3;for(var sr=0;sr<50;++sr)this.s[sr]=0}At.prototype.update=function(Rt){if(this.finalized)throw new Error(a);var Zt,ir=typeof Rt;if(ir!=="string"){if(ir==="object"){if(Rt===null)throw new Error(o);if(nt&&Rt.constructor===ArrayBuffer)Rt=new Uint8Array(Rt);else if(!Array.isArray(Rt)&&(!nt||!ArrayBuffer.isView(Rt)))throw new Error(o)}else throw new Error(o);Zt=!0}for(var sr=this.blocks,pr=this.byteCount,_r=Rt.length,fr=this.blockCount,nr=0,lr=this.s,cr,Ar;nr<_r;){if(this.reset)for(this.reset=!1,sr[0]=this.block,cr=1;cr<fr+1;++cr)sr[cr]=0;if(Zt)for(cr=this.start;nr<_r&&cr<pr;++nr)sr[cr>>2]|=Rt[nr]<<dt[cr++&3];else for(cr=this.start;nr<_r&&cr<pr;++nr)Ar=Rt.charCodeAt(nr),Ar<128?sr[cr>>2]|=Ar<<dt[cr++&3]:Ar<2048?(sr[cr>>2]|=(192|Ar>>6)<<dt[cr++&3],sr[cr>>2]|=(128|Ar&63)<<dt[cr++&3]):Ar<55296||Ar>=57344?(sr[cr>>2]|=(224|Ar>>12)<<dt[cr++&3],sr[cr>>2]|=(128|Ar>>6&63)<<dt[cr++&3],sr[cr>>2]|=(128|Ar&63)<<dt[cr++&3]):(Ar=65536+((Ar&1023)<<10|Rt.charCodeAt(++nr)&1023),sr[cr>>2]|=(240|Ar>>18)<<dt[cr++&3],sr[cr>>2]|=(128|Ar>>12&63)<<dt[cr++&3],sr[cr>>2]|=(128|Ar>>6&63)<<dt[cr++&3],sr[cr>>2]|=(128|Ar&63)<<dt[cr++&3]);if(this.lastByteIndex=cr,cr>=pr){for(this.start=cr-pr,this.block=sr[fr],cr=0;cr<fr;++cr)lr[cr]^=sr[cr];ar(lr),this.reset=!0}else this.start=cr}return this},At.prototype.encode=function(Rt,Zt){var ir=Rt&255,sr=1,pr=[ir];for(Rt=Rt>>8,ir=Rt&255;ir>0;)pr.unshift(ir),Rt=Rt>>8,ir=Rt&255,++sr;return Zt?pr.push(sr):pr.unshift(sr),this.update(pr),pr.length},At.prototype.encodeString=function(Rt){var Zt,ir=typeof Rt;if(ir!=="string"){if(ir==="object"){if(Rt===null)throw new Error(o);if(nt&&Rt.constructor===ArrayBuffer)Rt=new Uint8Array(Rt);else if(!Array.isArray(Rt)&&(!nt||!ArrayBuffer.isView(Rt)))throw new Error(o)}else throw new Error(o);Zt=!0}var sr=0,pr=Rt.length;if(Zt)sr=pr;else for(var _r=0;_r<Rt.length;++_r){var fr=Rt.charCodeAt(_r);fr<128?sr+=1:fr<2048?sr+=2:fr<55296||fr>=57344?sr+=3:(fr=65536+((fr&1023)<<10|Rt.charCodeAt(++_r)&1023),sr+=4)}return sr+=this.encode(sr*8),this.update(Rt),sr},At.prototype.bytepad=function(Rt,Zt){for(var ir=this.encode(Zt),sr=0;sr<Rt.length;++sr)ir+=this.encodeString(Rt[sr]);var pr=Zt-ir%Zt,_r=[];return _r.length=pr,this.update(_r),this},At.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Rt=this.blocks,Zt=this.lastByteIndex,ir=this.blockCount,sr=this.s;if(Rt[Zt>>2]|=this.padding[Zt&3],this.lastByteIndex===this.byteCount)for(Rt[0]=Rt[ir],Zt=1;Zt<ir+1;++Zt)Rt[Zt]=0;for(Rt[ir-1]|=2147483648,Zt=0;Zt<ir;++Zt)sr[Zt]^=Rt[Zt];ar(sr)}},At.prototype.toString=At.prototype.hex=function(){this.finalize();for(var Rt=this.blockCount,Zt=this.s,ir=this.outputBlocks,sr=this.extraBytes,pr=0,_r=0,fr="",nr;_r<ir;){for(pr=0;pr<Rt&&_r<ir;++pr,++_r)nr=Zt[pr],fr+=it[nr>>4&15]+it[nr&15]+it[nr>>12&15]+it[nr>>8&15]+it[nr>>20&15]+it[nr>>16&15]+it[nr>>28&15]+it[nr>>24&15];_r%Rt===0&&(ar(Zt),pr=0)}return sr&&(nr=Zt[pr],fr+=it[nr>>4&15]+it[nr&15],sr>1&&(fr+=it[nr>>12&15]+it[nr>>8&15]),sr>2&&(fr+=it[nr>>20&15]+it[nr>>16&15])),fr},At.prototype.arrayBuffer=function(){this.finalize();var Rt=this.blockCount,Zt=this.s,ir=this.outputBlocks,sr=this.extraBytes,pr=0,_r=0,fr=this.outputBits>>3,nr;sr?nr=new ArrayBuffer(ir+1<<2):nr=new ArrayBuffer(fr);for(var lr=new Uint32Array(nr);_r<ir;){for(pr=0;pr<Rt&&_r<ir;++pr,++_r)lr[_r]=Zt[pr];_r%Rt===0&&ar(Zt)}return sr&&(lr[pr]=Zt[pr],nr=nr.slice(0,fr)),nr},At.prototype.buffer=At.prototype.arrayBuffer,At.prototype.digest=At.prototype.array=function(){this.finalize();for(var Rt=this.blockCount,Zt=this.s,ir=this.outputBlocks,sr=this.extraBytes,pr=0,_r=0,fr=[],nr,lr;_r<ir;){for(pr=0;pr<Rt&&_r<ir;++pr,++_r)nr=_r<<2,lr=Zt[pr],fr[nr]=lr&255,fr[nr+1]=lr>>8&255,fr[nr+2]=lr>>16&255,fr[nr+3]=lr>>24&255;_r%Rt===0&&ar(Zt)}return sr&&(nr=_r<<2,lr=Zt[pr],fr[nr]=lr&255,sr>1&&(fr[nr+1]=lr>>8&255),sr>2&&(fr[nr+2]=lr>>16&255)),fr};function Ht(Rt,Zt,ir){At.call(this,Rt,Zt,ir)}Ht.prototype=new At,Ht.prototype.finalize=function(){return this.encode(this.outputBits,!0),At.prototype.finalize.call(this)};var ar=function(Rt){var Zt,ir,sr,pr,_r,fr,nr,lr,cr,Ar,kr,Dr,Lr,Ur,Or,Nr,Jt,Wt,ur,Pr,Tr,Ft,St,Ct,Gt,Qt,rr,er,Cr,Br,Yt,br,Rr,tr,xr,Er,Ir,Hr,Xr,qr,dn,rn,Qr,_n,on,xn,mo,vn,Kt,gr,yr,hr,Mr,$r,Vr,en,Wr,Kr,tn,nn,yn,Mn,Dn;for(sr=0;sr<48;sr+=2)pr=Rt[0]^Rt[10]^Rt[20]^Rt[30]^Rt[40],_r=Rt[1]^Rt[11]^Rt[21]^Rt[31]^Rt[41],fr=Rt[2]^Rt[12]^Rt[22]^Rt[32]^Rt[42],nr=Rt[3]^Rt[13]^Rt[23]^Rt[33]^Rt[43],lr=Rt[4]^Rt[14]^Rt[24]^Rt[34]^Rt[44],cr=Rt[5]^Rt[15]^Rt[25]^Rt[35]^Rt[45],Ar=Rt[6]^Rt[16]^Rt[26]^Rt[36]^Rt[46],kr=Rt[7]^Rt[17]^Rt[27]^Rt[37]^Rt[47],Dr=Rt[8]^Rt[18]^Rt[28]^Rt[38]^Rt[48],Lr=Rt[9]^Rt[19]^Rt[29]^Rt[39]^Rt[49],Zt=Dr^(fr<<1|nr>>>31),ir=Lr^(nr<<1|fr>>>31),Rt[0]^=Zt,Rt[1]^=ir,Rt[10]^=Zt,Rt[11]^=ir,Rt[20]^=Zt,Rt[21]^=ir,Rt[30]^=Zt,Rt[31]^=ir,Rt[40]^=Zt,Rt[41]^=ir,Zt=pr^(lr<<1|cr>>>31),ir=_r^(cr<<1|lr>>>31),Rt[2]^=Zt,Rt[3]^=ir,Rt[12]^=Zt,Rt[13]^=ir,Rt[22]^=Zt,Rt[23]^=ir,Rt[32]^=Zt,Rt[33]^=ir,Rt[42]^=Zt,Rt[43]^=ir,Zt=fr^(Ar<<1|kr>>>31),ir=nr^(kr<<1|Ar>>>31),Rt[4]^=Zt,Rt[5]^=ir,Rt[14]^=Zt,Rt[15]^=ir,Rt[24]^=Zt,Rt[25]^=ir,Rt[34]^=Zt,Rt[35]^=ir,Rt[44]^=Zt,Rt[45]^=ir,Zt=lr^(Dr<<1|Lr>>>31),ir=cr^(Lr<<1|Dr>>>31),Rt[6]^=Zt,Rt[7]^=ir,Rt[16]^=Zt,Rt[17]^=ir,Rt[26]^=Zt,Rt[27]^=ir,Rt[36]^=Zt,Rt[37]^=ir,Rt[46]^=Zt,Rt[47]^=ir,Zt=Ar^(pr<<1|_r>>>31),ir=kr^(_r<<1|pr>>>31),Rt[8]^=Zt,Rt[9]^=ir,Rt[18]^=Zt,Rt[19]^=ir,Rt[28]^=Zt,Rt[29]^=ir,Rt[38]^=Zt,Rt[39]^=ir,Rt[48]^=Zt,Rt[49]^=ir,Ur=Rt[0],Or=Rt[1],xn=Rt[11]<<4|Rt[10]>>>28,mo=Rt[10]<<4|Rt[11]>>>28,er=Rt[20]<<3|Rt[21]>>>29,Cr=Rt[21]<<3|Rt[20]>>>29,nn=Rt[31]<<9|Rt[30]>>>23,yn=Rt[30]<<9|Rt[31]>>>23,rn=Rt[40]<<18|Rt[41]>>>14,Qr=Rt[41]<<18|Rt[40]>>>14,tr=Rt[2]<<1|Rt[3]>>>31,xr=Rt[3]<<1|Rt[2]>>>31,Nr=Rt[13]<<12|Rt[12]>>>20,Jt=Rt[12]<<12|Rt[13]>>>20,vn=Rt[22]<<10|Rt[23]>>>22,Kt=Rt[23]<<10|Rt[22]>>>22,Br=Rt[33]<<13|Rt[32]>>>19,Yt=Rt[32]<<13|Rt[33]>>>19,Mn=Rt[42]<<2|Rt[43]>>>30,Dn=Rt[43]<<2|Rt[42]>>>30,$r=Rt[5]<<30|Rt[4]>>>2,Vr=Rt[4]<<30|Rt[5]>>>2,Er=Rt[14]<<6|Rt[15]>>>26,Ir=Rt[15]<<6|Rt[14]>>>26,Wt=Rt[25]<<11|Rt[24]>>>21,ur=Rt[24]<<11|Rt[25]>>>21,gr=Rt[34]<<15|Rt[35]>>>17,yr=Rt[35]<<15|Rt[34]>>>17,br=Rt[45]<<29|Rt[44]>>>3,Rr=Rt[44]<<29|Rt[45]>>>3,Ct=Rt[6]<<28|Rt[7]>>>4,Gt=Rt[7]<<28|Rt[6]>>>4,en=Rt[17]<<23|Rt[16]>>>9,Wr=Rt[16]<<23|Rt[17]>>>9,Hr=Rt[26]<<25|Rt[27]>>>7,Xr=Rt[27]<<25|Rt[26]>>>7,Pr=Rt[36]<<21|Rt[37]>>>11,Tr=Rt[37]<<21|Rt[36]>>>11,hr=Rt[47]<<24|Rt[46]>>>8,Mr=Rt[46]<<24|Rt[47]>>>8,_n=Rt[8]<<27|Rt[9]>>>5,on=Rt[9]<<27|Rt[8]>>>5,Qt=Rt[18]<<20|Rt[19]>>>12,rr=Rt[19]<<20|Rt[18]>>>12,Kr=Rt[29]<<7|Rt[28]>>>25,tn=Rt[28]<<7|Rt[29]>>>25,qr=Rt[38]<<8|Rt[39]>>>24,dn=Rt[39]<<8|Rt[38]>>>24,Ft=Rt[48]<<14|Rt[49]>>>18,St=Rt[49]<<14|Rt[48]>>>18,Rt[0]=Ur^~Nr&Wt,Rt[1]=Or^~Jt&ur,Rt[10]=Ct^~Qt&er,Rt[11]=Gt^~rr&Cr,Rt[20]=tr^~Er&Hr,Rt[21]=xr^~Ir&Xr,Rt[30]=_n^~xn&vn,Rt[31]=on^~mo&Kt,Rt[40]=$r^~en&Kr,Rt[41]=Vr^~Wr&tn,Rt[2]=Nr^~Wt&Pr,Rt[3]=Jt^~ur&Tr,Rt[12]=Qt^~er&Br,Rt[13]=rr^~Cr&Yt,Rt[22]=Er^~Hr&qr,Rt[23]=Ir^~Xr&dn,Rt[32]=xn^~vn&gr,Rt[33]=mo^~Kt&yr,Rt[42]=en^~Kr&nn,Rt[43]=Wr^~tn&yn,Rt[4]=Wt^~Pr&Ft,Rt[5]=ur^~Tr&St,Rt[14]=er^~Br&br,Rt[15]=Cr^~Yt&Rr,Rt[24]=Hr^~qr&rn,Rt[25]=Xr^~dn&Qr,Rt[34]=vn^~gr&hr,Rt[35]=Kt^~yr&Mr,Rt[44]=Kr^~nn&Mn,Rt[45]=tn^~yn&Dn,Rt[6]=Pr^~Ft&Ur,Rt[7]=Tr^~St&Or,Rt[16]=Br^~br&Ct,Rt[17]=Yt^~Rr&Gt,Rt[26]=qr^~rn&tr,Rt[27]=dn^~Qr&xr,Rt[36]=gr^~hr&_n,Rt[37]=yr^~Mr&on,Rt[46]=nn^~Mn&$r,Rt[47]=yn^~Dn&Vr,Rt[8]=Ft^~Ur&Nr,Rt[9]=St^~Or&Jt,Rt[18]=br^~Ct&Qt,Rt[19]=Rr^~Gt&rr,Rt[28]=rn^~tr&Er,Rt[29]=Qr^~xr&Ir,Rt[38]=hr^~_n&xn,Rt[39]=Mr^~on&mo,Rt[48]=Mn^~$r&en,Rt[49]=Dn^~Vr&Wr,Rt[0]^=ft[sr],Rt[1]^=ft[sr+1]};if(rt)$.exports=vt;else for(Lt=0;Lt<Et.length;++Lt)_e[Et[Lt]]=vt[Et[Lt]]})()})(sha3$1);var sha3Exports=sha3$1.exports;const sha3=getDefaultExportFromCjs(sha3Exports);function keccak256($){return"0x"+sha3.keccak_256(arrayify($))}const version$e="rlp/5.7.0",logger$i=new Logger(version$e);function arrayifyInteger($){const o=[];for(;$;)o.unshift($&255),$>>=8;return o}function unarrayifyInteger($,o,a){let j=0;for(let _e=0;_e<a;_e++)j=j*256+$[o+_e];return j}function _encode($){if(Array.isArray($)){let j=[];if($.forEach(function(et){j=j.concat(_encode(et))}),j.length<=55)return j.unshift(192+j.length),j;const _e=arrayifyInteger(j.length);return _e.unshift(247+_e.length),_e.concat(j)}isBytesLike($)||logger$i.throwArgumentError("RLP object must be BytesLike","object",$);const o=Array.prototype.slice.call(arrayify($));if(o.length===1&&o[0]<=127)return o;if(o.length<=55)return o.unshift(128+o.length),o;const a=arrayifyInteger(o.length);return a.unshift(183+a.length),a.concat(o)}function encode$c($){return hexlify(_encode($))}function _decodeChildren($,o,a,j){const _e=[];for(;a<o+1+j;){const et=_decode($,a);_e.push(et.result),a+=et.consumed,a>o+1+j&&logger$i.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+j,result:_e}}function _decode($,o){if($.length===0&&logger$i.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),$[o]>=248){const a=$[o]-247;o+1+a>$.length&&logger$i.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const j=unarrayifyInteger($,o+1,a);return o+1+a+j>$.length&&logger$i.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren($,o,o+1+a,a+j)}else if($[o]>=192){const a=$[o]-192;return o+1+a>$.length&&logger$i.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren($,o,o+1,a)}else if($[o]>=184){const a=$[o]-183;o+1+a>$.length&&logger$i.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const j=unarrayifyInteger($,o+1,a);o+1+a+j>$.length&&logger$i.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const _e=hexlify($.slice(o+1+a,o+1+a+j));return{consumed:1+a+j,result:_e}}else if($[o]>=128){const a=$[o]-128;o+1+a>$.length&&logger$i.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const j=hexlify($.slice(o+1,o+1+a));return{consumed:1+a,result:j}}return{consumed:1,result:hexlify($[o])}}function decode$d($){const o=arrayify($),a=_decode(o,0);return a.consumed!==o.length&&logger$i.throwArgumentError("invalid rlp data","data",$),a.result}const version$d="address/5.7.0",logger$h=new Logger(version$d);function getChecksumAddress($){isHexString($,20)||logger$h.throwArgumentError("invalid address","address",$),$=$.toLowerCase();const o=$.substring(2).split(""),a=new Uint8Array(40);for(let _e=0;_e<40;_e++)a[_e]=o[_e].charCodeAt(0);const j=arrayify(keccak256(a));for(let _e=0;_e<40;_e+=2)j[_e>>1]>>4>=8&&(o[_e]=o[_e].toUpperCase()),(j[_e>>1]&15)>=8&&(o[_e+1]=o[_e+1].toUpperCase());return"0x"+o.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10($){return Math.log10?Math.log10($):Math.log($)/Math.LN10}const ibanLookup={};for(let $=0;$<10;$++)ibanLookup[String($)]=String($);for(let $=0;$<26;$++)ibanLookup[String.fromCharCode(65+$)]=String(10+$);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum($){$=$.toUpperCase(),$=$.substring(4)+$.substring(0,2)+"00";let o=$.split("").map(j=>ibanLookup[j]).join("");for(;o.length>=safeDigits;){let j=o.substring(0,safeDigits);o=parseInt(j,10)%97+o.substring(j.length)}let a=String(98-parseInt(o,10)%97);for(;a.length<2;)a="0"+a;return a}function getAddress($){let o=null;if(typeof $!="string"&&logger$h.throwArgumentError("invalid address","address",$),$.match(/^(0x)?[0-9a-fA-F]{40}$/))$.substring(0,2)!=="0x"&&($="0x"+$),o=getChecksumAddress($),$.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&o!==$&&logger$h.throwArgumentError("bad address checksum","address",$);else if($.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for($.substring(2,4)!==ibanChecksum($)&&logger$h.throwArgumentError("bad icap checksum","address",$),o=_base36To16($.substring(4));o.length<40;)o="0"+o;o=getChecksumAddress("0x"+o)}else logger$h.throwArgumentError("invalid address","address",$);return o}function getContractAddress($){let o=null;try{o=getAddress($.from)}catch{logger$h.throwArgumentError("missing from address","transaction",$)}const a=stripZeros(arrayify(BigNumber.from($.nonce).toHexString()));return getAddress(hexDataSlice(keccak256(encode$c([o,a])),12))}class AddressCoder extends Coder{constructor(o){super("address","address",o,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(o,a){try{a=getAddress(a)}catch(j){this._throwError(j.message,a)}return o.writeValue(a)}decode(o){return getAddress(hexZeroPad(o.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(o){super(o.name,o.type,void 0,o.dynamic),this.coder=o}defaultValue(){return this.coder.defaultValue()}encode(o,a){return this.coder.encode(o,a)}decode(o){return this.coder.decode(o)}}const logger$g=new Logger(version$f);function pack$1($,o,a){let j=null;if(Array.isArray(a))j=a;else if(a&&typeof a=="object"){let nt={};j=o.map(it=>{const ot=it.localName;return ot||logger$g.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:it,value:a}),nt[ot]&&logger$g.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:it,value:a}),nt[ot]=!0,a[ot]})}else logger$g.throwArgumentError("invalid tuple value","tuple",a);o.length!==j.length&&logger$g.throwArgumentError("types/value length mismatch","tuple",a);let _e=new Writer$2($.wordSize),et=new Writer$2($.wordSize),tt=[];o.forEach((nt,it)=>{let ot=j[it];if(nt.dynamic){let st=et.length;nt.encode(et,ot);let ct=_e.writeUpdatableValue();tt.push(ut=>{ct(ut+st)})}else nt.encode(_e,ot)}),tt.forEach(nt=>{nt(_e.length)});let rt=$.appendWriter(_e);return rt+=$.appendWriter(et),rt}function unpack($,o){let a=[],j=$.subReader(0);o.forEach(et=>{let tt=null;if(et.dynamic){let rt=$.readValue(),nt=j.subReader(rt.toNumber());try{tt=et.decode(nt)}catch(it){if(it.code===Logger.errors.BUFFER_OVERRUN)throw it;tt=it,tt.baseType=et.name,tt.name=et.localName,tt.type=et.type}}else try{tt=et.decode($)}catch(rt){if(rt.code===Logger.errors.BUFFER_OVERRUN)throw rt;tt=rt,tt.baseType=et.name,tt.name=et.localName,tt.type=et.type}tt!=null&&a.push(tt)});const _e=o.reduce((et,tt)=>{const rt=tt.localName;return rt&&(et[rt]||(et[rt]=0),et[rt]++),et},{});o.forEach((et,tt)=>{let rt=et.localName;if(!rt||_e[rt]!==1||(rt==="length"&&(rt="_length"),a[rt]!=null))return;const nt=a[tt];nt instanceof Error?Object.defineProperty(a,rt,{enumerable:!0,get:()=>{throw nt}}):a[rt]=nt});for(let et=0;et<a.length;et++){const tt=a[et];tt instanceof Error&&Object.defineProperty(a,et,{enumerable:!0,get:()=>{throw tt}})}return Object.freeze(a)}class ArrayCoder extends Coder{constructor(o,a,j){const _e=o.type+"["+(a>=0?a:"")+"]",et=a===-1||o.dynamic;super("array",_e,j,et),this.coder=o,this.length=a}defaultValue(){const o=this.coder.defaultValue(),a=[];for(let j=0;j<this.length;j++)a.push(o);return a}encode(o,a){Array.isArray(a)||this._throwError("expected array value",a);let j=this.length;j===-1&&(j=a.length,o.writeValue(a.length)),logger$g.checkArgumentCount(a.length,j,"coder array"+(this.localName?" "+this.localName:""));let _e=[];for(let et=0;et<a.length;et++)_e.push(this.coder);return pack$1(o,_e,a)}decode(o){let a=this.length;a===-1&&(a=o.readValue().toNumber(),a*32>o._data.length&&logger$g.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:o._data.length,count:a}));let j=[];for(let _e=0;_e<a;_e++)j.push(new AnonymousCoder(this.coder));return o.coerce(this.name,unpack(o,j))}}class BooleanCoder extends Coder{constructor(o){super("bool","bool",o,!1)}defaultValue(){return!1}encode(o,a){return o.writeValue(a?1:0)}decode(o){return o.coerce(this.type,!o.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(o,a){super(o,o,a,!0)}defaultValue(){return"0x"}encode(o,a){a=arrayify(a);let j=o.writeValue(a.length);return j+=o.writeBytes(a),j}decode(o){return o.readBytes(o.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(o){super("bytes",o)}decode(o){return o.coerce(this.name,hexlify(super.decode(o)))}}class FixedBytesCoder extends Coder{constructor(o,a){let j="bytes"+String(o);super(j,j,a,!1),this.size=o}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(o,a){let j=arrayify(a);return j.length!==this.size&&this._throwError("incorrect data length",a),o.writeBytes(j)}decode(o){return o.coerce(this.name,hexlify(o.readBytes(this.size)))}}class NullCoder extends Coder{constructor(o){super("null","",o,!1)}defaultValue(){return null}encode(o,a){return a!=null&&this._throwError("not null",a),o.writeBytes([])}decode(o){return o.readBytes(0),o.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(o,a,j){const _e=(a?"int":"uint")+o*8;super(_e,_e,j,!1),this.size=o,this.signed=a}defaultValue(){return 0}encode(o,a){let j=BigNumber.from(a),_e=MaxUint256$1.mask(o.wordSize*8);if(this.signed){let et=_e.mask(this.size*8-1);(j.gt(et)||j.lt(et.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",a)}else(j.lt(Zero$1)||j.gt(_e.mask(this.size*8)))&&this._throwError("value out-of-bounds",a);return j=j.toTwos(this.size*8).mask(this.size*8),this.signed&&(j=j.fromTwos(this.size*8).toTwos(8*o.wordSize)),o.writeValue(j)}decode(o){let a=o.readValue().mask(this.size*8);return this.signed&&(a=a.fromTwos(this.size*8)),o.coerce(this.name,a)}}const version$c="strings/5.7.0",logger$f=new Logger(version$c);var UnicodeNormalizationForm;(function($){$.current="",$.NFC="NFC",$.NFD="NFD",$.NFKC="NFKC",$.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function($){$.UNEXPECTED_CONTINUE="unexpected continuation byte",$.BAD_PREFIX="bad codepoint prefix",$.OVERRUN="string overrun",$.MISSING_CONTINUE="missing continuation byte",$.OUT_OF_RANGE="out of UTF-8 range",$.UTF16_SURROGATE="UTF-16 surrogate",$.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc($,o,a,j,_e){return logger$f.throwArgumentError(`invalid codepoint at offset ${o}; ${$}`,"bytes",a)}function ignoreFunc($,o,a,j,_e){if($===Utf8ErrorReason.BAD_PREFIX||$===Utf8ErrorReason.UNEXPECTED_CONTINUE){let et=0;for(let tt=o+1;tt<a.length&&a[tt]>>6===2;tt++)et++;return et}return $===Utf8ErrorReason.OVERRUN?a.length-o-1:0}function replaceFunc($,o,a,j,_e){return $===Utf8ErrorReason.OVERLONG?(j.push(_e),0):(j.push(65533),ignoreFunc($,o,a))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints($,o){o==null&&(o=Utf8ErrorFuncs.error),$=arrayify($);const a=[];let j=0;for(;j<$.length;){const _e=$[j++];if(!(_e>>7)){a.push(_e);continue}let et=null,tt=null;if((_e&224)===192)et=1,tt=127;else if((_e&240)===224)et=2,tt=2047;else if((_e&248)===240)et=3,tt=65535;else{(_e&192)===128?j+=o(Utf8ErrorReason.UNEXPECTED_CONTINUE,j-1,$,a):j+=o(Utf8ErrorReason.BAD_PREFIX,j-1,$,a);continue}if(j-1+et>=$.length){j+=o(Utf8ErrorReason.OVERRUN,j-1,$,a);continue}let rt=_e&(1<<8-et-1)-1;for(let nt=0;nt<et;nt++){let it=$[j];if((it&192)!=128){j+=o(Utf8ErrorReason.MISSING_CONTINUE,j,$,a),rt=null;break}rt=rt<<6|it&63,j++}if(rt!==null){if(rt>1114111){j+=o(Utf8ErrorReason.OUT_OF_RANGE,j-1-et,$,a,rt);continue}if(rt>=55296&&rt<=57343){j+=o(Utf8ErrorReason.UTF16_SURROGATE,j-1-et,$,a,rt);continue}if(rt<=tt){j+=o(Utf8ErrorReason.OVERLONG,j-1-et,$,a,rt);continue}a.push(rt)}}return a}function toUtf8Bytes($,o=UnicodeNormalizationForm.current){o!=UnicodeNormalizationForm.current&&(logger$f.checkNormalize(),$=$.normalize(o));let a=[];for(let j=0;j<$.length;j++){const _e=$.charCodeAt(j);if(_e<128)a.push(_e);else if(_e<2048)a.push(_e>>6|192),a.push(_e&63|128);else if((_e&64512)==55296){j++;const et=$.charCodeAt(j);if(j>=$.length||(et&64512)!==56320)throw new Error("invalid utf-8 string");const tt=65536+((_e&1023)<<10)+(et&1023);a.push(tt>>18|240),a.push(tt>>12&63|128),a.push(tt>>6&63|128),a.push(tt&63|128)}else a.push(_e>>12|224),a.push(_e>>6&63|128),a.push(_e&63|128)}return arrayify(a)}function _toUtf8String($){return $.map(o=>o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10&1023)+55296,(o&1023)+56320))).join("")}function toUtf8String($,o){return _toUtf8String(getUtf8CodePoints($,o))}function toUtf8CodePoints($,o=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes($,o))}class StringCoder extends DynamicBytesCoder{constructor(o){super("string",o)}defaultValue(){return""}encode(o,a){return super.encode(o,toUtf8Bytes(a))}decode(o){return toUtf8String(super.decode(o))}}class TupleCoder extends Coder{constructor(o,a){let j=!1;const _e=[];o.forEach(tt=>{tt.dynamic&&(j=!0),_e.push(tt.type)});const et="tuple("+_e.join(",")+")";super("tuple",et,a,j),this.coders=o}defaultValue(){const o=[];this.coders.forEach(j=>{o.push(j.defaultValue())});const a=this.coders.reduce((j,_e)=>{const et=_e.localName;return et&&(j[et]||(j[et]=0),j[et]++),j},{});return this.coders.forEach((j,_e)=>{let et=j.localName;!et||a[et]!==1||(et==="length"&&(et="_length"),o[et]==null&&(o[et]=o[_e]))}),Object.freeze(o)}encode(o,a){return pack$1(o,this.coders,a)}decode(o){return o.coerce(this.name,unpack(o,this.coders))}}const logger$e=new Logger(version$f),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(o){defineReadOnly(this,"coerceFunc",o||null)}_getCoder(o){switch(o.baseType){case"address":return new AddressCoder(o.name);case"bool":return new BooleanCoder(o.name);case"string":return new StringCoder(o.name);case"bytes":return new BytesCoder(o.name);case"array":return new ArrayCoder(this._getCoder(o.arrayChildren),o.arrayLength,o.name);case"tuple":return new TupleCoder((o.components||[]).map(j=>this._getCoder(j)),o.name);case"":return new NullCoder(o.name)}let a=o.type.match(paramTypeNumber);if(a){let j=parseInt(a[2]||"256");return(j===0||j>256||j%8!==0)&&logger$e.throwArgumentError("invalid "+a[1]+" bit length","param",o),new NumberCoder(j/8,a[1]==="int",o.name)}if(a=o.type.match(paramTypeBytes),a){let j=parseInt(a[1]);return(j===0||j>32)&&logger$e.throwArgumentError("invalid bytes length","param",o),new FixedBytesCoder(j,o.name)}return logger$e.throwArgumentError("invalid type","type",o.type)}_getWordSize(){return 32}_getReader(o,a){return new Reader$2(o,this._getWordSize(),this.coerceFunc,a)}_getWriter(){return new Writer$2(this._getWordSize())}getDefaultValue(o){const a=o.map(_e=>this._getCoder(ParamType.from(_e)));return new TupleCoder(a,"_").defaultValue()}encode(o,a){o.length!==a.length&&logger$e.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:o.length,values:a.length},value:{types:o,values:a}});const j=o.map(tt=>this._getCoder(ParamType.from(tt))),_e=new TupleCoder(j,"_"),et=this._getWriter();return _e.encode(et,a),et.data}decode(o,a,j){const _e=o.map(tt=>this._getCoder(ParamType.from(tt)));return new TupleCoder(_e,"_").decode(this._getReader(arrayify(a),j))}}const defaultAbiCoder=new AbiCoder;function id$1($){return keccak256(toUtf8Bytes($))}const version$b="hash/5.7.0";function decode$c($){$=atob($);const o=[];for(let a=0;a<$.length;a++)o.push($.charCodeAt(a));return arrayify(o)}function encode$b($){$=arrayify($);let o="";for(let a=0;a<$.length;a++)o+=String.fromCharCode($[a]);return btoa(o)}function flat$1($,o){o==null&&(o=1);const a=[],j=a.forEach,_e=function(et,tt){j.call(et,function(rt){tt>0&&Array.isArray(rt)?_e(rt,tt-1):a.push(rt)})};return _e($,o),a}function fromEntries($){const o={};for(let a=0;a<$.length;a++){const j=$[a];o[j[0]]=j[1]}return o}function decode_arithmetic($){let o=0;function a(){return $[o++]<<8|$[o++]}let j=a(),_e=1,et=[0,1];for(let wt=1;wt<j;wt++)et.push(_e+=a());let tt=a(),rt=o;o+=tt;let nt=0,it=0;function ot(){return nt==0&&(it=it<<8|$[o++],nt=8),it>>--nt&1}const st=31,ct=Math.pow(2,st),ut=ct>>>1,dt=ut>>1,ft=ct-1;let ht=0;for(let wt=0;wt<st;wt++)ht=ht<<1|ot();let pt=[],yt=0,gt=ct;for(;;){let wt=Math.floor(((ht-yt+1)*_e-1)/gt),Mt=0,It=j;for(;It-Mt>1;){let Ut=Mt+It>>>1;wt<et[Ut]?It=Ut:Mt=Ut}if(Mt==0)break;pt.push(Mt);let Tt=yt+Math.floor(gt*et[Mt]/_e),Dt=yt+Math.floor(gt*et[Mt+1]/_e)-1;for(;!((Tt^Dt)&ut);)ht=ht<<1&ft|ot(),Tt=Tt<<1&ft,Dt=Dt<<1&ft|1;for(;Tt&~Dt&dt;)ht=ht&ut|ht<<1&ft>>>1|ot(),Tt=Tt<<1^ut,Dt=(Dt^ut)<<1|ut|1;yt=Tt,gt=1+Dt-Tt}let xt=j-4;return pt.map(wt=>{switch(wt-xt){case 3:return xt+65792+($[rt++]<<16|$[rt++]<<8|$[rt++]);case 2:return xt+256+($[rt++]<<8|$[rt++]);case 1:return xt+$[rt++];default:return wt-1}})}function read_payload($){let o=0;return()=>$[o++]}function read_compressed_payload($){return read_payload(decode_arithmetic($))}function signed($){return $&1?~$>>1:$>>1}function read_counts($,o){let a=Array($);for(let j=0;j<$;j++)a[j]=1+o();return a}function read_ascending($,o){let a=Array($);for(let j=0,_e=-1;j<$;j++)a[j]=_e+=1+o();return a}function read_deltas($,o){let a=Array($);for(let j=0,_e=0;j<$;j++)a[j]=_e+=signed(o());return a}function read_member_array($,o){let a=read_ascending($(),$),j=$(),_e=read_ascending(j,$),et=read_counts(j,$);for(let tt=0;tt<j;tt++)for(let rt=0;rt<et[tt];rt++)a.push(_e[tt]+rt);return o?a.map(tt=>o[tt]):a}function read_mapped_map($){let o=[];for(;;){let a=$();if(a==0)break;o.push(read_linear_table(a,$))}for(;;){let a=$()-1;if(a<0)break;o.push(read_replacement_table(a,$))}return fromEntries(flat$1(o))}function read_zero_terminated_array($){let o=[];for(;;){let a=$();if(a==0)break;o.push(a)}return o}function read_transposed($,o,a){let j=Array($).fill(void 0).map(()=>[]);for(let _e=0;_e<o;_e++)read_deltas($,a).forEach((et,tt)=>j[tt].push(et));return j}function read_linear_table($,o){let a=1+o(),j=o(),_e=read_zero_terminated_array(o),et=read_transposed(_e.length,1+$,o);return flat$1(et.map((tt,rt)=>{const nt=tt[0],it=tt.slice(1);return Array(_e[rt]).fill(void 0).map((ot,st)=>{let ct=st*j;return[nt+st*a,it.map(ut=>ut+ct)]})}))}function read_replacement_table($,o){let a=1+o();return read_transposed(a,1+$,o).map(_e=>[_e[0],_e.slice(1)])}function read_emoji_trie($){let o=read_member_array($).sort((j,_e)=>j-_e);return a();function a(){let j=[];for(;;){let it=read_member_array($,o);if(it.length==0)break;j.push({set:new Set(it),node:a()})}j.sort((it,ot)=>ot.set.size-it.set.size);let _e=$(),et=_e%3;_e=_e/3|0;let tt=!!(_e&1);_e>>=1;let rt=_e==1,nt=_e==2;return{branches:j,valid:et,fe0f:tt,save:rt,check:nt}}}function getData(){return read_compressed_payload(decode$c("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$3=getData(),VALID=new Set(read_member_array(r$3)),IGNORED=new Set(read_member_array(r$3)),MAPPED=read_mapped_map(r$3),EMOJI_ROOT=read_emoji_trie(r$3),HYPHEN=45,UNDERSCORE=95;function explode_cp($){return toUtf8CodePoints($)}function filter_fe0f($){return $.filter(o=>o!=65039)}function ens_normalize_post_check($){for(let o of $.split(".")){let a=explode_cp(o);try{for(let j=a.lastIndexOf(UNDERSCORE)-1;j>=0;j--)if(a[j]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(a.length>=4&&a.every(j=>j<128)&&a[2]===HYPHEN&&a[3]===HYPHEN)throw new Error("invalid label extension")}catch(j){throw new Error(`Invalid label "${o}": ${j.message}`)}}return $}function ens_normalize($){return ens_normalize_post_check(normalize$1($,filter_fe0f))}function normalize$1($,o){let a=explode_cp($).reverse(),j=[];for(;a.length;){let _e=consume_emoji_reversed(a);if(_e){j.push(...o(_e));continue}let et=a.pop();if(VALID.has(et)){j.push(et);continue}if(IGNORED.has(et))continue;let tt=MAPPED[et];if(tt){j.push(...tt);continue}throw new Error(`Disallowed codepoint: 0x${et.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...j)))}function nfc($){return $.normalize("NFC")}function consume_emoji_reversed($,o){var a;let j=EMOJI_ROOT,_e,et,tt=[],rt=$.length;for(o&&(o.length=0);rt;){let nt=$[--rt];if(j=(a=j.branches.find(it=>it.set.has(nt)))===null||a===void 0?void 0:a.node,!j)break;if(j.save)et=nt;else if(j.check&&nt===et)break;tt.push(nt),j.fe0f&&(tt.push(65039),rt>0&&$[rt-1]==65039&&rt--),j.valid&&(_e=tt.slice(),j.valid==2&&_e.splice(1,1),o&&o.push(...$.slice(rt).reverse()),$.length=rt)}return _e}const logger$d=new Logger(version$b),Zeros=new Uint8Array(32);Zeros.fill(0);function checkComponent($){if($.length===0)throw new Error("invalid ENS name; empty component");return $}function ensNameSplit($){const o=toUtf8Bytes(ens_normalize($)),a=[];if($.length===0)return a;let j=0;for(let _e=0;_e<o.length;_e++)o[_e]===46&&(a.push(checkComponent(o.slice(j,_e))),j=_e+1);if(j>=o.length)throw new Error("invalid ENS name; empty component");return a.push(checkComponent(o.slice(j))),a}function namehash($){typeof $!="string"&&logger$d.throwArgumentError("invalid ENS name; not a string","name",$);let o=Zeros;const a=ensNameSplit($);for(;a.length;)o=keccak256(concat$3([o,keccak256(a.pop())]));return hexlify(o)}function dnsEncode($){return hexlify(concat$3(ensNameSplit($).map(o=>{if(o.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const a=new Uint8Array(o.length+1);return a.set(o,1),a[0]=a.length-1,a})))+"00"}var __awaiter$7=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(ot){try{it(j.next(ot))}catch(st){tt(st)}}function nt(ot){try{it(j.throw(ot))}catch(st){tt(st)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(rt,nt)}it((j=j.apply($,o||[])).next())})};const logger$c=new Logger(version$b),padding$1=new Uint8Array(32);padding$1.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight($){const o=arrayify($),a=o.length%32;return a?hexConcat([o,padding$1.slice(a)]):hexlify(o)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString($){return function(o){return typeof o!="string"&&logger$c.throwArgumentError(`invalid domain value for ${JSON.stringify($)}`,`domain.${$}`,o),o}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function($){try{return BigNumber.from($).toString()}catch{}return logger$c.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",$)},verifyingContract:function($){try{return getAddress($).toLowerCase()}catch{}return logger$c.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",$)},salt:function($){try{const o=arrayify($);if(o.length!==32)throw new Error("bad length");return hexlify(o)}catch{}return logger$c.throwArgumentError('invalid domain value "salt"',"domain.salt",$)}};function getBaseEncoder($){{const o=$.match(/^(u?)int(\d*)$/);if(o){const a=o[1]==="",j=parseInt(o[2]||"256");(j%8!==0||j>256||o[2]&&o[2]!==String(j))&&logger$c.throwArgumentError("invalid numeric width","type",$);const _e=MaxUint256.mask(a?j-1:j),et=a?_e.add(One).mul(NegativeOne):Zero;return function(tt){const rt=BigNumber.from(tt);return(rt.lt(et)||rt.gt(_e))&&logger$c.throwArgumentError(`value out-of-bounds for ${$}`,"value",tt),hexZeroPad(rt.toTwos(256).toHexString(),32)}}}{const o=$.match(/^bytes(\d+)$/);if(o){const a=parseInt(o[1]);return(a===0||a>32||o[1]!==String(a))&&logger$c.throwArgumentError("invalid bytes width","type",$),function(j){return arrayify(j).length!==a&&logger$c.throwArgumentError(`invalid length for ${$}`,"value",j),hexPadRight(j)}}}switch($){case"address":return function(o){return hexZeroPad(getAddress(o),32)};case"bool":return function(o){return o?hexTrue:hexFalse};case"bytes":return function(o){return keccak256(o)};case"string":return function(o){return id$1(o)}}return null}function encodeType($,o){return`${$}(${o.map(({name:a,type:j})=>j+" "+a).join(",")})`}class TypedDataEncoder{constructor(o){defineReadOnly(this,"types",Object.freeze(deepCopy(o))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const a={},j={},_e={};Object.keys(o).forEach(rt=>{a[rt]={},j[rt]=[],_e[rt]={}});for(const rt in o){const nt={};o[rt].forEach(it=>{nt[it.name]&&logger$c.throwArgumentError(`duplicate variable name ${JSON.stringify(it.name)} in ${JSON.stringify(rt)}`,"types",o),nt[it.name]=!0;const ot=it.type.match(/^([^\x5b]*)(\x5b|$)/)[1];ot===rt&&logger$c.throwArgumentError(`circular type reference to ${JSON.stringify(ot)}`,"types",o),!getBaseEncoder(ot)&&(j[ot]||logger$c.throwArgumentError(`unknown type ${JSON.stringify(ot)}`,"types",o),j[ot].push(rt),a[rt][ot]=!0)})}const et=Object.keys(j).filter(rt=>j[rt].length===0);et.length===0?logger$c.throwArgumentError("missing primary type","types",o):et.length>1&&logger$c.throwArgumentError(`ambiguous primary types or unused types: ${et.map(rt=>JSON.stringify(rt)).join(", ")}`,"types",o),defineReadOnly(this,"primaryType",et[0]);function tt(rt,nt){nt[rt]&&logger$c.throwArgumentError(`circular type reference to ${JSON.stringify(rt)}`,"types",o),nt[rt]=!0,Object.keys(a[rt]).forEach(it=>{j[it]&&(tt(it,nt),Object.keys(nt).forEach(ot=>{_e[ot][it]=!0}))}),delete nt[rt]}tt(this.primaryType,{});for(const rt in _e){const nt=Object.keys(_e[rt]);nt.sort(),this._types[rt]=encodeType(rt,o[rt])+nt.map(it=>encodeType(it,o[it])).join("")}}getEncoder(o){let a=this._encoderCache[o];return a||(a=this._encoderCache[o]=this._getEncoder(o)),a}_getEncoder(o){{const _e=getBaseEncoder(o);if(_e)return _e}const a=o.match(/^(.*)(\x5b(\d*)\x5d)$/);if(a){const _e=a[1],et=this.getEncoder(_e),tt=parseInt(a[3]);return rt=>{tt>=0&&rt.length!==tt&&logger$c.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",rt);let nt=rt.map(et);return this._types[_e]&&(nt=nt.map(keccak256)),keccak256(hexConcat(nt))}}const j=this.types[o];if(j){const _e=id$1(this._types[o]);return et=>{const tt=j.map(({name:rt,type:nt})=>{const it=this.getEncoder(nt)(et[rt]);return this._types[nt]?keccak256(it):it});return tt.unshift(_e),hexConcat(tt)}}return logger$c.throwArgumentError(`unknown type: ${o}`,"type",o)}encodeType(o){const a=this._types[o];return a||logger$c.throwArgumentError(`unknown type: ${JSON.stringify(o)}`,"name",o),a}encodeData(o,a){return this.getEncoder(o)(a)}hashStruct(o,a){return keccak256(this.encodeData(o,a))}encode(o){return this.encodeData(this.primaryType,o)}hash(o){return this.hashStruct(this.primaryType,o)}_visit(o,a,j){if(getBaseEncoder(o))return j(o,a);const _e=o.match(/^(.*)(\x5b(\d*)\x5d)$/);if(_e){const tt=_e[1],rt=parseInt(_e[3]);return rt>=0&&a.length!==rt&&logger$c.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a),a.map(nt=>this._visit(tt,nt,j))}const et=this.types[o];return et?et.reduce((tt,{name:rt,type:nt})=>(tt[rt]=this._visit(nt,a[rt],j),tt),{}):logger$c.throwArgumentError(`unknown type: ${o}`,"type",o)}visit(o,a){return this._visit(this.primaryType,o,a)}static from(o){return new TypedDataEncoder(o)}static getPrimaryType(o){return TypedDataEncoder.from(o).primaryType}static hashStruct(o,a,j){return TypedDataEncoder.from(a).hashStruct(o,j)}static hashDomain(o){const a=[];for(const j in o){const _e=domainFieldTypes[j];_e||logger$c.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(j)}`,"domain",o),a.push({name:j,type:_e})}return a.sort((j,_e)=>domainFieldNames.indexOf(j.name)-domainFieldNames.indexOf(_e.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:a},o)}static encode(o,a,j){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(o),TypedDataEncoder.from(a).hash(j)])}static hash(o,a,j){return keccak256(TypedDataEncoder.encode(o,a,j))}static resolveNames(o,a,j,_e){return __awaiter$7(this,void 0,void 0,function*(){o=shallowCopy(o);const et={};o.verifyingContract&&!isHexString(o.verifyingContract,20)&&(et[o.verifyingContract]="0x");const tt=TypedDataEncoder.from(a);tt.visit(j,(rt,nt)=>(rt==="address"&&!isHexString(nt,20)&&(et[nt]="0x"),nt));for(const rt in et)et[rt]=yield _e(rt);return o.verifyingContract&&et[o.verifyingContract]&&(o.verifyingContract=et[o.verifyingContract]),j=tt.visit(j,(rt,nt)=>rt==="address"&&et[nt]?et[nt]:nt),{domain:o,value:j}})}static getPayload(o,a,j){TypedDataEncoder.hashDomain(o);const _e={},et=[];domainFieldNames.forEach(nt=>{const it=o[nt];it!=null&&(_e[nt]=domainChecks[nt](it),et.push({name:nt,type:domainFieldTypes[nt]}))});const tt=TypedDataEncoder.from(a),rt=shallowCopy(a);return rt.EIP712Domain?logger$c.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",a):rt.EIP712Domain=et,tt.encode(j),{types:rt,domain:_e,primaryType:tt.primaryType,message:tt.visit(j,(nt,it)=>{if(nt.match(/^bytes(\d*)/))return hexlify(arrayify(it));if(nt.match(/^u?int/))return BigNumber.from(it).toString();switch(nt){case"address":return it.toLowerCase();case"bool":return!!it;case"string":return typeof it!="string"&&logger$c.throwArgumentError("invalid string","value",it),it}return logger$c.throwArgumentError("unsupported type","type",nt)})}}}const logger$b=new Logger(version$f);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(o){return!!(o&&o._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError($,o){const a=new Error(`deferred error during ABI decoding triggered accessing ${$}`);return a.error=o,a}class Interface{constructor(o){let a=[];typeof o=="string"?a=JSON.parse(o):a=o,defineReadOnly(this,"fragments",a.map(j=>Fragment.from(j)).filter(j=>j!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(j=>{let _e=null;switch(j.type){case"constructor":if(this.deploy){logger$b.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",j);return;case"function":_e=this.functions;break;case"event":_e=this.events;break;case"error":_e=this.errors;break;default:return}let et=j.format();if(_e[et]){logger$b.warn("duplicate definition - "+et);return}_e[et]=j}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(o){o||(o=FormatTypes.full),o===FormatTypes.sighash&&logger$b.throwArgumentError("interface does not support formatting sighash","format",o);const a=this.fragments.map(j=>j.format(o));return o===FormatTypes.json?JSON.stringify(a.map(j=>JSON.parse(j))):a}static getAbiCoder(){return defaultAbiCoder}static getAddress(o){return getAddress(o)}static getSighash(o){return hexDataSlice(id$1(o.format()),0,4)}static getEventTopic(o){return id$1(o.format())}getFunction(o){if(isHexString(o)){for(const j in this.functions)if(o===this.getSighash(j))return this.functions[j];logger$b.throwArgumentError("no matching function","sighash",o)}if(o.indexOf("(")===-1){const j=o.trim(),_e=Object.keys(this.functions).filter(et=>et.split("(")[0]===j);return _e.length===0?logger$b.throwArgumentError("no matching function","name",j):_e.length>1&&logger$b.throwArgumentError("multiple matching functions","name",j),this.functions[_e[0]]}const a=this.functions[FunctionFragment.fromString(o).format()];return a||logger$b.throwArgumentError("no matching function","signature",o),a}getEvent(o){if(isHexString(o)){const j=o.toLowerCase();for(const _e in this.events)if(j===this.getEventTopic(_e))return this.events[_e];logger$b.throwArgumentError("no matching event","topichash",j)}if(o.indexOf("(")===-1){const j=o.trim(),_e=Object.keys(this.events).filter(et=>et.split("(")[0]===j);return _e.length===0?logger$b.throwArgumentError("no matching event","name",j):_e.length>1&&logger$b.throwArgumentError("multiple matching events","name",j),this.events[_e[0]]}const a=this.events[EventFragment.fromString(o).format()];return a||logger$b.throwArgumentError("no matching event","signature",o),a}getError(o){if(isHexString(o)){const j=getStatic(this.constructor,"getSighash");for(const _e in this.errors){const et=this.errors[_e];if(o===j(et))return this.errors[_e]}logger$b.throwArgumentError("no matching error","sighash",o)}if(o.indexOf("(")===-1){const j=o.trim(),_e=Object.keys(this.errors).filter(et=>et.split("(")[0]===j);return _e.length===0?logger$b.throwArgumentError("no matching error","name",j):_e.length>1&&logger$b.throwArgumentError("multiple matching errors","name",j),this.errors[_e[0]]}const a=this.errors[FunctionFragment.fromString(o).format()];return a||logger$b.throwArgumentError("no matching error","signature",o),a}getSighash(o){if(typeof o=="string")try{o=this.getFunction(o)}catch(a){try{o=this.getError(o)}catch{throw a}}return getStatic(this.constructor,"getSighash")(o)}getEventTopic(o){return typeof o=="string"&&(o=this.getEvent(o)),getStatic(this.constructor,"getEventTopic")(o)}_decodeParams(o,a){return this._abiCoder.decode(o,a)}_encodeParams(o,a){return this._abiCoder.encode(o,a)}encodeDeploy(o){return this._encodeParams(this.deploy.inputs,o||[])}decodeErrorResult(o,a){typeof o=="string"&&(o=this.getError(o));const j=arrayify(a);return hexlify(j.slice(0,4))!==this.getSighash(o)&&logger$b.throwArgumentError(`data signature does not match error ${o.name}.`,"data",hexlify(j)),this._decodeParams(o.inputs,j.slice(4))}encodeErrorResult(o,a){return typeof o=="string"&&(o=this.getError(o)),hexlify(concat$3([this.getSighash(o),this._encodeParams(o.inputs,a||[])]))}decodeFunctionData(o,a){typeof o=="string"&&(o=this.getFunction(o));const j=arrayify(a);return hexlify(j.slice(0,4))!==this.getSighash(o)&&logger$b.throwArgumentError(`data signature does not match function ${o.name}.`,"data",hexlify(j)),this._decodeParams(o.inputs,j.slice(4))}encodeFunctionData(o,a){return typeof o=="string"&&(o=this.getFunction(o)),hexlify(concat$3([this.getSighash(o),this._encodeParams(o.inputs,a||[])]))}decodeFunctionResult(o,a){typeof o=="string"&&(o=this.getFunction(o));let j=arrayify(a),_e=null,et="",tt=null,rt=null,nt=null;switch(j.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(o.outputs,j)}catch{}break;case 4:{const it=hexlify(j.slice(0,4)),ot=BuiltinErrors[it];if(ot)tt=this._abiCoder.decode(ot.inputs,j.slice(4)),rt=ot.name,nt=ot.signature,ot.reason&&(_e=tt[0]),rt==="Error"?et=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(tt[0])}`:rt==="Panic"&&(et=`; VM Exception while processing transaction: reverted with panic code ${tt[0]}`);else try{const st=this.getError(it);tt=this._abiCoder.decode(st.inputs,j.slice(4)),rt=st.name,nt=st.format()}catch{}break}}return logger$b.throwError("call revert exception"+et,Logger.errors.CALL_EXCEPTION,{method:o.format(),data:hexlify(a),errorArgs:tt,errorName:rt,errorSignature:nt,reason:_e})}encodeFunctionResult(o,a){return typeof o=="string"&&(o=this.getFunction(o)),hexlify(this._abiCoder.encode(o.outputs,a||[]))}encodeFilterTopics(o,a){typeof o=="string"&&(o=this.getEvent(o)),a.length>o.inputs.length&&logger$b.throwError("too many arguments for "+o.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:a});let j=[];o.anonymous||j.push(this.getEventTopic(o));const _e=(et,tt)=>et.type==="string"?id$1(tt):et.type==="bytes"?keccak256(hexlify(tt)):(et.type==="bool"&&typeof tt=="boolean"&&(tt=tt?"0x01":"0x00"),et.type.match(/^u?int/)&&(tt=BigNumber.from(tt).toHexString()),et.type==="address"&&this._abiCoder.encode(["address"],[tt]),hexZeroPad(hexlify(tt),32));for(a.forEach((et,tt)=>{let rt=o.inputs[tt];if(!rt.indexed){et!=null&&logger$b.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+rt.name,et);return}et==null?j.push(null):rt.baseType==="array"||rt.baseType==="tuple"?logger$b.throwArgumentError("filtering with tuples or arrays not supported","contract."+rt.name,et):Array.isArray(et)?j.push(et.map(nt=>_e(rt,nt))):j.push(_e(rt,et))});j.length&&j[j.length-1]===null;)j.pop();return j}encodeEventLog(o,a){typeof o=="string"&&(o=this.getEvent(o));const j=[],_e=[],et=[];return o.anonymous||j.push(this.getEventTopic(o)),a.length!==o.inputs.length&&logger$b.throwArgumentError("event arguments/values mismatch","values",a),o.inputs.forEach((tt,rt)=>{const nt=a[rt];if(tt.indexed)if(tt.type==="string")j.push(id$1(nt));else if(tt.type==="bytes")j.push(keccak256(nt));else{if(tt.baseType==="tuple"||tt.baseType==="array")throw new Error("not implemented");j.push(this._abiCoder.encode([tt.type],[nt]))}else _e.push(tt),et.push(nt)}),{data:this._abiCoder.encode(_e,et),topics:j}}decodeEventLog(o,a,j){if(typeof o=="string"&&(o=this.getEvent(o)),j!=null&&!o.anonymous){let ct=this.getEventTopic(o);(!isHexString(j[0],32)||j[0].toLowerCase()!==ct)&&logger$b.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:ct,value:j[0]}),j=j.slice(1)}let _e=[],et=[],tt=[];o.inputs.forEach((ct,ut)=>{ct.indexed?ct.type==="string"||ct.type==="bytes"||ct.baseType==="tuple"||ct.baseType==="array"?(_e.push(ParamType.fromObject({type:"bytes32",name:ct.name})),tt.push(!0)):(_e.push(ct),tt.push(!1)):(et.push(ct),tt.push(!1))});let rt=j!=null?this._abiCoder.decode(_e,concat$3(j)):null,nt=this._abiCoder.decode(et,a,!0),it=[],ot=0,st=0;o.inputs.forEach((ct,ut)=>{if(ct.indexed)if(rt==null)it[ut]=new Indexed({_isIndexed:!0,hash:null});else if(tt[ut])it[ut]=new Indexed({_isIndexed:!0,hash:rt[st++]});else try{it[ut]=rt[st++]}catch(dt){it[ut]=dt}else try{it[ut]=nt[ot++]}catch(dt){it[ut]=dt}if(ct.name&&it[ct.name]==null){const dt=it[ut];dt instanceof Error?Object.defineProperty(it,ct.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(ct.name)}`,dt)}}):it[ct.name]=dt}});for(let ct=0;ct<it.length;ct++){const ut=it[ct];ut instanceof Error&&Object.defineProperty(it,ct,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${ct}`,ut)}})}return Object.freeze(it)}parseTransaction(o){let a=this.getFunction(o.data.substring(0,10).toLowerCase());return a?new TransactionDescription({args:this._abiCoder.decode(a.inputs,"0x"+o.data.substring(10)),functionFragment:a,name:a.name,signature:a.format(),sighash:this.getSighash(a),value:BigNumber.from(o.value||"0")}):null}parseLog(o){let a=this.getEvent(o.topics[0]);return!a||a.anonymous?null:new LogDescription({eventFragment:a,name:a.name,signature:a.format(),topic:this.getEventTopic(a),args:this.decodeEventLog(a,o.data,o.topics)})}parseError(o){const a=hexlify(o);let j=this.getError(a.substring(0,10).toLowerCase());return j?new ErrorDescription({args:this._abiCoder.decode(j.inputs,"0x"+a.substring(10)),errorFragment:j,name:j.name,signature:j.format(),sighash:this.getSighash(j)}):null}static isInterface(o){return!!(o&&o._isInterface)}}const version$a="abstract-provider/5.7.0";var __awaiter$6=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(ot){try{it(j.next(ot))}catch(st){tt(st)}}function nt(ot){try{it(j.throw(ot))}catch(st){tt(st)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(rt,nt)}it((j=j.apply($,o||[])).next())})};const logger$a=new Logger(version$a);class ForkEvent extends Description{static isForkEvent(o){return!!(o&&o._isForkEvent)}}let Provider$1=class Cm{constructor(){logger$a.checkAbstract(new.target,Cm),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$6(this,void 0,void 0,function*(){const{block:o,gasPrice:a}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(tt=>null)});let j=null,_e=null,et=null;return o&&o.baseFeePerGas&&(j=o.baseFeePerGas,et=BigNumber.from("1500000000"),_e=o.baseFeePerGas.mul(2).add(et)),{lastBaseFeePerGas:j,maxFeePerGas:_e,maxPriorityFeePerGas:et,gasPrice:a}})}addListener(o,a){return this.on(o,a)}removeListener(o,a){return this.off(o,a)}static isProvider(o){return!!(o&&o._isProvider)}};const version$9="abstract-signer/5.7.0";var __awaiter$5=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(ot){try{it(j.next(ot))}catch(st){tt(st)}}function nt(ot){try{it(j.throw(ot))}catch(st){tt(st)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(rt,nt)}it((j=j.apply($,o||[])).next())})};const logger$9=new Logger(version$9),allowedTransactionKeys$1=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$9.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(o){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),o)})}getTransactionCount(o){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),o)})}estimateGas(o){return __awaiter$5(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const a=yield resolveProperties(this.checkTransaction(o));return yield this.provider.estimateGas(a)})}call(o,a){return __awaiter$5(this,void 0,void 0,function*(){this._checkProvider("call");const j=yield resolveProperties(this.checkTransaction(o));return yield this.provider.call(j,a)})}sendTransaction(o){return __awaiter$5(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const a=yield this.populateTransaction(o),j=yield this.signTransaction(a);return yield this.provider.sendTransaction(j)})}getChainId(){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(o){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(o)})}checkTransaction(o){for(const j in o)allowedTransactionKeys$1.indexOf(j)===-1&&logger$9.throwArgumentError("invalid transaction key: "+j,"transaction",o);const a=shallowCopy(o);return a.from==null?a.from=this.getAddress():a.from=Promise.all([Promise.resolve(a.from),this.getAddress()]).then(j=>(j[0].toLowerCase()!==j[1].toLowerCase()&&logger$9.throwArgumentError("from address mismatch","transaction",o),j[0])),a}populateTransaction(o){return __awaiter$5(this,void 0,void 0,function*(){const a=yield resolveProperties(this.checkTransaction(o));a.to!=null&&(a.to=Promise.resolve(a.to).then(_e=>__awaiter$5(this,void 0,void 0,function*(){if(_e==null)return null;const et=yield this.resolveName(_e);return et==null&&logger$9.throwArgumentError("provided ENS name resolves to null","tx.to",_e),et})),a.to.catch(_e=>{}));const j=a.maxFeePerGas!=null||a.maxPriorityFeePerGas!=null;if(a.gasPrice!=null&&(a.type===2||j)?logger$9.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",o):(a.type===0||a.type===1)&&j&&logger$9.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",o),(a.type===2||a.type==null)&&a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)a.type=2;else if(a.type===0||a.type===1)a.gasPrice==null&&(a.gasPrice=this.getGasPrice());else{const _e=yield this.getFeeData();if(a.type==null)if(_e.maxFeePerGas!=null&&_e.maxPriorityFeePerGas!=null)if(a.type=2,a.gasPrice!=null){const et=a.gasPrice;delete a.gasPrice,a.maxFeePerGas=et,a.maxPriorityFeePerGas=et}else a.maxFeePerGas==null&&(a.maxFeePerGas=_e.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=_e.maxPriorityFeePerGas);else _e.gasPrice!=null?(j&&logger$9.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),a.gasPrice==null&&(a.gasPrice=_e.gasPrice),a.type=0):logger$9.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else a.type===2&&(a.maxFeePerGas==null&&(a.maxFeePerGas=_e.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=_e.maxPriorityFeePerGas))}return a.nonce==null&&(a.nonce=this.getTransactionCount("pending")),a.gasLimit==null&&(a.gasLimit=this.estimateGas(a).catch(_e=>{if(forwardErrors.indexOf(_e.code)>=0)throw _e;return logger$9.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:_e,tx:a})})),a.chainId==null?a.chainId=this.getChainId():a.chainId=Promise.all([Promise.resolve(a.chainId),this.getChainId()]).then(_e=>(_e[1]!==0&&_e[0]!==_e[1]&&logger$9.throwArgumentError("chainId address mismatch","transaction",o),_e[0])),yield resolveProperties(a)})}_checkProvider(o){this.provider||logger$9.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:o||"_checkProvider"})}static isSigner(o){return!!(o&&o._isSigner)}}class VoidSigner extends Signer{constructor(o,a){super(),defineReadOnly(this,"address",o),defineReadOnly(this,"provider",a||null)}getAddress(){return Promise.resolve(this.address)}_fail(o,a){return Promise.resolve().then(()=>{logger$9.throwError(o,Logger.errors.UNSUPPORTED_OPERATION,{operation:a})})}signMessage(o){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(o){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(o,a,j){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(o){return new VoidSigner(this.address,o)}}var hash$2={},utils$9={},minimalisticAssert$1=assert$b;function assert$b($,o){if(!$)throw new Error(o||"Assertion failed")}assert$b.equal=function(o,a,j){if(o!=a)throw new Error(j||"Assertion failed: "+o+" != "+a)};var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(o,a){a&&(o.super_=a,o.prototype=Object.create(a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(o,a){if(a){o.super_=a;var j=function(){};j.prototype=a.prototype,o.prototype=new j,o.prototype.constructor=o}};var inherits_browserExports=inherits_browser$1.exports,assert$a=minimalisticAssert$1,inherits$1=inherits_browserExports;utils$9.inherits=inherits$1;function isSurrogatePair($,o){return($.charCodeAt(o)&64512)!==55296||o<0||o+1>=$.length?!1:($.charCodeAt(o+1)&64512)===56320}function toArray($,o){if(Array.isArray($))return $.slice();if(!$)return[];var a=[];if(typeof $=="string")if(o){if(o==="hex")for($=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0&&($="0"+$),_e=0;_e<$.length;_e+=2)a.push(parseInt($[_e]+$[_e+1],16))}else for(var j=0,_e=0;_e<$.length;_e++){var et=$.charCodeAt(_e);et<128?a[j++]=et:et<2048?(a[j++]=et>>6|192,a[j++]=et&63|128):isSurrogatePair($,_e)?(et=65536+((et&1023)<<10)+($.charCodeAt(++_e)&1023),a[j++]=et>>18|240,a[j++]=et>>12&63|128,a[j++]=et>>6&63|128,a[j++]=et&63|128):(a[j++]=et>>12|224,a[j++]=et>>6&63|128,a[j++]=et&63|128)}else for(_e=0;_e<$.length;_e++)a[_e]=$[_e]|0;return a}utils$9.toArray=toArray;function toHex($){for(var o="",a=0;a<$.length;a++)o+=zero2($[a].toString(16));return o}utils$9.toHex=toHex;function htonl($){var o=$>>>24|$>>>8&65280|$<<8&16711680|($&255)<<24;return o>>>0}utils$9.htonl=htonl;function toHex32($,o){for(var a="",j=0;j<$.length;j++){var _e=$[j];o==="little"&&(_e=htonl(_e)),a+=zero8(_e.toString(16))}return a}utils$9.toHex32=toHex32;function zero2($){return $.length===1?"0"+$:$}utils$9.zero2=zero2;function zero8($){return $.length===7?"0"+$:$.length===6?"00"+$:$.length===5?"000"+$:$.length===4?"0000"+$:$.length===3?"00000"+$:$.length===2?"000000"+$:$.length===1?"0000000"+$:$}utils$9.zero8=zero8;function join32($,o,a,j){var _e=a-o;assert$a(_e%4===0);for(var et=new Array(_e/4),tt=0,rt=o;tt<et.length;tt++,rt+=4){var nt;j==="big"?nt=$[rt]<<24|$[rt+1]<<16|$[rt+2]<<8|$[rt+3]:nt=$[rt+3]<<24|$[rt+2]<<16|$[rt+1]<<8|$[rt],et[tt]=nt>>>0}return et}utils$9.join32=join32;function split32($,o){for(var a=new Array($.length*4),j=0,_e=0;j<$.length;j++,_e+=4){var et=$[j];o==="big"?(a[_e]=et>>>24,a[_e+1]=et>>>16&255,a[_e+2]=et>>>8&255,a[_e+3]=et&255):(a[_e+3]=et>>>24,a[_e+2]=et>>>16&255,a[_e+1]=et>>>8&255,a[_e]=et&255)}return a}utils$9.split32=split32;function rotr32$1($,o){return $>>>o|$<<32-o}utils$9.rotr32=rotr32$1;function rotl32$2($,o){return $<<o|$>>>32-o}utils$9.rotl32=rotl32$2;function sum32$3($,o){return $+o>>>0}utils$9.sum32=sum32$3;function sum32_3$1($,o,a){return $+o+a>>>0}utils$9.sum32_3=sum32_3$1;function sum32_4$2($,o,a,j){return $+o+a+j>>>0}utils$9.sum32_4=sum32_4$2;function sum32_5$2($,o,a,j,_e){return $+o+a+j+_e>>>0}utils$9.sum32_5=sum32_5$2;function sum64$1($,o,a,j){var _e=$[o],et=$[o+1],tt=j+et>>>0,rt=(tt<j?1:0)+a+_e;$[o]=rt>>>0,$[o+1]=tt}utils$9.sum64=sum64$1;function sum64_hi$1($,o,a,j){var _e=o+j>>>0,et=(_e<o?1:0)+$+a;return et>>>0}utils$9.sum64_hi=sum64_hi$1;function sum64_lo$1($,o,a,j){var _e=o+j;return _e>>>0}utils$9.sum64_lo=sum64_lo$1;function sum64_4_hi$1($,o,a,j,_e,et,tt,rt){var nt=0,it=o;it=it+j>>>0,nt+=it<o?1:0,it=it+et>>>0,nt+=it<et?1:0,it=it+rt>>>0,nt+=it<rt?1:0;var ot=$+a+_e+tt+nt;return ot>>>0}utils$9.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1($,o,a,j,_e,et,tt,rt){var nt=o+j+et+rt;return nt>>>0}utils$9.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1($,o,a,j,_e,et,tt,rt,nt,it){var ot=0,st=o;st=st+j>>>0,ot+=st<o?1:0,st=st+et>>>0,ot+=st<et?1:0,st=st+rt>>>0,ot+=st<rt?1:0,st=st+it>>>0,ot+=st<it?1:0;var ct=$+a+_e+tt+nt+ot;return ct>>>0}utils$9.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1($,o,a,j,_e,et,tt,rt,nt,it){var ot=o+j+et+rt+it;return ot>>>0}utils$9.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1($,o,a){var j=o<<32-a|$>>>a;return j>>>0}utils$9.rotr64_hi=rotr64_hi$1;function rotr64_lo$1($,o,a){var j=$<<32-a|o>>>a;return j>>>0}utils$9.rotr64_lo=rotr64_lo$1;function shr64_hi$1($,o,a){return $>>>a}utils$9.shr64_hi=shr64_hi$1;function shr64_lo$1($,o,a){var j=$<<32-a|o>>>a;return j>>>0}utils$9.shr64_lo=shr64_lo$1;var common$8={},utils$8=utils$9,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$8.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(o,a){if(o=utils$8.toArray(o,a),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){o=this.pending;var j=o.length%this._delta8;this.pending=o.slice(o.length-j,o.length),this.pending.length===0&&(this.pending=null),o=utils$8.join32(o,0,o.length-j,this.endian);for(var _e=0;_e<o.length;_e+=this._delta32)this._update(o,_e,_e+this._delta32)}return this};BlockHash$4.prototype.digest=function(o){return this.update(this._pad()),assert$9(this.pending===null),this._digest(o)};BlockHash$4.prototype._pad=function(){var o=this.pendingTotal,a=this._delta8,j=a-(o+this.padLength)%a,_e=new Array(j+this.padLength);_e[0]=128;for(var et=1;et<j;et++)_e[et]=0;if(o<<=3,this.endian==="big"){for(var tt=8;tt<this.padLength;tt++)_e[et++]=0;_e[et++]=0,_e[et++]=0,_e[et++]=0,_e[et++]=0,_e[et++]=o>>>24&255,_e[et++]=o>>>16&255,_e[et++]=o>>>8&255,_e[et++]=o&255}else for(_e[et++]=o&255,_e[et++]=o>>>8&255,_e[et++]=o>>>16&255,_e[et++]=o>>>24&255,_e[et++]=0,_e[et++]=0,_e[et++]=0,_e[et++]=0,tt=8;tt<this.padLength;tt++)_e[et++]=0;return _e};var sha$1={},common$7={},utils$7=utils$9,rotr32=utils$7.rotr32;function ft_1$1($,o,a,j){if($===0)return ch32$1(o,a,j);if($===1||$===3)return p32(o,a,j);if($===2)return maj32$1(o,a,j)}common$7.ft_1=ft_1$1;function ch32$1($,o,a){return $&o^~$&a}common$7.ch32=ch32$1;function maj32$1($,o,a){return $&o^$&a^o&a}common$7.maj32=maj32$1;function p32($,o,a){return $^o^a}common$7.p32=p32;function s0_256$1($){return rotr32($,2)^rotr32($,13)^rotr32($,22)}common$7.s0_256=s0_256$1;function s1_256$1($){return rotr32($,6)^rotr32($,11)^rotr32($,25)}common$7.s1_256=s1_256$1;function g0_256$1($){return rotr32($,7)^rotr32($,18)^$>>>3}common$7.g0_256=g0_256$1;function g1_256$1($){return rotr32($,17)^rotr32($,19)^$>>>10}common$7.g1_256=g1_256$1;var utils$6=utils$9,common$6=common$8,shaCommon$1=common$7,rotl32$1=utils$6.rotl32,sum32$2=utils$6.sum32,sum32_5$1=utils$6.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$6.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(o,a){for(var j=this.W,_e=0;_e<16;_e++)j[_e]=o[a+_e];for(;_e<j.length;_e++)j[_e]=rotl32$1(j[_e-3]^j[_e-8]^j[_e-14]^j[_e-16],1);var et=this.h[0],tt=this.h[1],rt=this.h[2],nt=this.h[3],it=this.h[4];for(_e=0;_e<j.length;_e++){var ot=~~(_e/20),st=sum32_5$1(rotl32$1(et,5),ft_1(ot,tt,rt,nt),it,j[_e],sha1_K[ot]);it=nt,nt=rt,rt=rotl32$1(tt,30),tt=et,et=st}this.h[0]=sum32$2(this.h[0],et),this.h[1]=sum32$2(this.h[1],tt),this.h[2]=sum32$2(this.h[2],rt),this.h[3]=sum32$2(this.h[3],nt),this.h[4]=sum32$2(this.h[4],it)};SHA1.prototype._digest=function(o){return o==="hex"?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$9,common$5=common$8,shaCommon=common$7,assert$8=minimalisticAssert$1,sum32$1=utils$5.sum32,sum32_4$1=utils$5.sum32_4,sum32_5=utils$5.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$5.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(o,a){for(var j=this.W,_e=0;_e<16;_e++)j[_e]=o[a+_e];for(;_e<j.length;_e++)j[_e]=sum32_4$1(g1_256(j[_e-2]),j[_e-7],g0_256(j[_e-15]),j[_e-16]);var et=this.h[0],tt=this.h[1],rt=this.h[2],nt=this.h[3],it=this.h[4],ot=this.h[5],st=this.h[6],ct=this.h[7];for(assert$8(this.k.length===j.length),_e=0;_e<j.length;_e++){var ut=sum32_5(ct,s1_256(it),ch32(it,ot,st),this.k[_e],j[_e]),dt=sum32$1(s0_256(et),maj32(et,tt,rt));ct=st,st=ot,ot=it,it=sum32$1(nt,ut),nt=rt,rt=tt,tt=et,et=sum32$1(ut,dt)}this.h[0]=sum32$1(this.h[0],et),this.h[1]=sum32$1(this.h[1],tt),this.h[2]=sum32$1(this.h[2],rt),this.h[3]=sum32$1(this.h[3],nt),this.h[4]=sum32$1(this.h[4],it),this.h[5]=sum32$1(this.h[5],ot),this.h[6]=sum32$1(this.h[6],st),this.h[7]=sum32$1(this.h[7],ct)};SHA256$1.prototype._digest=function(o){return o==="hex"?utils$5.toHex32(this.h,"big"):utils$5.split32(this.h,"big")};var utils$4=utils$9,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(o){return o==="hex"?utils$4.toHex32(this.h.slice(0,7),"big"):utils$4.split32(this.h.slice(0,7),"big")};var utils$3=utils$9,common$4=common$8,assert$7=minimalisticAssert$1,rotr64_hi=utils$3.rotr64_hi,rotr64_lo=utils$3.rotr64_lo,shr64_hi=utils$3.shr64_hi,shr64_lo=utils$3.shr64_lo,sum64=utils$3.sum64,sum64_hi=utils$3.sum64_hi,sum64_lo=utils$3.sum64_lo,sum64_4_hi=utils$3.sum64_4_hi,sum64_4_lo=utils$3.sum64_4_lo,sum64_5_hi=utils$3.sum64_5_hi,sum64_5_lo=utils$3.sum64_5_lo,BlockHash$1=common$4.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(o,a){for(var j=this.W,_e=0;_e<32;_e++)j[_e]=o[a+_e];for(;_e<j.length;_e+=2){var et=g1_512_hi(j[_e-4],j[_e-3]),tt=g1_512_lo(j[_e-4],j[_e-3]),rt=j[_e-14],nt=j[_e-13],it=g0_512_hi(j[_e-30],j[_e-29]),ot=g0_512_lo(j[_e-30],j[_e-29]),st=j[_e-32],ct=j[_e-31];j[_e]=sum64_4_hi(et,tt,rt,nt,it,ot,st,ct),j[_e+1]=sum64_4_lo(et,tt,rt,nt,it,ot,st,ct)}};SHA512$1.prototype._update=function(o,a){this._prepareBlock(o,a);var j=this.W,_e=this.h[0],et=this.h[1],tt=this.h[2],rt=this.h[3],nt=this.h[4],it=this.h[5],ot=this.h[6],st=this.h[7],ct=this.h[8],ut=this.h[9],dt=this.h[10],ft=this.h[11],ht=this.h[12],pt=this.h[13],yt=this.h[14],gt=this.h[15];assert$7(this.k.length===j.length);for(var xt=0;xt<j.length;xt+=2){var wt=yt,Mt=gt,It=s1_512_hi(ct,ut),Tt=s1_512_lo(ct,ut),Dt=ch64_hi(ct,ut,dt,ft,ht),Ut=ch64_lo(ct,ut,dt,ft,ht,pt),jt=this.k[xt],Xt=this.k[xt+1],kt=j[xt],vt=j[xt+1],Et=sum64_5_hi(wt,Mt,It,Tt,Dt,Ut,jt,Xt,kt,vt),Lt=sum64_5_lo(wt,Mt,It,Tt,Dt,Ut,jt,Xt,kt,vt);wt=s0_512_hi(_e,et),Mt=s0_512_lo(_e,et),It=maj64_hi(_e,et,tt,rt,nt),Tt=maj64_lo(_e,et,tt,rt,nt,it);var Ot=sum64_hi(wt,Mt,It,Tt),Pt=sum64_lo(wt,Mt,It,Tt);yt=ht,gt=pt,ht=dt,pt=ft,dt=ct,ft=ut,ct=sum64_hi(ot,st,Et,Lt),ut=sum64_lo(st,st,Et,Lt),ot=nt,st=it,nt=tt,it=rt,tt=_e,rt=et,_e=sum64_hi(Et,Lt,Ot,Pt),et=sum64_lo(Et,Lt,Ot,Pt)}sum64(this.h,0,_e,et),sum64(this.h,2,tt,rt),sum64(this.h,4,nt,it),sum64(this.h,6,ot,st),sum64(this.h,8,ct,ut),sum64(this.h,10,dt,ft),sum64(this.h,12,ht,pt),sum64(this.h,14,yt,gt)};SHA512$1.prototype._digest=function(o){return o==="hex"?utils$3.toHex32(this.h,"big"):utils$3.split32(this.h,"big")};function ch64_hi($,o,a,j,_e){var et=$&a^~$&_e;return et<0&&(et+=4294967296),et}function ch64_lo($,o,a,j,_e,et){var tt=o&j^~o&et;return tt<0&&(tt+=4294967296),tt}function maj64_hi($,o,a,j,_e){var et=$&a^$&_e^a&_e;return et<0&&(et+=4294967296),et}function maj64_lo($,o,a,j,_e,et){var tt=o&j^o&et^j&et;return tt<0&&(tt+=4294967296),tt}function s0_512_hi($,o){var a=rotr64_hi($,o,28),j=rotr64_hi(o,$,2),_e=rotr64_hi(o,$,7),et=a^j^_e;return et<0&&(et+=4294967296),et}function s0_512_lo($,o){var a=rotr64_lo($,o,28),j=rotr64_lo(o,$,2),_e=rotr64_lo(o,$,7),et=a^j^_e;return et<0&&(et+=4294967296),et}function s1_512_hi($,o){var a=rotr64_hi($,o,14),j=rotr64_hi($,o,18),_e=rotr64_hi(o,$,9),et=a^j^_e;return et<0&&(et+=4294967296),et}function s1_512_lo($,o){var a=rotr64_lo($,o,14),j=rotr64_lo($,o,18),_e=rotr64_lo(o,$,9),et=a^j^_e;return et<0&&(et+=4294967296),et}function g0_512_hi($,o){var a=rotr64_hi($,o,1),j=rotr64_hi($,o,8),_e=shr64_hi($,o,7),et=a^j^_e;return et<0&&(et+=4294967296),et}function g0_512_lo($,o){var a=rotr64_lo($,o,1),j=rotr64_lo($,o,8),_e=shr64_lo($,o,7),et=a^j^_e;return et<0&&(et+=4294967296),et}function g1_512_hi($,o){var a=rotr64_hi($,o,19),j=rotr64_hi(o,$,29),_e=shr64_hi($,o,6),et=a^j^_e;return et<0&&(et+=4294967296),et}function g1_512_lo($,o){var a=rotr64_lo($,o,19),j=rotr64_lo(o,$,29),_e=shr64_lo($,o,6),et=a^j^_e;return et<0&&(et+=4294967296),et}var utils$2=utils$9,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(o){return o==="hex"?utils$2.toHex32(this.h.slice(0,12),"big"):utils$2.split32(this.h.slice(0,12),"big")};sha$1.sha1=_1;sha$1.sha224=_224;sha$1.sha256=_256;sha$1.sha384=_384;sha$1.sha512=_512;var ripemd={},utils$1=utils$9,common$3=common$8,rotl32=utils$1.rotl32,sum32=utils$1.sum32,sum32_3=utils$1.sum32_3,sum32_4=utils$1.sum32_4,BlockHash=common$3.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$1.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(o,a){for(var j=this.h[0],_e=this.h[1],et=this.h[2],tt=this.h[3],rt=this.h[4],nt=j,it=_e,ot=et,st=tt,ct=rt,ut=0;ut<80;ut++){var dt=sum32(rotl32(sum32_4(j,f$3(ut,_e,et,tt),o[r$2[ut]+a],K(ut)),s[ut]),rt);j=rt,rt=tt,tt=rotl32(et,10),et=_e,_e=dt,dt=sum32(rotl32(sum32_4(nt,f$3(79-ut,it,ot,st),o[rh[ut]+a],Kh(ut)),sh[ut]),ct),nt=ct,ct=st,st=rotl32(ot,10),ot=it,it=dt}dt=sum32_3(this.h[1],et,st),this.h[1]=sum32_3(this.h[2],tt,ct),this.h[2]=sum32_3(this.h[3],rt,nt),this.h[3]=sum32_3(this.h[4],j,it),this.h[4]=sum32_3(this.h[0],_e,ot),this.h[0]=dt};RIPEMD160.prototype._digest=function(o){return o==="hex"?utils$1.toHex32(this.h,"little"):utils$1.split32(this.h,"little")};function f$3($,o,a,j){return $<=15?o^a^j:$<=31?o&a|~o&j:$<=47?(o|~a)^j:$<=63?o&j|a&~j:o^(a|~j)}function K($){return $<=15?0:$<=31?1518500249:$<=47?1859775393:$<=63?2400959708:2840853838}function Kh($){return $<=15?1352829926:$<=31?1548603684:$<=47?1836072691:$<=63?2053994217:0}var r$2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils=utils$9,assert$6=minimalisticAssert$1;function Hmac($,o,a){if(!(this instanceof Hmac))return new Hmac($,o,a);this.Hash=$,this.blockSize=$.blockSize/8,this.outSize=$.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(o,a))}var hmac=Hmac;Hmac.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),assert$6(o.length<=this.blockSize);for(var a=o.length;a<this.blockSize;a++)o.push(0);for(a=0;a<o.length;a++)o[a]^=54;for(this.inner=new this.Hash().update(o),a=0;a<o.length;a++)o[a]^=106;this.outer=new this.Hash().update(o)};Hmac.prototype.update=function(o,a){return this.inner.update(o,a),this};Hmac.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)};(function($){var o=$;o.utils=utils$9,o.common=common$8,o.sha=sha$1,o.ripemd=ripemd,o.hmac=hmac,o.sha1=o.sha.sha1,o.sha256=o.sha.sha256,o.sha224=o.sha.sha224,o.sha384=o.sha.sha384,o.sha512=o.sha.sha512,o.ripemd160=o.ripemd.ripemd160})(hash$2);const hash$1=getDefaultExportFromCjs(hash$2);function createCommonjsModule($,o,a){return a={path:o,exports:{},require:function(j,_e){return commonjsRequire(j,_e??a.path)}},$(a,a.exports),a.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert;function assert($,o){if(!$)throw new Error(o||"Assertion failed")}assert.equal=function(o,a,j){if(o!=a)throw new Error(j||"Assertion failed: "+o+" != "+a)};var utils_1=createCommonjsModule(function($,o){var a=o;function j(tt,rt){if(Array.isArray(tt))return tt.slice();if(!tt)return[];var nt=[];if(typeof tt!="string"){for(var it=0;it<tt.length;it++)nt[it]=tt[it]|0;return nt}if(rt==="hex"){tt=tt.replace(/[^a-z0-9]+/ig,""),tt.length%2!==0&&(tt="0"+tt);for(var it=0;it<tt.length;it+=2)nt.push(parseInt(tt[it]+tt[it+1],16))}else for(var it=0;it<tt.length;it++){var ot=tt.charCodeAt(it),st=ot>>8,ct=ot&255;st?nt.push(st,ct):nt.push(ct)}return nt}a.toArray=j;function _e(tt){return tt.length===1?"0"+tt:tt}a.zero2=_e;function et(tt){for(var rt="",nt=0;nt<tt.length;nt++)rt+=_e(tt[nt].toString(16));return rt}a.toHex=et,a.encode=function(rt,nt){return nt==="hex"?et(rt):rt}}),utils_1$1=createCommonjsModule(function($,o){var a=o;a.assert=minimalisticAssert,a.toArray=utils_1.toArray,a.zero2=utils_1.zero2,a.toHex=utils_1.toHex,a.encode=utils_1.encode;function j(nt,it,ot){var st=new Array(Math.max(nt.bitLength(),ot)+1);st.fill(0);for(var ct=1<<it+1,ut=nt.clone(),dt=0;dt<st.length;dt++){var ft,ht=ut.andln(ct-1);ut.isOdd()?(ht>(ct>>1)-1?ft=(ct>>1)-ht:ft=ht,ut.isubn(ft)):ft=0,st[dt]=ft,ut.iushrn(1)}return st}a.getNAF=j;function _e(nt,it){var ot=[[],[]];nt=nt.clone(),it=it.clone();for(var st=0,ct=0,ut;nt.cmpn(-st)>0||it.cmpn(-ct)>0;){var dt=nt.andln(3)+st&3,ft=it.andln(3)+ct&3;dt===3&&(dt=-1),ft===3&&(ft=-1);var ht;dt&1?(ut=nt.andln(7)+st&7,(ut===3||ut===5)&&ft===2?ht=-dt:ht=dt):ht=0,ot[0].push(ht);var pt;ft&1?(ut=it.andln(7)+ct&7,(ut===3||ut===5)&&dt===2?pt=-ft:pt=ft):pt=0,ot[1].push(pt),2*st===ht+1&&(st=1-st),2*ct===pt+1&&(ct=1-ct),nt.iushrn(1),it.iushrn(1)}return ot}a.getJSF=_e;function et(nt,it,ot){var st="_"+it;nt.prototype[it]=function(){return this[st]!==void 0?this[st]:this[st]=ot.call(this)}}a.cachedProperty=et;function tt(nt){return typeof nt=="string"?a.toArray(nt,"hex"):nt}a.parseBytes=tt;function rt(nt){return new BN$1(nt,"hex","le")}a.intFromLE=rt}),getNAF=utils_1$1.getNAF,getJSF=utils_1$1.getJSF,assert$1=utils_1$1.assert;function BaseCurve($,o){this.type=$,this.p=new BN$1(o.p,16),this.red=o.prime?BN$1.red(o.prime):BN$1.mont(this.p),this.zero=new BN$1(0).toRed(this.red),this.one=new BN$1(1).toRed(this.red),this.two=new BN$1(2).toRed(this.red),this.n=o.n&&new BN$1(o.n,16),this.g=o.g&&this.pointFromJSON(o.g,o.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var a=this.n&&this.p.div(this.n);!a||a.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(o,a){assert$1(o.precomputed);var j=o._getDoubles(),_e=getNAF(a,1,this._bitLength),et=(1<<j.step+1)-(j.step%2===0?2:1);et/=3;var tt=[],rt,nt;for(rt=0;rt<_e.length;rt+=j.step){nt=0;for(var it=rt+j.step-1;it>=rt;it--)nt=(nt<<1)+_e[it];tt.push(nt)}for(var ot=this.jpoint(null,null,null),st=this.jpoint(null,null,null),ct=et;ct>0;ct--){for(rt=0;rt<tt.length;rt++)nt=tt[rt],nt===ct?st=st.mixedAdd(j.points[rt]):nt===-ct&&(st=st.mixedAdd(j.points[rt].neg()));ot=ot.add(st)}return ot.toP()};BaseCurve.prototype._wnafMul=function(o,a){var j=4,_e=o._getNAFPoints(j);j=_e.wnd;for(var et=_e.points,tt=getNAF(a,j,this._bitLength),rt=this.jpoint(null,null,null),nt=tt.length-1;nt>=0;nt--){for(var it=0;nt>=0&&tt[nt]===0;nt--)it++;if(nt>=0&&it++,rt=rt.dblp(it),nt<0)break;var ot=tt[nt];assert$1(ot!==0),o.type==="affine"?ot>0?rt=rt.mixedAdd(et[ot-1>>1]):rt=rt.mixedAdd(et[-ot-1>>1].neg()):ot>0?rt=rt.add(et[ot-1>>1]):rt=rt.add(et[-ot-1>>1].neg())}return o.type==="affine"?rt.toP():rt};BaseCurve.prototype._wnafMulAdd=function(o,a,j,_e,et){var tt=this._wnafT1,rt=this._wnafT2,nt=this._wnafT3,it=0,ot,st,ct;for(ot=0;ot<_e;ot++){ct=a[ot];var ut=ct._getNAFPoints(o);tt[ot]=ut.wnd,rt[ot]=ut.points}for(ot=_e-1;ot>=1;ot-=2){var dt=ot-1,ft=ot;if(tt[dt]!==1||tt[ft]!==1){nt[dt]=getNAF(j[dt],tt[dt],this._bitLength),nt[ft]=getNAF(j[ft],tt[ft],this._bitLength),it=Math.max(nt[dt].length,it),it=Math.max(nt[ft].length,it);continue}var ht=[a[dt],null,null,a[ft]];a[dt].y.cmp(a[ft].y)===0?(ht[1]=a[dt].add(a[ft]),ht[2]=a[dt].toJ().mixedAdd(a[ft].neg())):a[dt].y.cmp(a[ft].y.redNeg())===0?(ht[1]=a[dt].toJ().mixedAdd(a[ft]),ht[2]=a[dt].add(a[ft].neg())):(ht[1]=a[dt].toJ().mixedAdd(a[ft]),ht[2]=a[dt].toJ().mixedAdd(a[ft].neg()));var pt=[-3,-1,-5,-7,0,7,5,1,3],yt=getJSF(j[dt],j[ft]);for(it=Math.max(yt[0].length,it),nt[dt]=new Array(it),nt[ft]=new Array(it),st=0;st<it;st++){var gt=yt[0][st]|0,xt=yt[1][st]|0;nt[dt][st]=pt[(gt+1)*3+(xt+1)],nt[ft][st]=0,rt[dt]=ht}}var wt=this.jpoint(null,null,null),Mt=this._wnafT4;for(ot=it;ot>=0;ot--){for(var It=0;ot>=0;){var Tt=!0;for(st=0;st<_e;st++)Mt[st]=nt[st][ot]|0,Mt[st]!==0&&(Tt=!1);if(!Tt)break;It++,ot--}if(ot>=0&&It++,wt=wt.dblp(It),ot<0)break;for(st=0;st<_e;st++){var Dt=Mt[st];Dt!==0&&(Dt>0?ct=rt[st][Dt-1>>1]:Dt<0&&(ct=rt[st][-Dt-1>>1].neg()),ct.type==="affine"?wt=wt.mixedAdd(ct):wt=wt.add(ct))}}for(ot=0;ot<_e;ot++)rt[ot]=null;return et?wt:wt.toP()};function BasePoint($,o){this.curve=$,this.type=o,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(o,a){o=utils_1$1.toArray(o,a);var j=this.p.byteLength();if((o[0]===4||o[0]===6||o[0]===7)&&o.length-1===2*j){o[0]===6?assert$1(o[o.length-1]%2===0):o[0]===7&&assert$1(o[o.length-1]%2===1);var _e=this.point(o.slice(1,1+j),o.slice(1+j,1+2*j));return _e}else if((o[0]===2||o[0]===3)&&o.length-1===j)return this.pointFromX(o.slice(1,1+j),o[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(o){return this.encode(o,!0)};BasePoint.prototype._encode=function(o){var a=this.curve.p.byteLength(),j=this.getX().toArray("be",a);return o?[this.getY().isEven()?2:3].concat(j):[4].concat(j,this.getY().toArray("be",a))};BasePoint.prototype.encode=function(o,a){return utils_1$1.encode(this._encode(a),o)};BasePoint.prototype.precompute=function(o){if(this.precomputed)return this;var a={doubles:null,naf:null,beta:null};return a.naf=this._getNAFPoints(8),a.doubles=this._getDoubles(4,o),a.beta=this._getBeta(),this.precomputed=a,this};BasePoint.prototype._hasDoubles=function(o){if(!this.precomputed)return!1;var a=this.precomputed.doubles;return a?a.points.length>=Math.ceil((o.bitLength()+1)/a.step):!1};BasePoint.prototype._getDoubles=function(o,a){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var j=[this],_e=this,et=0;et<a;et+=o){for(var tt=0;tt<o;tt++)_e=_e.dbl();j.push(_e)}return{step:o,points:j}};BasePoint.prototype._getNAFPoints=function(o){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var a=[this],j=(1<<o)-1,_e=j===1?null:this.dbl(),et=1;et<j;et++)a[et]=a[et-1].add(_e);return{wnd:o,points:a}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(o){for(var a=this,j=0;j<o;j++)a=a.dbl();return a};var inherits_browser=createCommonjsModule(function($){typeof Object.create=="function"?$.exports=function(a,j){j&&(a.super_=j,a.prototype=Object.create(j.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:$.exports=function(a,j){if(j){a.super_=j;var _e=function(){};_e.prototype=j.prototype,a.prototype=new _e,a.prototype.constructor=a}}}),assert$2=utils_1$1.assert;function ShortCurve($){base$1.call(this,"short",$),this.a=new BN$1($.a,16).toRed(this.red),this.b=new BN$1($.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism($),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base$1);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function(o){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var a,j;if(o.beta)a=new BN$1(o.beta,16).toRed(this.red);else{var _e=this._getEndoRoots(this.p);a=_e[0].cmp(_e[1])<0?_e[0]:_e[1],a=a.toRed(this.red)}if(o.lambda)j=new BN$1(o.lambda,16);else{var et=this._getEndoRoots(this.n);this.g.mul(et[0]).x.cmp(this.g.x.redMul(a))===0?j=et[0]:(j=et[1],assert$2(this.g.mul(j).x.cmp(this.g.x.redMul(a))===0))}var tt;return o.basis?tt=o.basis.map(function(rt){return{a:new BN$1(rt.a,16),b:new BN$1(rt.b,16)}}):tt=this._getEndoBasis(j),{beta:a,lambda:j,basis:tt}}};ShortCurve.prototype._getEndoRoots=function(o){var a=o===this.p?this.red:BN$1.mont(o),j=new BN$1(2).toRed(a).redInvm(),_e=j.redNeg(),et=new BN$1(3).toRed(a).redNeg().redSqrt().redMul(j),tt=_e.redAdd(et).fromRed(),rt=_e.redSub(et).fromRed();return[tt,rt]};ShortCurve.prototype._getEndoBasis=function(o){for(var a=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=o,_e=this.n.clone(),et=new BN$1(1),tt=new BN$1(0),rt=new BN$1(0),nt=new BN$1(1),it,ot,st,ct,ut,dt,ft,ht=0,pt,yt;j.cmpn(0)!==0;){var gt=_e.div(j);pt=_e.sub(gt.mul(j)),yt=rt.sub(gt.mul(et));var xt=nt.sub(gt.mul(tt));if(!st&&pt.cmp(a)<0)it=ft.neg(),ot=et,st=pt.neg(),ct=yt;else if(st&&++ht===2)break;ft=pt,_e=j,j=pt,rt=et,et=yt,nt=tt,tt=xt}ut=pt.neg(),dt=yt;var wt=st.sqr().add(ct.sqr()),Mt=ut.sqr().add(dt.sqr());return Mt.cmp(wt)>=0&&(ut=it,dt=ot),st.negative&&(st=st.neg(),ct=ct.neg()),ut.negative&&(ut=ut.neg(),dt=dt.neg()),[{a:st,b:ct},{a:ut,b:dt}]};ShortCurve.prototype._endoSplit=function(o){var a=this.endo.basis,j=a[0],_e=a[1],et=_e.b.mul(o).divRound(this.n),tt=j.b.neg().mul(o).divRound(this.n),rt=et.mul(j.a),nt=tt.mul(_e.a),it=et.mul(j.b),ot=tt.mul(_e.b),st=o.sub(rt).sub(nt),ct=it.add(ot).neg();return{k1:st,k2:ct}};ShortCurve.prototype.pointFromX=function(o,a){o=new BN$1(o,16),o.red||(o=o.toRed(this.red));var j=o.redSqr().redMul(o).redIAdd(o.redMul(this.a)).redIAdd(this.b),_e=j.redSqrt();if(_e.redSqr().redSub(j).cmp(this.zero)!==0)throw new Error("invalid point");var et=_e.fromRed().isOdd();return(a&&!et||!a&&et)&&(_e=_e.redNeg()),this.point(o,_e)};ShortCurve.prototype.validate=function(o){if(o.inf)return!0;var a=o.x,j=o.y,_e=this.a.redMul(a),et=a.redSqr().redMul(a).redIAdd(_e).redIAdd(this.b);return j.redSqr().redISub(et).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(o,a,j){for(var _e=this._endoWnafT1,et=this._endoWnafT2,tt=0;tt<o.length;tt++){var rt=this._endoSplit(a[tt]),nt=o[tt],it=nt._getBeta();rt.k1.negative&&(rt.k1.ineg(),nt=nt.neg(!0)),rt.k2.negative&&(rt.k2.ineg(),it=it.neg(!0)),_e[tt*2]=nt,_e[tt*2+1]=it,et[tt*2]=rt.k1,et[tt*2+1]=rt.k2}for(var ot=this._wnafMulAdd(1,_e,et,tt*2,j),st=0;st<tt*2;st++)_e[st]=null,et[st]=null;return ot};function Point($,o,a,j){base$1.BasePoint.call(this,$,"affine"),o===null&&a===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$1(o,16),this.y=new BN$1(a,16),j&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser(Point,base$1.BasePoint);ShortCurve.prototype.point=function(o,a,j){return new Point(this,o,a,j)};ShortCurve.prototype.pointFromJSON=function(o,a){return Point.fromJSON(this,o,a)};Point.prototype._getBeta=function(){if(this.curve.endo){var o=this.precomputed;if(o&&o.beta)return o.beta;var a=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(o){var j=this.curve,_e=function(et){return j.point(et.x.redMul(j.endo.beta),et.y)};o.beta=a,a.precomputed={beta:null,naf:o.naf&&{wnd:o.naf.wnd,points:o.naf.points.map(_e)},doubles:o.doubles&&{step:o.doubles.step,points:o.doubles.points.map(_e)}}}return a}};Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point.fromJSON=function(o,a,j){typeof a=="string"&&(a=JSON.parse(a));var _e=o.point(a[0],a[1],j);if(!a[2])return _e;function et(rt){return o.point(rt[0],rt[1],j)}var tt=a[2];return _e.precomputed={beta:null,doubles:tt.doubles&&{step:tt.doubles.step,points:[_e].concat(tt.doubles.points.map(et))},naf:tt.naf&&{wnd:tt.naf.wnd,points:[_e].concat(tt.naf.points.map(et))}},_e};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.inf};Point.prototype.add=function(o){if(this.inf)return o;if(o.inf)return this;if(this.eq(o))return this.dbl();if(this.neg().eq(o))return this.curve.point(null,null);if(this.x.cmp(o.x)===0)return this.curve.point(null,null);var a=this.y.redSub(o.y);a.cmpn(0)!==0&&(a=a.redMul(this.x.redSub(o.x).redInvm()));var j=a.redSqr().redISub(this.x).redISub(o.x),_e=a.redMul(this.x.redSub(j)).redISub(this.y);return this.curve.point(j,_e)};Point.prototype.dbl=function(){if(this.inf)return this;var o=this.y.redAdd(this.y);if(o.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a,j=this.x.redSqr(),_e=o.redInvm(),et=j.redAdd(j).redIAdd(j).redIAdd(a).redMul(_e),tt=et.redSqr().redISub(this.x.redAdd(this.x)),rt=et.redMul(this.x.redSub(tt)).redISub(this.y);return this.curve.point(tt,rt)};Point.prototype.getX=function(){return this.x.fromRed()};Point.prototype.getY=function(){return this.y.fromRed()};Point.prototype.mul=function(o){return o=new BN$1(o,16),this.isInfinity()?this:this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve.endo?this.curve._endoWnafMulAdd([this],[o]):this.curve._wnafMul(this,o)};Point.prototype.mulAdd=function(o,a,j){var _e=[this,a],et=[o,j];return this.curve.endo?this.curve._endoWnafMulAdd(_e,et):this.curve._wnafMulAdd(1,_e,et,2)};Point.prototype.jmulAdd=function(o,a,j){var _e=[this,a],et=[o,j];return this.curve.endo?this.curve._endoWnafMulAdd(_e,et,!0):this.curve._wnafMulAdd(1,_e,et,2,!0)};Point.prototype.eq=function(o){return this===o||this.inf===o.inf&&(this.inf||this.x.cmp(o.x)===0&&this.y.cmp(o.y)===0)};Point.prototype.neg=function(o){if(this.inf)return this;var a=this.curve.point(this.x,this.y.redNeg());if(o&&this.precomputed){var j=this.precomputed,_e=function(et){return et.neg()};a.precomputed={naf:j.naf&&{wnd:j.naf.wnd,points:j.naf.points.map(_e)},doubles:j.doubles&&{step:j.doubles.step,points:j.doubles.points.map(_e)}}}return a};Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var o=this.curve.jpoint(this.x,this.y,this.curve.one);return o};function JPoint($,o,a,j){base$1.BasePoint.call(this,$,"jacobian"),o===null&&a===null&&j===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$1(0)):(this.x=new BN$1(o,16),this.y=new BN$1(a,16),this.z=new BN$1(j,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser(JPoint,base$1.BasePoint);ShortCurve.prototype.jpoint=function(o,a,j){return new JPoint(this,o,a,j)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var o=this.z.redInvm(),a=o.redSqr(),j=this.x.redMul(a),_e=this.y.redMul(a).redMul(o);return this.curve.point(j,_e)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(o){if(this.isInfinity())return o;if(o.isInfinity())return this;var a=o.z.redSqr(),j=this.z.redSqr(),_e=this.x.redMul(a),et=o.x.redMul(j),tt=this.y.redMul(a.redMul(o.z)),rt=o.y.redMul(j.redMul(this.z)),nt=_e.redSub(et),it=tt.redSub(rt);if(nt.cmpn(0)===0)return it.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ot=nt.redSqr(),st=ot.redMul(nt),ct=_e.redMul(ot),ut=it.redSqr().redIAdd(st).redISub(ct).redISub(ct),dt=it.redMul(ct.redISub(ut)).redISub(tt.redMul(st)),ft=this.z.redMul(o.z).redMul(nt);return this.curve.jpoint(ut,dt,ft)};JPoint.prototype.mixedAdd=function(o){if(this.isInfinity())return o.toJ();if(o.isInfinity())return this;var a=this.z.redSqr(),j=this.x,_e=o.x.redMul(a),et=this.y,tt=o.y.redMul(a).redMul(this.z),rt=j.redSub(_e),nt=et.redSub(tt);if(rt.cmpn(0)===0)return nt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var it=rt.redSqr(),ot=it.redMul(rt),st=j.redMul(it),ct=nt.redSqr().redIAdd(ot).redISub(st).redISub(st),ut=nt.redMul(st.redISub(ct)).redISub(et.redMul(ot)),dt=this.z.redMul(rt);return this.curve.jpoint(ct,ut,dt)};JPoint.prototype.dblp=function(o){if(o===0)return this;if(this.isInfinity())return this;if(!o)return this.dbl();var a;if(this.curve.zeroA||this.curve.threeA){var j=this;for(a=0;a<o;a++)j=j.dbl();return j}var _e=this.curve.a,et=this.curve.tinv,tt=this.x,rt=this.y,nt=this.z,it=nt.redSqr().redSqr(),ot=rt.redAdd(rt);for(a=0;a<o;a++){var st=tt.redSqr(),ct=ot.redSqr(),ut=ct.redSqr(),dt=st.redAdd(st).redIAdd(st).redIAdd(_e.redMul(it)),ft=tt.redMul(ct),ht=dt.redSqr().redISub(ft.redAdd(ft)),pt=ft.redISub(ht),yt=dt.redMul(pt);yt=yt.redIAdd(yt).redISub(ut);var gt=ot.redMul(nt);a+1<o&&(it=it.redMul(ut)),tt=ht,nt=gt,ot=yt}return this.curve.jpoint(tt,ot.redMul(et),nt)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var o,a,j;if(this.zOne){var _e=this.x.redSqr(),et=this.y.redSqr(),tt=et.redSqr(),rt=this.x.redAdd(et).redSqr().redISub(_e).redISub(tt);rt=rt.redIAdd(rt);var nt=_e.redAdd(_e).redIAdd(_e),it=nt.redSqr().redISub(rt).redISub(rt),ot=tt.redIAdd(tt);ot=ot.redIAdd(ot),ot=ot.redIAdd(ot),o=it,a=nt.redMul(rt.redISub(it)).redISub(ot),j=this.y.redAdd(this.y)}else{var st=this.x.redSqr(),ct=this.y.redSqr(),ut=ct.redSqr(),dt=this.x.redAdd(ct).redSqr().redISub(st).redISub(ut);dt=dt.redIAdd(dt);var ft=st.redAdd(st).redIAdd(st),ht=ft.redSqr(),pt=ut.redIAdd(ut);pt=pt.redIAdd(pt),pt=pt.redIAdd(pt),o=ht.redISub(dt).redISub(dt),a=ft.redMul(dt.redISub(o)).redISub(pt),j=this.y.redMul(this.z),j=j.redIAdd(j)}return this.curve.jpoint(o,a,j)};JPoint.prototype._threeDbl=function(){var o,a,j;if(this.zOne){var _e=this.x.redSqr(),et=this.y.redSqr(),tt=et.redSqr(),rt=this.x.redAdd(et).redSqr().redISub(_e).redISub(tt);rt=rt.redIAdd(rt);var nt=_e.redAdd(_e).redIAdd(_e).redIAdd(this.curve.a),it=nt.redSqr().redISub(rt).redISub(rt);o=it;var ot=tt.redIAdd(tt);ot=ot.redIAdd(ot),ot=ot.redIAdd(ot),a=nt.redMul(rt.redISub(it)).redISub(ot),j=this.y.redAdd(this.y)}else{var st=this.z.redSqr(),ct=this.y.redSqr(),ut=this.x.redMul(ct),dt=this.x.redSub(st).redMul(this.x.redAdd(st));dt=dt.redAdd(dt).redIAdd(dt);var ft=ut.redIAdd(ut);ft=ft.redIAdd(ft);var ht=ft.redAdd(ft);o=dt.redSqr().redISub(ht),j=this.y.redAdd(this.z).redSqr().redISub(ct).redISub(st);var pt=ct.redSqr();pt=pt.redIAdd(pt),pt=pt.redIAdd(pt),pt=pt.redIAdd(pt),a=dt.redMul(ft.redISub(o)).redISub(pt)}return this.curve.jpoint(o,a,j)};JPoint.prototype._dbl=function(){var o=this.curve.a,a=this.x,j=this.y,_e=this.z,et=_e.redSqr().redSqr(),tt=a.redSqr(),rt=j.redSqr(),nt=tt.redAdd(tt).redIAdd(tt).redIAdd(o.redMul(et)),it=a.redAdd(a);it=it.redIAdd(it);var ot=it.redMul(rt),st=nt.redSqr().redISub(ot.redAdd(ot)),ct=ot.redISub(st),ut=rt.redSqr();ut=ut.redIAdd(ut),ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var dt=nt.redMul(ct).redISub(ut),ft=j.redAdd(j).redMul(_e);return this.curve.jpoint(st,dt,ft)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var o=this.x.redSqr(),a=this.y.redSqr(),j=this.z.redSqr(),_e=a.redSqr(),et=o.redAdd(o).redIAdd(o),tt=et.redSqr(),rt=this.x.redAdd(a).redSqr().redISub(o).redISub(_e);rt=rt.redIAdd(rt),rt=rt.redAdd(rt).redIAdd(rt),rt=rt.redISub(tt);var nt=rt.redSqr(),it=_e.redIAdd(_e);it=it.redIAdd(it),it=it.redIAdd(it),it=it.redIAdd(it);var ot=et.redIAdd(rt).redSqr().redISub(tt).redISub(nt).redISub(it),st=a.redMul(ot);st=st.redIAdd(st),st=st.redIAdd(st);var ct=this.x.redMul(nt).redISub(st);ct=ct.redIAdd(ct),ct=ct.redIAdd(ct);var ut=this.y.redMul(ot.redMul(it.redISub(ot)).redISub(rt.redMul(nt)));ut=ut.redIAdd(ut),ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var dt=this.z.redAdd(rt).redSqr().redISub(j).redISub(nt);return this.curve.jpoint(ct,ut,dt)};JPoint.prototype.mul=function(o,a){return o=new BN$1(o,a),this.curve._wnafMul(this,o)};JPoint.prototype.eq=function(o){if(o.type==="affine")return this.eq(o.toJ());if(this===o)return!0;var a=this.z.redSqr(),j=o.z.redSqr();if(this.x.redMul(j).redISub(o.x.redMul(a)).cmpn(0)!==0)return!1;var _e=a.redMul(this.z),et=j.redMul(o.z);return this.y.redMul(et).redISub(o.y.redMul(_e)).cmpn(0)===0};JPoint.prototype.eqXToP=function(o){var a=this.z.redSqr(),j=o.toRed(this.curve.red).redMul(a);if(this.x.cmp(j)===0)return!0;for(var _e=o.clone(),et=this.curve.redN.redMul(a);;){if(_e.iadd(this.curve.n),_e.cmp(this.curve.p)>=0)return!1;if(j.redIAdd(et),this.x.cmp(j)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function($,o){var a=o;a.base=base$1,a.short=short_1,a.mont=null,a.edwards=null}),curves_1=createCommonjsModule(function($,o){var a=o,j=utils_1$1.assert;function _e(rt){rt.type==="short"?this.curve=new curve_1.short(rt):rt.type==="edwards"?this.curve=new curve_1.edwards(rt):this.curve=new curve_1.mont(rt),this.g=this.curve.g,this.n=this.curve.n,this.hash=rt.hash,j(this.g.validate(),"Invalid curve"),j(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a.PresetCurve=_e;function et(rt,nt){Object.defineProperty(a,rt,{configurable:!0,enumerable:!0,get:function(){var it=new _e(nt);return Object.defineProperty(a,rt,{configurable:!0,enumerable:!0,value:it}),it}})}et("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),et("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),et("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),et("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),et("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),et("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["9"]}),et("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var tt;try{tt=null.crash()}catch{tt=void 0}et("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",tt]})});function HmacDRBG($){if(!(this instanceof HmacDRBG))return new HmacDRBG($);this.hash=$.hash,this.predResist=!!$.predResist,this.outLen=this.hash.outSize,this.minEntropy=$.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=utils_1.toArray($.entropy,$.entropyEnc||"hex"),a=utils_1.toArray($.nonce,$.nonceEnc||"hex"),j=utils_1.toArray($.pers,$.persEnc||"hex");minimalisticAssert(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,a,j)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(o,a,j){var _e=o.concat(a).concat(j);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var et=0;et<this.V.length;et++)this.K[et]=0,this.V[et]=1;this._update(_e),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$1.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(o){var a=this._hmac().update(this.V).update([0]);o&&(a=a.update(o)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(o,a,j,_e){typeof a!="string"&&(_e=j,j=a,a=null),o=utils_1.toArray(o,a),j=utils_1.toArray(j,_e),minimalisticAssert(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(j||[])),this._reseed=1};HmacDRBG.prototype.generate=function(o,a,j,_e){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(_e=j,j=a,a=null),j&&(j=utils_1.toArray(j,_e||"hex"),this._update(j));for(var et=[];et.length<o;)this.V=this._hmac().update(this.V).digest(),et=et.concat(this.V);var tt=et.slice(0,o);return this._update(j),this._reseed++,utils_1.encode(tt,a)};var assert$3=utils_1$1.assert;function KeyPair($,o){this.ec=$,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function(o,a,j){return a instanceof KeyPair?a:new KeyPair(o,{pub:a,pubEnc:j})};KeyPair.fromPrivate=function(o,a,j){return a instanceof KeyPair?a:new KeyPair(o,{priv:a,privEnc:j})};KeyPair.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair.prototype.getPublic=function(o,a){return typeof o=="string"&&(a=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,o):this.pub};KeyPair.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv};KeyPair.prototype._importPrivate=function(o,a){this.priv=new BN$1(o,a||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function(o,a){if(o.x||o.y){this.ec.curve.type==="mont"?assert$3(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,a)};KeyPair.prototype.derive=function(o){return o.validate()||assert$3(o.validate(),"public point not validated"),o.mul(this.priv).getX()};KeyPair.prototype.sign=function(o,a,j){return this.ec.sign(o,this,a,j)};KeyPair.prototype.verify=function(o,a){return this.ec.verify(o,a,this)};KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1.assert;function Signature($,o){if($ instanceof Signature)return $;this._importDER($,o)||(assert$4($.r&&$.s,"Signature without r or s"),this.r=new BN$1($.r,16),this.s=new BN$1($.s,16),$.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=$.recoveryParam)}var signature=Signature;function Position(){this.place=0}function getLength($,o){var a=$[o.place++];if(!(a&128))return a;var j=a&15;if(j===0||j>4)return!1;for(var _e=0,et=0,tt=o.place;et<j;et++,tt++)_e<<=8,_e|=$[tt],_e>>>=0;return _e<=127?!1:(o.place=tt,_e)}function rmPadding($){for(var o=0,a=$.length-1;!$[o]&&!($[o+1]&128)&&o<a;)o++;return o===0?$:$.slice(o)}Signature.prototype._importDER=function(o,a){o=utils_1$1.toArray(o,a);var j=new Position;if(o[j.place++]!==48)return!1;var _e=getLength(o,j);if(_e===!1||_e+j.place!==o.length||o[j.place++]!==2)return!1;var et=getLength(o,j);if(et===!1)return!1;var tt=o.slice(j.place,et+j.place);if(j.place+=et,o[j.place++]!==2)return!1;var rt=getLength(o,j);if(rt===!1||o.length!==rt+j.place)return!1;var nt=o.slice(j.place,rt+j.place);if(tt[0]===0)if(tt[1]&128)tt=tt.slice(1);else return!1;if(nt[0]===0)if(nt[1]&128)nt=nt.slice(1);else return!1;return this.r=new BN$1(tt),this.s=new BN$1(nt),this.recoveryParam=null,!0};function constructLength($,o){if(o<128){$.push(o);return}var a=1+(Math.log(o)/Math.LN2>>>3);for($.push(a|128);--a;)$.push(o>>>(a<<3)&255);$.push(o)}Signature.prototype.toDER=function(o){var a=this.r.toArray(),j=this.s.toArray();for(a[0]&128&&(a=[0].concat(a)),j[0]&128&&(j=[0].concat(j)),a=rmPadding(a),j=rmPadding(j);!j[0]&&!(j[1]&128);)j=j.slice(1);var _e=[2];constructLength(_e,a.length),_e=_e.concat(a),_e.push(2),constructLength(_e,j.length);var et=_e.concat(j),tt=[48];return constructLength(tt,et.length),tt=tt.concat(et),utils_1$1.encode(tt,o)};var rand=function(){throw new Error("unsupported")},assert$5=utils_1$1.assert;function EC($){if(!(this instanceof EC))return new EC($);typeof $=="string"&&(assert$5(Object.prototype.hasOwnProperty.call(curves_1,$),"Unknown curve "+$),$=curves_1[$]),$ instanceof curves_1.PresetCurve&&($={curve:$}),this.curve=$.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=$.curve.g,this.g.precompute($.curve.n.bitLength()+1),this.hash=$.hash||$.curve.hash}var ec=EC;EC.prototype.keyPair=function(o){return new key(this,o)};EC.prototype.keyFromPrivate=function(o,a){return key.fromPrivate(this,o,a)};EC.prototype.keyFromPublic=function(o,a){return key.fromPublic(this,o,a)};EC.prototype.genKeyPair=function(o){o||(o={});for(var a=new hmacDrbg({hash:this.hash,pers:o.pers,persEnc:o.persEnc||"utf8",entropy:o.entropy||rand(this.hash.hmacStrength),entropyEnc:o.entropy&&o.entropyEnc||"utf8",nonce:this.n.toArray()}),j=this.n.byteLength(),_e=this.n.sub(new BN$1(2));;){var et=new BN$1(a.generate(j));if(!(et.cmp(_e)>0))return et.iaddn(1),this.keyFromPrivate(et)}};EC.prototype._truncateToN=function(o,a){var j=o.byteLength()*8-this.n.bitLength();return j>0&&(o=o.ushrn(j)),!a&&o.cmp(this.n)>=0?o.sub(this.n):o};EC.prototype.sign=function(o,a,j,_e){typeof j=="object"&&(_e=j,j=null),_e||(_e={}),a=this.keyFromPrivate(a,j),o=this._truncateToN(new BN$1(o,16));for(var et=this.n.byteLength(),tt=a.getPrivate().toArray("be",et),rt=o.toArray("be",et),nt=new hmacDrbg({hash:this.hash,entropy:tt,nonce:rt,pers:_e.pers,persEnc:_e.persEnc||"utf8"}),it=this.n.sub(new BN$1(1)),ot=0;;ot++){var st=_e.k?_e.k(ot):new BN$1(nt.generate(this.n.byteLength()));if(st=this._truncateToN(st,!0),!(st.cmpn(1)<=0||st.cmp(it)>=0)){var ct=this.g.mul(st);if(!ct.isInfinity()){var ut=ct.getX(),dt=ut.umod(this.n);if(dt.cmpn(0)!==0){var ft=st.invm(this.n).mul(dt.mul(a.getPrivate()).iadd(o));if(ft=ft.umod(this.n),ft.cmpn(0)!==0){var ht=(ct.getY().isOdd()?1:0)|(ut.cmp(dt)!==0?2:0);return _e.canonical&&ft.cmp(this.nh)>0&&(ft=this.n.sub(ft),ht^=1),new signature({r:dt,s:ft,recoveryParam:ht})}}}}}};EC.prototype.verify=function(o,a,j,_e){o=this._truncateToN(new BN$1(o,16)),j=this.keyFromPublic(j,_e),a=new signature(a,"hex");var et=a.r,tt=a.s;if(et.cmpn(1)<0||et.cmp(this.n)>=0||tt.cmpn(1)<0||tt.cmp(this.n)>=0)return!1;var rt=tt.invm(this.n),nt=rt.mul(o).umod(this.n),it=rt.mul(et).umod(this.n),ot;return this.curve._maxwellTrick?(ot=this.g.jmulAdd(nt,j.getPublic(),it),ot.isInfinity()?!1:ot.eqXToP(et)):(ot=this.g.mulAdd(nt,j.getPublic(),it),ot.isInfinity()?!1:ot.getX().umod(this.n).cmp(et)===0)};EC.prototype.recoverPubKey=function($,o,a,j){assert$5((3&a)===a,"The recovery param is more than two bits"),o=new signature(o,j);var _e=this.n,et=new BN$1($),tt=o.r,rt=o.s,nt=a&1,it=a>>1;if(tt.cmp(this.curve.p.umod(this.curve.n))>=0&&it)throw new Error("Unable to find sencond key candinate");it?tt=this.curve.pointFromX(tt.add(this.curve.n),nt):tt=this.curve.pointFromX(tt,nt);var ot=o.r.invm(_e),st=_e.sub(et).mul(ot).umod(_e),ct=rt.mul(ot).umod(_e);return this.g.mulAdd(st,tt,ct)};EC.prototype.getKeyRecoveryParam=function($,o,a,j){if(o=new signature(o,j),o.recoveryParam!==null)return o.recoveryParam;for(var _e=0;_e<4;_e++){var et;try{et=this.recoverPubKey($,o,_e)}catch{continue}if(et.eq(a))return _e}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function($,o){var a=o;a.version="6.5.4",a.utils=utils_1$1,a.rand=function(){throw new Error("unsupported")},a.curve=curve_1,a.curves=curves_1,a.ec=ec,a.eddsa=null}),EC$1=elliptic_1.ec;const version$8="signing-key/5.7.0",logger$8=new Logger(version$8);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}class SigningKey{constructor(o){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(o)),hexDataLength(this.privateKey)!==32&&logger$8.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const a=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+a.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+a.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(o){const a=getCurve().keyFromPublic(arrayify(this.publicKey)),j=getCurve().keyFromPublic(arrayify(o));return"0x"+a.pub.add(j.pub).encodeCompressed("hex")}signDigest(o){const a=getCurve().keyFromPrivate(arrayify(this.privateKey)),j=arrayify(o);j.length!==32&&logger$8.throwArgumentError("bad digest length","digest",o);const _e=a.sign(j,{canonical:!0});return splitSignature({recoveryParam:_e.recoveryParam,r:hexZeroPad("0x"+_e.r.toString(16),32),s:hexZeroPad("0x"+_e.s.toString(16),32)})}computeSharedSecret(o){const a=getCurve().keyFromPrivate(arrayify(this.privateKey)),j=getCurve().keyFromPublic(arrayify(computePublicKey(o)));return hexZeroPad("0x"+a.derive(j.getPublic()).toString(16),32)}static isSigningKey(o){return!!(o&&o._isSigningKey)}}function recoverPublicKey($,o){const a=splitSignature(o),j={r:arrayify(a.r),s:arrayify(a.s)};return"0x"+getCurve().recoverPubKey(arrayify($),j,a.recoveryParam).encode("hex",!1)}function computePublicKey($,o){const a=arrayify($);if(a.length===32){const j=new SigningKey(a);return o?"0x"+getCurve().keyFromPrivate(a).getPublic(!0,"hex"):j.publicKey}else{if(a.length===33)return o?hexlify(a):"0x"+getCurve().keyFromPublic(a).getPublic(!1,"hex");if(a.length===65)return o?"0x"+getCurve().keyFromPublic(a).getPublic(!0,"hex"):hexlify(a)}return logger$8.throwArgumentError("invalid public or private key","key","[REDACTED]")}const version$7="transactions/5.7.0",logger$7=new Logger(version$7);var TransactionTypes;(function($){$[$.legacy=0]="legacy",$[$.eip2930=1]="eip2930",$[$.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress($){return $==="0x"?null:getAddress($)}function handleNumber($){return $==="0x"?Zero$1:BigNumber.from($)}function computeAddress($){const o=computePublicKey($);return getAddress(hexDataSlice(keccak256(hexDataSlice(o,1)),12))}function recoverAddress($,o){return computeAddress(recoverPublicKey(arrayify($),o))}function formatNumber($,o){const a=stripZeros(BigNumber.from($).toHexString());return a.length>32&&logger$7.throwArgumentError("invalid length for "+o,"transaction:"+o,$),a}function accessSetify($,o){return{address:getAddress($),storageKeys:(o||[]).map((a,j)=>(hexDataLength(a)!==32&&logger$7.throwArgumentError("invalid access list storageKey",`accessList[${$}:${j}]`,a),a.toLowerCase()))}}function accessListify($){if(Array.isArray($))return $.map((a,j)=>Array.isArray(a)?(a.length>2&&logger$7.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${j}]`,a),accessSetify(a[0],a[1])):accessSetify(a.address,a.storageKeys));const o=Object.keys($).map(a=>{const j=$[a].reduce((_e,et)=>(_e[et]=!0,_e),{});return accessSetify(a,Object.keys(j).sort())});return o.sort((a,j)=>a.address.localeCompare(j.address)),o}function formatAccessList($){return accessListify($).map(o=>[o.address,o.storageKeys])}function _serializeEip1559($,o){if($.gasPrice!=null){const j=BigNumber.from($.gasPrice),_e=BigNumber.from($.maxFeePerGas||0);j.eq(_e)||logger$7.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:j,maxFeePerGas:_e})}const a=[formatNumber($.chainId||0,"chainId"),formatNumber($.nonce||0,"nonce"),formatNumber($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber($.maxFeePerGas||0,"maxFeePerGas"),formatNumber($.gasLimit||0,"gasLimit"),$.to!=null?getAddress($.to):"0x",formatNumber($.value||0,"value"),$.data||"0x",formatAccessList($.accessList||[])];if(o){const j=splitSignature(o);a.push(formatNumber(j.recoveryParam,"recoveryParam")),a.push(stripZeros(j.r)),a.push(stripZeros(j.s))}return hexConcat(["0x02",encode$c(a)])}function _serializeEip2930($,o){const a=[formatNumber($.chainId||0,"chainId"),formatNumber($.nonce||0,"nonce"),formatNumber($.gasPrice||0,"gasPrice"),formatNumber($.gasLimit||0,"gasLimit"),$.to!=null?getAddress($.to):"0x",formatNumber($.value||0,"value"),$.data||"0x",formatAccessList($.accessList||[])];if(o){const j=splitSignature(o);a.push(formatNumber(j.recoveryParam,"recoveryParam")),a.push(stripZeros(j.r)),a.push(stripZeros(j.s))}return hexConcat(["0x01",encode$c(a)])}function _parseEipSignature($,o,a){try{const j=handleNumber(o[0]).toNumber();if(j!==0&&j!==1)throw new Error("bad recid");$.v=j}catch{logger$7.throwArgumentError("invalid v for transaction type: 1","v",o[0])}$.r=hexZeroPad(o[1],32),$.s=hexZeroPad(o[2],32);try{const j=keccak256(a($));$.from=recoverAddress(j,{r:$.r,s:$.s,recoveryParam:$.v})}catch{}}function _parseEip1559($){const o=decode$d($.slice(1));o.length!==9&&o.length!==12&&logger$7.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify($));const a=handleNumber(o[2]),j=handleNumber(o[3]),_e={type:2,chainId:handleNumber(o[0]).toNumber(),nonce:handleNumber(o[1]).toNumber(),maxPriorityFeePerGas:a,maxFeePerGas:j,gasPrice:null,gasLimit:handleNumber(o[4]),to:handleAddress(o[5]),value:handleNumber(o[6]),data:o[7],accessList:accessListify(o[8])};return o.length===9||(_e.hash=keccak256($),_parseEipSignature(_e,o.slice(9),_serializeEip1559)),_e}function _parseEip2930($){const o=decode$d($.slice(1));o.length!==8&&o.length!==11&&logger$7.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify($));const a={type:1,chainId:handleNumber(o[0]).toNumber(),nonce:handleNumber(o[1]).toNumber(),gasPrice:handleNumber(o[2]),gasLimit:handleNumber(o[3]),to:handleAddress(o[4]),value:handleNumber(o[5]),data:o[6],accessList:accessListify(o[7])};return o.length===8||(a.hash=keccak256($),_parseEipSignature(a,o.slice(8),_serializeEip2930)),a}function _parse($){const o=decode$d($);o.length!==9&&o.length!==6&&logger$7.throwArgumentError("invalid raw transaction","rawTransaction",$);const a={nonce:handleNumber(o[0]).toNumber(),gasPrice:handleNumber(o[1]),gasLimit:handleNumber(o[2]),to:handleAddress(o[3]),value:handleNumber(o[4]),data:o[5],chainId:0};if(o.length===6)return a;try{a.v=BigNumber.from(o[6]).toNumber()}catch{return a}if(a.r=hexZeroPad(o[7],32),a.s=hexZeroPad(o[8],32),BigNumber.from(a.r).isZero()&&BigNumber.from(a.s).isZero())a.chainId=a.v,a.v=0;else{a.chainId=Math.floor((a.v-35)/2),a.chainId<0&&(a.chainId=0);let j=a.v-27;const _e=o.slice(0,6);a.chainId!==0&&(_e.push(hexlify(a.chainId)),_e.push("0x"),_e.push("0x"),j-=a.chainId*2+8);const et=keccak256(encode$c(_e));try{a.from=recoverAddress(et,{r:hexlify(a.r),s:hexlify(a.s),recoveryParam:j})}catch{}a.hash=keccak256($)}return a.type=null,a}function parse$1($){const o=arrayify($);if(o[0]>127)return _parse(o);switch(o[0]){case 1:return _parseEip2930(o);case 2:return _parseEip1559(o)}return logger$7.throwError(`unsupported transaction type: ${o[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:o[0]})}const version$6="contracts/5.7.0";var __awaiter$4=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(ot){try{it(j.next(ot))}catch(st){tt(st)}}function nt(ot){try{it(j.throw(ot))}catch(st){tt(st)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(rt,nt)}it((j=j.apply($,o||[])).next())})};const logger$6=new Logger(version$6);function resolveName($,o){return __awaiter$4(this,void 0,void 0,function*(){const a=yield o;typeof a!="string"&&logger$6.throwArgumentError("invalid address or ENS name","name",a);try{return getAddress(a)}catch{}$||logger$6.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const j=yield $.resolveName(a);return j==null&&logger$6.throwArgumentError("resolver or addr is not configured for ENS name","name",a),j})}function resolveAddresses($,o,a){return __awaiter$4(this,void 0,void 0,function*(){return Array.isArray(a)?yield Promise.all(a.map((j,_e)=>resolveAddresses($,Array.isArray(o)?o[_e]:o[j.name],j))):a.type==="address"?yield resolveName($,o):a.type==="tuple"?yield resolveAddresses($,o,a.components):a.baseType==="array"?Array.isArray(o)?yield Promise.all(o.map(j=>resolveAddresses($,j,a.arrayChildren))):Promise.reject(logger$6.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:o})):o})}function populateTransaction($,o,a){return __awaiter$4(this,void 0,void 0,function*(){let j={};a.length===o.inputs.length+1&&typeof a[a.length-1]=="object"&&(j=shallowCopy(a.pop())),logger$6.checkArgumentCount(a.length,o.inputs.length,"passed to contract"),$.signer?j.from?j.from=resolveProperties({override:resolveName($.signer,j.from),signer:$.signer.getAddress()}).then(it=>__awaiter$4(this,void 0,void 0,function*(){return getAddress(it.signer)!==it.override&&logger$6.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),it.override})):j.from=$.signer.getAddress():j.from&&(j.from=resolveName($.provider,j.from));const _e=yield resolveProperties({args:resolveAddresses($.signer||$.provider,a,o.inputs),address:$.resolvedAddress,overrides:resolveProperties(j)||{}}),et=$.interface.encodeFunctionData(o,_e.args),tt={data:et,to:_e.address},rt=_e.overrides;if(rt.nonce!=null&&(tt.nonce=BigNumber.from(rt.nonce).toNumber()),rt.gasLimit!=null&&(tt.gasLimit=BigNumber.from(rt.gasLimit)),rt.gasPrice!=null&&(tt.gasPrice=BigNumber.from(rt.gasPrice)),rt.maxFeePerGas!=null&&(tt.maxFeePerGas=BigNumber.from(rt.maxFeePerGas)),rt.maxPriorityFeePerGas!=null&&(tt.maxPriorityFeePerGas=BigNumber.from(rt.maxPriorityFeePerGas)),rt.from!=null&&(tt.from=rt.from),rt.type!=null&&(tt.type=rt.type),rt.accessList!=null&&(tt.accessList=accessListify(rt.accessList)),tt.gasLimit==null&&o.gas!=null){let it=21e3;const ot=arrayify(et);for(let st=0;st<ot.length;st++)it+=4,ot[st]&&(it+=64);tt.gasLimit=BigNumber.from(o.gas).add(it)}if(rt.value){const it=BigNumber.from(rt.value);!it.isZero()&&!o.payable&&logger$6.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:j.value}),tt.value=it}rt.customData&&(tt.customData=shallowCopy(rt.customData)),rt.ccipReadEnabled&&(tt.ccipReadEnabled=!!rt.ccipReadEnabled),delete j.nonce,delete j.gasLimit,delete j.gasPrice,delete j.from,delete j.value,delete j.type,delete j.accessList,delete j.maxFeePerGas,delete j.maxPriorityFeePerGas,delete j.customData,delete j.ccipReadEnabled;const nt=Object.keys(j).filter(it=>j[it]!=null);return nt.length&&logger$6.throwError(`cannot override ${nt.map(it=>JSON.stringify(it)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:nt}),tt})}function buildPopulate($,o){return function(...a){return populateTransaction($,o,a)}}function buildEstimate($,o){const a=$.signer||$.provider;return function(...j){return __awaiter$4(this,void 0,void 0,function*(){a||logger$6.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const _e=yield populateTransaction($,o,j);return yield a.estimateGas(_e)})}}function addContractWait($,o){const a=o.wait.bind(o);o.wait=j=>a(j).then(_e=>(_e.events=_e.logs.map(et=>{let tt=deepCopy(et),rt=null;try{rt=$.interface.parseLog(et)}catch{}return rt&&(tt.args=rt.args,tt.decode=(nt,it)=>$.interface.decodeEventLog(rt.eventFragment,nt,it),tt.event=rt.name,tt.eventSignature=rt.signature),tt.removeListener=()=>$.provider,tt.getBlock=()=>$.provider.getBlock(_e.blockHash),tt.getTransaction=()=>$.provider.getTransaction(_e.transactionHash),tt.getTransactionReceipt=()=>Promise.resolve(_e),tt}),_e))}function buildCall($,o,a){const j=$.signer||$.provider;return function(..._e){return __awaiter$4(this,void 0,void 0,function*(){let et;if(_e.length===o.inputs.length+1&&typeof _e[_e.length-1]=="object"){const nt=shallowCopy(_e.pop());nt.blockTag!=null&&(et=yield nt.blockTag),delete nt.blockTag,_e.push(nt)}$.deployTransaction!=null&&(yield $._deployed(et));const tt=yield populateTransaction($,o,_e),rt=yield j.call(tt,et);try{let nt=$.interface.decodeFunctionResult(o,rt);return a&&o.outputs.length===1&&(nt=nt[0]),nt}catch(nt){throw nt.code===Logger.errors.CALL_EXCEPTION&&(nt.address=$.address,nt.args=_e,nt.transaction=tt),nt}})}}function buildSend($,o){return function(...a){return __awaiter$4(this,void 0,void 0,function*(){$.signer||logger$6.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),$.deployTransaction!=null&&(yield $._deployed());const j=yield populateTransaction($,o,a),_e=yield $.signer.sendTransaction(j);return addContractWait($,_e),_e})}}function buildDefault($,o,a){return o.constant?buildCall($,o,a):buildSend($,o)}function getEventTag$1($){return $.address&&($.topics==null||$.topics.length===0)?"*":($.address||"*")+"@"+($.topics?$.topics.map(o=>Array.isArray(o)?o.join("|"):o).join(":"):"")}class RunningEvent{constructor(o,a){defineReadOnly(this,"tag",o),defineReadOnly(this,"filter",a),this._listeners=[]}addListener(o,a){this._listeners.push({listener:o,once:a})}removeListener(o){let a=!1;this._listeners=this._listeners.filter(j=>a||j.listener!==o?!0:(a=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(o=>o.listener)}listenerCount(){return this._listeners.length}run(o){const a=this.listenerCount();return this._listeners=this._listeners.filter(j=>{const _e=o.slice();return setTimeout(()=>{j.listener.apply(this,_e)},0),!j.once}),a}prepareEvent(o){}getEmit(o){return[o]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(o,a,j,_e){const et={address:o};let tt=a.getEventTopic(j);_e?(tt!==_e[0]&&logger$6.throwArgumentError("topic mismatch","topics",_e),et.topics=_e.slice()):et.topics=[tt],super(getEventTag$1(et),et),defineReadOnly(this,"address",o),defineReadOnly(this,"interface",a),defineReadOnly(this,"fragment",j)}prepareEvent(o){super.prepareEvent(o),o.event=this.fragment.name,o.eventSignature=this.fragment.format(),o.decode=(a,j)=>this.interface.decodeEventLog(this.fragment,a,j);try{o.args=this.interface.decodeEventLog(this.fragment,o.data,o.topics)}catch(a){o.args=null,o.decodeError=a}}getEmit(o){const a=checkResultErrors(o.args);if(a.length)throw a[0].error;const j=(o.args||[]).slice();return j.push(o),j}}class WildcardRunningEvent extends RunningEvent{constructor(o,a){super("*",{address:o}),defineReadOnly(this,"address",o),defineReadOnly(this,"interface",a)}prepareEvent(o){super.prepareEvent(o);try{const a=this.interface.parseLog(o);o.event=a.name,o.eventSignature=a.signature,o.decode=(j,_e)=>this.interface.decodeEventLog(a.eventFragment,j,_e),o.args=a.args}catch{}}}class BaseContract{constructor(o,a,j){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(a)),j==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(j)?(defineReadOnly(this,"provider",j.provider||null),defineReadOnly(this,"signer",j)):Provider$1.isProvider(j)?(defineReadOnly(this,"provider",j),defineReadOnly(this,"signer",null)):logger$6.throwArgumentError("invalid signer or provider","signerOrProvider",j),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const tt={};Object.keys(this.interface.events).forEach(rt=>{const nt=this.interface.events[rt];defineReadOnly(this.filters,rt,(...it)=>({address:this.address,topics:this.interface.encodeFilterTopics(nt,it)})),tt[nt.name]||(tt[nt.name]=[]),tt[nt.name].push(rt)}),Object.keys(tt).forEach(rt=>{const nt=tt[rt];nt.length===1?defineReadOnly(this.filters,rt,this.filters[nt[0]]):logger$6.warn(`Duplicate definition of ${rt} (${nt.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),o==null&&logger$6.throwArgumentError("invalid contract address or ENS name","addressOrName",o),defineReadOnly(this,"address",o),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,o));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(o)))}catch{logger$6.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(tt=>{});const _e={},et={};Object.keys(this.interface.functions).forEach(tt=>{const rt=this.interface.functions[tt];if(et[tt]){logger$6.warn(`Duplicate ABI entry for ${JSON.stringify(tt)}`);return}et[tt]=!0;{const nt=rt.name;_e[`%${nt}`]||(_e[`%${nt}`]=[]),_e[`%${nt}`].push(tt)}this[tt]==null&&defineReadOnly(this,tt,buildDefault(this,rt,!0)),this.functions[tt]==null&&defineReadOnly(this.functions,tt,buildDefault(this,rt,!1)),this.callStatic[tt]==null&&defineReadOnly(this.callStatic,tt,buildCall(this,rt,!0)),this.populateTransaction[tt]==null&&defineReadOnly(this.populateTransaction,tt,buildPopulate(this,rt)),this.estimateGas[tt]==null&&defineReadOnly(this.estimateGas,tt,buildEstimate(this,rt))}),Object.keys(_e).forEach(tt=>{const rt=_e[tt];if(rt.length>1)return;tt=tt.substring(1);const nt=rt[0];try{this[tt]==null&&defineReadOnly(this,tt,this[nt])}catch{}this.functions[tt]==null&&defineReadOnly(this.functions,tt,this.functions[nt]),this.callStatic[tt]==null&&defineReadOnly(this.callStatic,tt,this.callStatic[nt]),this.populateTransaction[tt]==null&&defineReadOnly(this.populateTransaction,tt,this.populateTransaction[nt]),this.estimateGas[tt]==null&&defineReadOnly(this.estimateGas,tt,this.estimateGas[nt])})}static getContractAddress(o){return getContractAddress(o)}static getInterface(o){return Interface.isInterface(o)?o:new Interface(o)}deployed(){return this._deployed()}_deployed(o){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,o).then(a=>(a==="0x"&&logger$6.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(o){this.signer||logger$6.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const a=shallowCopy(o||{});return["from","to"].forEach(function(j){a[j]!=null&&logger$6.throwError("cannot override "+j,Logger.errors.UNSUPPORTED_OPERATION,{operation:j})}),a.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(a))}connect(o){typeof o=="string"&&(o=new VoidSigner(o,this.provider));const a=new this.constructor(this.address,this.interface,o);return this.deployTransaction&&defineReadOnly(a,"deployTransaction",this.deployTransaction),a}attach(o){return new this.constructor(o,this.interface,this.signer||this.provider)}static isIndexed(o){return Indexed.isIndexed(o)}_normalizeRunningEvent(o){return this._runningEvents[o.tag]?this._runningEvents[o.tag]:o}_getRunningEvent(o){if(typeof o=="string"){if(o==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(o==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(o==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const a=this.interface.getEvent(o);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,a))}if(o.topics&&o.topics.length>0){try{const j=o.topics[0];if(typeof j!="string")throw new Error("invalid topic");const _e=this.interface.getEvent(j);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,_e,o.topics))}catch{}const a={address:this.address,topics:o.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(a),a))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(o){if(o.listenerCount()===0){delete this._runningEvents[o.tag];const a=this._wrappedEmits[o.tag];a&&o.filter&&(this.provider.off(o.filter,a),delete this._wrappedEmits[o.tag])}}_wrapEvent(o,a,j){const _e=deepCopy(a);return _e.removeListener=()=>{j&&(o.removeListener(j),this._checkRunningEvents(o))},_e.getBlock=()=>this.provider.getBlock(a.blockHash),_e.getTransaction=()=>this.provider.getTransaction(a.transactionHash),_e.getTransactionReceipt=()=>this.provider.getTransactionReceipt(a.transactionHash),o.prepareEvent(_e),_e}_addEventListener(o,a,j){if(this.provider||logger$6.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),o.addListener(a,j),this._runningEvents[o.tag]=o,!this._wrappedEmits[o.tag]){const _e=et=>{let tt=this._wrapEvent(o,et,a);if(tt.decodeError==null)try{const rt=o.getEmit(tt);this.emit(o.filter,...rt)}catch(rt){tt.decodeError=rt.error}o.filter!=null&&this.emit("event",tt),tt.decodeError!=null&&this.emit("error",tt.decodeError,tt)};this._wrappedEmits[o.tag]=_e,o.filter!=null&&this.provider.on(o.filter,_e)}}queryFilter(o,a,j){const _e=this._getRunningEvent(o),et=shallowCopy(_e.filter);return typeof a=="string"&&isHexString(a,32)?(j!=null&&logger$6.throwArgumentError("cannot specify toBlock with blockhash","toBlock",j),et.blockHash=a):(et.fromBlock=a??0,et.toBlock=j??"latest"),this.provider.getLogs(et).then(tt=>tt.map(rt=>this._wrapEvent(_e,rt,null)))}on(o,a){return this._addEventListener(this._getRunningEvent(o),a,!1),this}once(o,a){return this._addEventListener(this._getRunningEvent(o),a,!0),this}emit(o,...a){if(!this.provider)return!1;const j=this._getRunningEvent(o),_e=j.run(a)>0;return this._checkRunningEvents(j),_e}listenerCount(o){return this.provider?o==null?Object.keys(this._runningEvents).reduce((a,j)=>a+this._runningEvents[j].listenerCount(),0):this._getRunningEvent(o).listenerCount():0}listeners(o){if(!this.provider)return[];if(o==null){const a=[];for(let j in this._runningEvents)this._runningEvents[j].listeners().forEach(_e=>{a.push(_e)});return a}return this._getRunningEvent(o).listeners()}removeAllListeners(o){if(!this.provider)return this;if(o==null){for(const j in this._runningEvents){const _e=this._runningEvents[j];_e.removeAllListeners(),this._checkRunningEvents(_e)}return this}const a=this._getRunningEvent(o);return a.removeAllListeners(),this._checkRunningEvents(a),this}off(o,a){if(!this.provider)return this;const j=this._getRunningEvent(o);return j.removeListener(a),this._checkRunningEvents(j),this}removeListener(o,a){return this.off(o,a)}}class Contract extends BaseContract{}class BaseX{constructor(o){defineReadOnly(this,"alphabet",o),defineReadOnly(this,"base",o.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",o.charAt(0));for(let a=0;a<o.length;a++)this._alphabetMap[o.charAt(a)]=a}encode(o){let a=arrayify(o);if(a.length===0)return"";let j=[0];for(let et=0;et<a.length;++et){let tt=a[et];for(let rt=0;rt<j.length;++rt)tt+=j[rt]<<8,j[rt]=tt%this.base,tt=tt/this.base|0;for(;tt>0;)j.push(tt%this.base),tt=tt/this.base|0}let _e="";for(let et=0;a[et]===0&&et<a.length-1;++et)_e+=this._leader;for(let et=j.length-1;et>=0;--et)_e+=this.alphabet[j[et]];return _e}decode(o){if(typeof o!="string")throw new TypeError("Expected String");let a=[];if(o.length===0)return new Uint8Array(a);a.push(0);for(let j=0;j<o.length;j++){let _e=this._alphabetMap[o[j]];if(_e===void 0)throw new Error("Non-base"+this.base+" character");let et=_e;for(let tt=0;tt<a.length;++tt)et+=a[tt]*this.base,a[tt]=et&255,et>>=8;for(;et>0;)a.push(et&255),et>>=8}for(let j=0;o[j]===this._leader&&j<o.length-1;++j)a.push(0);return arrayify(new Uint8Array(a.reverse()))}}new BaseX("abcdefghijklmnopqrstuvwxyz234567");const Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function sha256$1($){return"0x"+hash$1.sha256().update(arrayify($)).digest("hex")}const version$5="networks/5.7.1",logger$5=new Logger(version$5);function isRenetworkable($){return $&&typeof $.renetwork=="function"}function ethDefaultProvider($){const o=function(a,j){j==null&&(j={});const _e=[];if(a.InfuraProvider&&j.infura!=="-")try{_e.push(new a.InfuraProvider($,j.infura))}catch{}if(a.EtherscanProvider&&j.etherscan!=="-")try{_e.push(new a.EtherscanProvider($,j.etherscan))}catch{}if(a.AlchemyProvider&&j.alchemy!=="-")try{_e.push(new a.AlchemyProvider($,j.alchemy))}catch{}if(a.PocketProvider&&j.pocket!=="-"){const et=["goerli","ropsten","rinkeby","sepolia"];try{const tt=new a.PocketProvider($,j.pocket);tt.network&&et.indexOf(tt.network.name)===-1&&_e.push(tt)}catch{}}if(a.CloudflareProvider&&j.cloudflare!=="-")try{_e.push(new a.CloudflareProvider($))}catch{}if(a.AnkrProvider&&j.ankr!=="-")try{const et=["ropsten"],tt=new a.AnkrProvider($,j.ankr);tt.network&&et.indexOf(tt.network.name)===-1&&_e.push(tt)}catch{}if(_e.length===0)return null;if(a.FallbackProvider){let et=1;return j.quorum!=null?et=j.quorum:$==="homestead"&&(et=2),new a.FallbackProvider(_e,et)}return _e[0]};return o.renetwork=function(a){return ethDefaultProvider(a)},o}function etcDefaultProvider($,o){const a=function(j,_e){return j.JsonRpcProvider?new j.JsonRpcProvider($,o):null};return a.renetwork=function(j){return etcDefaultProvider($,j)},a}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork($){if($==null)return null;if(typeof $=="number"){for(const j in networks){const _e=networks[j];if(_e.chainId===$)return{name:_e.name,chainId:_e.chainId,ensAddress:_e.ensAddress||null,_defaultProvider:_e._defaultProvider||null}}return{chainId:$,name:"unknown"}}if(typeof $=="string"){const j=networks[$];return j==null?null:{name:j.name,chainId:j.chainId,ensAddress:j.ensAddress,_defaultProvider:j._defaultProvider||null}}const o=networks[$.name];if(!o)return typeof $.chainId!="number"&&logger$5.throwArgumentError("invalid network chainId","network",$),$;$.chainId!==0&&$.chainId!==o.chainId&&logger$5.throwArgumentError("network chainId mismatch","network",$);let a=$._defaultProvider||null;return a==null&&o._defaultProvider&&(isRenetworkable(o._defaultProvider)?a=o._defaultProvider.renetwork($):a=o._defaultProvider),{name:$.name,chainId:o.chainId,ensAddress:$.ensAddress||o.ensAddress||null,_defaultProvider:a}}const version$4="web/5.7.1";var __awaiter$3=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(ot){try{it(j.next(ot))}catch(st){tt(st)}}function nt(ot){try{it(j.throw(ot))}catch(st){tt(st)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(rt,nt)}it((j=j.apply($,o||[])).next())})};function getUrl($,o){return __awaiter$3(this,void 0,void 0,function*(){o==null&&(o={});const a={method:o.method||"GET",headers:o.headers||{},body:o.body||void 0};if(o.skipFetchSetup!==!0&&(a.mode="cors",a.cache="no-cache",a.credentials="same-origin",a.redirect="follow",a.referrer="client"),o.fetchOptions!=null){const tt=o.fetchOptions;tt.mode&&(a.mode=tt.mode),tt.cache&&(a.cache=tt.cache),tt.credentials&&(a.credentials=tt.credentials),tt.redirect&&(a.redirect=tt.redirect),tt.referrer&&(a.referrer=tt.referrer)}const j=yield fetch($,a),_e=yield j.arrayBuffer(),et={};return j.headers.forEach?j.headers.forEach((tt,rt)=>{et[rt.toLowerCase()]=tt}):j.headers.keys().forEach(tt=>{et[tt.toLowerCase()]=j.headers.get(tt)}),{headers:et,statusCode:j.status,statusMessage:j.statusText,body:arrayify(new Uint8Array(_e))}})}var __awaiter$2=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(ot){try{it(j.next(ot))}catch(st){tt(st)}}function nt(ot){try{it(j.throw(ot))}catch(st){tt(st)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(rt,nt)}it((j=j.apply($,o||[])).next())})};const logger$4=new Logger(version$4);function staller($){return new Promise(o=>{setTimeout(o,$)})}function bodyify($,o){if($==null)return null;if(typeof $=="string")return $;if(isBytesLike($)){if(o&&(o.split("/")[0]==="text"||o.split(";")[0].trim()==="application/json"))try{return toUtf8String($)}catch{}return hexlify($)}return $}function unpercent($){return toUtf8Bytes($.replace(/%([0-9a-f][0-9a-f])/gi,(o,a)=>String.fromCharCode(parseInt(a,16))))}function _fetchData($,o,a){const j=typeof $=="object"&&$.throttleLimit!=null?$.throttleLimit:12;logger$4.assertArgument(j>0&&j%1===0,"invalid connection throttle limit","connection.throttleLimit",j);const _e=typeof $=="object"?$.throttleCallback:null,et=typeof $=="object"&&typeof $.throttleSlotInterval=="number"?$.throttleSlotInterval:100;logger$4.assertArgument(et>0&&et%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",et);const tt=typeof $=="object"?!!$.errorPassThrough:!1,rt={};let nt=null;const it={method:"GET"};let ot=!1,st=2*60*1e3;if(typeof $=="string")nt=$;else if(typeof $=="object"){if(($==null||$.url==null)&&logger$4.throwArgumentError("missing URL","connection.url",$),nt=$.url,typeof $.timeout=="number"&&$.timeout>0&&(st=$.timeout),$.headers)for(const pt in $.headers)rt[pt.toLowerCase()]={key:pt,value:String($.headers[pt])},["if-none-match","if-modified-since"].indexOf(pt.toLowerCase())>=0&&(ot=!0);if(it.allowGzip=!!$.allowGzip,$.user!=null&&$.password!=null){nt.substring(0,6)!=="https:"&&$.allowInsecureAuthentication!==!0&&logger$4.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:nt,user:$.user,password:"[REDACTED]"});const pt=$.user+":"+$.password;rt.authorization={key:"Authorization",value:"Basic "+encode$b(toUtf8Bytes(pt))}}$.skipFetchSetup!=null&&(it.skipFetchSetup=!!$.skipFetchSetup),$.fetchOptions!=null&&(it.fetchOptions=shallowCopy($.fetchOptions))}const ct=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),ut=nt?nt.match(ct):null;if(ut)try{const pt={statusCode:200,statusMessage:"OK",headers:{"content-type":ut[1]||"text/plain"},body:ut[2]?decode$c(ut[3]):unpercent(ut[3])};let yt=pt.body;return a&&(yt=a(pt.body,pt)),Promise.resolve(yt)}catch(pt){logger$4.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(ut[1],ut[2]),error:pt,requestBody:null,requestMethod:"GET",url:nt})}o&&(it.method="POST",it.body=o,rt["content-type"]==null&&(rt["content-type"]={key:"Content-Type",value:"application/octet-stream"}),rt["content-length"]==null&&(rt["content-length"]={key:"Content-Length",value:String(o.length)}));const dt={};Object.keys(rt).forEach(pt=>{const yt=rt[pt];dt[yt.key]=yt.value}),it.headers=dt;const ft=function(){let pt=null;return{promise:new Promise(function(xt,wt){st&&(pt=setTimeout(()=>{pt!=null&&(pt=null,wt(logger$4.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,timeout:st,url:nt})))},st))}),cancel:function(){pt!=null&&(clearTimeout(pt),pt=null)}}}(),ht=function(){return __awaiter$2(this,void 0,void 0,function*(){for(let pt=0;pt<j;pt++){let yt=null;try{if(yt=yield getUrl(nt,it),pt<j){if(yt.statusCode===301||yt.statusCode===302){const xt=yt.headers.location||"";if(it.method==="GET"&&xt.match(/^https:/)){nt=yt.headers.location;continue}}else if(yt.statusCode===429){let xt=!0;if(_e&&(xt=yield _e(pt,nt)),xt){let wt=0;const Mt=yt.headers["retry-after"];typeof Mt=="string"&&Mt.match(/^[1-9][0-9]*$/)?wt=parseInt(Mt)*1e3:wt=et*parseInt(String(Math.random()*Math.pow(2,pt))),yield staller(wt);continue}}}}catch(xt){yt=xt.response,yt==null&&(ft.cancel(),logger$4.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,serverError:xt,url:nt}))}let gt=yt.body;if(ot&&yt.statusCode===304?gt=null:!tt&&(yt.statusCode<200||yt.statusCode>=300)&&(ft.cancel(),logger$4.throwError("bad response",Logger.errors.SERVER_ERROR,{status:yt.statusCode,headers:yt.headers,body:bodyify(gt,yt.headers?yt.headers["content-type"]:null),requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,url:nt})),a)try{const xt=yield a(gt,yt);return ft.cancel(),xt}catch(xt){if(xt.throttleRetry&&pt<j){let wt=!0;if(_e&&(wt=yield _e(pt,nt)),wt){const Mt=et*parseInt(String(Math.random()*Math.pow(2,pt)));yield staller(Mt);continue}}ft.cancel(),logger$4.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(gt,yt.headers?yt.headers["content-type"]:null),error:xt,requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,url:nt})}return ft.cancel(),gt}return logger$4.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,url:nt})})}();return Promise.race([ft.promise,ht])}function fetchJson($,o,a){let j=(et,tt)=>{let rt=null;if(et!=null)try{rt=JSON.parse(toUtf8String(et))}catch(nt){logger$4.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:et,error:nt})}return a&&(rt=a(rt,tt)),rt},_e=null;if(o!=null){_e=toUtf8Bytes(o);const et=typeof $=="string"?{url:$}:shallowCopy($);et.headers?Object.keys(et.headers).filter(rt=>rt.toLowerCase()==="content-type").length!==0||(et.headers=shallowCopy(et.headers),et.headers["content-type"]="application/json"):et.headers={"content-type":"application/json"},$=et}return _fetchData($,_e,j)}function poll($,o){return o||(o={}),o=shallowCopy(o),o.floor==null&&(o.floor=0),o.ceiling==null&&(o.ceiling=1e4),o.interval==null&&(o.interval=250),new Promise(function(a,j){let _e=null,et=!1;const tt=()=>et?!1:(et=!0,_e&&clearTimeout(_e),!0);o.timeout&&(_e=setTimeout(()=>{tt()&&j(new Error("timeout"))},o.timeout));const rt=o.retryLimit;let nt=0;function it(){return $().then(function(ot){if(ot!==void 0)tt()&&a(ot);else if(o.oncePoll)o.oncePoll.once("poll",it);else if(o.onceBlock)o.onceBlock.once("block",it);else if(!et){if(nt++,nt>rt){tt()&&j(new Error("retry limit reached"));return}let st=o.interval*parseInt(String(Math.random()*Math.pow(2,nt)));st<o.floor&&(st=o.floor),st>o.ceiling&&(st=o.ceiling),setTimeout(it,st)}return null},function(ot){tt()&&j(ot)})}it()})}var ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z$1=0;z$1<ALPHABET.length;z$1++){var x$1=ALPHABET.charAt(z$1);if(ALPHABET_MAP[x$1]!==void 0)throw new TypeError(x$1+" is ambiguous");ALPHABET_MAP[x$1]=z$1}function polymodStep($){var o=$>>25;return($&33554431)<<5^-(o>>0&1)&996825010^-(o>>1&1)&642813549^-(o>>2&1)&513874426^-(o>>3&1)&1027748829^-(o>>4&1)&705979059}function prefixChk($){for(var o=1,a=0;a<$.length;++a){var j=$.charCodeAt(a);if(j<33||j>126)return"Invalid prefix ("+$+")";o=polymodStep(o)^j>>5}for(o=polymodStep(o),a=0;a<$.length;++a){var _e=$.charCodeAt(a);o=polymodStep(o)^_e&31}return o}function encode$a($,o,a){if(a=a||90,$.length+7+o.length>a)throw new TypeError("Exceeds length limit");$=$.toLowerCase();var j=prefixChk($);if(typeof j=="string")throw new Error(j);for(var _e=$+"1",et=0;et<o.length;++et){var tt=o[et];if(tt>>5)throw new Error("Non 5-bit word");j=polymodStep(j)^tt,_e+=ALPHABET.charAt(tt)}for(et=0;et<6;++et)j=polymodStep(j);for(j^=1,et=0;et<6;++et){var rt=j>>(5-et)*5&31;_e+=ALPHABET.charAt(rt)}return _e}function __decode($,o){if(o=o||90,$.length<8)return $+" too short";if($.length>o)return"Exceeds length limit";var a=$.toLowerCase(),j=$.toUpperCase();if($!==a&&$!==j)return"Mixed-case string "+$;$=a;var _e=$.lastIndexOf("1");if(_e===-1)return"No separator character for "+$;if(_e===0)return"Missing prefix for "+$;var et=$.slice(0,_e),tt=$.slice(_e+1);if(tt.length<6)return"Data too short";var rt=prefixChk(et);if(typeof rt=="string")return rt;for(var nt=[],it=0;it<tt.length;++it){var ot=tt.charAt(it),st=ALPHABET_MAP[ot];if(st===void 0)return"Unknown character "+ot;rt=polymodStep(rt)^st,!(it+6>=tt.length)&&nt.push(st)}return rt!==1?"Invalid checksum for "+$:{prefix:et,words:nt}}function decodeUnsafe(){var $=__decode.apply(null,arguments);if(typeof $=="object")return $}function decode$b($){var o=__decode.apply(null,arguments);if(typeof o=="object")return o;throw new Error(o)}function convert($,o,a,j){for(var _e=0,et=0,tt=(1<<a)-1,rt=[],nt=0;nt<$.length;++nt)for(_e=_e<<o|$[nt],et+=o;et>=a;)et-=a,rt.push(_e>>et&tt);if(j)et>0&&rt.push(_e<<a-et&tt);else{if(et>=o)return"Excess padding";if(_e<<a-et&tt)return"Non-zero padding"}return rt}function toWordsUnsafe($){var o=convert($,8,5,!0);if(Array.isArray(o))return o}function toWords($){var o=convert($,8,5,!0);if(Array.isArray(o))return o;throw new Error(o)}function fromWordsUnsafe($){var o=convert($,5,8,!1);if(Array.isArray(o))return o}function fromWords($){var o=convert($,5,8,!1);if(Array.isArray(o))return o;throw new Error(o)}var bech32={decodeUnsafe,decode:decode$b,encode:encode$a,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const bech32$1=getDefaultExportFromCjs(bech32),version$3="providers/5.7.2",logger$3=new Logger(version$3);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const o={},a=this.address.bind(this),j=this.bigNumber.bind(this),_e=this.blockTag.bind(this),et=this.data.bind(this),tt=this.hash.bind(this),rt=this.hex.bind(this),nt=this.number.bind(this),it=this.type.bind(this),ot=st=>this.data(st,!0);return o.transaction={hash:tt,type:it,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(tt,null),blockNumber:Formatter.allowNull(nt,null),transactionIndex:Formatter.allowNull(nt,null),confirmations:Formatter.allowNull(nt,null),from:a,gasPrice:Formatter.allowNull(j),maxPriorityFeePerGas:Formatter.allowNull(j),maxFeePerGas:Formatter.allowNull(j),gasLimit:j,to:Formatter.allowNull(a,null),value:j,nonce:nt,data:et,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(nt),creates:Formatter.allowNull(a,null),raw:Formatter.allowNull(et)},o.transactionRequest={from:Formatter.allowNull(a),nonce:Formatter.allowNull(nt),gasLimit:Formatter.allowNull(j),gasPrice:Formatter.allowNull(j),maxPriorityFeePerGas:Formatter.allowNull(j),maxFeePerGas:Formatter.allowNull(j),to:Formatter.allowNull(a),value:Formatter.allowNull(j),data:Formatter.allowNull(ot),type:Formatter.allowNull(nt),accessList:Formatter.allowNull(this.accessList.bind(this),null)},o.receiptLog={transactionIndex:nt,blockNumber:nt,transactionHash:tt,address:a,topics:Formatter.arrayOf(tt),data:et,logIndex:nt,blockHash:tt},o.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(a,null),transactionIndex:nt,root:Formatter.allowNull(rt),gasUsed:j,logsBloom:Formatter.allowNull(et),blockHash:tt,transactionHash:tt,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:nt,confirmations:Formatter.allowNull(nt,null),cumulativeGasUsed:j,effectiveGasPrice:Formatter.allowNull(j),status:Formatter.allowNull(nt),type:it},o.block={hash:Formatter.allowNull(tt),parentHash:tt,number:nt,timestamp:nt,nonce:Formatter.allowNull(rt),difficulty:this.difficulty.bind(this),gasLimit:j,gasUsed:j,miner:Formatter.allowNull(a),extraData:et,transactions:Formatter.allowNull(Formatter.arrayOf(tt)),baseFeePerGas:Formatter.allowNull(j)},o.blockWithTransactions=shallowCopy(o.block),o.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),o.filter={fromBlock:Formatter.allowNull(_e,void 0),toBlock:Formatter.allowNull(_e,void 0),blockHash:Formatter.allowNull(tt,void 0),address:Formatter.allowNull(a,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},o.filterLog={blockNumber:Formatter.allowNull(nt),blockHash:Formatter.allowNull(tt),transactionIndex:nt,removed:Formatter.allowNull(this.boolean.bind(this)),address:a,data:Formatter.allowFalsish(et,"0x"),topics:Formatter.arrayOf(tt),transactionHash:tt,logIndex:nt},o}accessList(o){return accessListify(o||[])}number(o){return o==="0x"?0:BigNumber.from(o).toNumber()}type(o){return o==="0x"||o==null?0:BigNumber.from(o).toNumber()}bigNumber(o){return BigNumber.from(o)}boolean(o){if(typeof o=="boolean")return o;if(typeof o=="string"){if(o=o.toLowerCase(),o==="true")return!0;if(o==="false")return!1}throw new Error("invalid boolean - "+o)}hex(o,a){return typeof o=="string"&&(!a&&o.substring(0,2)!=="0x"&&(o="0x"+o),isHexString(o))?o.toLowerCase():logger$3.throwArgumentError("invalid hash","value",o)}data(o,a){const j=this.hex(o,a);if(j.length%2!==0)throw new Error("invalid data; odd-length - "+o);return j}address(o){return getAddress(o)}callAddress(o){if(!isHexString(o,32))return null;const a=getAddress(hexDataSlice(o,12));return a===AddressZero?null:a}contractAddress(o){return getContractAddress(o)}blockTag(o){if(o==null)return"latest";if(o==="earliest")return"0x0";switch(o){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return o}if(typeof o=="number"||isHexString(o))return hexValue(o);throw new Error("invalid blockTag")}hash(o,a){const j=this.hex(o,a);return hexDataLength(j)!==32?logger$3.throwArgumentError("invalid hash","value",o):j}difficulty(o){if(o==null)return null;const a=BigNumber.from(o);try{return a.toNumber()}catch{}return null}uint256(o){if(!isHexString(o))throw new Error("invalid uint256");return hexZeroPad(o,32)}_block(o,a){o.author!=null&&o.miner==null&&(o.miner=o.author);const j=o._difficulty!=null?o._difficulty:o.difficulty,_e=Formatter.check(a,o);return _e._difficulty=j==null?null:BigNumber.from(j),_e}block(o){return this._block(o,this.formats.block)}blockWithTransactions(o){return this._block(o,this.formats.blockWithTransactions)}transactionRequest(o){return Formatter.check(this.formats.transactionRequest,o)}transactionResponse(o){o.gas!=null&&o.gasLimit==null&&(o.gasLimit=o.gas),o.to&&BigNumber.from(o.to).isZero()&&(o.to="0x0000000000000000000000000000000000000000"),o.input!=null&&o.data==null&&(o.data=o.input),o.to==null&&o.creates==null&&(o.creates=this.contractAddress(o)),(o.type===1||o.type===2)&&o.accessList==null&&(o.accessList=[]);const a=Formatter.check(this.formats.transaction,o);if(o.chainId!=null){let j=o.chainId;isHexString(j)&&(j=BigNumber.from(j).toNumber()),a.chainId=j}else{let j=o.networkId;j==null&&a.v==null&&(j=o.chainId),isHexString(j)&&(j=BigNumber.from(j).toNumber()),typeof j!="number"&&a.v!=null&&(j=(a.v-35)/2,j<0&&(j=0),j=parseInt(j)),typeof j!="number"&&(j=0),a.chainId=j}return a.blockHash&&a.blockHash.replace(/0/g,"")==="x"&&(a.blockHash=null),a}transaction(o){return parse$1(o)}receiptLog(o){return Formatter.check(this.formats.receiptLog,o)}receipt(o){const a=Formatter.check(this.formats.receipt,o);if(a.root!=null)if(a.root.length<=4){const j=BigNumber.from(a.root).toNumber();j===0||j===1?(a.status!=null&&a.status!==j&&logger$3.throwArgumentError("alt-root-status/status mismatch","value",{root:a.root,status:a.status}),a.status=j,delete a.root):logger$3.throwArgumentError("invalid alt-root-status","value.root",a.root)}else a.root.length!==66&&logger$3.throwArgumentError("invalid root hash","value.root",a.root);return a.status!=null&&(a.byzantium=!0),a}topics(o){return Array.isArray(o)?o.map(a=>this.topics(a)):o!=null?this.hash(o,!0):null}filter(o){return Formatter.check(this.formats.filter,o)}filterLog(o){return Formatter.check(this.formats.filterLog,o)}static check(o,a){const j={};for(const _e in o)try{const et=o[_e](a[_e]);et!==void 0&&(j[_e]=et)}catch(et){throw et.checkKey=_e,et.checkValue=a[_e],et}return j}static allowNull(o,a){return function(j){return j==null?a:o(j)}}static allowFalsish(o,a){return function(j){return j?o(j):a}}static arrayOf(o){return function(a){if(!Array.isArray(a))throw new Error("not an array");const j=[];return a.forEach(function(_e){j.push(o(_e))}),j}}}var __awaiter$1=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(ot){try{it(j.next(ot))}catch(st){tt(st)}}function nt(ot){try{it(j.throw(ot))}catch(st){tt(st)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(rt,nt)}it((j=j.apply($,o||[])).next())})};const logger$2=new Logger(version$3),MAX_CCIP_REDIRECTS=10;function checkTopic($){return $==null?"null":(hexDataLength($)!==32&&logger$2.throwArgumentError("invalid topic","topic",$),$.toLowerCase())}function serializeTopics($){for($=$.slice();$.length>0&&$[$.length-1]==null;)$.pop();return $.map(o=>{if(Array.isArray(o)){const a={};o.forEach(_e=>{a[checkTopic(_e)]=!0});const j=Object.keys(a);return j.sort(),j.join("|")}else return checkTopic(o)}).join("&")}function deserializeTopics($){return $===""?[]:$.split(/&/g).map(o=>{if(o==="")return[];const a=o.split("|").map(j=>j==="null"?null:j);return a.length===1?a[0]:a})}function getEventTag($){if(typeof $=="string"){if($=$.toLowerCase(),hexDataLength($)===32)return"tx:"+$;if($.indexOf(":")===-1)return $}else{if(Array.isArray($))return"filter:*:"+serializeTopics($);if(ForkEvent.isForkEvent($))throw logger$2.warn("not implemented"),new Error("not implemented");if($&&typeof $=="object")return"filter:"+($.address||"*")+":"+serializeTopics($.topics||[])}throw new Error("invalid event - "+$)}function getTime(){return new Date().getTime()}function stall($){return new Promise(o=>{setTimeout(o,$)})}const PollableEvents=["block","network","pending","poll"];class Event{constructor(o,a,j){defineReadOnly(this,"tag",o),defineReadOnly(this,"listener",a),defineReadOnly(this,"once",j),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const o=this.tag.split(":");return o[0]!=="tx"?null:o[1]}get filter(){const o=this.tag.split(":");if(o[0]!=="filter")return null;const a=o[1],j=deserializeTopics(o[2]),_e={};return j.length>0&&(_e.topics=j),a&&a!=="*"&&(_e.address=a),_e}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify($){return hexZeroPad(BigNumber.from($).toHexString(),32)}function base58Encode($){return Base58.encode(concat$3([$,hexDataSlice(sha256$1(sha256$1($)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString($,o){try{return toUtf8String(_parseBytes($,o))}catch{}return null}function _parseBytes($,o){if($==="0x")return null;const a=BigNumber.from(hexDataSlice($,o,o+32)).toNumber(),j=BigNumber.from(hexDataSlice($,a,a+32)).toNumber();return hexDataSlice($,a+32,a+32+j)}function getIpfsLink($){return $.match(/^ipfs:\/\/ipfs\//i)?$=$.substring(12):$.match(/^ipfs:\/\//i)?$=$.substring(7):logger$2.throwArgumentError("unsupported IPFS format","link",$),`https://gateway.ipfs.io/ipfs/${$}`}function numPad($){const o=arrayify($);if(o.length>32)throw new Error("internal; should not happen");const a=new Uint8Array(32);return a.set(o,32-o.length),a}function bytesPad($){if($.length%32===0)return $;const o=new Uint8Array(Math.ceil($.length/32)*32);return o.set($),o}function encodeBytes$1($){const o=[];let a=0;for(let j=0;j<$.length;j++)o.push(null),a+=32;for(let j=0;j<$.length;j++){const _e=arrayify($[j]);o[j]=numPad(a),o.push(numPad(_e.length)),o.push(bytesPad(_e)),a+=32+Math.ceil(_e.length/32)*32}return hexConcat(o)}class Resolver{constructor(o,a,j,_e){defineReadOnly(this,"provider",o),defineReadOnly(this,"name",j),defineReadOnly(this,"address",o.formatter.address(a)),defineReadOnly(this,"_resolvedAddress",_e)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(o=>BigNumber.from(o).eq(1)).catch(o=>{if(o.code===Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,o})),this._supportsEip2544}_fetch(o,a){return __awaiter$1(this,void 0,void 0,function*(){const j={to:this.address,ccipReadEnabled:!0,data:hexConcat([o,namehash(this.name),a||"0x"])};let _e=!1;(yield this.supportsWildcard())&&(_e=!0,j.data=hexConcat(["0x9061b923",encodeBytes$1([dnsEncode(this.name),j.data])]));try{let et=yield this.provider.call(j);return arrayify(et).length%32===4&&logger$2.throwError("resolver threw error",Logger.errors.CALL_EXCEPTION,{transaction:j,data:et}),_e&&(et=_parseBytes(et,0)),et}catch(et){if(et.code===Logger.errors.CALL_EXCEPTION)return null;throw et}})}_fetchBytes(o,a){return __awaiter$1(this,void 0,void 0,function*(){const j=yield this._fetch(o,a);return j!=null?_parseBytes(j,0):null})}_getAddress(o,a){const j=coinInfos[String(o)];if(j==null&&logger$2.throwError(`unsupported coin type: ${o}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${o})`}),j.ilk==="eth")return this.provider.formatter.address(a);const _e=arrayify(a);if(j.p2pkh!=null){const et=a.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(et){const tt=parseInt(et[1],16);if(et[2].length===tt*2&&tt>=1&&tt<=75)return base58Encode(concat$3([[j.p2pkh],"0x"+et[2]]))}}if(j.p2sh!=null){const et=a.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(et){const tt=parseInt(et[1],16);if(et[2].length===tt*2&&tt>=1&&tt<=75)return base58Encode(concat$3([[j.p2sh],"0x"+et[2]]))}}if(j.prefix!=null){const et=_e[1];let tt=_e[0];if(tt===0?et!==20&&et!==32&&(tt=-1):tt=-1,tt>=0&&_e.length===2+et&&et>=1&&et<=75){const rt=bech32$1.toWords(_e.slice(2));return rt.unshift(tt),bech32$1.encode(j.prefix,rt)}}return null}getAddress(o){return __awaiter$1(this,void 0,void 0,function*(){if(o==null&&(o=60),o===60)try{const _e=yield this._fetch("0x3b3b57de");return _e==="0x"||_e===HashZero?null:this.provider.formatter.callAddress(_e)}catch(_e){if(_e.code===Logger.errors.CALL_EXCEPTION)return null;throw _e}const a=yield this._fetchBytes("0xf1cb7e06",bytes32ify(o));if(a==null||a==="0x")return null;const j=this._getAddress(o,a);return j==null&&logger$2.throwError("invalid or unsupported coin data",Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${o})`,coinType:o,data:a}),j})}getAvatar(){return __awaiter$1(this,void 0,void 0,function*(){const o=[{type:"name",content:this.name}];try{const a=yield this.getText("avatar");if(a==null)return null;for(let j=0;j<matchers.length;j++){const _e=a.match(matchers[j]);if(_e==null)continue;const et=_e[1].toLowerCase();switch(et){case"https":return o.push({type:"url",content:a}),{linkage:o,url:a};case"data":return o.push({type:"data",content:a}),{linkage:o,url:a};case"ipfs":return o.push({type:"ipfs",content:a}),{linkage:o,url:getIpfsLink(a)};case"erc721":case"erc1155":{const tt=et==="erc721"?"0xc87b56dd":"0x0e89341c";o.push({type:et,content:a});const rt=this._resolvedAddress||(yield this.getAddress()),nt=(_e[2]||"").split("/");if(nt.length!==2)return null;const it=yield this.provider.formatter.address(nt[0]),ot=hexZeroPad(BigNumber.from(nt[1]).toHexString(),32);if(et==="erc721"){const ft=this.provider.formatter.callAddress(yield this.provider.call({to:it,data:hexConcat(["0x6352211e",ot])}));if(rt!==ft)return null;o.push({type:"owner",content:ft})}else if(et==="erc1155"){const ft=BigNumber.from(yield this.provider.call({to:it,data:hexConcat(["0x00fdd58e",hexZeroPad(rt,32),ot])}));if(ft.isZero())return null;o.push({type:"balance",content:ft.toString()})}const st={to:this.provider.formatter.address(nt[0]),data:hexConcat([tt,ot])};let ct=_parseString(yield this.provider.call(st),0);if(ct==null)return null;o.push({type:"metadata-url-base",content:ct}),et==="erc1155"&&(ct=ct.replace("{id}",ot.substring(2)),o.push({type:"metadata-url-expanded",content:ct})),ct.match(/^ipfs:/i)&&(ct=getIpfsLink(ct)),o.push({type:"metadata-url",content:ct});const ut=yield fetchJson(ct);if(!ut)return null;o.push({type:"metadata",content:JSON.stringify(ut)});let dt=ut.image;if(typeof dt!="string")return null;if(!dt.match(/^(https:\/\/|data:)/i)){if(dt.match(matcherIpfs)==null)return null;o.push({type:"url-ipfs",content:dt}),dt=getIpfsLink(dt)}return o.push({type:"url",content:dt}),{linkage:o,url:dt}}}}}catch{}return null})}getContentHash(){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this._fetchBytes("0xbc1c58d1");if(o==null||o==="0x")return null;const a=o.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(a){const tt=parseInt(a[3],16);if(a[4].length===tt*2)return"ipfs://"+Base58.encode("0x"+a[1])}const j=o.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(j){const tt=parseInt(j[3],16);if(j[4].length===tt*2)return"ipns://"+Base58.encode("0x"+j[1])}const _e=o.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(_e&&_e[1].length===32*2)return"bzz://"+_e[1];const et=o.match(/^0x90b2c605([0-9a-f]*)$/);if(et&&et[1].length===34*2){const tt={"=":"","+":"-","/":"_"};return"sia://"+encode$b("0x"+et[1]).replace(/[=+\/]/g,nt=>tt[nt])}return logger$2.throwError("invalid or unsupported content hash data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:o})})}getText(o){return __awaiter$1(this,void 0,void 0,function*(){let a=toUtf8Bytes(o);a=concat$3([bytes32ify(64),bytes32ify(a.length),a]),a.length%32!==0&&(a=concat$3([a,hexZeroPad("0x",32-o.length%32)]));const j=yield this._fetchBytes("0x59d1d43c",hexlify(a));return j==null||j==="0x"?null:toUtf8String(j)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider$1{constructor(o){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),defineReadOnly(this,"anyNetwork",o==="any"),this.anyNetwork&&(o=this.detectNetwork()),o instanceof Promise)this._networkPromise=o,o.catch(a=>{}),this._ready().catch(a=>{});else{const a=getStatic(new.target,"getNetwork")(o);a?(defineReadOnly(this,"_network",a),this.emit("network",a,null)):logger$2.throwArgumentError("invalid network","network",o)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$1(this,void 0,void 0,function*(){if(this._network==null){let o=null;if(this._networkPromise)try{o=yield this._networkPromise}catch{}o==null&&(o=yield this.detectNetwork()),o||logger$2.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=o:defineReadOnly(this,"_network",o),this.emit("network",o,null))}return this._network})}get ready(){return poll(()=>this._ready().then(o=>o,o=>{if(!(o.code===Logger.errors.NETWORK_ERROR&&o.event==="noNetwork"))throw o}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(o){return getNetwork(o??"homestead")}ccipReadFetch(o,a,j){return __awaiter$1(this,void 0,void 0,function*(){if(this.disableCcipRead||j.length===0)return null;const _e=o.to.toLowerCase(),et=a.toLowerCase(),tt=[];for(let rt=0;rt<j.length;rt++){const nt=j[rt],it=nt.replace("{sender}",_e).replace("{data}",et),ot=nt.indexOf("{data}")>=0?null:JSON.stringify({data:et,sender:_e}),st=yield fetchJson({url:it,errorPassThrough:!0},ot,(ut,dt)=>(ut.status=dt.statusCode,ut));if(st.data)return st.data;const ct=st.message||"unknown error";if(st.status>=400&&st.status<500)return logger$2.throwError(`response not found during CCIP fetch: ${ct}`,Logger.errors.SERVER_ERROR,{url:nt,errorMessage:ct});tt.push(ct)}return logger$2.throwError(`error encountered during CCIP fetch: ${tt.map(rt=>JSON.stringify(rt)).join(", ")}`,Logger.errors.SERVER_ERROR,{urls:j,errorMessages:tt})})}_getInternalBlockNumber(o){return __awaiter$1(this,void 0,void 0,function*(){if(yield this._ready(),o>0)for(;this._internalBlockNumber;){const _e=this._internalBlockNumber;try{const et=yield _e;if(getTime()-et.respTime<=o)return et.blockNumber;break}catch{if(this._internalBlockNumber===_e)break}}const a=getTime(),j=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(_e=>null,_e=>_e)}).then(({blockNumber:_e,networkError:et})=>{if(et)throw this._internalBlockNumber===j&&(this._internalBlockNumber=null),et;const tt=getTime();return _e=BigNumber.from(_e).toNumber(),_e<this._maxInternalBlockNumber&&(_e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=_e,this._setFastBlockNumber(_e),{blockNumber:_e,reqTime:a,respTime:tt}});return this._internalBlockNumber=j,j.catch(_e=>{this._internalBlockNumber===j&&(this._internalBlockNumber=null)}),(yield j).blockNumber})}poll(){return __awaiter$1(this,void 0,void 0,function*(){const o=nextPollId++,a=[];let j=null;try{j=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(_e){this.emit("error",_e);return}if(this._setFastBlockNumber(j),this.emit("poll",o,j),j===this._lastBlockNumber){this.emit("didPoll",o);return}if(this._emitted.block===-2&&(this._emitted.block=j-1),Math.abs(this._emitted.block-j)>1e3)logger$2.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${j})`),this.emit("error",logger$2.makeError("network block skew detected",Logger.errors.NETWORK_ERROR,{blockNumber:j,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",j);else for(let _e=this._emitted.block+1;_e<=j;_e++)this.emit("block",_e);this._emitted.block!==j&&(this._emitted.block=j,Object.keys(this._emitted).forEach(_e=>{if(_e==="block")return;const et=this._emitted[_e];et!=="pending"&&j-et>12&&delete this._emitted[_e]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=j-1),this._events.forEach(_e=>{switch(_e.type){case"tx":{const et=_e.hash;let tt=this.getTransactionReceipt(et).then(rt=>(!rt||rt.blockNumber==null||(this._emitted["t:"+et]=rt.blockNumber,this.emit(et,rt)),null)).catch(rt=>{this.emit("error",rt)});a.push(tt);break}case"filter":{if(!_e._inflight){_e._inflight=!0,_e._lastBlockNumber===-2&&(_e._lastBlockNumber=j-1);const et=_e.filter;et.fromBlock=_e._lastBlockNumber+1,et.toBlock=j;const tt=et.toBlock-this._maxFilterBlockRange;tt>et.fromBlock&&(et.fromBlock=tt),et.fromBlock<0&&(et.fromBlock=0);const rt=this.getLogs(et).then(nt=>{_e._inflight=!1,nt.length!==0&&nt.forEach(it=>{it.blockNumber>_e._lastBlockNumber&&(_e._lastBlockNumber=it.blockNumber),this._emitted["b:"+it.blockHash]=it.blockNumber,this._emitted["t:"+it.transactionHash]=it.blockNumber,this.emit(et,it)})}).catch(nt=>{this.emit("error",nt),_e._inflight=!1});a.push(rt)}break}}}),this._lastBlockNumber=j,Promise.all(a).then(()=>{this.emit("didPoll",o)}).catch(_e=>{this.emit("error",_e)})})}resetEventsBlock(o){this._lastBlockNumber=o-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){return logger$2.throwError("provider does not support network detection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this._ready(),a=yield this.detectNetwork();if(o.chainId!==a.chainId){if(this.anyNetwork)return this._network=a,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",a,o),yield stall(0),this._network;const j=logger$2.makeError("underlying network changed",Logger.errors.NETWORK_ERROR,{event:"changed",network:o,detectedNetwork:a});throw this.emit("error",j),j}return o})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(o=>{this._setFastBlockNumber(o)},o=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(o){o&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!o&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(o){if(typeof o!="number"||o<=0||parseInt(String(o))!=o)throw new Error("invalid polling interval");this._pollingInterval=o,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const o=getTime();return o-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=o,this._fastBlockNumberPromise=this.getBlockNumber().then(a=>((this._fastBlockNumber==null||a>this._fastBlockNumber)&&(this._fastBlockNumber=a),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(o){this._fastBlockNumber!=null&&o<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||o>this._fastBlockNumber)&&(this._fastBlockNumber=o,this._fastBlockNumberPromise=Promise.resolve(o)))}waitForTransaction(o,a,j){return __awaiter$1(this,void 0,void 0,function*(){return this._waitForTransaction(o,a??1,j||0,null)})}_waitForTransaction(o,a,j,_e){return __awaiter$1(this,void 0,void 0,function*(){const et=yield this.getTransactionReceipt(o);return(et?et.confirmations:0)>=a?et:new Promise((tt,rt)=>{const nt=[];let it=!1;const ot=function(){return it?!0:(it=!0,nt.forEach(ct=>{ct()}),!1)},st=ct=>{ct.confirmations<a||ot()||tt(ct)};if(this.on(o,st),nt.push(()=>{this.removeListener(o,st)}),_e){let ct=_e.startBlock,ut=null;const dt=ft=>__awaiter$1(this,void 0,void 0,function*(){it||(yield stall(1e3),this.getTransactionCount(_e.from).then(ht=>__awaiter$1(this,void 0,void 0,function*(){if(!it){if(ht<=_e.nonce)ct=ft;else{{const pt=yield this.getTransaction(o);if(pt&&pt.blockNumber!=null)return}for(ut==null&&(ut=ct-3,ut<_e.startBlock&&(ut=_e.startBlock));ut<=ft;){if(it)return;const pt=yield this.getBlockWithTransactions(ut);for(let yt=0;yt<pt.transactions.length;yt++){const gt=pt.transactions[yt];if(gt.hash===o)return;if(gt.from===_e.from&&gt.nonce===_e.nonce){if(it)return;const xt=yield this.waitForTransaction(gt.hash,a);if(ot())return;let wt="replaced";gt.data===_e.data&&gt.to===_e.to&&gt.value.eq(_e.value)?wt="repriced":gt.data==="0x"&&gt.from===gt.to&&gt.value.isZero()&&(wt="cancelled"),rt(logger$2.makeError("transaction was replaced",Logger.errors.TRANSACTION_REPLACED,{cancelled:wt==="replaced"||wt==="cancelled",reason:wt,replacement:this._wrapTransaction(gt),hash:o,receipt:xt}));return}}ut++}}it||this.once("block",dt)}}),ht=>{it||this.once("block",dt)}))});if(it)return;this.once("block",dt),nt.push(()=>{this.removeListener("block",dt)})}if(typeof j=="number"&&j>0){const ct=setTimeout(()=>{ot()||rt(logger$2.makeError("timeout exceeded",Logger.errors.TIMEOUT,{timeout:j}))},j);ct.unref&&ct.unref(),nt.push(()=>{clearTimeout(ct)})}})})}getBlockNumber(){return __awaiter$1(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const o=yield this.perform("getGasPrice",{});try{return BigNumber.from(o)}catch(a){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:o,error:a})}})}getBalance(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const j=yield resolveProperties({address:this._getAddress(o),blockTag:this._getBlockTag(a)}),_e=yield this.perform("getBalance",j);try{return BigNumber.from(_e)}catch(et){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getBalance",params:j,result:_e,error:et})}})}getTransactionCount(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const j=yield resolveProperties({address:this._getAddress(o),blockTag:this._getBlockTag(a)}),_e=yield this.perform("getTransactionCount",j);try{return BigNumber.from(_e).toNumber()}catch(et){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:j,result:_e,error:et})}})}getCode(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const j=yield resolveProperties({address:this._getAddress(o),blockTag:this._getBlockTag(a)}),_e=yield this.perform("getCode",j);try{return hexlify(_e)}catch(et){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getCode",params:j,result:_e,error:et})}})}getStorageAt(o,a,j){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const _e=yield resolveProperties({address:this._getAddress(o),blockTag:this._getBlockTag(j),position:Promise.resolve(a).then(tt=>hexValue(tt))}),et=yield this.perform("getStorageAt",_e);try{return hexlify(et)}catch(tt){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:_e,result:et,error:tt})}})}_wrapTransaction(o,a,j){if(a!=null&&hexDataLength(a)!==32)throw new Error("invalid response - sendTransaction");const _e=o;return a!=null&&o.hash!==a&&logger$2.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger.errors.UNKNOWN_ERROR,{expectedHash:o.hash,returnedHash:a}),_e.wait=(et,tt)=>__awaiter$1(this,void 0,void 0,function*(){et==null&&(et=1),tt==null&&(tt=0);let rt;et!==0&&j!=null&&(rt={data:o.data,from:o.from,nonce:o.nonce,to:o.to,value:o.value,startBlock:j});const nt=yield this._waitForTransaction(o.hash,et,tt,rt);return nt==null&&et===0?null:(this._emitted["t:"+o.hash]=nt.blockNumber,nt.status===0&&logger$2.throwError("transaction failed",Logger.errors.CALL_EXCEPTION,{transactionHash:o.hash,transaction:o,receipt:nt}),nt)}),_e}sendTransaction(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield Promise.resolve(o).then(et=>hexlify(et)),j=this.formatter.transaction(o);j.confirmations==null&&(j.confirmations=0);const _e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const et=yield this.perform("sendTransaction",{signedTransaction:a});return this._wrapTransaction(j,et,_e)}catch(et){throw et.transaction=j,et.transactionHash=j.hash,et}})}_getTransactionRequest(o){return __awaiter$1(this,void 0,void 0,function*(){const a=yield o,j={};return["from","to"].forEach(_e=>{a[_e]!=null&&(j[_e]=Promise.resolve(a[_e]).then(et=>et?this._getAddress(et):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(_e=>{a[_e]!=null&&(j[_e]=Promise.resolve(a[_e]).then(et=>et?BigNumber.from(et):null))}),["type"].forEach(_e=>{a[_e]!=null&&(j[_e]=Promise.resolve(a[_e]).then(et=>et??null))}),a.accessList&&(j.accessList=this.formatter.accessList(a.accessList)),["data"].forEach(_e=>{a[_e]!=null&&(j[_e]=Promise.resolve(a[_e]).then(et=>et?hexlify(et):null))}),this.formatter.transactionRequest(yield resolveProperties(j))})}_getFilter(o){return __awaiter$1(this,void 0,void 0,function*(){o=yield o;const a={};return o.address!=null&&(a.address=this._getAddress(o.address)),["blockHash","topics"].forEach(j=>{o[j]!=null&&(a[j]=o[j])}),["fromBlock","toBlock"].forEach(j=>{o[j]!=null&&(a[j]=this._getBlockTag(o[j]))}),this.formatter.filter(yield resolveProperties(a))})}_call(o,a,j){return __awaiter$1(this,void 0,void 0,function*(){j>=MAX_CCIP_REDIRECTS&&logger$2.throwError("CCIP read exceeded maximum redirections",Logger.errors.SERVER_ERROR,{redirects:j,transaction:o});const _e=o.to,et=yield this.perform("call",{transaction:o,blockTag:a});if(j>=0&&a==="latest"&&_e!=null&&et.substring(0,10)==="0x556f1830"&&hexDataLength(et)%32===4)try{const tt=hexDataSlice(et,4),rt=hexDataSlice(tt,0,32);BigNumber.from(rt).eq(_e)||logger$2.throwError("CCIP Read sender did not match",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:o,data:et});const nt=[],it=BigNumber.from(hexDataSlice(tt,32,64)).toNumber(),ot=BigNumber.from(hexDataSlice(tt,it,it+32)).toNumber(),st=hexDataSlice(tt,it+32);for(let pt=0;pt<ot;pt++){const yt=_parseString(st,pt*32);yt==null&&logger$2.throwError("CCIP Read contained corrupt URL string",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:o,data:et}),nt.push(yt)}const ct=_parseBytes(tt,64);BigNumber.from(hexDataSlice(tt,100,128)).isZero()||logger$2.throwError("CCIP Read callback selector included junk",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:o,data:et});const ut=hexDataSlice(tt,96,100),dt=_parseBytes(tt,128),ft=yield this.ccipReadFetch(o,ct,nt);ft==null&&logger$2.throwError("CCIP Read disabled or provided no URLs",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:o,data:et});const ht={to:_e,data:hexConcat([ut,encodeBytes$1([ft,dt])])};return this._call(ht,a,j+1)}catch(tt){if(tt.code===Logger.errors.SERVER_ERROR)throw tt}try{return hexlify(et)}catch(tt){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:o,blockTag:a},result:et,error:tt})}})}call(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const j=yield resolveProperties({transaction:this._getTransactionRequest(o),blockTag:this._getBlockTag(a),ccipReadEnabled:Promise.resolve(o.ccipReadEnabled)});return this._call(j.transaction,j.blockTag,j.ccipReadEnabled?0:-1)})}estimateGas(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield resolveProperties({transaction:this._getTransactionRequest(o)}),j=yield this.perform("estimateGas",a);try{return BigNumber.from(j)}catch(_e){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"estimateGas",params:a,result:j,error:_e})}})}_getAddress(o){return __awaiter$1(this,void 0,void 0,function*(){o=yield o,typeof o!="string"&&logger$2.throwArgumentError("invalid address or ENS name","name",o);const a=yield this.resolveName(o);return a==null&&logger$2.throwError("ENS name not configured",Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(o)})`}),a})}_getBlock(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork(),o=yield o;let j=-128;const _e={includeTransactions:!!a};if(isHexString(o,32))_e.blockHash=o;else try{_e.blockTag=yield this._getBlockTag(o),isHexString(_e.blockTag)&&(j=parseInt(_e.blockTag.substring(2),16))}catch{logger$2.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",o)}return poll(()=>__awaiter$1(this,void 0,void 0,function*(){const et=yield this.perform("getBlock",_e);if(et==null)return _e.blockHash!=null&&this._emitted["b:"+_e.blockHash]==null||_e.blockTag!=null&&j>this._emitted.block?null:void 0;if(a){let tt=null;for(let nt=0;nt<et.transactions.length;nt++){const it=et.transactions[nt];if(it.blockNumber==null)it.confirmations=0;else if(it.confirmations==null){tt==null&&(tt=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let ot=tt-it.blockNumber+1;ot<=0&&(ot=1),it.confirmations=ot}}const rt=this.formatter.blockWithTransactions(et);return rt.transactions=rt.transactions.map(nt=>this._wrapTransaction(nt)),rt}return this.formatter.block(et)}),{oncePoll:this})})}getBlock(o){return this._getBlock(o,!1)}getBlockWithTransactions(o){return this._getBlock(o,!0)}getTransaction(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork(),o=yield o;const a={transactionHash:this.formatter.hash(o,!0)};return poll(()=>__awaiter$1(this,void 0,void 0,function*(){const j=yield this.perform("getTransaction",a);if(j==null)return this._emitted["t:"+o]==null?null:void 0;const _e=this.formatter.transactionResponse(j);if(_e.blockNumber==null)_e.confirmations=0;else if(_e.confirmations==null){let tt=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-_e.blockNumber+1;tt<=0&&(tt=1),_e.confirmations=tt}return this._wrapTransaction(_e)}),{oncePoll:this})})}getTransactionReceipt(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork(),o=yield o;const a={transactionHash:this.formatter.hash(o,!0)};return poll(()=>__awaiter$1(this,void 0,void 0,function*(){const j=yield this.perform("getTransactionReceipt",a);if(j==null)return this._emitted["t:"+o]==null?null:void 0;if(j.blockHash==null)return;const _e=this.formatter.receipt(j);if(_e.blockNumber==null)_e.confirmations=0;else if(_e.confirmations==null){let tt=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-_e.blockNumber+1;tt<=0&&(tt=1),_e.confirmations=tt}return _e}),{oncePoll:this})})}getLogs(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield resolveProperties({filter:this._getFilter(o)}),j=yield this.perform("getLogs",a);return j.forEach(_e=>{_e.removed==null&&(_e.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(j)})}getEtherPrice(){return __awaiter$1(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(o){return __awaiter$1(this,void 0,void 0,function*(){if(o=yield o,typeof o=="number"&&o<0){o%1&&logger$2.throwArgumentError("invalid BlockTag","blockTag",o);let a=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return a+=o,a<0&&(a=0),this.formatter.blockTag(a)}return this.formatter.blockTag(o)})}getResolver(o){return __awaiter$1(this,void 0,void 0,function*(){let a=o;for(;;){if(a===""||a==="."||o!=="eth"&&a==="eth")return null;const j=yield this._getResolver(a,"getResolver");if(j!=null){const _e=new Resolver(this,j,o);return a!==o&&!(yield _e.supportsWildcard())?null:_e}a=a.split(".").slice(1).join(".")}})}_getResolver(o,a){return __awaiter$1(this,void 0,void 0,function*(){a==null&&(a="ENS");const j=yield this.getNetwork();j.ensAddress||logger$2.throwError("network does not support ENS",Logger.errors.UNSUPPORTED_OPERATION,{operation:a,network:j.name});try{const _e=yield this.call({to:j.ensAddress,data:"0x0178b8bf"+namehash(o).substring(2)});return this.formatter.callAddress(_e)}catch{}return null})}resolveName(o){return __awaiter$1(this,void 0,void 0,function*(){o=yield o;try{return Promise.resolve(this.formatter.address(o))}catch(j){if(isHexString(o))throw j}typeof o!="string"&&logger$2.throwArgumentError("invalid ENS name","name",o);const a=yield this.getResolver(o);return a?yield a.getAddress():null})}lookupAddress(o){return __awaiter$1(this,void 0,void 0,function*(){o=yield o,o=this.formatter.address(o);const a=o.substring(2).toLowerCase()+".addr.reverse",j=yield this._getResolver(a,"lookupAddress");if(j==null)return null;const _e=_parseString(yield this.call({to:j,data:"0x691f3431"+namehash(a).substring(2)}),0);return(yield this.resolveName(_e))!=o?null:_e})}getAvatar(o){return __awaiter$1(this,void 0,void 0,function*(){let a=null;if(isHexString(o)){const et=this.formatter.address(o).substring(2).toLowerCase()+".addr.reverse",tt=yield this._getResolver(et,"getAvatar");if(!tt)return null;a=new Resolver(this,tt,et);try{const rt=yield a.getAvatar();if(rt)return rt.url}catch(rt){if(rt.code!==Logger.errors.CALL_EXCEPTION)throw rt}try{const rt=_parseString(yield this.call({to:tt,data:"0x691f3431"+namehash(et).substring(2)}),0);a=yield this.getResolver(rt)}catch(rt){if(rt.code!==Logger.errors.CALL_EXCEPTION)throw rt;return null}}else if(a=yield this.getResolver(o),!a)return null;const j=yield a.getAvatar();return j==null?null:j.url})}perform(o,a){return logger$2.throwError(o+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:o})}_startEvent(o){this.polling=this._events.filter(a=>a.pollable()).length>0}_stopEvent(o){this.polling=this._events.filter(a=>a.pollable()).length>0}_addEventListener(o,a,j){const _e=new Event(getEventTag(o),a,j);return this._events.push(_e),this._startEvent(_e),this}on(o,a){return this._addEventListener(o,a,!1)}once(o,a){return this._addEventListener(o,a,!0)}emit(o,...a){let j=!1,_e=[],et=getEventTag(o);return this._events=this._events.filter(tt=>tt.tag!==et?!0:(setTimeout(()=>{tt.listener.apply(this,a)},0),j=!0,tt.once?(_e.push(tt),!1):!0)),_e.forEach(tt=>{this._stopEvent(tt)}),j}listenerCount(o){if(!o)return this._events.length;let a=getEventTag(o);return this._events.filter(j=>j.tag===a).length}listeners(o){if(o==null)return this._events.map(j=>j.listener);let a=getEventTag(o);return this._events.filter(j=>j.tag===a).map(j=>j.listener)}off(o,a){if(a==null)return this.removeAllListeners(o);const j=[];let _e=!1,et=getEventTag(o);return this._events=this._events.filter(tt=>tt.tag!==et||tt.listener!=a||_e?!0:(_e=!0,j.push(tt),!1)),j.forEach(tt=>{this._stopEvent(tt)}),this}removeAllListeners(o){let a=[];if(o==null)a=this._events,this._events=[];else{const j=getEventTag(o);this._events=this._events.filter(_e=>_e.tag!==j?!0:(a.push(_e),!1))}return a.forEach(j=>{this._stopEvent(j)}),this}}var __awaiter=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function rt(ot){try{it(j.next(ot))}catch(st){tt(st)}}function nt(ot){try{it(j.throw(ot))}catch(st){tt(st)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(rt,nt)}it((j=j.apply($,o||[])).next())})};const logger$1=new Logger(version$3),errorGas=["call","estimateGas"];function spelunk($,o){if($==null)return null;if(typeof $.message=="string"&&$.message.match("reverted")){const a=isHexString($.data)?$.data:null;if(!o||a)return{message:$.message,data:a}}if(typeof $=="object"){for(const a in $){const j=spelunk($[a],o);if(j)return j}return null}if(typeof $=="string")try{return spelunk(JSON.parse($),o)}catch{}return null}function checkError($,o,a){const j=a.transaction||a.signedTransaction;if($==="call"){const et=spelunk(o,!0);if(et)return et.data;logger$1.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:j,error:o})}if($==="estimateGas"){let et=spelunk(o.body,!1);et==null&&(et=spelunk(o,!1)),et&&logger$1.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:et.message,method:$,transaction:j,error:o})}let _e=o.message;throw o.code===Logger.errors.SERVER_ERROR&&o.error&&typeof o.error.message=="string"?_e=o.error.message:typeof o.body=="string"?_e=o.body:typeof o.responseText=="string"&&(_e=o.responseText),_e=(_e||"").toLowerCase(),_e.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger$1.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:o,method:$,transaction:j}),_e.match(/nonce (is )?too low/i)&&logger$1.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:o,method:$,transaction:j}),_e.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$1.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:o,method:$,transaction:j}),_e.match(/only replay-protected/i)&&logger$1.throwError("legacy pre-eip-155 transactions not supported",Logger.errors.UNSUPPORTED_OPERATION,{error:o,method:$,transaction:j}),errorGas.indexOf($)>=0&&_e.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger$1.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:o,method:$,transaction:j}),o}function timer($){return new Promise(function(o){setTimeout(o,$)})}function getResult($){if($.error){const o=new Error($.error.message);throw o.code=$.error.code,o.data=$.error.data,o}return $.result}function getLowerCase($){return $&&$.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(o,a,j){if(super(),o!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly(this,"provider",a),j==null&&(j=0),typeof j=="string"?(defineReadOnly(this,"_address",this.provider.formatter.address(j)),defineReadOnly(this,"_index",null)):typeof j=="number"?(defineReadOnly(this,"_index",j),defineReadOnly(this,"_address",null)):logger$1.throwArgumentError("invalid address or index","addressOrIndex",j)}connect(o){return logger$1.throwError("cannot alter JSON-RPC Signer connection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(o=>(o.length<=this._index&&logger$1.throwError("unknown account #"+this._index,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(o[this._index])))}sendUncheckedTransaction(o){o=shallowCopy(o);const a=this.getAddress().then(j=>(j&&(j=j.toLowerCase()),j));if(o.gasLimit==null){const j=shallowCopy(o);j.from=a,o.gasLimit=this.provider.estimateGas(j)}return o.to!=null&&(o.to=Promise.resolve(o.to).then(j=>__awaiter(this,void 0,void 0,function*(){if(j==null)return null;const _e=yield this.provider.resolveName(j);return _e==null&&logger$1.throwArgumentError("provided ENS name resolves to null","tx.to",j),_e}))),resolveProperties({tx:resolveProperties(o),sender:a}).then(({tx:j,sender:_e})=>{j.from!=null?j.from.toLowerCase()!==_e&&logger$1.throwArgumentError("from address mismatch","transaction",o):j.from=_e;const et=this.provider.constructor.hexlifyTransaction(j,{from:!0});return this.provider.send("eth_sendTransaction",[et]).then(tt=>tt,tt=>(typeof tt.message=="string"&&tt.message.match(/user denied/i)&&logger$1.throwError("user rejected transaction",Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:j}),checkError("sendTransaction",tt,et)))})}signTransaction(o){return logger$1.throwError("signing transactions is unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(o){return __awaiter(this,void 0,void 0,function*(){const a=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),j=yield this.sendUncheckedTransaction(o);try{return yield poll(()=>__awaiter(this,void 0,void 0,function*(){const _e=yield this.provider.getTransaction(j);if(_e!==null)return this.provider._wrapTransaction(_e,j,a)}),{oncePoll:this.provider})}catch(_e){throw _e.transactionHash=j,_e}})}signMessage(o){return __awaiter(this,void 0,void 0,function*(){const a=typeof o=="string"?toUtf8Bytes(o):o,j=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify(a),j.toLowerCase()])}catch(_e){throw typeof _e.message=="string"&&_e.message.match(/user denied/i)&&logger$1.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"signMessage",from:j,messageData:o}),_e}})}_legacySignMessage(o){return __awaiter(this,void 0,void 0,function*(){const a=typeof o=="string"?toUtf8Bytes(o):o,j=yield this.getAddress();try{return yield this.provider.send("eth_sign",[j.toLowerCase(),hexlify(a)])}catch(_e){throw typeof _e.message=="string"&&_e.message.match(/user denied/i)&&logger$1.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:j,messageData:o}),_e}})}_signTypedData(o,a,j){return __awaiter(this,void 0,void 0,function*(){const _e=yield TypedDataEncoder.resolveNames(o,a,j,tt=>this.provider.resolveName(tt)),et=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[et.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(_e.domain,a,_e.value))])}catch(tt){throw typeof tt.message=="string"&&tt.message.match(/user denied/i)&&logger$1.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:et,messageData:{domain:_e.domain,types:a,value:_e.value}}),tt}})}unlock(o){return __awaiter(this,void 0,void 0,function*(){const a=this.provider,j=yield this.getAddress();return a.send("personal_unlockAccount",[j.toLowerCase(),o,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(o){return this.sendUncheckedTransaction(o).then(a=>({hash:a,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:j=>this.provider.waitForTransaction(a,j)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider extends BaseProvider{constructor(o,a){let j=a;j==null&&(j=new Promise((_e,et)=>{setTimeout(()=>{this.detectNetwork().then(tt=>{_e(tt)},tt=>{et(tt)})},0)})),super(j),o||(o=getStatic(this.constructor,"defaultUrl")()),typeof o=="string"?defineReadOnly(this,"connection",Object.freeze({url:o})):defineReadOnly(this,"connection",Object.freeze(shallowCopy(o))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter(this,void 0,void 0,function*(){yield timer(0);let o=null;try{o=yield this.send("eth_chainId",[])}catch{try{o=yield this.send("net_version",[])}catch{}}if(o!=null){const a=getStatic(this.constructor,"getNetwork");try{return a(BigNumber.from(o).toNumber())}catch(j){return logger$1.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{chainId:o,event:"invalidNetwork",serverError:j})}}return logger$1.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(o){return new JsonRpcSigner(_constructorGuard,this,o)}getUncheckedSigner(o){return this.getSigner(o).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(o=>o.map(a=>this.formatter.address(a)))}send(o,a){const j={method:o,params:a,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(j),provider:this});const _e=["eth_chainId","eth_blockNumber"].indexOf(o)>=0;if(_e&&this._cache[o])return this._cache[o];const et=fetchJson(this.connection,JSON.stringify(j),getResult).then(tt=>(this.emit("debug",{action:"response",request:j,response:tt,provider:this}),tt),tt=>{throw this.emit("debug",{action:"response",error:tt,request:j,provider:this}),tt});return _e&&(this._cache[o]=et,setTimeout(()=>{this._cache[o]=null},0)),et}prepareRequest(o,a){switch(o){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(a.address),a.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(a.address),a.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(a.address),a.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(a.address),hexZeroPad(a.position,32),a.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[a.signedTransaction]];case"getBlock":return a.blockTag?["eth_getBlockByNumber",[a.blockTag,!!a.includeTransactions]]:a.blockHash?["eth_getBlockByHash",[a.blockHash,!!a.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[a.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[a.transactionHash]];case"call":return["eth_call",[getStatic(this.constructor,"hexlifyTransaction")(a.transaction,{from:!0}),a.blockTag]];case"estimateGas":return["eth_estimateGas",[getStatic(this.constructor,"hexlifyTransaction")(a.transaction,{from:!0})]];case"getLogs":return a.filter&&a.filter.address!=null&&(a.filter.address=getLowerCase(a.filter.address)),["eth_getLogs",[a.filter]]}return null}perform(o,a){return __awaiter(this,void 0,void 0,function*(){if(o==="call"||o==="estimateGas"){const _e=a.transaction;if(_e&&_e.type!=null&&BigNumber.from(_e.type).isZero()&&_e.maxFeePerGas==null&&_e.maxPriorityFeePerGas==null){const et=yield this.getFeeData();et.maxFeePerGas==null&&et.maxPriorityFeePerGas==null&&(a=shallowCopy(a),a.transaction=shallowCopy(_e),delete a.transaction.type)}}const j=this.prepareRequest(o,a);j==null&&logger$1.throwError(o+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:o});try{return yield this.send(j[0],j[1])}catch(_e){return checkError(o,_e,a)}})}_startEvent(o){o.tag==="pending"&&this._startPending(),super._startEvent(o)}_startPending(){if(this._pendingFilter!=null)return;const o=this,a=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=a,a.then(function(j){function _e(){o.send("eth_getFilterChanges",[j]).then(function(et){if(o._pendingFilter!=a)return null;let tt=Promise.resolve();return et.forEach(function(rt){o._emitted["t:"+rt.toLowerCase()]="pending",tt=tt.then(function(){return o.getTransaction(rt).then(function(nt){return o.emit("pending",nt),null})})}),tt.then(function(){return timer(1e3)})}).then(function(){if(o._pendingFilter!=a){o.send("eth_uninstallFilter",[j]);return}return setTimeout(function(){_e()},0),null}).catch(et=>{})}return _e(),j}).catch(j=>{})}_stopEvent(o){o.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(o)}static hexlifyTransaction(o,a){const j=shallowCopy(allowedTransactionKeys);if(a)for(const et in a)a[et]&&(j[et]=!0);checkProperties(o,j);const _e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(et){if(o[et]==null)return;const tt=hexValue(BigNumber.from(o[et]));et==="gasLimit"&&(et="gas"),_e[et]=tt}),["from","to","data"].forEach(function(et){o[et]!=null&&(_e[et]=hexlify(o[et]))}),o.accessList&&(_e.accessList=accessListify(o.accessList)),_e}}const logger=new Logger(version$3);let _nextId=1;function buildWeb3LegacyFetcher($,o){const a="Web3LegacyFetcher";return function(j,_e){const et={method:j,params:_e,id:_nextId++,jsonrpc:"2.0"};return new Promise((tt,rt)=>{this.emit("debug",{action:"request",fetcher:a,request:deepCopy(et),provider:this}),o(et,(nt,it)=>{if(nt)return this.emit("debug",{action:"response",fetcher:a,error:nt,request:et,provider:this}),rt(nt);if(this.emit("debug",{action:"response",fetcher:a,request:et,response:it,provider:this}),it.error){const ot=new Error(it.error.message);return ot.code=it.error.code,ot.data=it.error.data,rt(ot)}tt(it.result)})})}}function buildEip1193Fetcher($){return function(o,a){a==null&&(a=[]);const j={method:o,params:a};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(j),provider:this}),$.request(j).then(_e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:j,response:_e,provider:this}),_e),_e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:j,error:_e,provider:this}),_e})}}class Web3Provider extends JsonRpcProvider{constructor(o,a){o==null&&logger.throwArgumentError("missing provider","provider",o);let j=null,_e=null,et=null;typeof o=="function"?(j="unknown:",_e=o):(j=o.host||o.path||"",!j&&o.isMetaMask&&(j="metamask"),et=o,o.request?(j===""&&(j="eip-1193:"),_e=buildEip1193Fetcher(o)):o.sendAsync?_e=buildWeb3LegacyFetcher(o,o.sendAsync.bind(o)):o.send?_e=buildWeb3LegacyFetcher(o,o.send.bind(o)):logger.throwArgumentError("unsupported provider","provider",o),j||(j="unknown:")),super(j,a),defineReadOnly(this,"jsonRpcFetchFunc",_e),defineReadOnly(this,"provider",et)}send(o,a){return this.jsonRpcFetchFunc(o,a)}}const names=["wei","kwei","mwei","gwei","szabo","finney","ether"];function formatUnits($,o){if(typeof o=="string"){const a=names.indexOf(o);a!==-1&&(o=3*a)}return formatFixed($,o??18)}new JsonRpcProvider("https://polygon-mumbai.g.alchemy.com/v2/HQbJbjo8sicnqnC6c6BUwzPQ_tmHiN0b");const contractAddress="0x9Fc3Acba729F55149cBaf114457798Ce557575b6",abi=[{inputs:[{internalType:"uint256",name:"_timestamp",type:"uint256"},{internalType:"string",name:"_url",type:"string"}],name:"add_record",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"see_record",outputs:[{components:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"string",name:"url",type:"string"}],internalType:"struct Healthcare.PatientRecord[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],common$1={black:"#000",white:"#fff"},common$2=common$1,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function formatMuiErrorMessage$1($){let o="https://mui.com/production-error/?code="+$;for(let a=1;a<arguments.length;a+=1)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified MUI error #"+$+"; visit "+o+" for the full message."}const formatMuiErrorMessage=Object.freeze(Object.defineProperty({__proto__:null,default:formatMuiErrorMessage$1},Symbol.toStringTag,{value:"Module"})),THEME_ID="$$material";function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function($){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&($[j]=a[j])}return $},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose($,o){if($==null)return{};var a={},j=Object.keys($),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(o.indexOf(_e)>=0)&&(a[_e]=$[_e]);return a}function memoize$1($){var o=Object.create(null);return function(a){return o[a]===void 0&&(o[a]=$(a)),o[a]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function($){return reactPropsRegex.test($)||$.charCodeAt(0)===111&&$.charCodeAt(1)===110&&$.charCodeAt(2)<91});function sheetForTag($){if($.sheet)return $.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===$)return document.styleSheets[o]}function createStyleElement($){var o=document.createElement("style");return o.setAttribute("data-emotion",$.key),$.nonce!==void 0&&o.setAttribute("nonce",$.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function $(a){var j=this;this._insertTag=function(_e){var et;j.tags.length===0?j.insertionPoint?et=j.insertionPoint.nextSibling:j.prepend?et=j.container.firstChild:et=j.before:et=j.tags[j.tags.length-1].nextSibling,j.container.insertBefore(_e,et),j.tags.push(_e)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var o=$.prototype;return o.hydrate=function(j){j.forEach(this._insertTag)},o.insert=function(j){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _e=this.tags[this.tags.length-1];if(this.isSpeedy){var et=sheetForTag(_e);try{et.insertRule(j,et.cssRules.length)}catch{}}else _e.appendChild(document.createTextNode(j));this.ctr++},o.flush=function(){this.tags.forEach(function(j){return j.parentNode&&j.parentNode.removeChild(j)}),this.tags=[],this.ctr=0},$}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$2=String.fromCharCode,assign$1=Object.assign;function hash($,o){return charat($,0)^45?(((o<<2^charat($,0))<<2^charat($,1))<<2^charat($,2))<<2^charat($,3):0}function trim($){return $.trim()}function match($,o){return($=o.exec($))?$[0]:$}function replace($,o,a){return $.replace(o,a)}function indexof($,o){return $.indexOf(o)}function charat($,o){return $.charCodeAt(o)|0}function substr($,o,a){return $.slice(o,a)}function strlen($){return $.length}function sizeof($){return $.length}function append($,o){return o.push($),$}function combine($,o){return $.map(o).join("")}var line=1,column=1,length$2=0,position$1=0,character=0,characters="";function node($,o,a,j,_e,et,tt){return{value:$,root:o,parent:a,type:j,props:_e,children:et,line,column,length:tt,return:""}}function copy($,o){return assign$1(node("",null,null,"",null,null,0),$,{length:-$.length},o)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length$2?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice$1($,o){return substr(characters,$,o)}function token($){switch($){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc$1($){return line=column=1,length$2=strlen(characters=$),position$1=0,[]}function dealloc($){return characters="",$}function delimit($){return trim(slice$1(position$1-1,delimiter($===91?$+2:$===40?$+1:$)))}function whitespace($){for(;(character=peek())&&character<33;)next();return token($)>2||token(character)>3?"":" "}function escaping($,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1($,caret()+(o<6&&peek()==32&&next()==32))}function delimiter($){for(;next();)switch(character){case $:return position$1;case 34:case 39:$!==34&&$!==39&&delimiter(character);break;case 40:$===41&&delimiter($);break;case 92:next();break}return position$1}function commenter($,o){for(;next()&&$+character!==47+10;)if($+character===42+42&&peek()===47)break;return"/*"+slice$1(o,position$1-1)+"*"+from$2($===47?$:next())}function identifier($){for(;!token(peek());)next();return slice$1($,position$1)}function compile($){return dealloc(parse("",null,null,null,[""],$=alloc$1($),0,[0],$))}function parse($,o,a,j,_e,et,tt,rt,nt){for(var it=0,ot=0,st=tt,ct=0,ut=0,dt=0,ft=1,ht=1,pt=1,yt=0,gt="",xt=_e,wt=et,Mt=j,It=gt;ht;)switch(dt=yt,yt=next()){case 40:if(dt!=108&&charat(It,st-1)==58){indexof(It+=replace(delimit(yt),"&","&\f"),"&\f")!=-1&&(pt=-1);break}case 34:case 39:case 91:It+=delimit(yt);break;case 9:case 10:case 13:case 32:It+=whitespace(dt);break;case 92:It+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,a),nt);break;default:It+="/"}break;case 123*ft:rt[it++]=strlen(It)*pt;case 125*ft:case 59:case 0:switch(yt){case 0:case 125:ht=0;case 59+ot:pt==-1&&(It=replace(It,/\f/g,"")),ut>0&&strlen(It)-st&&append(ut>32?declaration(It+";",j,a,st-1):declaration(replace(It," ","")+";",j,a,st-2),nt);break;case 59:It+=";";default:if(append(Mt=ruleset(It,o,a,it,ot,_e,rt,gt,xt=[],wt=[],st),et),yt===123)if(ot===0)parse(It,o,Mt,Mt,xt,et,st,rt,wt);else switch(ct===99&&charat(It,3)===110?100:ct){case 100:case 108:case 109:case 115:parse($,Mt,Mt,j&&append(ruleset($,Mt,Mt,0,0,_e,rt,gt,_e,xt=[],st),wt),_e,wt,st,rt,j?xt:wt);break;default:parse(It,Mt,Mt,Mt,[""],wt,0,rt,wt)}}it=ot=ut=0,ft=pt=1,gt=It="",st=tt;break;case 58:st=1+strlen(It),ut=dt;default:if(ft<1){if(yt==123)--ft;else if(yt==125&&ft++==0&&prev()==125)continue}switch(It+=from$2(yt),yt*ft){case 38:pt=ot>0?1:(It+="\f",-1);break;case 44:rt[it++]=(strlen(It)-1)*pt,pt=1;break;case 64:peek()===45&&(It+=delimit(next())),ct=peek(),ot=st=strlen(gt=It+=identifier(caret())),yt++;break;case 45:dt===45&&strlen(It)==2&&(ft=0)}}return et}function ruleset($,o,a,j,_e,et,tt,rt,nt,it,ot){for(var st=_e-1,ct=_e===0?et:[""],ut=sizeof(ct),dt=0,ft=0,ht=0;dt<j;++dt)for(var pt=0,yt=substr($,st+1,st=abs(ft=tt[dt])),gt=$;pt<ut;++pt)(gt=trim(ft>0?ct[pt]+" "+yt:replace(yt,/&\f/g,ct[pt])))&&(nt[ht++]=gt);return node($,o,a,_e===0?RULESET:rt,nt,it,ot)}function comment($,o,a){return node($,o,a,COMMENT,from$2(char()),substr($,2,-2),0)}function declaration($,o,a,j){return node($,o,a,DECLARATION,substr($,0,j),substr($,j+1,-1),j)}function serialize($,o){for(var a="",j=sizeof($),_e=0;_e<j;_e++)a+=o($[_e],_e,$,o)||"";return a}function stringify($,o,a,j){switch($.type){case LAYER:if($.children.length)break;case IMPORT:case DECLARATION:return $.return=$.return||$.value;case COMMENT:return"";case KEYFRAMES:return $.return=$.value+"{"+serialize($.children,j)+"}";case RULESET:$.value=$.props.join(",")}return strlen(a=serialize($.children,j))?$.return=$.value+"{"+a+"}":""}function middleware($){var o=sizeof($);return function(a,j,_e,et){for(var tt="",rt=0;rt<o;rt++)tt+=$[rt](a,j,_e,et)||"";return tt}}function rulesheet($){return function(o){o.root||(o=o.return)&&$(o)}}var identifierWithPointTracking=function(o,a,j){for(var _e=0,et=0;_e=et,et=peek(),_e===38&&et===12&&(a[j]=1),!token(et);)next();return slice$1(o,position$1)},toRules=function(o,a){var j=-1,_e=44;do switch(token(_e)){case 0:_e===38&&peek()===12&&(a[j]=1),o[j]+=identifierWithPointTracking(position$1-1,a,j);break;case 2:o[j]+=delimit(_e);break;case 4:if(_e===44){o[++j]=peek()===58?"&\f":"",a[j]=o[j].length;break}default:o[j]+=from$2(_e)}while(_e=next());return o},getRules=function(o,a){return dealloc(toRules(alloc$1(o),a))},fixedElements=new WeakMap,compat=function(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var a=o.value,j=o.parent,_e=o.column===j.column&&o.line===j.line;j.type!=="rule";)if(j=j.parent,!j)return;if(!(o.props.length===1&&a.charCodeAt(0)!==58&&!fixedElements.get(j))&&!_e){fixedElements.set(o,!0);for(var et=[],tt=getRules(a,et),rt=j.props,nt=0,it=0;nt<tt.length;nt++)for(var ot=0;ot<rt.length;ot++,it++)o.props[it]=et[nt]?tt[nt].replace(/&\f/g,rt[ot]):rt[ot]+" "+tt[nt]}}},removeLabel=function(o){if(o.type==="decl"){var a=o.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix($,o){switch(hash($,o)){case 5103:return WEBKIT+"print-"+$+$;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+$+$;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+$+MOZ+$+MS+$+$;case 6828:case 4268:return WEBKIT+$+MS+$+$;case 6165:return WEBKIT+$+MS+"flex-"+$+$;case 5187:return WEBKIT+$+replace($,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+$;case 5443:return WEBKIT+$+MS+"flex-item-"+replace($,/flex-|-self/,"")+$;case 4675:return WEBKIT+$+MS+"flex-line-pack"+replace($,/align-content|flex-|-self/,"")+$;case 5548:return WEBKIT+$+MS+replace($,"shrink","negative")+$;case 5292:return WEBKIT+$+MS+replace($,"basis","preferred-size")+$;case 6060:return WEBKIT+"box-"+replace($,"-grow","")+WEBKIT+$+MS+replace($,"grow","positive")+$;case 4554:return WEBKIT+replace($,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+$;case 6187:return replace(replace(replace($,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),$,"")+$;case 5495:case 3959:return replace($,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace($,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+$+$;case 4095:case 3583:case 4068:case 2532:return replace($,/(.+)-inline(.+)/,WEBKIT+"$1$2")+$;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen($)-1-o>6)switch(charat($,o+1)){case 109:if(charat($,o+4)!==45)break;case 102:return replace($,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat($,o+3)==108?"$3":"$2-$3"))+$;case 115:return~indexof($,"stretch")?prefix(replace($,"stretch","fill-available"),o)+$:$}break;case 4949:if(charat($,o+1)!==115)break;case 6444:switch(charat($,strlen($)-3-(~indexof($,"!important")&&10))){case 107:return replace($,":",":"+WEBKIT)+$;case 101:return replace($,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat($,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+$}break;case 5936:switch(charat($,o+11)){case 114:return WEBKIT+$+MS+replace($,/[svh]\w+-[tblr]{2}/,"tb")+$;case 108:return WEBKIT+$+MS+replace($,/[svh]\w+-[tblr]{2}/,"tb-rl")+$;case 45:return WEBKIT+$+MS+replace($,/[svh]\w+-[tblr]{2}/,"lr")+$}return WEBKIT+$+MS+$+$}return $}var prefixer=function(o,a,j,_e){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix(o.value,o.length);break;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],_e);case RULESET:if(o.length)return combine(o.props,function(et){switch(match(et,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(et,/:(read-\w+)/,":"+MOZ+"$1")]})],_e);case"::placeholder":return serialize([copy(o,{props:[replace(et,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(et,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(et,/:(plac\w+)/,MS+"input-$1")]})],_e)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(o){var a=o.key;if(a==="css"){var j=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(j,function(ft){var ht=ft.getAttribute("data-emotion");ht.indexOf(" ")!==-1&&(document.head.appendChild(ft),ft.setAttribute("data-s",""))})}var _e=o.stylisPlugins||defaultStylisPlugins,et={},tt,rt=[];tt=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(ft){for(var ht=ft.getAttribute("data-emotion").split(" "),pt=1;pt<ht.length;pt++)et[ht[pt]]=!0;rt.push(ft)});var nt,it=[compat,removeLabel];{var ot,st=[stringify,rulesheet(function(ft){ot.insert(ft)})],ct=middleware(it.concat(_e,st)),ut=function(ht){return serialize(compile(ht),ct)};nt=function(ht,pt,yt,gt){ot=yt,ut(ht?ht+"{"+pt.styles+"}":pt.styles),gt&&(dt.inserted[pt.name]=!0)}}var dt={key:a,sheet:new StyleSheet({key:a,container:tt,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:et,registered:{},insert:nt};return dt.sheet.hydrate(rt),dt},reactIs$2={exports:{}},reactIs_production_min$2={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$2=b$2?Symbol.for("react.element"):60103,d$2=b$2?Symbol.for("react.portal"):60106,e$2=b$2?Symbol.for("react.fragment"):60107,f$2=b$2?Symbol.for("react.strict_mode"):60108,g$2=b$2?Symbol.for("react.profiler"):60114,h$2=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l$2=b$2?Symbol.for("react.async_mode"):60111,m$2=b$2?Symbol.for("react.concurrent_mode"):60111,n$2=b$2?Symbol.for("react.forward_ref"):60112,p$3=b$2?Symbol.for("react.suspense"):60113,q$2=b$2?Symbol.for("react.suspense_list"):60120,r$1=b$2?Symbol.for("react.memo"):60115,t$2=b$2?Symbol.for("react.lazy"):60116,v$2=b$2?Symbol.for("react.block"):60121,w=b$2?Symbol.for("react.fundamental"):60117,x=b$2?Symbol.for("react.responder"):60118,y=b$2?Symbol.for("react.scope"):60119;function z($){if(typeof $=="object"&&$!==null){var o=$.$$typeof;switch(o){case c$2:switch($=$.type,$){case l$2:case m$2:case e$2:case g$2:case f$2:case p$3:return $;default:switch($=$&&$.$$typeof,$){case k$2:case n$2:case t$2:case r$1:case h$2:return $;default:return o}}case d$2:return o}}}function A($){return z($)===m$2}reactIs_production_min$2.AsyncMode=l$2;reactIs_production_min$2.ConcurrentMode=m$2;reactIs_production_min$2.ContextConsumer=k$2;reactIs_production_min$2.ContextProvider=h$2;reactIs_production_min$2.Element=c$2;reactIs_production_min$2.ForwardRef=n$2;reactIs_production_min$2.Fragment=e$2;reactIs_production_min$2.Lazy=t$2;reactIs_production_min$2.Memo=r$1;reactIs_production_min$2.Portal=d$2;reactIs_production_min$2.Profiler=g$2;reactIs_production_min$2.StrictMode=f$2;reactIs_production_min$2.Suspense=p$3;reactIs_production_min$2.isAsyncMode=function($){return A($)||z($)===l$2};reactIs_production_min$2.isConcurrentMode=A;reactIs_production_min$2.isContextConsumer=function($){return z($)===k$2};reactIs_production_min$2.isContextProvider=function($){return z($)===h$2};reactIs_production_min$2.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===c$2};reactIs_production_min$2.isForwardRef=function($){return z($)===n$2};reactIs_production_min$2.isFragment=function($){return z($)===e$2};reactIs_production_min$2.isLazy=function($){return z($)===t$2};reactIs_production_min$2.isMemo=function($){return z($)===r$1};reactIs_production_min$2.isPortal=function($){return z($)===d$2};reactIs_production_min$2.isProfiler=function($){return z($)===g$2};reactIs_production_min$2.isStrictMode=function($){return z($)===f$2};reactIs_production_min$2.isSuspense=function($){return z($)===p$3};reactIs_production_min$2.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===e$2||$===m$2||$===g$2||$===f$2||$===p$3||$===q$2||typeof $=="object"&&$!==null&&($.$$typeof===t$2||$.$$typeof===r$1||$.$$typeof===h$2||$.$$typeof===k$2||$.$$typeof===n$2||$.$$typeof===w||$.$$typeof===x||$.$$typeof===y||$.$$typeof===v$2)};reactIs_production_min$2.typeOf=z;reactIs$2.exports=reactIs_production_min$2;var reactIsExports$1=reactIs$2.exports,reactIs$1=reactIsExports$1,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles($,o,a){var j="";return a.split(" ").forEach(function(_e){$[_e]!==void 0?o.push($[_e]+";"):j+=_e+" "}),j}var registerStyles=function(o,a,j){var _e=o.key+"-"+a.name;(j===!1||isBrowser===!1)&&o.registered[_e]===void 0&&(o.registered[_e]=a.styles)},insertStyles=function(o,a,j){registerStyles(o,a,j);var _e=o.key+"-"+a.name;if(o.inserted[a.name]===void 0){var et=a;do o.insert(a===et?"."+_e:"",et,o.sheet,!0),et=et.next;while(et!==void 0)}};function murmur2($){for(var o=0,a,j=0,_e=$.length;_e>=4;++j,_e-=4)a=$.charCodeAt(j)&255|($.charCodeAt(++j)&255)<<8|($.charCodeAt(++j)&255)<<16|($.charCodeAt(++j)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,o=(a&65535)*1540483477+((a>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch(_e){case 3:o^=($.charCodeAt(j+2)&255)<<16;case 2:o^=($.charCodeAt(j+1)&255)<<8;case 1:o^=$.charCodeAt(j)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(o){return o.charCodeAt(1)===45},isProcessableValue=function(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$1(function($){return isCustomProperty($)?$:$.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(o,a){switch(o){case"animation":case"animationName":if(typeof a=="string")return a.replace(animationRegex,function(j,_e,et){return cursor={name:_e,styles:et,next:cursor},_e})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof a=="number"&&a!==0?a+"px":a},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation($,o,a){if(a==null)return"";if(a.__emotion_styles!==void 0)return a;switch(typeof a){case"boolean":return"";case"object":{if(a.anim===1)return cursor={name:a.name,styles:a.styles,next:cursor},a.name;if(a.styles!==void 0){var j=a.next;if(j!==void 0)for(;j!==void 0;)cursor={name:j.name,styles:j.styles,next:cursor},j=j.next;var _e=a.styles+";";return _e}return createStringFromObject($,o,a)}case"function":{if($!==void 0){var et=cursor,tt=a($);return cursor=et,handleInterpolation($,o,tt)}break}}if(o==null)return a;var rt=o[a];return rt!==void 0?rt:a}function createStringFromObject($,o,a){var j="";if(Array.isArray(a))for(var _e=0;_e<a.length;_e++)j+=handleInterpolation($,o,a[_e])+";";else for(var et in a){var tt=a[et];if(typeof tt!="object")o!=null&&o[tt]!==void 0?j+=et+"{"+o[tt]+"}":isProcessableValue(tt)&&(j+=processStyleName(et)+":"+processStyleValue(et,tt)+";");else if(Array.isArray(tt)&&typeof tt[0]=="string"&&(o==null||o[tt[0]]===void 0))for(var rt=0;rt<tt.length;rt++)isProcessableValue(tt[rt])&&(j+=processStyleName(et)+":"+processStyleValue(et,tt[rt])+";");else{var nt=handleInterpolation($,o,tt);switch(et){case"animation":case"animationName":{j+=processStyleName(et)+":"+nt+";";break}default:j+=et+"{"+nt+"}"}}}return j}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(o,a,j){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var _e=!0,et="";cursor=void 0;var tt=o[0];tt==null||tt.raw===void 0?(_e=!1,et+=handleInterpolation(j,a,tt)):et+=tt[0];for(var rt=1;rt<o.length;rt++)et+=handleInterpolation(j,a,o[rt]),_e&&(et+=tt[rt]);labelPattern.lastIndex=0;for(var nt="",it;(it=labelPattern.exec(et))!==null;)nt+="-"+it[1];var ot=murmur2(et)+nt;return{name:ot,styles:et,next:cursor}},syncFallback=function(o){return o()},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function(o){return reactExports.forwardRef(function(a,j){var _e=reactExports.useContext(EmotionCacheContext);return o(a,_e,j)})},ThemeContext=reactExports.createContext({}),_extends$1={exports:{}},hasRequired_extends;function require_extends(){return hasRequired_extends||(hasRequired_extends=1,function($){function o(){return $.exports=o=Object.assign?Object.assign.bind():function(a){for(var j=1;j<arguments.length;j++){var _e=arguments[j];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(a[et]=_e[et])}return a},$.exports.__esModule=!0,$.exports.default=$.exports,o.apply(this,arguments)}$.exports=o,$.exports.__esModule=!0,$.exports.default=$.exports}(_extends$1)),_extends$1.exports}require_extends();var Global=withEmotionCache(function($,o){var a=$.styles,j=serializeStyles([a],void 0,reactExports.useContext(ThemeContext)),_e=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var et=o.key+"-global",tt=new o.sheet.constructor({key:et,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),rt=!1,nt=document.querySelector('style[data-emotion="'+et+" "+j.name+'"]');return o.sheet.tags.length&&(tt.before=o.sheet.tags[0]),nt!==null&&(rt=!0,nt.setAttribute("data-emotion",et),tt.hydrate([nt])),_e.current=[tt,rt],function(){tt.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var et=_e.current,tt=et[0],rt=et[1];if(rt){et[1]=!1;return}if(j.next!==void 0&&insertStyles(o,j.next,!0),tt.tags.length){var nt=tt.tags[tt.tags.length-1].nextElementSibling;tt.before=nt,tt.flush()}o.insert("",j,tt,!1)},[o,j.name]),null});function css(){for(var $=arguments.length,o=new Array($),a=0;a<$;a++)o[a]=arguments[a];return serializeStyles(o)}var keyframes=function(){var o=css.apply(void 0,arguments),a="animation-"+o.name;return{name:a,styles:"@keyframes "+a+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(o){return o!=="theme"},getDefaultShouldForwardProp=function(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(o,a,j){var _e;if(a){var et=a.shouldForwardProp;_e=o.__emotion_forwardProp&&et?function(tt){return o.__emotion_forwardProp(tt)&&et(tt)}:et}return typeof _e!="function"&&j&&(_e=o.__emotion_forwardProp),_e},Insertion=function(o){var a=o.cache,j=o.serialized,_e=o.isStringTag;return registerStyles(a,j,_e),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(a,j,_e)}),null},createStyled$3=function $(o,a){var j=o.__emotion_real===o,_e=j&&o.__emotion_base||o,et,tt;a!==void 0&&(et=a.label,tt=a.target);var rt=composeShouldForwardProps(o,a,j),nt=rt||getDefaultShouldForwardProp(_e),it=!nt("as");return function(){var ot=arguments,st=j&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(et!==void 0&&st.push("label:"+et+";"),ot[0]==null||ot[0].raw===void 0)st.push.apply(st,ot);else{st.push(ot[0][0]);for(var ct=ot.length,ut=1;ut<ct;ut++)st.push(ot[ut],ot[0][ut])}var dt=withEmotionCache(function(ft,ht,pt){var yt=it&&ft.as||_e,gt="",xt=[],wt=ft;if(ft.theme==null){wt={};for(var Mt in ft)wt[Mt]=ft[Mt];wt.theme=reactExports.useContext(ThemeContext)}typeof ft.className=="string"?gt=getRegisteredStyles(ht.registered,xt,ft.className):ft.className!=null&&(gt=ft.className+" ");var It=serializeStyles(st.concat(xt),ht.registered,wt);gt+=ht.key+"-"+It.name,tt!==void 0&&(gt+=" "+tt);var Tt=it&&rt===void 0?getDefaultShouldForwardProp(yt):nt,Dt={};for(var Ut in ft)it&&Ut==="as"||Tt(Ut)&&(Dt[Ut]=ft[Ut]);return Dt.className=gt,Dt.ref=pt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:ht,serialized:It,isStringTag:typeof yt=="string"}),reactExports.createElement(yt,Dt))});return dt.displayName=et!==void 0?et:"Styled("+(typeof _e=="string"?_e:_e.displayName||_e.name||"Component")+")",dt.defaultProps=o.defaultProps,dt.__emotion_real=dt,dt.__emotion_base=_e,dt.__emotion_styles=st,dt.__emotion_forwardProp=rt,Object.defineProperty(dt,"toString",{value:function(){return"."+tt}}),dt.withComponent=function(ft,ht){return $(ft,_extends$2({},a,ht,{shouldForwardProp:composeShouldForwardProps(dt,ht,!0)})).apply(void 0,st)},dt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$3.bind();tags.forEach(function($){newStyled[$]=newStyled($)});var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function $(j,_e,et,tt,rt,nt){if(nt!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}$.isRequired=$;function o(){return $}var a={array:$,bigint:$,bool:$,func:$,number:$,object:$,string:$,symbol:$,any:$,arrayOf:o,element:$,elementType:$,instanceOf:o,node:$,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);let cache;typeof document=="object"&&(cache=createCache({key:"css",prepend:!0}));function StyledEngineProvider($){const{injectFirst:o,children:a}=$;return o&&cache?jsx(CacheProvider,{value:cache,children:a}):a}function isEmpty$4($){return $==null||Object.keys($).length===0}function GlobalStyles$2($){const{styles:o,defaultTheme:a={}}=$;return jsx(Global,{styles:typeof o=="function"?_e=>o(isEmpty$4(_e)?a:_e):o})}/**
 * @mui/styled-engine v5.15.14
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$3($,o){return newStyled($,o)}const internal_processStyles=($,o)=>{Array.isArray($.__emotion_styles)&&($.__emotion_styles=o($.__emotion_styles))},styledEngine=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:GlobalStyles$2,StyledEngineProvider,ThemeContext,css,default:styled$3,internal_processStyles,keyframes},Symbol.toStringTag,{value:"Module"}));function isPlainObject($){if(typeof $!="object"||$===null)return!1;const o=Object.getPrototypeOf($);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in $)&&!(Symbol.iterator in $)}function deepClone($){if(!isPlainObject($))return $;const o={};return Object.keys($).forEach(a=>{o[a]=deepClone($[a])}),o}function deepmerge$1($,o,a={clone:!0}){const j=a.clone?_extends$2({},$):$;return isPlainObject($)&&isPlainObject(o)&&Object.keys(o).forEach(_e=>{_e!=="__proto__"&&(isPlainObject(o[_e])&&_e in $&&isPlainObject($[_e])?j[_e]=deepmerge$1($[_e],o[_e],a):a.clone?j[_e]=isPlainObject(o[_e])?deepClone(o[_e]):o[_e]:j[_e]=o[_e])}),j}const deepmerge=Object.freeze(Object.defineProperty({__proto__:null,default:deepmerge$1,isPlainObject},Symbol.toStringTag,{value:"Module"})),_excluded$G=["values","unit","step"],sortBreakpointsValues=$=>{const o=Object.keys($).map(a=>({key:a,val:$[a]}))||[];return o.sort((a,j)=>a.val-j.val),o.reduce((a,j)=>_extends$2({},a,{[j.key]:j.val}),{})};function createBreakpoints($){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:j=5}=$,_e=_objectWithoutPropertiesLoose($,_excluded$G),et=sortBreakpointsValues(o),tt=Object.keys(et);function rt(ct){return`@media (min-width:${typeof o[ct]=="number"?o[ct]:ct}${a})`}function nt(ct){return`@media (max-width:${(typeof o[ct]=="number"?o[ct]:ct)-j/100}${a})`}function it(ct,ut){const dt=tt.indexOf(ut);return`@media (min-width:${typeof o[ct]=="number"?o[ct]:ct}${a}) and (max-width:${(dt!==-1&&typeof o[tt[dt]]=="number"?o[tt[dt]]:ut)-j/100}${a})`}function ot(ct){return tt.indexOf(ct)+1<tt.length?it(ct,tt[tt.indexOf(ct)+1]):rt(ct)}function st(ct){const ut=tt.indexOf(ct);return ut===0?rt(tt[1]):ut===tt.length-1?nt(tt[ut]):it(ct,tt[tt.indexOf(ct)+1]).replace("@media","@media not all and")}return _extends$2({keys:tt,values:et,up:rt,down:nt,between:it,only:ot,not:st,unit:a},_e)}const shape={borderRadius:4},shape$1=shape;function merge$1($,o){return o?deepmerge$1($,o,{clone:!1}):$}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:$=>`@media (min-width:${values$1[$]}px)`};function handleBreakpoints($,o,a){const j=$.theme||{};if(Array.isArray(o)){const et=j.breakpoints||defaultBreakpoints;return o.reduce((tt,rt,nt)=>(tt[et.up(et.keys[nt])]=a(o[nt]),tt),{})}if(typeof o=="object"){const et=j.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((tt,rt)=>{if(Object.keys(et.values||values$1).indexOf(rt)!==-1){const nt=et.up(rt);tt[nt]=a(o[rt],rt)}else{const nt=rt;tt[nt]=o[nt]}return tt},{})}return a(o)}function createEmptyBreakpointObject($={}){var o;return((o=$.keys)==null?void 0:o.reduce((j,_e)=>{const et=$.up(_e);return j[et]={},j},{}))||{}}function removeUnusedBreakpoints($,o){return $.reduce((a,j)=>{const _e=a[j];return(!_e||Object.keys(_e).length===0)&&delete a[j],a},o)}function mergeBreakpointsInOrder($,...o){const a=createEmptyBreakpointObject($),j=[a,...o].reduce((_e,et)=>deepmerge$1(_e,et),{});return removeUnusedBreakpoints(Object.keys(a),j)}function computeBreakpointsBase($,o){if(typeof $!="object")return{};const a={},j=Object.keys(o);return Array.isArray($)?j.forEach((_e,et)=>{et<$.length&&(a[_e]=!0)}):j.forEach(_e=>{$[_e]!=null&&(a[_e]=!0)}),a}function resolveBreakpointValues({values:$,breakpoints:o,base:a}){const j=a||computeBreakpointsBase($,o),_e=Object.keys(j);if(_e.length===0)return $;let et;return _e.reduce((tt,rt,nt)=>(Array.isArray($)?(tt[rt]=$[nt]!=null?$[nt]:$[et],et=nt):typeof $=="object"?(tt[rt]=$[rt]!=null?$[rt]:$[et],et=rt):tt[rt]=$,tt),{})}function capitalize$1($){if(typeof $!="string")throw new Error(formatMuiErrorMessage$1(7));return $.charAt(0).toUpperCase()+$.slice(1)}const capitalize=Object.freeze(Object.defineProperty({__proto__:null,default:capitalize$1},Symbol.toStringTag,{value:"Module"}));function getPath($,o,a=!0){if(!o||typeof o!="string")return null;if($&&$.vars&&a){const j=`vars.${o}`.split(".").reduce((_e,et)=>_e&&_e[et]?_e[et]:null,$);if(j!=null)return j}return o.split(".").reduce((j,_e)=>j&&j[_e]!=null?j[_e]:null,$)}function getStyleValue$1($,o,a,j=a){let _e;return typeof $=="function"?_e=$(a):Array.isArray($)?_e=$[a]||j:_e=getPath($,a)||j,o&&(_e=o(_e,j,$)),_e}function style$2($){const{prop:o,cssProperty:a=$.prop,themeKey:j,transform:_e}=$,et=tt=>{if(tt[o]==null)return null;const rt=tt[o],nt=tt.theme,it=getPath(nt,j)||{};return handleBreakpoints(tt,rt,st=>{let ct=getStyleValue$1(it,_e,st);return st===ct&&typeof st=="string"&&(ct=getStyleValue$1(it,_e,`${o}${st==="default"?"":capitalize$1(st)}`,st)),a===!1?ct:{[a]:ct}})};return et.propTypes={},et.filterProps=[o],et}function memoize($){const o={};return a=>(o[a]===void 0&&(o[a]=$(a)),o[a])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize($=>{if($.length>2)if(aliases[$])$=aliases[$];else return[$];const[o,a]=$.split(""),j=properties[o],_e=directions[a]||"";return Array.isArray(_e)?_e.map(et=>j+et):[j+_e]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit($,o,a,j){var _e;const et=(_e=getPath($,o,!1))!=null?_e:a;return typeof et=="number"?tt=>typeof tt=="string"?tt:et*tt:Array.isArray(et)?tt=>typeof tt=="string"?tt:et[tt]:typeof et=="function"?et:()=>{}}function createUnarySpacing($){return createUnaryUnit($,"spacing",8)}function getValue($,o){if(typeof o=="string"||o==null)return o;const a=Math.abs(o),j=$(a);return o>=0?j:typeof j=="number"?-j:`-${j}`}function getStyleFromPropValue($,o){return a=>$.reduce((j,_e)=>(j[_e]=getValue(o,a),j),{})}function resolveCssProperty($,o,a,j){if(o.indexOf(a)===-1)return null;const _e=getCssProperties(a),et=getStyleFromPropValue(_e,j),tt=$[a];return handleBreakpoints($,tt,et)}function style$1($,o){const a=createUnarySpacing($.theme);return Object.keys($).map(j=>resolveCssProperty($,o,j,a)).reduce(merge$1,{})}function margin($){return style$1($,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding($){return style$1($,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing($=8){if($.mui)return $;const o=createUnarySpacing({spacing:$}),a=(...j)=>(j.length===0?[1]:j).map(et=>{const tt=o(et);return typeof tt=="number"?`${tt}px`:tt}).join(" ");return a.mui=!0,a}function compose(...$){const o=$.reduce((j,_e)=>(_e.filterProps.forEach(et=>{j[et]=_e}),j),{}),a=j=>Object.keys(j).reduce((_e,et)=>o[et]?merge$1(_e,o[et](j)):_e,{});return a.propTypes={},a.filterProps=$.reduce((j,_e)=>j.concat(_e.filterProps),[]),a}function borderTransform($){return typeof $!="number"?$:`${$}px solid`}function createBorderStyle($,o){return style$2({prop:$,themeKey:"borders",transform:o})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=$=>{if($.borderRadius!==void 0&&$.borderRadius!==null){const o=createUnaryUnit($.theme,"shape.borderRadius",4),a=j=>({borderRadius:getValue(o,j)});return handleBreakpoints($,$.borderRadius,a)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=$=>{if($.gap!==void 0&&$.gap!==null){const o=createUnaryUnit($.theme,"spacing",8),a=j=>({gap:getValue(o,j)});return handleBreakpoints($,$.gap,a)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=$=>{if($.columnGap!==void 0&&$.columnGap!==null){const o=createUnaryUnit($.theme,"spacing",8),a=j=>({columnGap:getValue(o,j)});return handleBreakpoints($,$.columnGap,a)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=$=>{if($.rowGap!==void 0&&$.rowGap!==null){const o=createUnaryUnit($.theme,"spacing",8),a=j=>({rowGap:getValue(o,j)});return handleBreakpoints($,$.rowGap,a)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform($,o){return o==="grey"?o:$}const color=style$2({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform($){return $<=1&&$!==0?`${$*100}%`:$}const width=style$2({prop:"width",transform:sizingTransform}),maxWidth=$=>{if($.maxWidth!==void 0&&$.maxWidth!==null){const o=a=>{var j,_e;const et=((j=$.theme)==null||(j=j.breakpoints)==null||(j=j.values)==null?void 0:j[a])||values$1[a];return et?((_e=$.theme)==null||(_e=_e.breakpoints)==null?void 0:_e.unit)!=="px"?{maxWidth:`${et}${$.theme.breakpoints.unit}`}:{maxWidth:et}:{maxWidth:sizingTransform(a)}};return handleBreakpoints($,$.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform:sizingTransform}),height=style$2({prop:"height",transform:sizingTransform}),maxHeight=style$2({prop:"maxHeight",transform:sizingTransform}),minHeight=style$2({prop:"minHeight",transform:sizingTransform});style$2({prop:"size",cssProperty:"width",transform:sizingTransform});style$2({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$2({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:$=>({"@media print":{display:$}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...$){const o=$.reduce((j,_e)=>j.concat(Object.keys(_e)),[]),a=new Set(o);return $.every(j=>a.size===Object.keys(j).length)}function callIfFn($,o){return typeof $=="function"?$(o):$}function unstable_createStyleFunctionSx(){function $(a,j,_e,et){const tt={[a]:j,theme:_e},rt=et[a];if(!rt)return{[a]:j};const{cssProperty:nt=a,themeKey:it,transform:ot,style:st}=rt;if(j==null)return null;if(it==="typography"&&j==="inherit")return{[a]:j};const ct=getPath(_e,it)||{};return st?st(tt):handleBreakpoints(tt,j,dt=>{let ft=getStyleValue$1(ct,ot,dt);return dt===ft&&typeof dt=="string"&&(ft=getStyleValue$1(ct,ot,`${a}${dt==="default"?"":capitalize$1(dt)}`,dt)),nt===!1?ft:{[nt]:ft}})}function o(a){var j;const{sx:_e,theme:et={}}=a||{};if(!_e)return null;const tt=(j=et.unstable_sxConfig)!=null?j:defaultSxConfig$1;function rt(nt){let it=nt;if(typeof nt=="function")it=nt(et);else if(typeof nt!="object")return nt;if(!it)return null;const ot=createEmptyBreakpointObject(et.breakpoints),st=Object.keys(ot);let ct=ot;return Object.keys(it).forEach(ut=>{const dt=callIfFn(it[ut],et);if(dt!=null)if(typeof dt=="object")if(tt[ut])ct=merge$1(ct,$(ut,dt,et,tt));else{const ft=handleBreakpoints({theme:et},dt,ht=>({[ut]:ht}));objectsHaveSameKeys(ft,dt)?ct[ut]=o({sx:dt,theme:et}):ct=merge$1(ct,ft)}else ct=merge$1(ct,$(ut,dt,et,tt))}),removeUnusedBreakpoints(st,ct)}return Array.isArray(_e)?_e.map(rt):rt(_e)}return o}const styleFunctionSx$1=unstable_createStyleFunctionSx();styleFunctionSx$1.filterProps=["sx"];const styleFunctionSx$2=styleFunctionSx$1;function applyStyles($,o){const a=this;return a.vars&&typeof a.getColorSchemeSelector=="function"?{[a.getColorSchemeSelector($).replace(/(\[[^\]]+\])/,"*:where($1)")]:o}:a.palette.mode===$?o:{}}const _excluded$F=["breakpoints","palette","spacing","shape"];function createTheme$2($={},...o){const{breakpoints:a={},palette:j={},spacing:_e,shape:et={}}=$,tt=_objectWithoutPropertiesLoose($,_excluded$F),rt=createBreakpoints(a),nt=createSpacing(_e);let it=deepmerge$1({breakpoints:rt,direction:"ltr",components:{},palette:_extends$2({mode:"light"},j),spacing:nt,shape:_extends$2({},shape$1,et)},tt);return it.applyStyles=applyStyles,it=o.reduce((ot,st)=>deepmerge$1(ot,st),it),it.unstable_sxConfig=_extends$2({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),it.unstable_sx=function(st){return styleFunctionSx$2({sx:st,theme:this})},it}const createTheme$1=Object.freeze(Object.defineProperty({__proto__:null,default:createTheme$2,private_createBreakpoints:createBreakpoints,unstable_applyStyles:applyStyles},Symbol.toStringTag,{value:"Module"}));function isObjectEmpty($){return Object.keys($).length===0}function useTheme$2($=null){const o=reactExports.useContext(ThemeContext);return!o||isObjectEmpty(o)?$:o}const systemDefaultTheme$2=createTheme$2();function useTheme$1($=systemDefaultTheme$2){return useTheme$2($)}function GlobalStyles$1({styles:$,themeId:o,defaultTheme:a={}}){const j=useTheme$1(a),_e=typeof $=="function"?$(o&&j[o]||j):$;return jsx(GlobalStyles$2,{styles:_e})}const _excluded$E=["sx"],splitProps=$=>{var o,a;const j={systemProps:{},otherProps:{}},_e=(o=$==null||(a=$.theme)==null?void 0:a.unstable_sxConfig)!=null?o:defaultSxConfig$1;return Object.keys($).forEach(et=>{_e[et]?j.systemProps[et]=$[et]:j.otherProps[et]=$[et]}),j};function extendSxProp($){const{sx:o}=$,a=_objectWithoutPropertiesLoose($,_excluded$E),{systemProps:j,otherProps:_e}=splitProps(a);let et;return Array.isArray(o)?et=[j,...o]:typeof o=="function"?et=(...tt)=>{const rt=o(...tt);return isPlainObject(rt)?_extends$2({},j,rt):j}:et=_extends$2({},j,o),_extends$2({},_e,{sx:et})}const styleFunctionSx=Object.freeze(Object.defineProperty({__proto__:null,default:styleFunctionSx$2,extendSxProp,unstable_createStyleFunctionSx,unstable_defaultSxConfig:defaultSxConfig$1},Symbol.toStringTag,{value:"Module"})),defaultGenerator=$=>$,createClassNameGenerator=()=>{let $=defaultGenerator;return{configure(o){$=o},generate(o){return $(o)},reset(){$=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator;function r($){var o,a,j="";if(typeof $=="string"||typeof $=="number")j+=$;else if(typeof $=="object")if(Array.isArray($)){var _e=$.length;for(o=0;o<_e;o++)$[o]&&(a=r($[o]))&&(j&&(j+=" "),j+=a)}else for(a in $)$[a]&&(j&&(j+=" "),j+=a);return j}function clsx(){for(var $,o,a=0,j="",_e=arguments.length;a<_e;a++)($=arguments[a])&&(o=r($))&&(j&&(j+=" "),j+=o);return j}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass($,o,a="Mui"){const j=globalStateClasses[o];return j?`${a}-${j}`:`${ClassNameGenerator$1.generate($)}-${o}`}function generateUtilityClasses($,o,a="Mui"){const j={};return o.forEach(_e=>{j[_e]=generateUtilityClass($,_e,a)}),j}var reactIs={exports:{}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$2=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u$1;u$1=Symbol.for("react.module.reference");function v$1($){if(typeof $=="object"&&$!==null){var o=$.$$typeof;switch(o){case b$1:switch($=$.type,$){case d$1:case f$1:case e$1:case m$1:case n$1:return $;default:switch($=$&&$.$$typeof,$){case k$1:case h$1:case l$1:case q$1:case p$2:case g$1:return $;default:return o}}case c$1:return o}}}reactIs_production_min$1.ContextConsumer=h$1;reactIs_production_min$1.ContextProvider=g$1;reactIs_production_min$1.Element=b$1;reactIs_production_min$1.ForwardRef=l$1;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$1;reactIs_production_min$1.Memo=p$2;reactIs_production_min$1.Portal=c$1;reactIs_production_min$1.Profiler=f$1;reactIs_production_min$1.StrictMode=e$1;reactIs_production_min$1.Suspense=m$1;reactIs_production_min$1.SuspenseList=n$1;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function($){return v$1($)===h$1};reactIs_production_min$1.isContextProvider=function($){return v$1($)===g$1};reactIs_production_min$1.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===b$1};reactIs_production_min$1.isForwardRef=function($){return v$1($)===l$1};reactIs_production_min$1.isFragment=function($){return v$1($)===d$1};reactIs_production_min$1.isLazy=function($){return v$1($)===q$1};reactIs_production_min$1.isMemo=function($){return v$1($)===p$2};reactIs_production_min$1.isPortal=function($){return v$1($)===c$1};reactIs_production_min$1.isProfiler=function($){return v$1($)===f$1};reactIs_production_min$1.isStrictMode=function($){return v$1($)===e$1};reactIs_production_min$1.isSuspense=function($){return v$1($)===m$1};reactIs_production_min$1.isSuspenseList=function($){return v$1($)===n$1};reactIs_production_min$1.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===d$1||$===f$1||$===e$1||$===m$1||$===n$1||$===t$1||typeof $=="object"&&$!==null&&($.$$typeof===q$1||$.$$typeof===p$2||$.$$typeof===g$1||$.$$typeof===h$1||$.$$typeof===l$1||$.$$typeof===u$1||$.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$1;reactIs.exports=reactIs_production_min$1;var reactIsExports=reactIs.exports;const fnNameMatchRegex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function getFunctionName($){const o=`${$}`.match(fnNameMatchRegex);return o&&o[1]||""}function getFunctionComponentName($,o=""){return $.displayName||$.name||getFunctionName($)||o}function getWrappedName($,o,a){const j=getFunctionComponentName(o);return $.displayName||(j!==""?`${a}(${j})`:a)}function getDisplayName$1($){if($!=null){if(typeof $=="string")return $;if(typeof $=="function")return getFunctionComponentName($,"Component");if(typeof $=="object")switch($.$$typeof){case reactIsExports.ForwardRef:return getWrappedName($,$.render,"ForwardRef");case reactIsExports.Memo:return getWrappedName($,$.type,"memo");default:return}}}const getDisplayName=Object.freeze(Object.defineProperty({__proto__:null,default:getDisplayName$1,getFunctionName},Symbol.toStringTag,{value:"Module"})),_excluded$D=["ownerState"],_excluded2$4=["variants"],_excluded3$2=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty$3($){return Object.keys($).length===0}function isStringTag$1($){return typeof $=="string"&&$.charCodeAt(0)>96}function shouldForwardProp$1($){return $!=="ownerState"&&$!=="theme"&&$!=="sx"&&$!=="as"}const systemDefaultTheme$1=createTheme$2(),lowercaseFirstLetter$1=$=>$&&$.charAt(0).toLowerCase()+$.slice(1);function resolveTheme$1({defaultTheme:$,theme:o,themeId:a}){return isEmpty$3(o)?$:o[a]||o}function defaultOverridesResolver$1($){return $?(o,a)=>a[$]:null}function processStyleArg$1($,o){let{ownerState:a}=o,j=_objectWithoutPropertiesLoose(o,_excluded$D);const _e=typeof $=="function"?$(_extends$2({ownerState:a},j)):$;if(Array.isArray(_e))return _e.flatMap(et=>processStyleArg$1(et,_extends$2({ownerState:a},j)));if(_e&&typeof _e=="object"&&Array.isArray(_e.variants)){const{variants:et=[]}=_e;let rt=_objectWithoutPropertiesLoose(_e,_excluded2$4);return et.forEach(nt=>{let it=!0;typeof nt.props=="function"?it=nt.props(_extends$2({ownerState:a},j,a)):Object.keys(nt.props).forEach(ot=>{(a==null?void 0:a[ot])!==nt.props[ot]&&j[ot]!==nt.props[ot]&&(it=!1)}),it&&(Array.isArray(rt)||(rt=[rt]),rt.push(typeof nt.style=="function"?nt.style(_extends$2({ownerState:a},j,a)):nt.style))}),rt}return _e}function createStyled$2($={}){const{themeId:o,defaultTheme:a=systemDefaultTheme$1,rootShouldForwardProp:j=shouldForwardProp$1,slotShouldForwardProp:_e=shouldForwardProp$1}=$,et=tt=>styleFunctionSx$2(_extends$2({},tt,{theme:resolveTheme$1(_extends$2({},tt,{defaultTheme:a,themeId:o}))}));return et.__mui_systemSx=!0,(tt,rt={})=>{internal_processStyles(tt,wt=>wt.filter(Mt=>!(Mt!=null&&Mt.__mui_systemSx)));const{name:nt,slot:it,skipVariantsResolver:ot,skipSx:st,overridesResolver:ct=defaultOverridesResolver$1(lowercaseFirstLetter$1(it))}=rt,ut=_objectWithoutPropertiesLoose(rt,_excluded3$2),dt=ot!==void 0?ot:it&&it!=="Root"&&it!=="root"||!1,ft=st||!1;let ht,pt=shouldForwardProp$1;it==="Root"||it==="root"?pt=j:it?pt=_e:isStringTag$1(tt)&&(pt=void 0);const yt=styled$3(tt,_extends$2({shouldForwardProp:pt,label:ht},ut)),gt=wt=>typeof wt=="function"&&wt.__emotion_real!==wt||isPlainObject(wt)?Mt=>processStyleArg$1(wt,_extends$2({},Mt,{theme:resolveTheme$1({theme:Mt.theme,defaultTheme:a,themeId:o})})):wt,xt=(wt,...Mt)=>{let It=gt(wt);const Tt=Mt?Mt.map(gt):[];nt&&ct&&Tt.push(jt=>{const Xt=resolveTheme$1(_extends$2({},jt,{defaultTheme:a,themeId:o}));if(!Xt.components||!Xt.components[nt]||!Xt.components[nt].styleOverrides)return null;const kt=Xt.components[nt].styleOverrides,vt={};return Object.entries(kt).forEach(([Et,Lt])=>{vt[Et]=processStyleArg$1(Lt,_extends$2({},jt,{theme:Xt}))}),ct(jt,vt)}),nt&&!dt&&Tt.push(jt=>{var Xt;const kt=resolveTheme$1(_extends$2({},jt,{defaultTheme:a,themeId:o})),vt=kt==null||(Xt=kt.components)==null||(Xt=Xt[nt])==null?void 0:Xt.variants;return processStyleArg$1({variants:vt},_extends$2({},jt,{theme:kt}))}),ft||Tt.push(et);const Dt=Tt.length-Mt.length;if(Array.isArray(wt)&&Dt>0){const jt=new Array(Dt).fill("");It=[...wt,...jt],It.raw=[...wt.raw,...jt]}const Ut=yt(It,...Tt);return tt.muiName&&(Ut.muiName=tt.muiName),Ut};return yt.withConfig&&(xt.withConfig=yt.withConfig),xt}}const styled$2=createStyled$2(),systemStyled=styled$2;function resolveProps($,o){const a=_extends$2({},o);return Object.keys($).forEach(j=>{if(j.toString().match(/^(components|slots)$/))a[j]=_extends$2({},$[j],a[j]);else if(j.toString().match(/^(componentsProps|slotProps)$/)){const _e=$[j]||{},et=o[j];a[j]={},!et||!Object.keys(et)?a[j]=_e:!_e||!Object.keys(_e)?a[j]=et:(a[j]=_extends$2({},et),Object.keys(_e).forEach(tt=>{a[j][tt]=resolveProps(_e[tt],et[tt])}))}else a[j]===void 0&&(a[j]=$[j])}),a}function getThemeProps($){const{theme:o,name:a,props:j}=$;return!o||!o.components||!o.components[a]||!o.components[a].defaultProps?j:resolveProps(o.components[a].defaultProps,j)}function useThemeProps$1({props:$,name:o,defaultTheme:a,themeId:j}){let _e=useTheme$1(a);return j&&(_e=_e[j]||_e),getThemeProps({theme:_e,name:o,props:$})}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;function clamp$2($,o=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER){return Math.max(o,Math.min($,a))}const clamp$1=Object.freeze(Object.defineProperty({__proto__:null,default:clamp$2},Symbol.toStringTag,{value:"Module"}));function createChainedFunction(...$){return $.reduce((o,a)=>a==null?o:function(..._e){o.apply(this,_e),a.apply(this,_e)},()=>{})}function debounce$1($,o=166){let a;function j(..._e){const et=()=>{$.apply(this,_e)};clearTimeout(a),a=setTimeout(et,o)}return j.clear=()=>{clearTimeout(a)},j}function isMuiElement($,o){var a,j;return reactExports.isValidElement($)&&o.indexOf((a=$.type.muiName)!=null?a:(j=$.type)==null||(j=j._payload)==null||(j=j.value)==null?void 0:j.muiName)!==-1}function ownerDocument($){return $&&$.ownerDocument||document}function ownerWindow($){return ownerDocument($).defaultView||window}function setRef($,o){typeof $=="function"?$(o):$&&($.current=o)}let globalId=0;function useGlobalId($){const[o,a]=reactExports.useState($),j=$||o;return reactExports.useEffect(()=>{o==null&&(globalId+=1,a(`mui-${globalId}`))},[o]),j}const maybeReactUseId=React$2["useId".toString()];function useId($){if(maybeReactUseId!==void 0){const o=maybeReactUseId();return $??o}return useGlobalId($)}function useControlled({controlled:$,default:o,name:a,state:j="value"}){const{current:_e}=reactExports.useRef($!==void 0),[et,tt]=reactExports.useState(o),rt=_e?$:et,nt=reactExports.useCallback(it=>{_e||tt(it)},[]);return[rt,nt]}function useEventCallback($){const o=reactExports.useRef($);return useEnhancedEffect$1(()=>{o.current=$}),reactExports.useRef((...a)=>(0,o.current)(...a)).current}function useForkRef(...$){return reactExports.useMemo(()=>$.every(o=>o==null)?null:o=>{$.forEach(a=>{setRef(a,o)})},$)}const UNINITIALIZED={};function useLazyRef($,o){const a=reactExports.useRef(UNINITIALIZED);return a.current===UNINITIALIZED&&(a.current=$(o)),a}const EMPTY=[];function useOnMount($){reactExports.useEffect($,EMPTY)}class Timeout{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Timeout}start(o,a){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,a()},o)}}function useTimeout(){const $=useLazyRef(Timeout.create).current;return useOnMount($.disposeEffect),$}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1;const hadFocusVisibleRecentlyTimeout=new Timeout,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality($){const{type:o,tagName:a}=$;return!!(a==="INPUT"&&inputTypesWhitelist[o]&&!$.readOnly||a==="TEXTAREA"&&!$.readOnly||$.isContentEditable)}function handleKeyDown($){$.metaKey||$.altKey||$.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare$2($){$.addEventListener("keydown",handleKeyDown,!0),$.addEventListener("mousedown",handlePointerDown,!0),$.addEventListener("pointerdown",handlePointerDown,!0),$.addEventListener("touchstart",handlePointerDown,!0),$.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible($){const{target:o}=$;try{return o.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(o)}function useIsFocusVisible(){const $=reactExports.useCallback(_e=>{_e!=null&&prepare$2(_e.ownerDocument)},[]),o=reactExports.useRef(!1);function a(){return o.current?(hadFocusVisibleRecently=!0,hadFocusVisibleRecentlyTimeout.start(100,()=>{hadFocusVisibleRecently=!1}),o.current=!1,!0):!1}function j(_e){return isFocusVisible(_e)?(o.current=!0,!0):!1}return{isFocusVisibleRef:o,onFocus:j,onBlur:a,ref:$}}function getScrollbarSize($){const o=$.documentElement.clientWidth;return Math.abs(window.innerWidth-o)}function composeClasses($,o,a=void 0){const j={};return Object.keys($).forEach(_e=>{j[_e]=$[_e].reduce((et,tt)=>{if(tt){const rt=o(tt);rt!==""&&et.push(rt),a&&a[tt]&&et.push(a[tt])}return et},[]).join(" ")}),j}const RtlContext=reactExports.createContext(),useRtl=()=>{const $=reactExports.useContext(RtlContext);return $??!1},_excluded$C=["component","direction","spacing","divider","children","className","useFlexGap"],defaultTheme$2=createTheme$2(),defaultCreateStyledComponent=systemStyled("div",{name:"MuiStack",slot:"Root",overridesResolver:($,o)=>o.root});function useThemePropsDefault($){return useThemeProps$1({props:$,name:"MuiStack",defaultTheme:defaultTheme$2})}function joinChildren($,o){const a=reactExports.Children.toArray($).filter(Boolean);return a.reduce((j,_e,et)=>(j.push(_e),et<a.length-1&&j.push(reactExports.cloneElement(o,{key:`separator-${et}`})),j),[])}const getSideFromDirection=$=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[$],style=({ownerState:$,theme:o})=>{let a=_extends$2({display:"flex",flexDirection:"column"},handleBreakpoints({theme:o},resolveBreakpointValues({values:$.direction,breakpoints:o.breakpoints.values}),j=>({flexDirection:j})));if($.spacing){const j=createUnarySpacing(o),_e=Object.keys(o.breakpoints.values).reduce((nt,it)=>((typeof $.spacing=="object"&&$.spacing[it]!=null||typeof $.direction=="object"&&$.direction[it]!=null)&&(nt[it]=!0),nt),{}),et=resolveBreakpointValues({values:$.direction,base:_e}),tt=resolveBreakpointValues({values:$.spacing,base:_e});typeof et=="object"&&Object.keys(et).forEach((nt,it,ot)=>{if(!et[nt]){const ct=it>0?et[ot[it-1]]:"column";et[nt]=ct}}),a=deepmerge$1(a,handleBreakpoints({theme:o},tt,(nt,it)=>$.useFlexGap?{gap:getValue(j,nt)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${getSideFromDirection(it?et[it]:$.direction)}`]:getValue(j,nt)}}))}return a=mergeBreakpointsInOrder(o.breakpoints,a),a};function createStack($={}){const{createStyledComponent:o=defaultCreateStyledComponent,useThemeProps:a=useThemePropsDefault,componentName:j="MuiStack"}=$,_e=()=>composeClasses({root:["root"]},nt=>generateUtilityClass(j,nt),{}),et=o(style);return reactExports.forwardRef(function(nt,it){const ot=a(nt),st=extendSxProp(ot),{component:ct="div",direction:ut="column",spacing:dt=0,divider:ft,children:ht,className:pt,useFlexGap:yt=!1}=st,gt=_objectWithoutPropertiesLoose(st,_excluded$C),xt={direction:ut,spacing:dt,useFlexGap:yt},wt=_e();return jsx(et,_extends$2({as:ct,ownerState:xt,ref:it,className:clsx(wt.root,pt)},gt,{children:ft?joinChildren(ht,ft):ht}))})}function createMixins($,o){return _extends$2({toolbar:{minHeight:56,[$.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[$.up("sm")]:{minHeight:64}}},o)}var colorManipulator={},interopRequireDefault={exports:{}};(function($){function o(a){return a&&a.__esModule?a:{default:a}}$.exports=o,$.exports.__esModule=!0,$.exports.default=$.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports;const require$$1$3=getAugmentedNamespace(formatMuiErrorMessage),require$$2=getAugmentedNamespace(clamp$1);var _interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(colorManipulator,"__esModule",{value:!0});var alpha_1=colorManipulator.alpha=alpha;colorManipulator.blend=blend;colorManipulator.colorChannel=void 0;var darken_1=colorManipulator.darken=darken;colorManipulator.decomposeColor=decomposeColor;colorManipulator.emphasize=emphasize;var getContrastRatio_1=colorManipulator.getContrastRatio=getContrastRatio;colorManipulator.getLuminance=getLuminance;colorManipulator.hexToRgb=hexToRgb;colorManipulator.hslToRgb=hslToRgb;var lighten_1=colorManipulator.lighten=lighten;colorManipulator.private_safeAlpha=private_safeAlpha;colorManipulator.private_safeColorChannel=void 0;colorManipulator.private_safeDarken=private_safeDarken;colorManipulator.private_safeEmphasize=private_safeEmphasize;colorManipulator.private_safeLighten=private_safeLighten;colorManipulator.recomposeColor=recomposeColor;colorManipulator.rgbToHex=rgbToHex;var _formatMuiErrorMessage2=_interopRequireDefault$1(require$$1$3),_clamp=_interopRequireDefault$1(require$$2);function clampWrapper($,o=0,a=1){return(0,_clamp.default)($,o,a)}function hexToRgb($){$=$.slice(1);const o=new RegExp(`.{1,${$.length>=6?2:1}}`,"g");let a=$.match(o);return a&&a[0].length===1&&(a=a.map(j=>j+j)),a?`rgb${a.length===4?"a":""}(${a.map((j,_e)=>_e<3?parseInt(j,16):Math.round(parseInt(j,16)/255*1e3)/1e3).join(", ")})`:""}function intToHex($){const o=$.toString(16);return o.length===1?`0${o}`:o}function decomposeColor($){if($.type)return $;if($.charAt(0)==="#")return decomposeColor(hexToRgb($));const o=$.indexOf("("),a=$.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(a)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(9,$));let j=$.substring(o+1,$.length-1),_e;if(a==="color"){if(j=j.split(" "),_e=j.shift(),j.length===4&&j[3].charAt(0)==="/"&&(j[3]=j[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(_e)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(10,_e))}else j=j.split(",");return j=j.map(et=>parseFloat(et)),{type:a,values:j,colorSpace:_e}}const colorChannel=$=>{const o=decomposeColor($);return o.values.slice(0,3).map((a,j)=>o.type.indexOf("hsl")!==-1&&j!==0?`${a}%`:a).join(" ")};colorManipulator.colorChannel=colorChannel;const private_safeColorChannel=($,o)=>{try{return colorChannel($)}catch{return $}};colorManipulator.private_safeColorChannel=private_safeColorChannel;function recomposeColor($){const{type:o,colorSpace:a}=$;let{values:j}=$;return o.indexOf("rgb")!==-1?j=j.map((_e,et)=>et<3?parseInt(_e,10):_e):o.indexOf("hsl")!==-1&&(j[1]=`${j[1]}%`,j[2]=`${j[2]}%`),o.indexOf("color")!==-1?j=`${a} ${j.join(" ")}`:j=`${j.join(", ")}`,`${o}(${j})`}function rgbToHex($){if($.indexOf("#")===0)return $;const{values:o}=decomposeColor($);return`#${o.map((a,j)=>intToHex(j===3?Math.round(255*a):a)).join("")}`}function hslToRgb($){$=decomposeColor($);const{values:o}=$,a=o[0],j=o[1]/100,_e=o[2]/100,et=j*Math.min(_e,1-_e),tt=(it,ot=(it+a/30)%12)=>_e-et*Math.max(Math.min(ot-3,9-ot,1),-1);let rt="rgb";const nt=[Math.round(tt(0)*255),Math.round(tt(8)*255),Math.round(tt(4)*255)];return $.type==="hsla"&&(rt+="a",nt.push(o[3])),recomposeColor({type:rt,values:nt})}function getLuminance($){$=decomposeColor($);let o=$.type==="hsl"||$.type==="hsla"?decomposeColor(hslToRgb($)).values:$.values;return o=o.map(a=>($.type!=="color"&&(a/=255),a<=.03928?a/12.92:((a+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio($,o){const a=getLuminance($),j=getLuminance(o);return(Math.max(a,j)+.05)/(Math.min(a,j)+.05)}function alpha($,o){return $=decomposeColor($),o=clampWrapper(o),($.type==="rgb"||$.type==="hsl")&&($.type+="a"),$.type==="color"?$.values[3]=`/${o}`:$.values[3]=o,recomposeColor($)}function private_safeAlpha($,o,a){try{return alpha($,o)}catch{return $}}function darken($,o){if($=decomposeColor($),o=clampWrapper(o),$.type.indexOf("hsl")!==-1)$.values[2]*=1-o;else if($.type.indexOf("rgb")!==-1||$.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)$.values[a]*=1-o;return recomposeColor($)}function private_safeDarken($,o,a){try{return darken($,o)}catch{return $}}function lighten($,o){if($=decomposeColor($),o=clampWrapper(o),$.type.indexOf("hsl")!==-1)$.values[2]+=(100-$.values[2])*o;else if($.type.indexOf("rgb")!==-1)for(let a=0;a<3;a+=1)$.values[a]+=(255-$.values[a])*o;else if($.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)$.values[a]+=(1-$.values[a])*o;return recomposeColor($)}function private_safeLighten($,o,a){try{return lighten($,o)}catch{return $}}function emphasize($,o=.15){return getLuminance($)>.5?darken($,o):lighten($,o)}function private_safeEmphasize($,o,a){try{return emphasize($,o)}catch{return $}}function blend($,o,a,j=1){const _e=(nt,it)=>Math.round((nt**(1/j)*(1-a)+it**(1/j)*a)**j),et=decomposeColor($),tt=decomposeColor(o),rt=[_e(et.values[0],tt.values[0]),_e(et.values[1],tt.values[1]),_e(et.values[2],tt.values[2])];return recomposeColor({type:"rgb",values:rt})}const _excluded$B=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$2.white,default:common$2.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$2.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$2.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark($,o,a,j){const _e=j.light||j,et=j.dark||j*1.5;$[o]||($.hasOwnProperty(a)?$[o]=$[a]:o==="light"?$.light=lighten_1($.main,_e):o==="dark"&&($.dark=darken_1($.main,et)))}function getDefaultPrimary($="light"){return $==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary($="light"){return $==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError($="light"){return $==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo($="light"){return $==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess($="light"){return $==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning($="light"){return $==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette($){const{mode:o="light",contrastThreshold:a=3,tonalOffset:j=.2}=$,_e=_objectWithoutPropertiesLoose($,_excluded$B),et=$.primary||getDefaultPrimary(o),tt=$.secondary||getDefaultSecondary(o),rt=$.error||getDefaultError(o),nt=$.info||getDefaultInfo(o),it=$.success||getDefaultSuccess(o),ot=$.warning||getDefaultWarning(o);function st(ft){return getContrastRatio_1(ft,dark.text.primary)>=a?dark.text.primary:light.text.primary}const ct=({color:ft,name:ht,mainShade:pt=500,lightShade:yt=300,darkShade:gt=700})=>{if(ft=_extends$2({},ft),!ft.main&&ft[pt]&&(ft.main=ft[pt]),!ft.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage$1(11,ht?` (${ht})`:"",pt));if(typeof ft.main!="string")throw new Error(formatMuiErrorMessage$1(12,ht?` (${ht})`:"",JSON.stringify(ft.main)));return addLightOrDark(ft,"light",yt,j),addLightOrDark(ft,"dark",gt,j),ft.contrastText||(ft.contrastText=st(ft.main)),ft},ut={dark,light};return deepmerge$1(_extends$2({common:_extends$2({},common$2),mode:o,primary:ct({color:et,name:"primary"}),secondary:ct({color:tt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ct({color:rt,name:"error"}),warning:ct({color:ot,name:"warning"}),info:ct({color:nt,name:"info"}),success:ct({color:it,name:"success"}),grey:grey$1,contrastThreshold:a,getContrastText:st,augmentColor:ct,tonalOffset:j},ut[o]),_e)}const _excluded$A=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round($){return Math.round($*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography($,o){const a=typeof o=="function"?o($):o,{fontFamily:j=defaultFontFamily,fontSize:_e=14,fontWeightLight:et=300,fontWeightRegular:tt=400,fontWeightMedium:rt=500,fontWeightBold:nt=700,htmlFontSize:it=16,allVariants:ot,pxToRem:st}=a,ct=_objectWithoutPropertiesLoose(a,_excluded$A),ut=_e/14,dt=st||(pt=>`${pt/it*ut}rem`),ft=(pt,yt,gt,xt,wt)=>_extends$2({fontFamily:j,fontWeight:pt,fontSize:dt(yt),lineHeight:gt},j===defaultFontFamily?{letterSpacing:`${round(xt/yt)}em`}:{},wt,ot),ht={h1:ft(et,96,1.167,-1.5),h2:ft(et,60,1.2,-.5),h3:ft(tt,48,1.167,0),h4:ft(tt,34,1.235,.25),h5:ft(tt,24,1.334,0),h6:ft(rt,20,1.6,.15),subtitle1:ft(tt,16,1.75,.15),subtitle2:ft(rt,14,1.57,.1),body1:ft(tt,16,1.5,.15),body2:ft(tt,14,1.43,.15),button:ft(rt,14,1.75,.4,caseAllCaps),caption:ft(tt,12,1.66,.4),overline:ft(tt,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge$1(_extends$2({htmlFontSize:it,pxToRem:dt,fontFamily:j,fontSize:_e,fontWeightLight:et,fontWeightRegular:tt,fontWeightMedium:rt,fontWeightBold:nt},ht),ct,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...$){return[`${$[0]}px ${$[1]}px ${$[2]}px ${$[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${$[4]}px ${$[5]}px ${$[6]}px ${$[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${$[8]}px ${$[9]}px ${$[10]}px ${$[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$z=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs($){return`${Math.round($)}ms`}function getAutoHeightDuration($){if(!$)return 0;const o=$/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions($){const o=_extends$2({},easing,$.easing),a=_extends$2({},duration,$.duration);return _extends$2({getAutoHeightDuration,create:(_e=["all"],et={})=>{const{duration:tt=a.standard,easing:rt=o.easeInOut,delay:nt=0}=et;return _objectWithoutPropertiesLoose(et,_excluded$z),(Array.isArray(_e)?_e:[_e]).map(it=>`${it} ${typeof tt=="string"?tt:formatMs(tt)} ${rt} ${typeof nt=="string"?nt:formatMs(nt)}`).join(",")}},$,{easing:o,duration:a})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$y=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme($={},...o){const{mixins:a={},palette:j={},transitions:_e={},typography:et={}}=$,tt=_objectWithoutPropertiesLoose($,_excluded$y);if($.vars)throw new Error(formatMuiErrorMessage$1(18));const rt=createPalette(j),nt=createTheme$2($);let it=deepmerge$1(nt,{mixins:createMixins(nt.breakpoints,a),palette:rt,shadows:shadows$1.slice(),typography:createTypography(rt,et),transitions:createTransitions(_e),zIndex:_extends$2({},zIndex$1)});return it=deepmerge$1(it,tt),it=o.reduce((ot,st)=>deepmerge$1(ot,st),it),it.unstable_sxConfig=_extends$2({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),it.unstable_sx=function(st){return styleFunctionSx$2({sx:st,theme:this})},it}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme;function useTheme(){const $=useTheme$1(defaultTheme$1);return $[THEME_ID]||$}function useThemeProps({props:$,name:o}){return useThemeProps$1({props:$,name:o,defaultTheme:defaultTheme$1,themeId:THEME_ID})}var createStyled$1={},objectWithoutPropertiesLoose={exports:{}},hasRequiredObjectWithoutPropertiesLoose;function requireObjectWithoutPropertiesLoose(){return hasRequiredObjectWithoutPropertiesLoose||(hasRequiredObjectWithoutPropertiesLoose=1,function($){function o(a,j){if(a==null)return{};var _e={},et=Object.keys(a),tt,rt;for(rt=0;rt<et.length;rt++)tt=et[rt],!(j.indexOf(tt)>=0)&&(_e[tt]=a[tt]);return _e}$.exports=o,$.exports.__esModule=!0,$.exports.default=$.exports}(objectWithoutPropertiesLoose)),objectWithoutPropertiesLoose.exports}const require$$1$2=getAugmentedNamespace(styledEngine),require$$4=getAugmentedNamespace(deepmerge),require$$5=getAugmentedNamespace(capitalize),require$$6=getAugmentedNamespace(getDisplayName),require$$7=getAugmentedNamespace(createTheme$1),require$$8=getAugmentedNamespace(styleFunctionSx);var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(createStyled$1,"__esModule",{value:!0});var _default=createStyled$1.default=createStyled;createStyled$1.shouldForwardProp=shouldForwardProp;createStyled$1.systemDefaultTheme=void 0;var _extends2=_interopRequireDefault(require_extends()),_objectWithoutPropertiesLoose2=_interopRequireDefault(requireObjectWithoutPropertiesLoose()),_styledEngine=_interopRequireWildcard(require$$1$2),_deepmerge=require$$4;_interopRequireDefault(require$$5);_interopRequireDefault(require$$6);var _createTheme=_interopRequireDefault(require$$7),_styleFunctionSx=_interopRequireDefault(require$$8);const _excluded$x=["ownerState"],_excluded2$3=["variants"],_excluded3$1=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _getRequireWildcardCache($){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(j){return j?a:o})($)}function _interopRequireWildcard($,o){if(!o&&$&&$.__esModule)return $;if($===null||typeof $!="object"&&typeof $!="function")return{default:$};var a=_getRequireWildcardCache(o);if(a&&a.has($))return a.get($);var j={__proto__:null},_e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var et in $)if(et!=="default"&&Object.prototype.hasOwnProperty.call($,et)){var tt=_e?Object.getOwnPropertyDescriptor($,et):null;tt&&(tt.get||tt.set)?Object.defineProperty(j,et,tt):j[et]=$[et]}return j.default=$,a&&a.set($,j),j}function isEmpty$2($){return Object.keys($).length===0}function isStringTag($){return typeof $=="string"&&$.charCodeAt(0)>96}function shouldForwardProp($){return $!=="ownerState"&&$!=="theme"&&$!=="sx"&&$!=="as"}const systemDefaultTheme=createStyled$1.systemDefaultTheme=(0,_createTheme.default)(),lowercaseFirstLetter=$=>$&&$.charAt(0).toLowerCase()+$.slice(1);function resolveTheme({defaultTheme:$,theme:o,themeId:a}){return isEmpty$2(o)?$:o[a]||o}function defaultOverridesResolver($){return $?(o,a)=>a[$]:null}function processStyleArg($,o){let{ownerState:a}=o,j=(0,_objectWithoutPropertiesLoose2.default)(o,_excluded$x);const _e=typeof $=="function"?$((0,_extends2.default)({ownerState:a},j)):$;if(Array.isArray(_e))return _e.flatMap(et=>processStyleArg(et,(0,_extends2.default)({ownerState:a},j)));if(_e&&typeof _e=="object"&&Array.isArray(_e.variants)){const{variants:et=[]}=_e;let rt=(0,_objectWithoutPropertiesLoose2.default)(_e,_excluded2$3);return et.forEach(nt=>{let it=!0;typeof nt.props=="function"?it=nt.props((0,_extends2.default)({ownerState:a},j,a)):Object.keys(nt.props).forEach(ot=>{(a==null?void 0:a[ot])!==nt.props[ot]&&j[ot]!==nt.props[ot]&&(it=!1)}),it&&(Array.isArray(rt)||(rt=[rt]),rt.push(typeof nt.style=="function"?nt.style((0,_extends2.default)({ownerState:a},j,a)):nt.style))}),rt}return _e}function createStyled($={}){const{themeId:o,defaultTheme:a=systemDefaultTheme,rootShouldForwardProp:j=shouldForwardProp,slotShouldForwardProp:_e=shouldForwardProp}=$,et=tt=>(0,_styleFunctionSx.default)((0,_extends2.default)({},tt,{theme:resolveTheme((0,_extends2.default)({},tt,{defaultTheme:a,themeId:o}))}));return et.__mui_systemSx=!0,(tt,rt={})=>{(0,_styledEngine.internal_processStyles)(tt,wt=>wt.filter(Mt=>!(Mt!=null&&Mt.__mui_systemSx)));const{name:nt,slot:it,skipVariantsResolver:ot,skipSx:st,overridesResolver:ct=defaultOverridesResolver(lowercaseFirstLetter(it))}=rt,ut=(0,_objectWithoutPropertiesLoose2.default)(rt,_excluded3$1),dt=ot!==void 0?ot:it&&it!=="Root"&&it!=="root"||!1,ft=st||!1;let ht,pt=shouldForwardProp;it==="Root"||it==="root"?pt=j:it?pt=_e:isStringTag(tt)&&(pt=void 0);const yt=(0,_styledEngine.default)(tt,(0,_extends2.default)({shouldForwardProp:pt,label:ht},ut)),gt=wt=>typeof wt=="function"&&wt.__emotion_real!==wt||(0,_deepmerge.isPlainObject)(wt)?Mt=>processStyleArg(wt,(0,_extends2.default)({},Mt,{theme:resolveTheme({theme:Mt.theme,defaultTheme:a,themeId:o})})):wt,xt=(wt,...Mt)=>{let It=gt(wt);const Tt=Mt?Mt.map(gt):[];nt&&ct&&Tt.push(jt=>{const Xt=resolveTheme((0,_extends2.default)({},jt,{defaultTheme:a,themeId:o}));if(!Xt.components||!Xt.components[nt]||!Xt.components[nt].styleOverrides)return null;const kt=Xt.components[nt].styleOverrides,vt={};return Object.entries(kt).forEach(([Et,Lt])=>{vt[Et]=processStyleArg(Lt,(0,_extends2.default)({},jt,{theme:Xt}))}),ct(jt,vt)}),nt&&!dt&&Tt.push(jt=>{var Xt;const kt=resolveTheme((0,_extends2.default)({},jt,{defaultTheme:a,themeId:o})),vt=kt==null||(Xt=kt.components)==null||(Xt=Xt[nt])==null?void 0:Xt.variants;return processStyleArg({variants:vt},(0,_extends2.default)({},jt,{theme:kt}))}),ft||Tt.push(et);const Dt=Tt.length-Mt.length;if(Array.isArray(wt)&&Dt>0){const jt=new Array(Dt).fill("");It=[...wt,...jt],It.raw=[...wt.raw,...jt]}const Ut=yt(It,...Tt);return tt.muiName&&(Ut.muiName=tt.muiName),Ut};return yt.withConfig&&(xt.withConfig=yt.withConfig),xt}}function slotShouldForwardProp($){return $!=="ownerState"&&$!=="theme"&&$!=="sx"&&$!=="as"}const rootShouldForwardProp=$=>slotShouldForwardProp($)&&$!=="classes",rootShouldForwardProp$1=rootShouldForwardProp,styled=_default({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp:rootShouldForwardProp$1}),styled$1=styled,getOverlayAlpha=$=>{let o;return $<1?o=5.11916*$**2:o=4.5*Math.log($+1)+2,(o/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function getSvgIconUtilityClass($){return generateUtilityClass("MuiSvgIcon",$)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$w=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$p=$=>{const{color:o,fontSize:a,classes:j}=$,_e={root:["root",o!=="inherit"&&`color${capitalize$1(o)}`,`fontSize${capitalize$1(a)}`]};return composeClasses(_e,getSvgIconUtilityClass,j)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,a.color!=="inherit"&&o[`color${capitalize$1(a.color)}`],o[`fontSize${capitalize$1(a.fontSize)}`]]}})(({theme:$,ownerState:o})=>{var a,j,_e,et,tt,rt,nt,it,ot,st,ct,ut,dt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(a=$.transitions)==null||(j=a.create)==null?void 0:j.call(a,"fill",{duration:(_e=$.transitions)==null||(_e=_e.duration)==null?void 0:_e.shorter}),fontSize:{inherit:"inherit",small:((et=$.typography)==null||(tt=et.pxToRem)==null?void 0:tt.call(et,20))||"1.25rem",medium:((rt=$.typography)==null||(nt=rt.pxToRem)==null?void 0:nt.call(rt,24))||"1.5rem",large:((it=$.typography)==null||(ot=it.pxToRem)==null?void 0:ot.call(it,35))||"2.1875rem"}[o.fontSize],color:(st=(ct=($.vars||$).palette)==null||(ct=ct[o.color])==null?void 0:ct.main)!=null?st:{action:(ut=($.vars||$).palette)==null||(ut=ut.action)==null?void 0:ut.active,disabled:(dt=($.vars||$).palette)==null||(dt=dt.action)==null?void 0:dt.disabled,inherit:void 0}[o.color]}}),SvgIcon=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiSvgIcon"}),{children:_e,className:et,color:tt="inherit",component:rt="svg",fontSize:nt="medium",htmlColor:it,inheritViewBox:ot=!1,titleAccess:st,viewBox:ct="0 0 24 24"}=j,ut=_objectWithoutPropertiesLoose(j,_excluded$w),dt=reactExports.isValidElement(_e)&&_e.type==="svg",ft=_extends$2({},j,{color:tt,component:rt,fontSize:nt,instanceFontSize:o.fontSize,inheritViewBox:ot,viewBox:ct,hasSvgAsChild:dt}),ht={};ot||(ht.viewBox=ct);const pt=useUtilityClasses$p(ft);return jsxs(SvgIconRoot,_extends$2({as:rt,className:clsx(pt.root,et),focusable:"false",color:it,"aria-hidden":st?void 0:!0,role:st?"img":void 0,ref:a},ht,ut,dt&&_e.props,{ownerState:ft,children:[dt?_e.props.children:_e,st?jsx("title",{children:st}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon($,o){function a(j,_e){return jsx(SvgIcon$1,_extends$2({"data-testid":`${o}Icon`,ref:_e},j,{children:$}))}return a.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(a))}var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v($){if(typeof $=="object"&&$!==null){var o=$.$$typeof;switch(o){case b:switch($=$.type,$){case d:case f:case e:case m:case n:return $;default:switch($=$&&$.$$typeof,$){case k:case h:case l:case q:case p$1:case g:return $;default:return o}}case c:return o}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p$1;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function($){return v($)===h};reactIs_production_min.isContextProvider=function($){return v($)===g};reactIs_production_min.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===b};reactIs_production_min.isForwardRef=function($){return v($)===l};reactIs_production_min.isFragment=function($){return v($)===d};reactIs_production_min.isLazy=function($){return v($)===q};reactIs_production_min.isMemo=function($){return v($)===p$1};reactIs_production_min.isPortal=function($){return v($)===c};reactIs_production_min.isProfiler=function($){return v($)===f};reactIs_production_min.isStrictMode=function($){return v($)===e};reactIs_production_min.isSuspense=function($){return v($)===m};reactIs_production_min.isSuspenseList=function($){return v($)===n};reactIs_production_min.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===d||$===f||$===e||$===m||$===n||$===t||typeof $=="object"&&$!==null&&($.$$typeof===q||$.$$typeof===p$1||$.$$typeof===g||$.$$typeof===h||$.$$typeof===l||$.$$typeof===u||$.getModuleId!==void 0)};reactIs_production_min.typeOf=v;function _setPrototypeOf($,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf($,o)}function _inheritsLoose$1($,o){$.prototype=Object.create(o.prototype),$.prototype.constructor=$,_setPrototypeOf($,o)}const config={disabled:!1},TransitionGroupContext=React$1.createContext(null);var forceReflow=function(o){return o.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function($){_inheritsLoose$1(o,$);function o(j,_e){var et;et=$.call(this,j,_e)||this;var tt=_e,rt=tt&&!tt.isMounting?j.enter:j.appear,nt;return et.appearStatus=null,j.in?rt?(nt=EXITED,et.appearStatus=ENTERING):nt=ENTERED:j.unmountOnExit||j.mountOnEnter?nt=UNMOUNTED:nt=EXITED,et.state={status:nt},et.nextCallback=null,et}o.getDerivedStateFromProps=function(_e,et){var tt=_e.in;return tt&&et.status===UNMOUNTED?{status:EXITED}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(_e){var et=null;if(_e!==this.props){var tt=this.state.status;this.props.in?tt!==ENTERING&&tt!==ENTERED&&(et=ENTERING):(tt===ENTERING||tt===ENTERED)&&(et=EXITING)}this.updateStatus(!1,et)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var _e=this.props.timeout,et,tt,rt;return et=tt=rt=_e,_e!=null&&typeof _e!="number"&&(et=_e.exit,tt=_e.enter,rt=_e.appear!==void 0?_e.appear:tt),{exit:et,enter:tt,appear:rt}},a.updateStatus=function(_e,et){if(_e===void 0&&(_e=!1),et!==null)if(this.cancelNextCallback(),et===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var tt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);tt&&forceReflow(tt)}this.performEnter(_e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},a.performEnter=function(_e){var et=this,tt=this.props.enter,rt=this.context?this.context.isMounting:_e,nt=this.props.nodeRef?[rt]:[ReactDOM.findDOMNode(this),rt],it=nt[0],ot=nt[1],st=this.getTimeouts(),ct=rt?st.appear:st.enter;if(!_e&&!tt||config.disabled){this.safeSetState({status:ENTERED},function(){et.props.onEntered(it)});return}this.props.onEnter(it,ot),this.safeSetState({status:ENTERING},function(){et.props.onEntering(it,ot),et.onTransitionEnd(ct,function(){et.safeSetState({status:ENTERED},function(){et.props.onEntered(it,ot)})})})},a.performExit=function(){var _e=this,et=this.props.exit,tt=this.getTimeouts(),rt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!et||config.disabled){this.safeSetState({status:EXITED},function(){_e.props.onExited(rt)});return}this.props.onExit(rt),this.safeSetState({status:EXITING},function(){_e.props.onExiting(rt),_e.onTransitionEnd(tt.exit,function(){_e.safeSetState({status:EXITED},function(){_e.props.onExited(rt)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(_e,et){et=this.setNextCallback(et),this.setState(_e,et)},a.setNextCallback=function(_e){var et=this,tt=!0;return this.nextCallback=function(rt){tt&&(tt=!1,et.nextCallback=null,_e(rt))},this.nextCallback.cancel=function(){tt=!1},this.nextCallback},a.onTransitionEnd=function(_e,et){this.setNextCallback(et);var tt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),rt=_e==null&&!this.props.addEndListener;if(!tt||rt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var nt=this.props.nodeRef?[this.nextCallback]:[tt,this.nextCallback],it=nt[0],ot=nt[1];this.props.addEndListener(it,ot)}_e!=null&&setTimeout(this.nextCallback,_e)},a.render=function(){var _e=this.state.status;if(_e===UNMOUNTED)return null;var et=this.props,tt=et.children;et.in,et.mountOnEnter,et.unmountOnExit,et.appear,et.enter,et.exit,et.timeout,et.addEndListener,et.onEnter,et.onEntering,et.onEntered,et.onExit,et.onExiting,et.onExited,et.nodeRef;var rt=_objectWithoutPropertiesLoose(et,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$1.createElement(TransitionGroupContext.Provider,{value:null},typeof tt=="function"?tt(_e,rt):React$1.cloneElement(React$1.Children.only(tt),rt))},o}(React$1.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$2(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$2,onEntering:noop$2,onEntered:noop$2,onExit:noop$2,onExiting:noop$2,onExited:noop$2};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function getChildMapping($,o){var a=function(et){return o&&reactExports.isValidElement(et)?o(et):et},j=Object.create(null);return $&&reactExports.Children.map($,function(_e){return _e}).forEach(function(_e){j[_e.key]=a(_e)}),j}function mergeChildMappings($,o){$=$||{},o=o||{};function a(ot){return ot in o?o[ot]:$[ot]}var j=Object.create(null),_e=[];for(var et in $)et in o?_e.length&&(j[et]=_e,_e=[]):_e.push(et);var tt,rt={};for(var nt in o){if(j[nt])for(tt=0;tt<j[nt].length;tt++){var it=j[nt][tt];rt[j[nt][tt]]=a(it)}rt[nt]=a(nt)}for(tt=0;tt<_e.length;tt++)rt[_e[tt]]=a(_e[tt]);return rt}function getProp($,o,a){return a[o]!=null?a[o]:$.props[o]}function getInitialChildMapping($,o){return getChildMapping($.children,function(a){return reactExports.cloneElement(a,{onExited:o.bind(null,a),in:!0,appear:getProp(a,"appear",$),enter:getProp(a,"enter",$),exit:getProp(a,"exit",$)})})}function getNextChildMapping($,o,a){var j=getChildMapping($.children),_e=mergeChildMappings(o,j);return Object.keys(_e).forEach(function(et){var tt=_e[et];if(reactExports.isValidElement(tt)){var rt=et in o,nt=et in j,it=o[et],ot=reactExports.isValidElement(it)&&!it.props.in;nt&&(!rt||ot)?_e[et]=reactExports.cloneElement(tt,{onExited:a.bind(null,tt),in:!0,exit:getProp(tt,"exit",$),enter:getProp(tt,"enter",$)}):!nt&&rt&&!ot?_e[et]=reactExports.cloneElement(tt,{in:!1}):nt&&rt&&reactExports.isValidElement(it)&&(_e[et]=reactExports.cloneElement(tt,{onExited:a.bind(null,tt),in:it.props.in,exit:getProp(tt,"exit",$),enter:getProp(tt,"enter",$)}))}}),_e}var values=Object.values||function($){return Object.keys($).map(function(o){return $[o]})},defaultProps={component:"div",childFactory:function(o){return o}},TransitionGroup=function($){_inheritsLoose$1(o,$);function o(j,_e){var et;et=$.call(this,j,_e)||this;var tt=et.handleExited.bind(_assertThisInitialized(et));return et.state={contextValue:{isMounting:!0},handleExited:tt,firstRender:!0},et}var a=o.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(_e,et){var tt=et.children,rt=et.handleExited,nt=et.firstRender;return{children:nt?getInitialChildMapping(_e,rt):getNextChildMapping(_e,tt,rt),firstRender:!1}},a.handleExited=function(_e,et){var tt=getChildMapping(this.props.children);_e.key in tt||(_e.props.onExited&&_e.props.onExited(et),this.mounted&&this.setState(function(rt){var nt=_extends$2({},rt.children);return delete nt[_e.key],{children:nt}}))},a.render=function(){var _e=this.props,et=_e.component,tt=_e.childFactory,rt=_objectWithoutPropertiesLoose(_e,["component","childFactory"]),nt=this.state.contextValue,it=values(this.state.children).map(tt);return delete rt.appear,delete rt.enter,delete rt.exit,et===null?React$1.createElement(TransitionGroupContext.Provider,{value:nt},it):React$1.createElement(TransitionGroupContext.Provider,{value:nt},React$1.createElement(et,rt,it))},o}(React$1.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=$=>$.scrollTop;function getTransitionProps($,o){var a,j;const{timeout:_e,easing:et,style:tt={}}=$;return{duration:(a=tt.transitionDuration)!=null?a:typeof _e=="number"?_e:_e[o.mode]||0,easing:(j=tt.transitionTimingFunction)!=null?j:typeof et=="object"?et[o.mode]:et,delay:tt.transitionDelay}}function getPaperUtilityClass($){return generateUtilityClass("MuiPaper",$)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$v=["className","component","elevation","square","variant"],useUtilityClasses$o=$=>{const{square:o,elevation:a,variant:j,classes:_e}=$,et={root:["root",j,!o&&"rounded",j==="elevation"&&`elevation${a}`]};return composeClasses(et,getPaperUtilityClass,_e)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,o[a.variant],!a.square&&o.rounded,a.variant==="elevation"&&o[`elevation${a.elevation}`]]}})(({theme:$,ownerState:o})=>{var a;return _extends$2({backgroundColor:($.vars||$).palette.background.paper,color:($.vars||$).palette.text.primary,transition:$.transitions.create("box-shadow")},!o.square&&{borderRadius:$.shape.borderRadius},o.variant==="outlined"&&{border:`1px solid ${($.vars||$).palette.divider}`},o.variant==="elevation"&&_extends$2({boxShadow:($.vars||$).shadows[o.elevation]},!$.vars&&$.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha_1("#fff",getOverlayAlpha$1(o.elevation))}, ${alpha_1("#fff",getOverlayAlpha$1(o.elevation))})`},$.vars&&{backgroundImage:(a=$.vars.overlays)==null?void 0:a[o.elevation]}))}),Paper=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiPaper"}),{className:_e,component:et="div",elevation:tt=1,square:rt=!1,variant:nt="elevation"}=j,it=_objectWithoutPropertiesLoose(j,_excluded$v),ot=_extends$2({},j,{component:et,elevation:tt,square:rt,variant:nt}),st=useUtilityClasses$o(ot);return jsx(PaperRoot,_extends$2({as:et,ownerState:ot,className:clsx(st.root,_e),ref:a},it))}),Paper$1=Paper;function isHostComponent($){return typeof $=="string"}function appendOwnerState($,o,a){return $===void 0||isHostComponent($)?o:_extends$2({},o,{ownerState:_extends$2({},o.ownerState,a)})}function extractEventHandlers($,o=[]){if($===void 0)return{};const a={};return Object.keys($).filter(j=>j.match(/^on[A-Z]/)&&typeof $[j]=="function"&&!o.includes(j)).forEach(j=>{a[j]=$[j]}),a}function resolveComponentProps($,o,a){return typeof $=="function"?$(o,a):$}function omitEventHandlers($){if($===void 0)return{};const o={};return Object.keys($).filter(a=>!(a.match(/^on[A-Z]/)&&typeof $[a]=="function")).forEach(a=>{o[a]=$[a]}),o}function mergeSlotProps($){const{getSlotProps:o,additionalProps:a,externalSlotProps:j,externalForwardedProps:_e,className:et}=$;if(!o){const ut=clsx(a==null?void 0:a.className,et,_e==null?void 0:_e.className,j==null?void 0:j.className),dt=_extends$2({},a==null?void 0:a.style,_e==null?void 0:_e.style,j==null?void 0:j.style),ft=_extends$2({},a,_e,j);return ut.length>0&&(ft.className=ut),Object.keys(dt).length>0&&(ft.style=dt),{props:ft,internalRef:void 0}}const tt=extractEventHandlers(_extends$2({},_e,j)),rt=omitEventHandlers(j),nt=omitEventHandlers(_e),it=o(tt),ot=clsx(it==null?void 0:it.className,a==null?void 0:a.className,et,_e==null?void 0:_e.className,j==null?void 0:j.className),st=_extends$2({},it==null?void 0:it.style,a==null?void 0:a.style,_e==null?void 0:_e.style,j==null?void 0:j.style),ct=_extends$2({},it,a,nt,rt);return ot.length>0&&(ct.className=ot),Object.keys(st).length>0&&(ct.style=st),{props:ct,internalRef:it.ref}}const _excluded$u=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps($){var o;const{elementType:a,externalSlotProps:j,ownerState:_e,skipResolvingSlotProps:et=!1}=$,tt=_objectWithoutPropertiesLoose($,_excluded$u),rt=et?{}:resolveComponentProps(j,_e),{props:nt,internalRef:it}=mergeSlotProps(_extends$2({},tt,{externalSlotProps:rt})),ot=useForkRef(it,rt==null?void 0:rt.ref,(o=$.additionalProps)==null?void 0:o.ref);return appendOwnerState(a,_extends$2({},nt,{ref:ot}),_e)}function Ripple($){const{className:o,classes:a,pulsate:j=!1,rippleX:_e,rippleY:et,rippleSize:tt,in:rt,onExited:nt,timeout:it}=$,[ot,st]=reactExports.useState(!1),ct=clsx(o,a.ripple,a.rippleVisible,j&&a.ripplePulsate),ut={width:tt,height:tt,top:-(tt/2)+et,left:-(tt/2)+_e},dt=clsx(a.child,ot&&a.childLeaving,j&&a.childPulsate);return!rt&&!ot&&st(!0),reactExports.useEffect(()=>{if(!rt&&nt!=null){const ft=setTimeout(nt,it);return()=>{clearTimeout(ft)}}},[nt,rt,it]),jsx("span",{className:ct,style:ut,children:jsx("span",{className:dt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$t=["center","classes","className"];let _=$=>$,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:$})=>$.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:$})=>$.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:$})=>$.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:$})=>$.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiTouchRipple"}),{center:_e=!1,classes:et={},className:tt}=j,rt=_objectWithoutPropertiesLoose(j,_excluded$t),[nt,it]=reactExports.useState([]),ot=reactExports.useRef(0),st=reactExports.useRef(null);reactExports.useEffect(()=>{st.current&&(st.current(),st.current=null)},[nt]);const ct=reactExports.useRef(!1),ut=useTimeout(),dt=reactExports.useRef(null),ft=reactExports.useRef(null),ht=reactExports.useCallback(xt=>{const{pulsate:wt,rippleX:Mt,rippleY:It,rippleSize:Tt,cb:Dt}=xt;it(Ut=>[...Ut,jsx(TouchRippleRipple,{classes:{ripple:clsx(et.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(et.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(et.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(et.child,touchRippleClasses$1.child),childLeaving:clsx(et.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(et.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:wt,rippleX:Mt,rippleY:It,rippleSize:Tt},ot.current)]),ot.current+=1,st.current=Dt},[et]),pt=reactExports.useCallback((xt={},wt={},Mt=()=>{})=>{const{pulsate:It=!1,center:Tt=_e||wt.pulsate,fakeElement:Dt=!1}=wt;if((xt==null?void 0:xt.type)==="mousedown"&&ct.current){ct.current=!1;return}(xt==null?void 0:xt.type)==="touchstart"&&(ct.current=!0);const Ut=Dt?null:ft.current,jt=Ut?Ut.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Xt,kt,vt;if(Tt||xt===void 0||xt.clientX===0&&xt.clientY===0||!xt.clientX&&!xt.touches)Xt=Math.round(jt.width/2),kt=Math.round(jt.height/2);else{const{clientX:Et,clientY:Lt}=xt.touches&&xt.touches.length>0?xt.touches[0]:xt;Xt=Math.round(Et-jt.left),kt=Math.round(Lt-jt.top)}if(Tt)vt=Math.sqrt((2*jt.width**2+jt.height**2)/3),vt%2===0&&(vt+=1);else{const Et=Math.max(Math.abs((Ut?Ut.clientWidth:0)-Xt),Xt)*2+2,Lt=Math.max(Math.abs((Ut?Ut.clientHeight:0)-kt),kt)*2+2;vt=Math.sqrt(Et**2+Lt**2)}xt!=null&&xt.touches?dt.current===null&&(dt.current=()=>{ht({pulsate:It,rippleX:Xt,rippleY:kt,rippleSize:vt,cb:Mt})},ut.start(DELAY_RIPPLE,()=>{dt.current&&(dt.current(),dt.current=null)})):ht({pulsate:It,rippleX:Xt,rippleY:kt,rippleSize:vt,cb:Mt})},[_e,ht,ut]),yt=reactExports.useCallback(()=>{pt({},{pulsate:!0})},[pt]),gt=reactExports.useCallback((xt,wt)=>{if(ut.clear(),(xt==null?void 0:xt.type)==="touchend"&&dt.current){dt.current(),dt.current=null,ut.start(0,()=>{gt(xt,wt)});return}dt.current=null,it(Mt=>Mt.length>0?Mt.slice(1):Mt),st.current=wt},[ut]);return reactExports.useImperativeHandle(a,()=>({pulsate:yt,start:pt,stop:gt}),[yt,pt,gt]),jsx(TouchRippleRoot,_extends$2({className:clsx(touchRippleClasses$1.root,et.root,tt),ref:ft},rt,{children:jsx(TransitionGroup$1,{component:null,exit:!0,children:nt})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass($){return generateUtilityClass("MuiButtonBase",$)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$s=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$n=$=>{const{disabled:o,focusVisible:a,focusVisibleClassName:j,classes:_e}=$,tt=composeClasses({root:["root",o&&"disabled",a&&"focusVisible"]},getButtonBaseUtilityClass,_e);return a&&j&&(tt.root+=` ${j}`),tt},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:($,o)=>o.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiButtonBase"}),{action:_e,centerRipple:et=!1,children:tt,className:rt,component:nt="button",disabled:it=!1,disableRipple:ot=!1,disableTouchRipple:st=!1,focusRipple:ct=!1,LinkComponent:ut="a",onBlur:dt,onClick:ft,onContextMenu:ht,onDragLeave:pt,onFocus:yt,onFocusVisible:gt,onKeyDown:xt,onKeyUp:wt,onMouseDown:Mt,onMouseLeave:It,onMouseUp:Tt,onTouchEnd:Dt,onTouchMove:Ut,onTouchStart:jt,tabIndex:Xt=0,TouchRippleProps:kt,touchRippleRef:vt,type:Et}=j,Lt=_objectWithoutPropertiesLoose(j,_excluded$s),Ot=reactExports.useRef(null),Pt=reactExports.useRef(null),zt=useForkRef(Pt,vt),{isFocusVisibleRef:Vt,onFocus:$t,onBlur:At,ref:Ht}=useIsFocusVisible(),[ar,Rt]=reactExports.useState(!1);it&&ar&&Rt(!1),reactExports.useImperativeHandle(_e,()=>({focusVisible:()=>{Rt(!0),Ot.current.focus()}}),[]);const[Zt,ir]=reactExports.useState(!1);reactExports.useEffect(()=>{ir(!0)},[]);const sr=Zt&&!ot&&!it;reactExports.useEffect(()=>{ar&&ct&&!ot&&Zt&&Pt.current.pulsate()},[ot,ct,ar,Zt]);function pr(Ct,Gt,Qt=st){return useEventCallback(rr=>(Gt&&Gt(rr),!Qt&&Pt.current&&Pt.current[Ct](rr),!0))}const _r=pr("start",Mt),fr=pr("stop",ht),nr=pr("stop",pt),lr=pr("stop",Tt),cr=pr("stop",Ct=>{ar&&Ct.preventDefault(),It&&It(Ct)}),Ar=pr("start",jt),kr=pr("stop",Dt),Dr=pr("stop",Ut),Lr=pr("stop",Ct=>{At(Ct),Vt.current===!1&&Rt(!1),dt&&dt(Ct)},!1),Ur=useEventCallback(Ct=>{Ot.current||(Ot.current=Ct.currentTarget),$t(Ct),Vt.current===!0&&(Rt(!0),gt&&gt(Ct)),yt&&yt(Ct)}),Or=()=>{const Ct=Ot.current;return nt&&nt!=="button"&&!(Ct.tagName==="A"&&Ct.href)},Nr=reactExports.useRef(!1),Jt=useEventCallback(Ct=>{ct&&!Nr.current&&ar&&Pt.current&&Ct.key===" "&&(Nr.current=!0,Pt.current.stop(Ct,()=>{Pt.current.start(Ct)})),Ct.target===Ct.currentTarget&&Or()&&Ct.key===" "&&Ct.preventDefault(),xt&&xt(Ct),Ct.target===Ct.currentTarget&&Or()&&Ct.key==="Enter"&&!it&&(Ct.preventDefault(),ft&&ft(Ct))}),Wt=useEventCallback(Ct=>{ct&&Ct.key===" "&&Pt.current&&ar&&!Ct.defaultPrevented&&(Nr.current=!1,Pt.current.stop(Ct,()=>{Pt.current.pulsate(Ct)})),wt&&wt(Ct),ft&&Ct.target===Ct.currentTarget&&Or()&&Ct.key===" "&&!Ct.defaultPrevented&&ft(Ct)});let ur=nt;ur==="button"&&(Lt.href||Lt.to)&&(ur=ut);const Pr={};ur==="button"?(Pr.type=Et===void 0?"button":Et,Pr.disabled=it):(!Lt.href&&!Lt.to&&(Pr.role="button"),it&&(Pr["aria-disabled"]=it));const Tr=useForkRef(a,Ht,Ot),Ft=_extends$2({},j,{centerRipple:et,component:nt,disabled:it,disableRipple:ot,disableTouchRipple:st,focusRipple:ct,tabIndex:Xt,focusVisible:ar}),St=useUtilityClasses$n(Ft);return jsxs(ButtonBaseRoot,_extends$2({as:ur,className:clsx(St.root,rt),ownerState:Ft,onBlur:Lr,onClick:ft,onContextMenu:fr,onFocus:Ur,onKeyDown:Jt,onKeyUp:Wt,onMouseDown:_r,onMouseLeave:cr,onMouseUp:lr,onDragLeave:nr,onTouchEnd:kr,onTouchMove:Dr,onTouchStart:Ar,ref:Tr,tabIndex:it?-1:Xt,type:Et},Pr,Lt,{children:[tt,sr?jsx(TouchRipple$1,_extends$2({ref:zt,center:et},kt)):null]}))}),ButtonBase$1=ButtonBase;function getTypographyUtilityClass($){return generateUtilityClass("MuiTypography",$)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$r=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$m=$=>{const{align:o,gutterBottom:a,noWrap:j,paragraph:_e,variant:et,classes:tt}=$,rt={root:["root",et,$.align!=="inherit"&&`align${capitalize$1(o)}`,a&&"gutterBottom",j&&"noWrap",_e&&"paragraph"]};return composeClasses(rt,getTypographyUtilityClass,tt)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,a.variant&&o[a.variant],a.align!=="inherit"&&o[`align${capitalize$1(a.align)}`],a.noWrap&&o.noWrap,a.gutterBottom&&o.gutterBottom,a.paragraph&&o.paragraph]}})(({theme:$,ownerState:o})=>_extends$2({margin:0},o.variant==="inherit"&&{font:"inherit"},o.variant!=="inherit"&&$.typography[o.variant],o.align!=="inherit"&&{textAlign:o.align},o.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o.gutterBottom&&{marginBottom:"0.35em"},o.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=$=>colorTransformations[$]||$,Typography=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiTypography"}),_e=transformDeprecatedColors(j.color),et=extendSxProp(_extends$2({},j,{color:_e})),{align:tt="inherit",className:rt,component:nt,gutterBottom:it=!1,noWrap:ot=!1,paragraph:st=!1,variant:ct="body1",variantMapping:ut=defaultVariantMapping}=et,dt=_objectWithoutPropertiesLoose(et,_excluded$r),ft=_extends$2({},et,{align:tt,color:_e,className:rt,component:nt,gutterBottom:it,noWrap:ot,paragraph:st,variant:ct,variantMapping:ut}),ht=nt||(st?"p":ut[ct]||defaultVariantMapping[ct])||"span",pt=useUtilityClasses$m(ft);return jsx(TypographyRoot,_extends$2({as:ht,ref:a,ownerState:ft,className:clsx(pt.root,rt)},dt))}),Typography$1=Typography,candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex($){const o=parseInt($.getAttribute("tabindex")||"",10);return Number.isNaN(o)?$.contentEditable==="true"||($.nodeName==="AUDIO"||$.nodeName==="VIDEO"||$.nodeName==="DETAILS")&&$.getAttribute("tabindex")===null?0:$.tabIndex:o}function isNonTabbableRadio($){if($.tagName!=="INPUT"||$.type!=="radio"||!$.name)return!1;const o=j=>$.ownerDocument.querySelector(`input[type="radio"]${j}`);let a=o(`[name="${$.name}"]:checked`);return a||(a=o(`[name="${$.name}"]`)),a!==$}function isNodeMatchingSelectorFocusable($){return!($.disabled||$.tagName==="INPUT"&&$.type==="hidden"||isNonTabbableRadio($))}function defaultGetTabbable($){const o=[],a=[];return Array.from($.querySelectorAll(candidatesSelector)).forEach((j,_e)=>{const et=getTabIndex(j);et===-1||!isNodeMatchingSelectorFocusable(j)||(et===0?o.push(j):a.push({documentOrder:_e,tabIndex:et,node:j}))}),a.sort((j,_e)=>j.tabIndex===_e.tabIndex?j.documentOrder-_e.documentOrder:j.tabIndex-_e.tabIndex).map(j=>j.node).concat(o)}function defaultIsEnabled(){return!0}function FocusTrap($){const{children:o,disableAutoFocus:a=!1,disableEnforceFocus:j=!1,disableRestoreFocus:_e=!1,getTabbable:et=defaultGetTabbable,isEnabled:tt=defaultIsEnabled,open:rt}=$,nt=reactExports.useRef(!1),it=reactExports.useRef(null),ot=reactExports.useRef(null),st=reactExports.useRef(null),ct=reactExports.useRef(null),ut=reactExports.useRef(!1),dt=reactExports.useRef(null),ft=useForkRef(o.ref,dt),ht=reactExports.useRef(null);reactExports.useEffect(()=>{!rt||!dt.current||(ut.current=!a)},[a,rt]),reactExports.useEffect(()=>{if(!rt||!dt.current)return;const gt=ownerDocument(dt.current);return dt.current.contains(gt.activeElement)||(dt.current.hasAttribute("tabIndex")||dt.current.setAttribute("tabIndex","-1"),ut.current&&dt.current.focus()),()=>{_e||(st.current&&st.current.focus&&(nt.current=!0,st.current.focus()),st.current=null)}},[rt]),reactExports.useEffect(()=>{if(!rt||!dt.current)return;const gt=ownerDocument(dt.current),xt=It=>{ht.current=It,!(j||!tt()||It.key!=="Tab")&&gt.activeElement===dt.current&&It.shiftKey&&(nt.current=!0,ot.current&&ot.current.focus())},wt=()=>{const It=dt.current;if(It===null)return;if(!gt.hasFocus()||!tt()||nt.current){nt.current=!1;return}if(It.contains(gt.activeElement)||j&&gt.activeElement!==it.current&&gt.activeElement!==ot.current)return;if(gt.activeElement!==ct.current)ct.current=null;else if(ct.current!==null)return;if(!ut.current)return;let Tt=[];if((gt.activeElement===it.current||gt.activeElement===ot.current)&&(Tt=et(dt.current)),Tt.length>0){var Dt,Ut;const jt=!!((Dt=ht.current)!=null&&Dt.shiftKey&&((Ut=ht.current)==null?void 0:Ut.key)==="Tab"),Xt=Tt[0],kt=Tt[Tt.length-1];typeof Xt!="string"&&typeof kt!="string"&&(jt?kt.focus():Xt.focus())}else It.focus()};gt.addEventListener("focusin",wt),gt.addEventListener("keydown",xt,!0);const Mt=setInterval(()=>{gt.activeElement&&gt.activeElement.tagName==="BODY"&&wt()},50);return()=>{clearInterval(Mt),gt.removeEventListener("focusin",wt),gt.removeEventListener("keydown",xt,!0)}},[a,j,_e,tt,rt,et]);const pt=gt=>{st.current===null&&(st.current=gt.relatedTarget),ut.current=!0,ct.current=gt.target;const xt=o.props.onFocus;xt&&xt(gt)},yt=gt=>{st.current===null&&(st.current=gt.relatedTarget),ut.current=!0};return jsxs(reactExports.Fragment,{children:[jsx("div",{tabIndex:rt?0:-1,onFocus:yt,ref:it,"data-testid":"sentinelStart"}),reactExports.cloneElement(o,{ref:ft,onFocus:pt}),jsx("div",{tabIndex:rt?0:-1,onFocus:yt,ref:ot,"data-testid":"sentinelEnd"})]})}function getContainer$1($){return typeof $=="function"?$():$}const Portal=reactExports.forwardRef(function(o,a){const{children:j,container:_e,disablePortal:et=!1}=o,[tt,rt]=reactExports.useState(null),nt=useForkRef(reactExports.isValidElement(j)?j.ref:null,a);if(useEnhancedEffect$1(()=>{et||rt(getContainer$1(_e)||document.body)},[_e,et]),useEnhancedEffect$1(()=>{if(tt&&!et)return setRef(a,tt),()=>{setRef(a,null)}},[a,tt,et]),et){if(reactExports.isValidElement(j)){const it={ref:nt};return reactExports.cloneElement(j,it)}return jsx(reactExports.Fragment,{children:j})}return jsx(reactExports.Fragment,{children:tt&&reactDomExports.createPortal(j,tt)})});function isOverflowing($){const o=ownerDocument($);return o.body===$?ownerWindow($).innerWidth>o.documentElement.clientWidth:$.scrollHeight>$.clientHeight}function ariaHidden($,o){o?$.setAttribute("aria-hidden","true"):$.removeAttribute("aria-hidden")}function getPaddingRight($){return parseInt(ownerWindow($).getComputedStyle($).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement($){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf($.tagName)!==-1,j=$.tagName==="INPUT"&&$.getAttribute("type")==="hidden";return a||j}function ariaHiddenSiblings($,o,a,j,_e){const et=[o,a,...j];[].forEach.call($.children,tt=>{const rt=et.indexOf(tt)===-1,nt=!isAriaHiddenForbiddenOnElement(tt);rt&&nt&&ariaHidden(tt,_e)})}function findIndexOf($,o){let a=-1;return $.some((j,_e)=>o(j)?(a=_e,!0):!1),a}function handleContainer($,o){const a=[],j=$.container;if(!o.disableScrollLock){if(isOverflowing(j)){const tt=getScrollbarSize(ownerDocument(j));a.push({value:j.style.paddingRight,property:"padding-right",el:j}),j.style.paddingRight=`${getPaddingRight(j)+tt}px`;const rt=ownerDocument(j).querySelectorAll(".mui-fixed");[].forEach.call(rt,nt=>{a.push({value:nt.style.paddingRight,property:"padding-right",el:nt}),nt.style.paddingRight=`${getPaddingRight(nt)+tt}px`})}let et;if(j.parentNode instanceof DocumentFragment)et=ownerDocument(j).body;else{const tt=j.parentElement,rt=ownerWindow(j);et=(tt==null?void 0:tt.nodeName)==="HTML"&&rt.getComputedStyle(tt).overflowY==="scroll"?tt:j}a.push({value:et.style.overflow,property:"overflow",el:et},{value:et.style.overflowX,property:"overflow-x",el:et},{value:et.style.overflowY,property:"overflow-y",el:et}),et.style.overflow="hidden"}return()=>{a.forEach(({value:et,el:tt,property:rt})=>{et?tt.style.setProperty(rt,et):tt.style.removeProperty(rt)})}}function getHiddenSiblings($){const o=[];return[].forEach.call($.children,a=>{a.getAttribute("aria-hidden")==="true"&&o.push(a)}),o}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(o,a){let j=this.modals.indexOf(o);if(j!==-1)return j;j=this.modals.length,this.modals.push(o),o.modalRef&&ariaHidden(o.modalRef,!1);const _e=getHiddenSiblings(a);ariaHiddenSiblings(a,o.mount,o.modalRef,_e,!0);const et=findIndexOf(this.containers,tt=>tt.container===a);return et!==-1?(this.containers[et].modals.push(o),j):(this.containers.push({modals:[o],container:a,restore:null,hiddenSiblings:_e}),j)}mount(o,a){const j=findIndexOf(this.containers,et=>et.modals.indexOf(o)!==-1),_e=this.containers[j];_e.restore||(_e.restore=handleContainer(_e,a))}remove(o,a=!0){const j=this.modals.indexOf(o);if(j===-1)return j;const _e=findIndexOf(this.containers,tt=>tt.modals.indexOf(o)!==-1),et=this.containers[_e];if(et.modals.splice(et.modals.indexOf(o),1),this.modals.splice(j,1),et.modals.length===0)et.restore&&et.restore(),o.modalRef&&ariaHidden(o.modalRef,a),ariaHiddenSiblings(et.container,o.mount,o.modalRef,et.hiddenSiblings,!1),this.containers.splice(_e,1);else{const tt=et.modals[et.modals.length-1];tt.modalRef&&ariaHidden(tt.modalRef,!1)}return j}isTopModal(o){return this.modals.length>0&&this.modals[this.modals.length-1]===o}}function getContainer($){return typeof $=="function"?$():$}function getHasTransition($){return $?$.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager;function useModal($){const{container:o,disableEscapeKeyDown:a=!1,disableScrollLock:j=!1,manager:_e=defaultManager,closeAfterTransition:et=!1,onTransitionEnter:tt,onTransitionExited:rt,children:nt,onClose:it,open:ot,rootRef:st}=$,ct=reactExports.useRef({}),ut=reactExports.useRef(null),dt=reactExports.useRef(null),ft=useForkRef(dt,st),[ht,pt]=reactExports.useState(!ot),yt=getHasTransition(nt);let gt=!0;($["aria-hidden"]==="false"||$["aria-hidden"]===!1)&&(gt=!1);const xt=()=>ownerDocument(ut.current),wt=()=>(ct.current.modalRef=dt.current,ct.current.mount=ut.current,ct.current),Mt=()=>{_e.mount(wt(),{disableScrollLock:j}),dt.current&&(dt.current.scrollTop=0)},It=useEventCallback(()=>{const Lt=getContainer(o)||xt().body;_e.add(wt(),Lt),dt.current&&Mt()}),Tt=reactExports.useCallback(()=>_e.isTopModal(wt()),[_e]),Dt=useEventCallback(Lt=>{ut.current=Lt,Lt&&(ot&&Tt()?Mt():dt.current&&ariaHidden(dt.current,gt))}),Ut=reactExports.useCallback(()=>{_e.remove(wt(),gt)},[gt,_e]);reactExports.useEffect(()=>()=>{Ut()},[Ut]),reactExports.useEffect(()=>{ot?It():(!yt||!et)&&Ut()},[ot,Ut,yt,et,It]);const jt=Lt=>Ot=>{var Pt;(Pt=Lt.onKeyDown)==null||Pt.call(Lt,Ot),!(Ot.key!=="Escape"||Ot.which===229||!Tt())&&(a||(Ot.stopPropagation(),it&&it(Ot,"escapeKeyDown")))},Xt=Lt=>Ot=>{var Pt;(Pt=Lt.onClick)==null||Pt.call(Lt,Ot),Ot.target===Ot.currentTarget&&it&&it(Ot,"backdropClick")};return{getRootProps:(Lt={})=>{const Ot=extractEventHandlers($);delete Ot.onTransitionEnter,delete Ot.onTransitionExited;const Pt=_extends$2({},Ot,Lt);return _extends$2({role:"presentation"},Pt,{onKeyDown:jt(Pt),ref:ft})},getBackdropProps:(Lt={})=>{const Ot=Lt;return _extends$2({"aria-hidden":!0},Ot,{onClick:Xt(Ot),open:ot})},getTransitionProps:()=>{const Lt=()=>{pt(!1),tt&&tt()},Ot=()=>{pt(!0),rt&&rt(),et&&Ut()};return{onEnter:createChainedFunction(Lt,nt==null?void 0:nt.props.onEnter),onExited:createChainedFunction(Ot,nt==null?void 0:nt.props.onExited)}},rootRef:ft,portalRef:Dt,isTopModal:Tt,exited:ht,hasTransition:yt}}const _excluded$q=["onChange","maxRows","minRows","style","value"];function getStyleValue($){return parseInt($,10)||0}const styles$2={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1($){return $==null||Object.keys($).length===0||$.outerHeightStyle===0&&!$.overflowing}const TextareaAutosize=reactExports.forwardRef(function(o,a){const{onChange:j,maxRows:_e,minRows:et=1,style:tt,value:rt}=o,nt=_objectWithoutPropertiesLoose(o,_excluded$q),{current:it}=reactExports.useRef(rt!=null),ot=reactExports.useRef(null),st=useForkRef(a,ot),ct=reactExports.useRef(null),ut=reactExports.useCallback(()=>{const ht=ot.current,yt=ownerWindow(ht).getComputedStyle(ht);if(yt.width==="0px")return{outerHeightStyle:0,overflowing:!1};const gt=ct.current;gt.style.width=yt.width,gt.value=ht.value||o.placeholder||"x",gt.value.slice(-1)===`
`&&(gt.value+=" ");const xt=yt.boxSizing,wt=getStyleValue(yt.paddingBottom)+getStyleValue(yt.paddingTop),Mt=getStyleValue(yt.borderBottomWidth)+getStyleValue(yt.borderTopWidth),It=gt.scrollHeight;gt.value="x";const Tt=gt.scrollHeight;let Dt=It;et&&(Dt=Math.max(Number(et)*Tt,Dt)),_e&&(Dt=Math.min(Number(_e)*Tt,Dt)),Dt=Math.max(Dt,Tt);const Ut=Dt+(xt==="border-box"?wt+Mt:0),jt=Math.abs(Dt-It)<=1;return{outerHeightStyle:Ut,overflowing:jt}},[_e,et,o.placeholder]),dt=reactExports.useCallback(()=>{const ht=ut();if(isEmpty$1(ht))return;const pt=ot.current;pt.style.height=`${ht.outerHeightStyle}px`,pt.style.overflow=ht.overflowing?"hidden":""},[ut]);useEnhancedEffect$1(()=>{const ht=()=>{dt()};let pt;const yt=debounce$1(ht),gt=ot.current,xt=ownerWindow(gt);xt.addEventListener("resize",yt);let wt;return typeof ResizeObserver<"u"&&(wt=new ResizeObserver(ht),wt.observe(gt)),()=>{yt.clear(),cancelAnimationFrame(pt),xt.removeEventListener("resize",yt),wt&&wt.disconnect()}},[ut,dt]),useEnhancedEffect$1(()=>{dt()});const ft=ht=>{it||dt(),j&&j(ht)};return jsxs(reactExports.Fragment,{children:[jsx("textarea",_extends$2({value:rt,onChange:ft,ref:st,rows:et,style:tt},nt)),jsx("textarea",{"aria-hidden":!0,className:o.className,readOnly:!0,ref:ct,tabIndex:-1,style:_extends$2({},styles$2.shadow,tt,{paddingTop:0,paddingBottom:0})})]})});function formControlState({props:$,states:o,muiFormControl:a}){return o.reduce((j,_e)=>(j[_e]=$[_e],a&&typeof $[_e]>"u"&&(j[_e]=a[_e]),j),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles($){return jsx(GlobalStyles$1,_extends$2({},$,{defaultTheme:defaultTheme$1,themeId:THEME_ID}))}function hasValue($){return $!=null&&!(Array.isArray($)&&$.length===0)}function isFilled($,o=!1){return $&&(hasValue($.value)&&$.value!==""||o&&hasValue($.defaultValue)&&$.defaultValue!=="")}function isAdornedStart($){return $.startAdornment}function getInputBaseUtilityClass($){return generateUtilityClass("MuiInputBase",$)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$p=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=($,o)=>{const{ownerState:a}=$;return[o.root,a.formControl&&o.formControl,a.startAdornment&&o.adornedStart,a.endAdornment&&o.adornedEnd,a.error&&o.error,a.size==="small"&&o.sizeSmall,a.multiline&&o.multiline,a.color&&o[`color${capitalize$1(a.color)}`],a.fullWidth&&o.fullWidth,a.hiddenLabel&&o.hiddenLabel]},inputOverridesResolver=($,o)=>{const{ownerState:a}=$;return[o.input,a.size==="small"&&o.inputSizeSmall,a.multiline&&o.inputMultiline,a.type==="search"&&o.inputTypeSearch,a.startAdornment&&o.inputAdornedStart,a.endAdornment&&o.inputAdornedEnd,a.hiddenLabel&&o.inputHiddenLabel]},useUtilityClasses$l=$=>{const{classes:o,color:a,disabled:j,error:_e,endAdornment:et,focused:tt,formControl:rt,fullWidth:nt,hiddenLabel:it,multiline:ot,readOnly:st,size:ct,startAdornment:ut,type:dt}=$,ft={root:["root",`color${capitalize$1(a)}`,j&&"disabled",_e&&"error",nt&&"fullWidth",tt&&"focused",rt&&"formControl",ct&&ct!=="medium"&&`size${capitalize$1(ct)}`,ot&&"multiline",ut&&"adornedStart",et&&"adornedEnd",it&&"hiddenLabel",st&&"readOnly"],input:["input",j&&"disabled",dt==="search"&&"inputTypeSearch",ot&&"inputMultiline",ct==="small"&&"inputSizeSmall",it&&"inputHiddenLabel",ut&&"inputAdornedStart",et&&"inputAdornedEnd",st&&"readOnly"]};return composeClasses(ft,getInputBaseUtilityClass,o)},InputBaseRoot=styled$1("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:$,ownerState:o})=>_extends$2({},$.typography.body1,{color:($.vars||$).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:($.vars||$).palette.text.disabled,cursor:"default"}},o.multiline&&_extends$2({padding:"4px 0 5px"},o.size==="small"&&{paddingTop:1}),o.fullWidth&&{width:"100%"})),InputBaseComponent=styled$1("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:$,ownerState:o})=>{const a=$.palette.mode==="light",j=_extends$2({color:"currentColor"},$.vars?{opacity:$.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5},{transition:$.transitions.create("opacity",{duration:$.transitions.duration.shorter})}),_e={opacity:"0 !important"},et=$.vars?{opacity:$.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5};return _extends$2({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":j,"&::-moz-placeholder":j,"&:-ms-input-placeholder":j,"&::-ms-input-placeholder":j,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":_e,"&::-moz-placeholder":_e,"&:-ms-input-placeholder":_e,"&::-ms-input-placeholder":_e,"&:focus::-webkit-input-placeholder":et,"&:focus::-moz-placeholder":et,"&:focus:-ms-input-placeholder":et,"&:focus::-ms-input-placeholder":et},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:($.vars||$).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},o.size==="small"&&{paddingTop:1},o.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},o.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(o,a){var j;const _e=useThemeProps({props:o,name:"MuiInputBase"}),{"aria-describedby":et,autoComplete:tt,autoFocus:rt,className:nt,components:it={},componentsProps:ot={},defaultValue:st,disabled:ct,disableInjectingGlobalStyles:ut,endAdornment:dt,fullWidth:ft=!1,id:ht,inputComponent:pt="input",inputProps:yt={},inputRef:gt,maxRows:xt,minRows:wt,multiline:Mt=!1,name:It,onBlur:Tt,onChange:Dt,onClick:Ut,onFocus:jt,onKeyDown:Xt,onKeyUp:kt,placeholder:vt,readOnly:Et,renderSuffix:Lt,rows:Ot,slotProps:Pt={},slots:zt={},startAdornment:Vt,type:$t="text",value:At}=_e,Ht=_objectWithoutPropertiesLoose(_e,_excluded$p),ar=yt.value!=null?yt.value:At,{current:Rt}=reactExports.useRef(ar!=null),Zt=reactExports.useRef(),ir=reactExports.useCallback(St=>{},[]),sr=useForkRef(Zt,gt,yt.ref,ir),[pr,_r]=reactExports.useState(!1),fr=useFormControl(),nr=formControlState({props:_e,muiFormControl:fr,states:["color","disabled","error","hiddenLabel","size","required","filled"]});nr.focused=fr?fr.focused:pr,reactExports.useEffect(()=>{!fr&&ct&&pr&&(_r(!1),Tt&&Tt())},[fr,ct,pr,Tt]);const lr=fr&&fr.onFilled,cr=fr&&fr.onEmpty,Ar=reactExports.useCallback(St=>{isFilled(St)?lr&&lr():cr&&cr()},[lr,cr]);useEnhancedEffect$1(()=>{Rt&&Ar({value:ar})},[ar,Ar,Rt]);const kr=St=>{if(nr.disabled){St.stopPropagation();return}jt&&jt(St),yt.onFocus&&yt.onFocus(St),fr&&fr.onFocus?fr.onFocus(St):_r(!0)},Dr=St=>{Tt&&Tt(St),yt.onBlur&&yt.onBlur(St),fr&&fr.onBlur?fr.onBlur(St):_r(!1)},Lr=(St,...Ct)=>{if(!Rt){const Gt=St.target||Zt.current;if(Gt==null)throw new Error(formatMuiErrorMessage$1(1));Ar({value:Gt.value})}yt.onChange&&yt.onChange(St,...Ct),Dt&&Dt(St,...Ct)};reactExports.useEffect(()=>{Ar(Zt.current)},[]);const Ur=St=>{Zt.current&&St.currentTarget===St.target&&Zt.current.focus(),Ut&&Ut(St)};let Or=pt,Nr=yt;Mt&&Or==="input"&&(Ot?Nr=_extends$2({type:void 0,minRows:Ot,maxRows:Ot},Nr):Nr=_extends$2({type:void 0,maxRows:xt,minRows:wt},Nr),Or=TextareaAutosize);const Jt=St=>{Ar(St.animationName==="mui-auto-fill-cancel"?Zt.current:{value:"x"})};reactExports.useEffect(()=>{fr&&fr.setAdornedStart(!!Vt)},[fr,Vt]);const Wt=_extends$2({},_e,{color:nr.color||"primary",disabled:nr.disabled,endAdornment:dt,error:nr.error,focused:nr.focused,formControl:fr,fullWidth:ft,hiddenLabel:nr.hiddenLabel,multiline:Mt,size:nr.size,startAdornment:Vt,type:$t}),ur=useUtilityClasses$l(Wt),Pr=zt.root||it.Root||InputBaseRoot,Tr=Pt.root||ot.root||{},Ft=zt.input||it.Input||InputBaseComponent;return Nr=_extends$2({},Nr,(j=Pt.input)!=null?j:ot.input),jsxs(reactExports.Fragment,{children:[!ut&&inputGlobalStyles,jsxs(Pr,_extends$2({},Tr,!isHostComponent(Pr)&&{ownerState:_extends$2({},Wt,Tr.ownerState)},{ref:a,onClick:Ur},Ht,{className:clsx(ur.root,Tr.className,nt,Et&&"MuiInputBase-readOnly"),children:[Vt,jsx(FormControlContext$1.Provider,{value:null,children:jsx(Ft,_extends$2({ownerState:Wt,"aria-invalid":nr.error,"aria-describedby":et,autoComplete:tt,autoFocus:rt,defaultValue:st,disabled:nr.disabled,id:ht,onAnimationStart:Jt,name:It,placeholder:vt,readOnly:Et,required:nr.required,rows:Ot,value:ar,onKeyDown:Xt,onKeyUp:kt,type:$t},Nr,!isHostComponent(Ft)&&{as:Or,ownerState:_extends$2({},Wt,Nr.ownerState)},{ref:sr,className:clsx(ur.input,Nr.className,Et&&"MuiInputBase-readOnly"),onBlur:Dr,onChange:Lr,onFocus:kr}))}),dt,Lt?Lt(_extends$2({},nr,{startAdornment:Vt})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass($){return generateUtilityClass("MuiInput",$)}const inputClasses=_extends$2({},inputBaseClasses$1,generateUtilityClasses("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses;function getOutlinedInputUtilityClass($){return generateUtilityClass("MuiOutlinedInput",$)}const outlinedInputClasses=_extends$2({},inputBaseClasses$1,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass($){return generateUtilityClass("MuiFilledInput",$)}const filledInputClasses=_extends$2({},inputBaseClasses$1,generateUtilityClasses("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon(jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_excluded$o=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(o,a){const j=useTheme(),_e={enter:j.transitions.duration.enteringScreen,exit:j.transitions.duration.leavingScreen},{addEndListener:et,appear:tt=!0,children:rt,easing:nt,in:it,onEnter:ot,onEntered:st,onEntering:ct,onExit:ut,onExited:dt,onExiting:ft,style:ht,timeout:pt=_e,TransitionComponent:yt=Transition$1}=o,gt=_objectWithoutPropertiesLoose(o,_excluded$o),xt=reactExports.useRef(null),wt=useForkRef(xt,rt.ref,a),Mt=vt=>Et=>{if(vt){const Lt=xt.current;Et===void 0?vt(Lt):vt(Lt,Et)}},It=Mt(ct),Tt=Mt((vt,Et)=>{reflow(vt);const Lt=getTransitionProps({style:ht,timeout:pt,easing:nt},{mode:"enter"});vt.style.webkitTransition=j.transitions.create("opacity",Lt),vt.style.transition=j.transitions.create("opacity",Lt),ot&&ot(vt,Et)}),Dt=Mt(st),Ut=Mt(ft),jt=Mt(vt=>{const Et=getTransitionProps({style:ht,timeout:pt,easing:nt},{mode:"exit"});vt.style.webkitTransition=j.transitions.create("opacity",Et),vt.style.transition=j.transitions.create("opacity",Et),ut&&ut(vt)}),Xt=Mt(dt);return jsx(yt,_extends$2({appear:tt,in:it,nodeRef:xt,onEnter:Tt,onEntered:Dt,onEntering:It,onExit:jt,onExited:Xt,onExiting:Ut,addEndListener:vt=>{et&&et(xt.current,vt)},timeout:pt},gt,{children:(vt,Et)=>reactExports.cloneElement(rt,_extends$2({style:_extends$2({opacity:0,visibility:vt==="exited"&&!it?"hidden":void 0},styles$1[vt],ht,rt.props.style),ref:wt},Et))}))}),Fade$1=Fade;function getBackdropUtilityClass($){return generateUtilityClass("MuiBackdrop",$)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$n=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$k=$=>{const{classes:o,invisible:a}=$;return composeClasses({root:["root",a&&"invisible"]},getBackdropUtilityClass,o)},BackdropRoot=styled$1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,a.invisible&&o.invisible]}})(({ownerState:$})=>_extends$2({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},$.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(o,a){var j,_e,et;const tt=useThemeProps({props:o,name:"MuiBackdrop"}),{children:rt,className:nt,component:it="div",components:ot={},componentsProps:st={},invisible:ct=!1,open:ut,slotProps:dt={},slots:ft={},TransitionComponent:ht=Fade$1,transitionDuration:pt}=tt,yt=_objectWithoutPropertiesLoose(tt,_excluded$n),gt=_extends$2({},tt,{component:it,invisible:ct}),xt=useUtilityClasses$k(gt),wt=(j=dt.root)!=null?j:st.root;return jsx(ht,_extends$2({in:ut,timeout:pt},yt,{children:jsx(BackdropRoot,_extends$2({"aria-hidden":!0},wt,{as:(_e=(et=ft.root)!=null?et:ot.Root)!=null?_e:it,className:clsx(xt.root,nt,wt==null?void 0:wt.className),ownerState:_extends$2({},gt,wt==null?void 0:wt.ownerState),classes:xt,ref:a,children:rt}))}))}),Backdrop$1=Backdrop;function getButtonUtilityClass($){return generateUtilityClass("MuiButton",$)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,ButtonGroupButtonContext=reactExports.createContext(void 0),ButtonGroupButtonContext$1=ButtonGroupButtonContext,_excluded$m=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$j=$=>{const{color:o,disableElevation:a,fullWidth:j,size:_e,variant:et,classes:tt}=$,rt={root:["root",et,`${et}${capitalize$1(o)}`,`size${capitalize$1(_e)}`,`${et}Size${capitalize$1(_e)}`,`color${capitalize$1(o)}`,a&&"disableElevation",j&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${capitalize$1(_e)}`],endIcon:["icon","endIcon",`iconSize${capitalize$1(_e)}`]},nt=composeClasses(rt,getButtonUtilityClass,tt);return _extends$2({},tt,nt)},commonIconStyles=$=>_extends$2({},$.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},$.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},$.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:$=>rootShouldForwardProp$1($)||$==="classes",name:"MuiButton",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,o[a.variant],o[`${a.variant}${capitalize$1(a.color)}`],o[`size${capitalize$1(a.size)}`],o[`${a.variant}Size${capitalize$1(a.size)}`],a.color==="inherit"&&o.colorInherit,a.disableElevation&&o.disableElevation,a.fullWidth&&o.fullWidth]}})(({theme:$,ownerState:o})=>{var a,j;const _e=$.palette.mode==="light"?$.palette.grey[300]:$.palette.grey[800],et=$.palette.mode==="light"?$.palette.grey.A100:$.palette.grey[700];return _extends$2({},$.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:($.vars||$).shape.borderRadius,transition:$.transitions.create(["background-color","box-shadow","border-color","color"],{duration:$.transitions.duration.short}),"&:hover":_extends$2({textDecoration:"none",backgroundColor:$.vars?`rgba(${$.vars.palette.text.primaryChannel} / ${$.vars.palette.action.hoverOpacity})`:alpha_1($.palette.text.primary,$.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="text"&&o.color!=="inherit"&&{backgroundColor:$.vars?`rgba(${$.vars.palette[o.color].mainChannel} / ${$.vars.palette.action.hoverOpacity})`:alpha_1($.palette[o.color].main,$.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="outlined"&&o.color!=="inherit"&&{border:`1px solid ${($.vars||$).palette[o.color].main}`,backgroundColor:$.vars?`rgba(${$.vars.palette[o.color].mainChannel} / ${$.vars.palette.action.hoverOpacity})`:alpha_1($.palette[o.color].main,$.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="contained"&&{backgroundColor:$.vars?$.vars.palette.Button.inheritContainedHoverBg:et,boxShadow:($.vars||$).shadows[4],"@media (hover: none)":{boxShadow:($.vars||$).shadows[2],backgroundColor:($.vars||$).palette.grey[300]}},o.variant==="contained"&&o.color!=="inherit"&&{backgroundColor:($.vars||$).palette[o.color].dark,"@media (hover: none)":{backgroundColor:($.vars||$).palette[o.color].main}}),"&:active":_extends$2({},o.variant==="contained"&&{boxShadow:($.vars||$).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends$2({},o.variant==="contained"&&{boxShadow:($.vars||$).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends$2({color:($.vars||$).palette.action.disabled},o.variant==="outlined"&&{border:`1px solid ${($.vars||$).palette.action.disabledBackground}`},o.variant==="contained"&&{color:($.vars||$).palette.action.disabled,boxShadow:($.vars||$).shadows[0],backgroundColor:($.vars||$).palette.action.disabledBackground})},o.variant==="text"&&{padding:"6px 8px"},o.variant==="text"&&o.color!=="inherit"&&{color:($.vars||$).palette[o.color].main},o.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},o.variant==="outlined"&&o.color!=="inherit"&&{color:($.vars||$).palette[o.color].main,border:$.vars?`1px solid rgba(${$.vars.palette[o.color].mainChannel} / 0.5)`:`1px solid ${alpha_1($.palette[o.color].main,.5)}`},o.variant==="contained"&&{color:$.vars?$.vars.palette.text.primary:(a=(j=$.palette).getContrastText)==null?void 0:a.call(j,$.palette.grey[300]),backgroundColor:$.vars?$.vars.palette.Button.inheritContainedBg:_e,boxShadow:($.vars||$).shadows[2]},o.variant==="contained"&&o.color!=="inherit"&&{color:($.vars||$).palette[o.color].contrastText,backgroundColor:($.vars||$).palette[o.color].main},o.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},o.size==="small"&&o.variant==="text"&&{padding:"4px 5px",fontSize:$.typography.pxToRem(13)},o.size==="large"&&o.variant==="text"&&{padding:"8px 11px",fontSize:$.typography.pxToRem(15)},o.size==="small"&&o.variant==="outlined"&&{padding:"3px 9px",fontSize:$.typography.pxToRem(13)},o.size==="large"&&o.variant==="outlined"&&{padding:"7px 21px",fontSize:$.typography.pxToRem(15)},o.size==="small"&&o.variant==="contained"&&{padding:"4px 10px",fontSize:$.typography.pxToRem(13)},o.size==="large"&&o.variant==="contained"&&{padding:"8px 22px",fontSize:$.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})},({ownerState:$})=>$.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.startIcon,o[`iconSize${capitalize$1(a.size)}`]]}})(({ownerState:$})=>_extends$2({display:"inherit",marginRight:8,marginLeft:-4},$.size==="small"&&{marginLeft:-2},commonIconStyles($))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.endIcon,o[`iconSize${capitalize$1(a.size)}`]]}})(({ownerState:$})=>_extends$2({display:"inherit",marginRight:-4,marginLeft:8},$.size==="small"&&{marginRight:-2},commonIconStyles($))),Button=reactExports.forwardRef(function(o,a){const j=reactExports.useContext(ButtonGroupContext$1),_e=reactExports.useContext(ButtonGroupButtonContext$1),et=resolveProps(j,o),tt=useThemeProps({props:et,name:"MuiButton"}),{children:rt,color:nt="primary",component:it="button",className:ot,disabled:st=!1,disableElevation:ct=!1,disableFocusRipple:ut=!1,endIcon:dt,focusVisibleClassName:ft,fullWidth:ht=!1,size:pt="medium",startIcon:yt,type:gt,variant:xt="text"}=tt,wt=_objectWithoutPropertiesLoose(tt,_excluded$m),Mt=_extends$2({},tt,{color:nt,component:it,disabled:st,disableElevation:ct,disableFocusRipple:ut,fullWidth:ht,size:pt,type:gt,variant:xt}),It=useUtilityClasses$j(Mt),Tt=yt&&jsx(ButtonStartIcon,{className:It.startIcon,ownerState:Mt,children:yt}),Dt=dt&&jsx(ButtonEndIcon,{className:It.endIcon,ownerState:Mt,children:dt}),Ut=_e||"";return jsxs(ButtonRoot,_extends$2({ownerState:Mt,className:clsx(j.className,It.root,ot,Ut),component:it,disabled:st,focusRipple:!ut,focusVisibleClassName:clsx(It.focusVisible,ft),ref:a,type:gt},wt,{classes:It,children:[Tt,rt,Dt]}))}),Button$1=Button;function getCardUtilityClass($){return generateUtilityClass("MuiCard",$)}generateUtilityClasses("MuiCard",["root"]);const _excluded$l=["className","raised"],useUtilityClasses$i=$=>{const{classes:o}=$;return composeClasses({root:["root"]},getCardUtilityClass,o)},CardRoot=styled$1(Paper$1,{name:"MuiCard",slot:"Root",overridesResolver:($,o)=>o.root})(()=>({overflow:"hidden"})),Card=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiCard"}),{className:_e,raised:et=!1}=j,tt=_objectWithoutPropertiesLoose(j,_excluded$l),rt=_extends$2({},j,{raised:et}),nt=useUtilityClasses$i(rt);return jsx(CardRoot,_extends$2({className:clsx(nt.root,_e),elevation:et?8:void 0,ref:a,ownerState:rt},tt))}),Card$1=Card;function getCardActionAreaUtilityClass($){return generateUtilityClass("MuiCardActionArea",$)}const cardActionAreaClasses=generateUtilityClasses("MuiCardActionArea",["root","focusVisible","focusHighlight"]),cardActionAreaClasses$1=cardActionAreaClasses,_excluded$k=["children","className","focusVisibleClassName"],useUtilityClasses$h=$=>{const{classes:o}=$;return composeClasses({root:["root"],focusHighlight:["focusHighlight"]},getCardActionAreaUtilityClass,o)},CardActionAreaRoot=styled$1(ButtonBase$1,{name:"MuiCardActionArea",slot:"Root",overridesResolver:($,o)=>o.root})(({theme:$})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${cardActionAreaClasses$1.focusHighlight}`]:{opacity:($.vars||$).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${cardActionAreaClasses$1.focusVisible} .${cardActionAreaClasses$1.focusHighlight}`]:{opacity:($.vars||$).palette.action.focusOpacity}})),CardActionAreaFocusHighlight=styled$1("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:($,o)=>o.focusHighlight})(({theme:$})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:$.transitions.create("opacity",{duration:$.transitions.duration.short})})),CardActionArea=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiCardActionArea"}),{children:_e,className:et,focusVisibleClassName:tt}=j,rt=_objectWithoutPropertiesLoose(j,_excluded$k),nt=j,it=useUtilityClasses$h(nt);return jsxs(CardActionAreaRoot,_extends$2({className:clsx(it.root,et),focusVisibleClassName:clsx(tt,it.focusVisible),ref:a,ownerState:nt},rt,{children:[_e,jsx(CardActionAreaFocusHighlight,{className:it.focusHighlight,ownerState:nt})]}))}),CardActionArea$1=CardActionArea;function getCardContentUtilityClass($){return generateUtilityClass("MuiCardContent",$)}generateUtilityClasses("MuiCardContent",["root"]);const _excluded$j=["className","component"],useUtilityClasses$g=$=>{const{classes:o}=$;return composeClasses({root:["root"]},getCardContentUtilityClass,o)},CardContentRoot=styled$1("div",{name:"MuiCardContent",slot:"Root",overridesResolver:($,o)=>o.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),CardContent=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiCardContent"}),{className:_e,component:et="div"}=j,tt=_objectWithoutPropertiesLoose(j,_excluded$j),rt=_extends$2({},j,{component:et}),nt=useUtilityClasses$g(rt);return jsx(CardContentRoot,_extends$2({as:et,className:clsx(nt.root,_e),ownerState:rt,ref:a},tt))}),CardContent$1=CardContent;function getCardMediaUtilityClass($){return generateUtilityClass("MuiCardMedia",$)}generateUtilityClasses("MuiCardMedia",["root","media","img"]);const _excluded$i=["children","className","component","image","src","style"],useUtilityClasses$f=$=>{const{classes:o,isMediaComponent:a,isImageComponent:j}=$;return composeClasses({root:["root",a&&"media",j&&"img"]},getCardMediaUtilityClass,o)},CardMediaRoot=styled$1("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$,{isMediaComponent:j,isImageComponent:_e}=a;return[o.root,j&&o.media,_e&&o.img]}})(({ownerState:$})=>_extends$2({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},$.isMediaComponent&&{width:"100%"},$.isImageComponent&&{objectFit:"cover"})),MEDIA_COMPONENTS=["video","audio","picture","iframe","img"],IMAGE_COMPONENTS=["picture","img"],CardMedia=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiCardMedia"}),{children:_e,className:et,component:tt="div",image:rt,src:nt,style:it}=j,ot=_objectWithoutPropertiesLoose(j,_excluded$i),st=MEDIA_COMPONENTS.indexOf(tt)!==-1,ct=!st&&rt?_extends$2({backgroundImage:`url("${rt}")`},it):it,ut=_extends$2({},j,{component:tt,isMediaComponent:st,isImageComponent:IMAGE_COMPONENTS.indexOf(tt)!==-1}),dt=useUtilityClasses$f(ut);return jsx(CardMediaRoot,_extends$2({className:clsx(dt.root,et),as:tt,role:!st&&rt?"img":void 0,ref:a,style:ct,ownerState:ut,src:st?rt||nt:void 0},ot,{children:_e}))}),CardMedia$1=CardMedia;function getModalUtilityClass($){return generateUtilityClass("MuiModal",$)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$h=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],useUtilityClasses$e=$=>{const{open:o,exited:a,classes:j}=$;return composeClasses({root:["root",!o&&a&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,j)},ModalRoot=styled$1("div",{name:"MuiModal",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,!a.open&&a.exited&&o.hidden]}})(({theme:$,ownerState:o})=>_extends$2({position:"fixed",zIndex:($.vars||$).zIndex.modal,right:0,bottom:0,top:0,left:0},!o.open&&o.exited&&{visibility:"hidden"})),ModalBackdrop=styled$1(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:($,o)=>o.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(o,a){var j,_e,et,tt,rt,nt;const it=useThemeProps({name:"MuiModal",props:o}),{BackdropComponent:ot=ModalBackdrop,BackdropProps:st,className:ct,closeAfterTransition:ut=!1,children:dt,container:ft,component:ht,components:pt={},componentsProps:yt={},disableAutoFocus:gt=!1,disableEnforceFocus:xt=!1,disableEscapeKeyDown:wt=!1,disablePortal:Mt=!1,disableRestoreFocus:It=!1,disableScrollLock:Tt=!1,hideBackdrop:Dt=!1,keepMounted:Ut=!1,onBackdropClick:jt,open:Xt,slotProps:kt,slots:vt}=it,Et=_objectWithoutPropertiesLoose(it,_excluded$h),Lt=_extends$2({},it,{closeAfterTransition:ut,disableAutoFocus:gt,disableEnforceFocus:xt,disableEscapeKeyDown:wt,disablePortal:Mt,disableRestoreFocus:It,disableScrollLock:Tt,hideBackdrop:Dt,keepMounted:Ut}),{getRootProps:Ot,getBackdropProps:Pt,getTransitionProps:zt,portalRef:Vt,isTopModal:$t,exited:At,hasTransition:Ht}=useModal(_extends$2({},Lt,{rootRef:a})),ar=_extends$2({},Lt,{exited:At}),Rt=useUtilityClasses$e(ar),Zt={};if(dt.props.tabIndex===void 0&&(Zt.tabIndex="-1"),Ht){const{onEnter:lr,onExited:cr}=zt();Zt.onEnter=lr,Zt.onExited=cr}const ir=(j=(_e=vt==null?void 0:vt.root)!=null?_e:pt.Root)!=null?j:ModalRoot,sr=(et=(tt=vt==null?void 0:vt.backdrop)!=null?tt:pt.Backdrop)!=null?et:ot,pr=(rt=kt==null?void 0:kt.root)!=null?rt:yt.root,_r=(nt=kt==null?void 0:kt.backdrop)!=null?nt:yt.backdrop,fr=useSlotProps({elementType:ir,externalSlotProps:pr,externalForwardedProps:Et,getSlotProps:Ot,additionalProps:{ref:a,as:ht},ownerState:ar,className:clsx(ct,pr==null?void 0:pr.className,Rt==null?void 0:Rt.root,!ar.open&&ar.exited&&(Rt==null?void 0:Rt.hidden))}),nr=useSlotProps({elementType:sr,externalSlotProps:_r,additionalProps:st,getSlotProps:lr=>Pt(_extends$2({},lr,{onClick:cr=>{jt&&jt(cr),lr!=null&&lr.onClick&&lr.onClick(cr)}})),className:clsx(_r==null?void 0:_r.className,st==null?void 0:st.className,Rt==null?void 0:Rt.backdrop),ownerState:ar});return!Ut&&!Xt&&(!Ht||At)?null:jsx(Portal,{ref:Vt,container:ft,disablePortal:Mt,children:jsxs(ir,_extends$2({},fr,{children:[!Dt&&ot?jsx(sr,_extends$2({},nr)):null,jsx(FocusTrap,{disableEnforceFocus:xt,disableAutoFocus:gt,disableRestoreFocus:It,isEnabled:$t,open:Xt,children:reactExports.cloneElement(dt,Zt)})]}))})}),Modal$1=Modal,_excluded$g=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$d=$=>{const{classes:o,disableUnderline:a}=$,_e=composeClasses({root:["root",!a&&"underline"],input:["input"]},getFilledInputUtilityClass,o);return _extends$2({},o,_e)},FilledInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:$=>rootShouldForwardProp$1($)||$==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[...rootOverridesResolver($,o),!a.disableUnderline&&o.underline]}})(({theme:$,ownerState:o})=>{var a;const j=$.palette.mode==="light",_e=j?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",et=j?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",tt=j?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",rt=j?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends$2({position:"relative",backgroundColor:$.vars?$.vars.palette.FilledInput.bg:et,borderTopLeftRadius:($.vars||$).shape.borderRadius,borderTopRightRadius:($.vars||$).shape.borderRadius,transition:$.transitions.create("background-color",{duration:$.transitions.duration.shorter,easing:$.transitions.easing.easeOut}),"&:hover":{backgroundColor:$.vars?$.vars.palette.FilledInput.hoverBg:tt,"@media (hover: none)":{backgroundColor:$.vars?$.vars.palette.FilledInput.bg:et}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:$.vars?$.vars.palette.FilledInput.bg:et},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:$.vars?$.vars.palette.FilledInput.disabledBg:rt}},!o.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(a=($.vars||$).palette[o.color||"primary"])==null?void 0:a.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:$.transitions.create("transform",{duration:$.transitions.duration.shorter,easing:$.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}`]:{"&::before, &::after":{borderBottomColor:($.vars||$).palette.error.main}},"&::before":{borderBottom:`1px solid ${$.vars?`rgba(${$.vars.palette.common.onBackgroundChannel} / ${$.vars.opacity.inputUnderline})`:_e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:$.transitions.create("border-bottom-color",{duration:$.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}, .${filledInputClasses$1.error}):before`]:{borderBottom:`1px solid ${($.vars||$).palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&_extends$2({padding:"25px 12px 8px"},o.size==="small"&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17},o.hiddenLabel&&o.size==="small"&&{paddingTop:8,paddingBottom:9}))}),FilledInputInput=styled$1(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:$,ownerState:o})=>_extends$2({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!$.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:$.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:$.palette.mode==="light"?null:"#fff",caretColor:$.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},$.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[$.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},o.size==="small"&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17},o.startAdornment&&{paddingLeft:0},o.endAdornment&&{paddingRight:0},o.hiddenLabel&&o.size==="small"&&{paddingTop:8,paddingBottom:9},o.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),FilledInput=reactExports.forwardRef(function(o,a){var j,_e,et,tt;const rt=useThemeProps({props:o,name:"MuiFilledInput"}),{components:nt={},componentsProps:it,fullWidth:ot=!1,inputComponent:st="input",multiline:ct=!1,slotProps:ut,slots:dt={},type:ft="text"}=rt,ht=_objectWithoutPropertiesLoose(rt,_excluded$g),pt=_extends$2({},rt,{fullWidth:ot,inputComponent:st,multiline:ct,type:ft}),yt=useUtilityClasses$d(rt),gt={root:{ownerState:pt},input:{ownerState:pt}},xt=ut??it?deepmerge$1(gt,ut??it):gt,wt=(j=(_e=dt.root)!=null?_e:nt.Root)!=null?j:FilledInputRoot,Mt=(et=(tt=dt.input)!=null?tt:nt.Input)!=null?et:FilledInputInput;return jsx(InputBase$1,_extends$2({slots:{root:wt,input:Mt},componentsProps:xt,fullWidth:ot,inputComponent:st,multiline:ct,ref:a,type:ft},ht,{classes:yt}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses($){return generateUtilityClass("MuiFormControl",$)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$f=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$c=$=>{const{classes:o,margin:a,fullWidth:j}=$,_e={root:["root",a!=="none"&&`margin${capitalize$1(a)}`,j&&"fullWidth"]};return composeClasses(_e,getFormControlUtilityClasses,o)},FormControlRoot=styled$1("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:$},o)=>_extends$2({},o.root,o[`margin${capitalize$1($.margin)}`],$.fullWidth&&o.fullWidth)})(({ownerState:$})=>_extends$2({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},$.margin==="normal"&&{marginTop:16,marginBottom:8},$.margin==="dense"&&{marginTop:8,marginBottom:4},$.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiFormControl"}),{children:_e,className:et,color:tt="primary",component:rt="div",disabled:nt=!1,error:it=!1,focused:ot,fullWidth:st=!1,hiddenLabel:ct=!1,margin:ut="none",required:dt=!1,size:ft="medium",variant:ht="outlined"}=j,pt=_objectWithoutPropertiesLoose(j,_excluded$f),yt=_extends$2({},j,{color:tt,component:rt,disabled:nt,error:it,fullWidth:st,hiddenLabel:ct,margin:ut,required:dt,size:ft,variant:ht}),gt=useUtilityClasses$c(yt),[xt,wt]=reactExports.useState(()=>{let kt=!1;return _e&&reactExports.Children.forEach(_e,vt=>{if(!isMuiElement(vt,["Input","Select"]))return;const Et=isMuiElement(vt,["Select"])?vt.props.input:vt;Et&&isAdornedStart(Et.props)&&(kt=!0)}),kt}),[Mt,It]=reactExports.useState(()=>{let kt=!1;return _e&&reactExports.Children.forEach(_e,vt=>{isMuiElement(vt,["Input","Select"])&&(isFilled(vt.props,!0)||isFilled(vt.props.inputProps,!0))&&(kt=!0)}),kt}),[Tt,Dt]=reactExports.useState(!1);nt&&Tt&&Dt(!1);const Ut=ot!==void 0&&!nt?ot:Tt;let jt;const Xt=reactExports.useMemo(()=>({adornedStart:xt,setAdornedStart:wt,color:tt,disabled:nt,error:it,filled:Mt,focused:Ut,fullWidth:st,hiddenLabel:ct,size:ft,onBlur:()=>{Dt(!1)},onEmpty:()=>{It(!1)},onFilled:()=>{It(!0)},onFocus:()=>{Dt(!0)},registerEffect:jt,required:dt,variant:ht}),[xt,tt,nt,it,Mt,Ut,st,ct,jt,dt,ft,ht]);return jsx(FormControlContext$1.Provider,{value:Xt,children:jsx(FormControlRoot,_extends$2({as:rt,ownerState:yt,className:clsx(gt.root,et),ref:a},pt,{children:_e}))})}),FormControl$1=FormControl,Stack=createStack({createStyledComponent:styled$1("div",{name:"MuiStack",slot:"Root",overridesResolver:($,o)=>o.root}),useThemeProps:$=>useThemeProps({props:$,name:"MuiStack"})}),Stack$1=Stack;function getFormHelperTextUtilityClasses($){return generateUtilityClass("MuiFormHelperText",$)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$2;const _excluded$e=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$b=$=>{const{classes:o,contained:a,size:j,disabled:_e,error:et,filled:tt,focused:rt,required:nt}=$,it={root:["root",_e&&"disabled",et&&"error",j&&`size${capitalize$1(j)}`,a&&"contained",rt&&"focused",tt&&"filled",nt&&"required"]};return composeClasses(it,getFormHelperTextUtilityClasses,o)},FormHelperTextRoot=styled$1("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,a.size&&o[`size${capitalize$1(a.size)}`],a.contained&&o.contained,a.filled&&o.filled]}})(({theme:$,ownerState:o})=>_extends$2({color:($.vars||$).palette.text.secondary},$.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:($.vars||$).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:($.vars||$).palette.error.main}},o.size==="small"&&{marginTop:4},o.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiFormHelperText"}),{children:_e,className:et,component:tt="p"}=j,rt=_objectWithoutPropertiesLoose(j,_excluded$e),nt=useFormControl(),it=formControlState({props:j,muiFormControl:nt,states:["variant","size","disabled","error","filled","focused","required"]}),ot=_extends$2({},j,{component:tt,contained:it.variant==="filled"||it.variant==="outlined",variant:it.variant,size:it.size,disabled:it.disabled,error:it.error,filled:it.filled,focused:it.focused,required:it.required}),st=useUtilityClasses$b(ot);return jsx(FormHelperTextRoot,_extends$2({as:tt,ownerState:ot,className:clsx(st.root,et),ref:a},rt,{children:_e===" "?_span$2||(_span$2=jsx("span",{className:"notranslate",children:"​"})):_e}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses($){return generateUtilityClass("MuiFormLabel",$)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$d=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$a=$=>{const{classes:o,color:a,focused:j,disabled:_e,error:et,filled:tt,required:rt}=$,nt={root:["root",`color${capitalize$1(a)}`,_e&&"disabled",et&&"error",tt&&"filled",j&&"focused",rt&&"required"],asterisk:["asterisk",et&&"error"]};return composeClasses(nt,getFormLabelUtilityClasses,o)},FormLabelRoot=styled$1("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:$},o)=>_extends$2({},o.root,$.color==="secondary"&&o.colorSecondary,$.filled&&o.filled)})(({theme:$,ownerState:o})=>_extends$2({color:($.vars||$).palette.text.secondary},$.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:($.vars||$).palette[o.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:($.vars||$).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:($.vars||$).palette.error.main}})),AsteriskComponent=styled$1("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:($,o)=>o.asterisk})(({theme:$})=>({[`&.${formLabelClasses$1.error}`]:{color:($.vars||$).palette.error.main}})),FormLabel=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiFormLabel"}),{children:_e,className:et,component:tt="label"}=j,rt=_objectWithoutPropertiesLoose(j,_excluded$d),nt=useFormControl(),it=formControlState({props:j,muiFormControl:nt,states:["color","required","focused","disabled","error","filled"]}),ot=_extends$2({},j,{color:it.color||"primary",component:tt,disabled:it.disabled,error:it.error,filled:it.filled,focused:it.focused,required:it.required}),st=useUtilityClasses$a(ot);return jsxs(FormLabelRoot,_extends$2({as:tt,ownerState:ot,className:clsx(st.root,et),ref:a},rt,{children:[_e,it.required&&jsxs(AsteriskComponent,{ownerState:ot,"aria-hidden":!0,className:st.asterisk,children:[" ","*"]})]}))}),FormLabel$1=FormLabel,_excluded$c=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale($){return`scale(${$}, ${$**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(o,a){const{addEndListener:j,appear:_e=!0,children:et,easing:tt,in:rt,onEnter:nt,onEntered:it,onEntering:ot,onExit:st,onExited:ct,onExiting:ut,style:dt,timeout:ft="auto",TransitionComponent:ht=Transition$1}=o,pt=_objectWithoutPropertiesLoose(o,_excluded$c),yt=useTimeout(),gt=reactExports.useRef(),xt=useTheme(),wt=reactExports.useRef(null),Mt=useForkRef(wt,et.ref,a),It=Et=>Lt=>{if(Et){const Ot=wt.current;Lt===void 0?Et(Ot):Et(Ot,Lt)}},Tt=It(ot),Dt=It((Et,Lt)=>{reflow(Et);const{duration:Ot,delay:Pt,easing:zt}=getTransitionProps({style:dt,timeout:ft,easing:tt},{mode:"enter"});let Vt;ft==="auto"?(Vt=xt.transitions.getAutoHeightDuration(Et.clientHeight),gt.current=Vt):Vt=Ot,Et.style.transition=[xt.transitions.create("opacity",{duration:Vt,delay:Pt}),xt.transitions.create("transform",{duration:isWebKit154?Vt:Vt*.666,delay:Pt,easing:zt})].join(","),nt&&nt(Et,Lt)}),Ut=It(it),jt=It(ut),Xt=It(Et=>{const{duration:Lt,delay:Ot,easing:Pt}=getTransitionProps({style:dt,timeout:ft,easing:tt},{mode:"exit"});let zt;ft==="auto"?(zt=xt.transitions.getAutoHeightDuration(Et.clientHeight),gt.current=zt):zt=Lt,Et.style.transition=[xt.transitions.create("opacity",{duration:zt,delay:Ot}),xt.transitions.create("transform",{duration:isWebKit154?zt:zt*.666,delay:isWebKit154?Ot:Ot||zt*.333,easing:Pt})].join(","),Et.style.opacity=0,Et.style.transform=getScale(.75),st&&st(Et)}),kt=It(ct);return jsx(ht,_extends$2({appear:_e,in:rt,nodeRef:wt,onEnter:Dt,onEntered:Ut,onEntering:Tt,onExit:Xt,onExited:kt,onExiting:jt,addEndListener:Et=>{ft==="auto"&&yt.start(gt.current||0,Et),j&&j(wt.current,Et)},timeout:ft==="auto"?null:ft},pt,{children:(Et,Lt)=>reactExports.cloneElement(et,_extends$2({style:_extends$2({opacity:0,transform:getScale(.75),visibility:Et==="exited"&&!rt?"hidden":void 0},styles[Et],dt,et.props.style),ref:Mt},Lt))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow,_excluded$b=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$9=$=>{const{classes:o,disableUnderline:a}=$,_e=composeClasses({root:["root",!a&&"underline"],input:["input"]},getInputUtilityClass,o);return _extends$2({},o,_e)},InputRoot=styled$1(InputBaseRoot,{shouldForwardProp:$=>rootShouldForwardProp$1($)||$==="classes",name:"MuiInput",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[...rootOverridesResolver($,o),!a.disableUnderline&&o.underline]}})(({theme:$,ownerState:o})=>{let j=$.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return $.vars&&(j=`rgba(${$.vars.palette.common.onBackgroundChannel} / ${$.vars.opacity.inputUnderline})`),_extends$2({position:"relative"},o.formControl&&{"label + &":{marginTop:16}},!o.disableUnderline&&{"&::after":{borderBottom:`2px solid ${($.vars||$).palette[o.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:$.transitions.create("transform",{duration:$.transitions.duration.shorter,easing:$.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses$1.error}`]:{"&::before, &::after":{borderBottomColor:($.vars||$).palette.error.main}},"&::before":{borderBottom:`1px solid ${j}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:$.transitions.create("border-bottom-color",{duration:$.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses$1.disabled}, .${inputClasses$1.error}):before`]:{borderBottom:`2px solid ${($.vars||$).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${j}`}},[`&.${inputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled$1(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function(o,a){var j,_e,et,tt;const rt=useThemeProps({props:o,name:"MuiInput"}),{disableUnderline:nt,components:it={},componentsProps:ot,fullWidth:st=!1,inputComponent:ct="input",multiline:ut=!1,slotProps:dt,slots:ft={},type:ht="text"}=rt,pt=_objectWithoutPropertiesLoose(rt,_excluded$b),yt=useUtilityClasses$9(rt),xt={root:{ownerState:{disableUnderline:nt}}},wt=dt??ot?deepmerge$1(dt??ot,xt):xt,Mt=(j=(_e=ft.root)!=null?_e:it.Root)!=null?j:InputRoot,It=(et=(tt=ft.input)!=null?tt:it.Input)!=null?et:InputInput;return jsx(InputBase$1,_extends$2({slots:{root:Mt,input:It},slotProps:wt,fullWidth:st,inputComponent:ct,multiline:ut,ref:a,type:ht},pt,{classes:yt}))});Input.muiName="Input";const Input$1=Input;function getInputLabelUtilityClasses($){return generateUtilityClass("MuiInputLabel",$)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$a=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$8=$=>{const{classes:o,formControl:a,size:j,shrink:_e,disableAnimation:et,variant:tt,required:rt}=$,nt={root:["root",a&&"formControl",!et&&"animated",_e&&"shrink",j&&j!=="normal"&&`size${capitalize$1(j)}`,tt],asterisk:[rt&&"asterisk"]},it=composeClasses(nt,getInputLabelUtilityClasses,o);return _extends$2({},o,it)},InputLabelRoot=styled$1(FormLabel$1,{shouldForwardProp:$=>rootShouldForwardProp$1($)||$==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[{[`& .${formLabelClasses$1.asterisk}`]:o.asterisk},o.root,a.formControl&&o.formControl,a.size==="small"&&o.sizeSmall,a.shrink&&o.shrink,!a.disableAnimation&&o.animated,a.focused&&o.focused,o[a.variant]]}})(({theme:$,ownerState:o})=>_extends$2({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},o.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},o.size==="small"&&{transform:"translate(0, 17px) scale(1)"},o.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!o.disableAnimation&&{transition:$.transitions.create(["color","transform","max-width"],{duration:$.transitions.duration.shorter,easing:$.transitions.easing.easeOut})},o.variant==="filled"&&_extends$2({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},o.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},o.shrink&&_extends$2({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},o.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),o.variant==="outlined"&&_extends$2({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},o.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},o.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(o,a){const j=useThemeProps({name:"MuiInputLabel",props:o}),{disableAnimation:_e=!1,shrink:et,className:tt}=j,rt=_objectWithoutPropertiesLoose(j,_excluded$a),nt=useFormControl();let it=et;typeof it>"u"&&nt&&(it=nt.filled||nt.focused||nt.adornedStart);const ot=formControlState({props:j,muiFormControl:nt,states:["size","variant","required","focused"]}),st=_extends$2({},j,{disableAnimation:_e,formControl:nt,shrink:it,size:ot.size,variant:ot.variant,required:ot.required,focused:ot.focused}),ct=useUtilityClasses$8(st);return jsx(InputLabelRoot,_extends$2({"data-shrink":it,ownerState:st,ref:a,className:clsx(ct.root,tt)},rt,{classes:ct}))}),InputLabel$1=InputLabel,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass($){return generateUtilityClass("MuiList",$)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$9=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$7=$=>{const{classes:o,disablePadding:a,dense:j,subheader:_e}=$;return composeClasses({root:["root",!a&&"padding",j&&"dense",_e&&"subheader"]},getListUtilityClass,o)},ListRoot=styled$1("ul",{name:"MuiList",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,!a.disablePadding&&o.padding,a.dense&&o.dense,a.subheader&&o.subheader]}})(({ownerState:$})=>_extends$2({listStyle:"none",margin:0,padding:0,position:"relative"},!$.disablePadding&&{paddingTop:8,paddingBottom:8},$.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiList"}),{children:_e,className:et,component:tt="ul",dense:rt=!1,disablePadding:nt=!1,subheader:it}=j,ot=_objectWithoutPropertiesLoose(j,_excluded$9),st=reactExports.useMemo(()=>({dense:rt}),[rt]),ct=_extends$2({},j,{component:tt,dense:rt,disablePadding:nt}),ut=useUtilityClasses$7(ct);return jsx(ListContext$1.Provider,{value:st,children:jsxs(ListRoot,_extends$2({as:tt,className:clsx(ut.root,et),ref:a,ownerState:ct},ot,{children:[it,_e]}))})}),List$1=List,_excluded$8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem($,o,a){return $===o?$.firstChild:o&&o.nextElementSibling?o.nextElementSibling:a?null:$.firstChild}function previousItem($,o,a){return $===o?a?$.firstChild:$.lastChild:o&&o.previousElementSibling?o.previousElementSibling:a?null:$.lastChild}function textCriteriaMatches($,o){if(o===void 0)return!0;let a=$.innerText;return a===void 0&&(a=$.textContent),a=a.trim().toLowerCase(),a.length===0?!1:o.repeating?a[0]===o.keys[0]:a.indexOf(o.keys.join(""))===0}function moveFocus($,o,a,j,_e,et){let tt=!1,rt=_e($,o,o?a:!1);for(;rt;){if(rt===$.firstChild){if(tt)return!1;tt=!0}const nt=j?!1:rt.disabled||rt.getAttribute("aria-disabled")==="true";if(!rt.hasAttribute("tabindex")||!textCriteriaMatches(rt,et)||nt)rt=_e($,rt,a);else return rt.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(o,a){const{actions:j,autoFocus:_e=!1,autoFocusItem:et=!1,children:tt,className:rt,disabledItemsFocusable:nt=!1,disableListWrap:it=!1,onKeyDown:ot,variant:st="selectedMenu"}=o,ct=_objectWithoutPropertiesLoose(o,_excluded$8),ut=reactExports.useRef(null),dt=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect$1(()=>{_e&&ut.current.focus()},[_e]),reactExports.useImperativeHandle(j,()=>({adjustStyleForScrollbar:(gt,{direction:xt})=>{const wt=!ut.current.style.width;if(gt.clientHeight<ut.current.clientHeight&&wt){const Mt=`${getScrollbarSize(ownerDocument(gt))}px`;ut.current.style[xt==="rtl"?"paddingLeft":"paddingRight"]=Mt,ut.current.style.width=`calc(100% + ${Mt})`}return ut.current}}),[]);const ft=gt=>{const xt=ut.current,wt=gt.key,Mt=ownerDocument(xt).activeElement;if(wt==="ArrowDown")gt.preventDefault(),moveFocus(xt,Mt,it,nt,nextItem);else if(wt==="ArrowUp")gt.preventDefault(),moveFocus(xt,Mt,it,nt,previousItem);else if(wt==="Home")gt.preventDefault(),moveFocus(xt,null,it,nt,nextItem);else if(wt==="End")gt.preventDefault(),moveFocus(xt,null,it,nt,previousItem);else if(wt.length===1){const It=dt.current,Tt=wt.toLowerCase(),Dt=performance.now();It.keys.length>0&&(Dt-It.lastTime>500?(It.keys=[],It.repeating=!0,It.previousKeyMatched=!0):It.repeating&&Tt!==It.keys[0]&&(It.repeating=!1)),It.lastTime=Dt,It.keys.push(Tt);const Ut=Mt&&!It.repeating&&textCriteriaMatches(Mt,It);It.previousKeyMatched&&(Ut||moveFocus(xt,Mt,!1,nt,nextItem,It))?gt.preventDefault():It.previousKeyMatched=!1}ot&&ot(gt)},ht=useForkRef(ut,a);let pt=-1;reactExports.Children.forEach(tt,(gt,xt)=>{if(!reactExports.isValidElement(gt)){pt===xt&&(pt+=1,pt>=tt.length&&(pt=-1));return}gt.props.disabled||(st==="selectedMenu"&&gt.props.selected||pt===-1)&&(pt=xt),pt===xt&&(gt.props.disabled||gt.props.muiSkipListHighlight||gt.type.muiSkipListHighlight)&&(pt+=1,pt>=tt.length&&(pt=-1))});const yt=reactExports.Children.map(tt,(gt,xt)=>{if(xt===pt){const wt={};return et&&(wt.autoFocus=!0),gt.props.tabIndex===void 0&&st==="selectedMenu"&&(wt.tabIndex=0),reactExports.cloneElement(gt,wt)}return gt});return jsx(List$1,_extends$2({role:"menu",ref:ht,className:rt,onKeyDown:ft,tabIndex:_e?0:-1},ct,{children:yt}))}),MenuList$1=MenuList;function getPopoverUtilityClass($){return generateUtilityClass("MuiPopover",$)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$7=["onEntering"],_excluded2$2=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_excluded3=["slotProps"];function getOffsetTop($,o){let a=0;return typeof o=="number"?a=o:o==="center"?a=$.height/2:o==="bottom"&&(a=$.height),a}function getOffsetLeft($,o){let a=0;return typeof o=="number"?a=o:o==="center"?a=$.width/2:o==="right"&&(a=$.width),a}function getTransformOriginValue($){return[$.horizontal,$.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function resolveAnchorEl($){return typeof $=="function"?$():$}const useUtilityClasses$6=$=>{const{classes:o}=$;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,o)},PopoverRoot=styled$1(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:($,o)=>o.root})({}),PopoverPaper=styled$1(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:($,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(o,a){var j,_e,et;const tt=useThemeProps({props:o,name:"MuiPopover"}),{action:rt,anchorEl:nt,anchorOrigin:it={vertical:"top",horizontal:"left"},anchorPosition:ot,anchorReference:st="anchorEl",children:ct,className:ut,container:dt,elevation:ft=8,marginThreshold:ht=16,open:pt,PaperProps:yt={},slots:gt,slotProps:xt,transformOrigin:wt={vertical:"top",horizontal:"left"},TransitionComponent:Mt=Grow$1,transitionDuration:It="auto",TransitionProps:{onEntering:Tt}={},disableScrollLock:Dt=!1}=tt,Ut=_objectWithoutPropertiesLoose(tt.TransitionProps,_excluded$7),jt=_objectWithoutPropertiesLoose(tt,_excluded2$2),Xt=(j=xt==null?void 0:xt.paper)!=null?j:yt,kt=reactExports.useRef(),vt=useForkRef(kt,Xt.ref),Et=_extends$2({},tt,{anchorOrigin:it,anchorReference:st,elevation:ft,marginThreshold:ht,externalPaperSlotProps:Xt,transformOrigin:wt,TransitionComponent:Mt,transitionDuration:It,TransitionProps:Ut}),Lt=useUtilityClasses$6(Et),Ot=reactExports.useCallback(()=>{if(st==="anchorPosition")return ot;const lr=resolveAnchorEl(nt),Ar=(lr&&lr.nodeType===1?lr:ownerDocument(kt.current).body).getBoundingClientRect();return{top:Ar.top+getOffsetTop(Ar,it.vertical),left:Ar.left+getOffsetLeft(Ar,it.horizontal)}},[nt,it.horizontal,it.vertical,ot,st]),Pt=reactExports.useCallback(lr=>({vertical:getOffsetTop(lr,wt.vertical),horizontal:getOffsetLeft(lr,wt.horizontal)}),[wt.horizontal,wt.vertical]),zt=reactExports.useCallback(lr=>{const cr={width:lr.offsetWidth,height:lr.offsetHeight},Ar=Pt(cr);if(st==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(Ar)};const kr=Ot();let Dr=kr.top-Ar.vertical,Lr=kr.left-Ar.horizontal;const Ur=Dr+cr.height,Or=Lr+cr.width,Nr=ownerWindow(resolveAnchorEl(nt)),Jt=Nr.innerHeight-ht,Wt=Nr.innerWidth-ht;if(ht!==null&&Dr<ht){const ur=Dr-ht;Dr-=ur,Ar.vertical+=ur}else if(ht!==null&&Ur>Jt){const ur=Ur-Jt;Dr-=ur,Ar.vertical+=ur}if(ht!==null&&Lr<ht){const ur=Lr-ht;Lr-=ur,Ar.horizontal+=ur}else if(Or>Wt){const ur=Or-Wt;Lr-=ur,Ar.horizontal+=ur}return{top:`${Math.round(Dr)}px`,left:`${Math.round(Lr)}px`,transformOrigin:getTransformOriginValue(Ar)}},[nt,st,Ot,Pt,ht]),[Vt,$t]=reactExports.useState(pt),At=reactExports.useCallback(()=>{const lr=kt.current;if(!lr)return;const cr=zt(lr);cr.top!==null&&(lr.style.top=cr.top),cr.left!==null&&(lr.style.left=cr.left),lr.style.transformOrigin=cr.transformOrigin,$t(!0)},[zt]);reactExports.useEffect(()=>(Dt&&window.addEventListener("scroll",At),()=>window.removeEventListener("scroll",At)),[nt,Dt,At]);const Ht=(lr,cr)=>{Tt&&Tt(lr,cr),At()},ar=()=>{$t(!1)};reactExports.useEffect(()=>{pt&&At()}),reactExports.useImperativeHandle(rt,()=>pt?{updatePosition:()=>{At()}}:null,[pt,At]),reactExports.useEffect(()=>{if(!pt)return;const lr=debounce$1(()=>{At()}),cr=ownerWindow(nt);return cr.addEventListener("resize",lr),()=>{lr.clear(),cr.removeEventListener("resize",lr)}},[nt,pt,At]);let Rt=It;It==="auto"&&!Mt.muiSupportAuto&&(Rt=void 0);const Zt=dt||(nt?ownerDocument(resolveAnchorEl(nt)).body:void 0),ir=(_e=gt==null?void 0:gt.root)!=null?_e:PopoverRoot,sr=(et=gt==null?void 0:gt.paper)!=null?et:PopoverPaper,pr=useSlotProps({elementType:sr,externalSlotProps:_extends$2({},Xt,{style:Vt?Xt.style:_extends$2({},Xt.style,{opacity:0})}),additionalProps:{elevation:ft,ref:vt},ownerState:Et,className:clsx(Lt.paper,Xt==null?void 0:Xt.className)}),_r=useSlotProps({elementType:ir,externalSlotProps:(xt==null?void 0:xt.root)||{},externalForwardedProps:jt,additionalProps:{ref:a,slotProps:{backdrop:{invisible:!0}},container:Zt,open:pt},ownerState:Et,className:clsx(Lt.root,ut)}),{slotProps:fr}=_r,nr=_objectWithoutPropertiesLoose(_r,_excluded3);return jsx(ir,_extends$2({},nr,!isHostComponent(ir)&&{slotProps:fr,disableScrollLock:Dt},{children:jsx(Mt,_extends$2({appear:!0,in:pt,onEntering:Ht,onExited:ar,timeout:Rt},Ut,{children:jsx(sr,_extends$2({},pr,{children:ct}))}))}))}),Popover$1=Popover;function getMenuUtilityClass($){return generateUtilityClass("MuiMenu",$)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$6=["onEntering"],_excluded2$1=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$5=$=>{const{classes:o}=$;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,o)},MenuRoot=styled$1(Popover$1,{shouldForwardProp:$=>rootShouldForwardProp$1($)||$==="classes",name:"MuiMenu",slot:"Root",overridesResolver:($,o)=>o.root})({}),MenuPaper=styled$1(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:($,o)=>o.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled$1(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:($,o)=>o.list})({outline:0}),Menu=reactExports.forwardRef(function(o,a){var j,_e;const et=useThemeProps({props:o,name:"MuiMenu"}),{autoFocus:tt=!0,children:rt,className:nt,disableAutoFocusItem:it=!1,MenuListProps:ot={},onClose:st,open:ct,PaperProps:ut={},PopoverClasses:dt,transitionDuration:ft="auto",TransitionProps:{onEntering:ht}={},variant:pt="selectedMenu",slots:yt={},slotProps:gt={}}=et,xt=_objectWithoutPropertiesLoose(et.TransitionProps,_excluded$6),wt=_objectWithoutPropertiesLoose(et,_excluded2$1),Mt=useRtl(),It=_extends$2({},et,{autoFocus:tt,disableAutoFocusItem:it,MenuListProps:ot,onEntering:ht,PaperProps:ut,transitionDuration:ft,TransitionProps:xt,variant:pt}),Tt=useUtilityClasses$5(It),Dt=tt&&!it&&ct,Ut=reactExports.useRef(null),jt=(Pt,zt)=>{Ut.current&&Ut.current.adjustStyleForScrollbar(Pt,{direction:Mt?"rtl":"ltr"}),ht&&ht(Pt,zt)},Xt=Pt=>{Pt.key==="Tab"&&(Pt.preventDefault(),st&&st(Pt,"tabKeyDown"))};let kt=-1;reactExports.Children.map(rt,(Pt,zt)=>{reactExports.isValidElement(Pt)&&(Pt.props.disabled||(pt==="selectedMenu"&&Pt.props.selected||kt===-1)&&(kt=zt))});const vt=(j=yt.paper)!=null?j:MenuPaper,Et=(_e=gt.paper)!=null?_e:ut,Lt=useSlotProps({elementType:yt.root,externalSlotProps:gt.root,ownerState:It,className:[Tt.root,nt]}),Ot=useSlotProps({elementType:vt,externalSlotProps:Et,ownerState:It,className:Tt.paper});return jsx(MenuRoot,_extends$2({onClose:st,anchorOrigin:{vertical:"bottom",horizontal:Mt?"right":"left"},transformOrigin:Mt?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:vt,root:yt.root},slotProps:{root:Lt,paper:Ot},open:ct,ref:a,transitionDuration:ft,TransitionProps:_extends$2({onEntering:jt},xt),ownerState:It},wt,{classes:dt,children:jsx(MenuMenuList,_extends$2({onKeyDown:Xt,actions:Ut,autoFocus:tt&&(kt===-1||it),autoFocusItem:Dt,variant:pt},ot,{className:clsx(Tt.list,ot.className),children:rt}))}))}),Menu$1=Menu;function getNativeSelectUtilityClasses($){return generateUtilityClass("MuiNativeSelect",$)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$5=["className","disabled","error","IconComponent","inputRef","variant"],useUtilityClasses$4=$=>{const{classes:o,variant:a,disabled:j,multiple:_e,open:et,error:tt}=$,rt={select:["select",a,j&&"disabled",_e&&"multiple",tt&&"error"],icon:["icon",`icon${capitalize$1(a)}`,et&&"iconOpen",j&&"disabled"]};return composeClasses(rt,getNativeSelectUtilityClasses,o)},nativeSelectSelectStyles=({ownerState:$,theme:o})=>_extends$2({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends$2({},o.vars?{backgroundColor:`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:o.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(o.vars||o).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},$.variant==="filled"&&{"&&&":{paddingRight:32}},$.variant==="outlined"&&{borderRadius:(o.vars||o).shape.borderRadius,"&:focus":{borderRadius:(o.vars||o).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled$1("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp$1,overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.select,o[a.variant],a.error&&o.error,{[`&.${nativeSelectClasses$1.multiple}`]:o.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:$,theme:o})=>_extends$2({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(o.vars||o).palette.action.active,[`&.${nativeSelectClasses$1.disabled}`]:{color:(o.vars||o).palette.action.disabled}},$.open&&{transform:"rotate(180deg)"},$.variant==="filled"&&{right:7},$.variant==="outlined"&&{right:7}),NativeSelectIcon=styled$1("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.icon,a.variant&&o[`icon${capitalize$1(a.variant)}`],a.open&&o.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(o,a){const{className:j,disabled:_e,error:et,IconComponent:tt,inputRef:rt,variant:nt="standard"}=o,it=_objectWithoutPropertiesLoose(o,_excluded$5),ot=_extends$2({},o,{disabled:_e,variant:nt,error:et}),st=useUtilityClasses$4(ot);return jsxs(reactExports.Fragment,{children:[jsx(NativeSelectSelect,_extends$2({ownerState:ot,className:clsx(st.select,j),disabled:_e,ref:rt||a},it)),o.multiple?null:jsx(NativeSelectIcon,{as:tt,ownerState:ot,className:st.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$4=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled$1("fieldset",{shouldForwardProp:rootShouldForwardProp$1})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled$1("legend",{shouldForwardProp:rootShouldForwardProp$1})(({ownerState:$,theme:o})=>_extends$2({float:"unset",width:"auto",overflow:"hidden"},!$.withLabel&&{padding:0,lineHeight:"11px",transition:o.transitions.create("width",{duration:150,easing:o.transitions.easing.easeOut})},$.withLabel&&_extends$2({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:o.transitions.create("max-width",{duration:50,easing:o.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},$.notched&&{maxWidth:"100%",transition:o.transitions.create("max-width",{duration:100,easing:o.transitions.easing.easeOut,delay:50})})));function NotchedOutline($){const{className:o,label:a,notched:j}=$,_e=_objectWithoutPropertiesLoose($,_excluded$4),et=a!=null&&a!=="",tt=_extends$2({},$,{notched:j,withLabel:et});return jsx(NotchedOutlineRoot$1,_extends$2({"aria-hidden":!0,className:o,ownerState:tt},_e,{children:jsx(NotchedOutlineLegend,{ownerState:tt,children:et?jsx("span",{children:a}):_span$1||(_span$1=jsx("span",{className:"notranslate",children:"​"}))})}))}const _excluded$3=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$3=$=>{const{classes:o}=$,j=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,o);return _extends$2({},o,j)},OutlinedInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:$=>rootShouldForwardProp$1($)||$==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:$,ownerState:o})=>{const a=$.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$2({position:"relative",borderRadius:($.vars||$).shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:($.vars||$).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:$.vars?`rgba(${$.vars.palette.common.onBackgroundChannel} / 0.23)`:a}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:($.vars||$).palette[o.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:($.vars||$).palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:($.vars||$).palette.action.disabled}},o.startAdornment&&{paddingLeft:14},o.endAdornment&&{paddingRight:14},o.multiline&&_extends$2({padding:"16.5px 14px"},o.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled$1(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:($,o)=>o.notchedOutline})(({theme:$})=>{const o=$.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:$.vars?`rgba(${$.vars.palette.common.onBackgroundChannel} / 0.23)`:o}}),OutlinedInputInput=styled$1(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:$,ownerState:o})=>_extends$2({padding:"16.5px 14px"},!$.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:$.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:$.palette.mode==="light"?null:"#fff",caretColor:$.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},$.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[$.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},o.size==="small"&&{padding:"8.5px 14px"},o.multiline&&{padding:0},o.startAdornment&&{paddingLeft:0},o.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(o,a){var j,_e,et,tt,rt;const nt=useThemeProps({props:o,name:"MuiOutlinedInput"}),{components:it={},fullWidth:ot=!1,inputComponent:st="input",label:ct,multiline:ut=!1,notched:dt,slots:ft={},type:ht="text"}=nt,pt=_objectWithoutPropertiesLoose(nt,_excluded$3),yt=useUtilityClasses$3(nt),gt=useFormControl(),xt=formControlState({props:nt,muiFormControl:gt,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),wt=_extends$2({},nt,{color:xt.color||"primary",disabled:xt.disabled,error:xt.error,focused:xt.focused,formControl:gt,fullWidth:ot,hiddenLabel:xt.hiddenLabel,multiline:ut,size:xt.size,type:ht}),Mt=(j=(_e=ft.root)!=null?_e:it.Root)!=null?j:OutlinedInputRoot,It=(et=(tt=ft.input)!=null?tt:it.Input)!=null?et:OutlinedInputInput;return jsx(InputBase$1,_extends$2({slots:{root:Mt,input:It},renderSuffix:Tt=>jsx(NotchedOutlineRoot,{ownerState:wt,className:yt.notchedOutline,label:ct!=null&&ct!==""&&xt.required?rt||(rt=jsxs(reactExports.Fragment,{children:[ct," ","*"]})):ct,notched:typeof dt<"u"?dt:!!(Tt.startAdornment||Tt.filled||Tt.focused)}),fullWidth:ot,inputComponent:st,multiline:ut,ref:a,type:ht},pt,{classes:_extends$2({},yt,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput;function getSelectUtilityClasses($){return generateUtilityClass("MuiSelect",$)}const selectClasses=generateUtilityClasses("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),selectClasses$1=selectClasses;var _span;const _excluded$2=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled$1("div",{name:"MuiSelect",slot:"Select",overridesResolver:($,o)=>{const{ownerState:a}=$;return[{[`&.${selectClasses$1.select}`]:o.select},{[`&.${selectClasses$1.select}`]:o[a.variant]},{[`&.${selectClasses$1.error}`]:o.error},{[`&.${selectClasses$1.multiple}`]:o.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses$1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled$1("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.icon,a.variant&&o[`icon${capitalize$1(a.variant)}`],a.open&&o.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled$1("input",{shouldForwardProp:$=>slotShouldForwardProp($)&&$!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:($,o)=>o.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues($,o){return typeof o=="object"&&o!==null?$===o:String($)===String(o)}function isEmpty($){return $==null||typeof $=="string"&&!$.trim()}const useUtilityClasses$2=$=>{const{classes:o,variant:a,disabled:j,multiple:_e,open:et,error:tt}=$,rt={select:["select",a,j&&"disabled",_e&&"multiple",tt&&"error"],icon:["icon",`icon${capitalize$1(a)}`,et&&"iconOpen",j&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(rt,getSelectUtilityClasses,o)},SelectInput=reactExports.forwardRef(function(o,a){var j;const{"aria-describedby":_e,"aria-label":et,autoFocus:tt,autoWidth:rt,children:nt,className:it,defaultOpen:ot,defaultValue:st,disabled:ct,displayEmpty:ut,error:dt=!1,IconComponent:ft,inputRef:ht,labelId:pt,MenuProps:yt={},multiple:gt,name:xt,onBlur:wt,onChange:Mt,onClose:It,onFocus:Tt,onOpen:Dt,open:Ut,readOnly:jt,renderValue:Xt,SelectDisplayProps:kt={},tabIndex:vt,value:Et,variant:Lt="standard"}=o,Ot=_objectWithoutPropertiesLoose(o,_excluded$2),[Pt,zt]=useControlled({controlled:Et,default:st,name:"Select"}),[Vt,$t]=useControlled({controlled:Ut,default:ot,name:"Select"}),At=reactExports.useRef(null),Ht=reactExports.useRef(null),[ar,Rt]=reactExports.useState(null),{current:Zt}=reactExports.useRef(Ut!=null),[ir,sr]=reactExports.useState(),pr=useForkRef(a,ht),_r=reactExports.useCallback(er=>{Ht.current=er,er&&Rt(er)},[]),fr=ar==null?void 0:ar.parentNode;reactExports.useImperativeHandle(pr,()=>({focus:()=>{Ht.current.focus()},node:At.current,value:Pt}),[Pt]),reactExports.useEffect(()=>{ot&&Vt&&ar&&!Zt&&(sr(rt?null:fr.clientWidth),Ht.current.focus())},[ar,rt]),reactExports.useEffect(()=>{tt&&Ht.current.focus()},[tt]),reactExports.useEffect(()=>{if(!pt)return;const er=ownerDocument(Ht.current).getElementById(pt);if(er){const Cr=()=>{getSelection().isCollapsed&&Ht.current.focus()};return er.addEventListener("click",Cr),()=>{er.removeEventListener("click",Cr)}}},[pt]);const nr=(er,Cr)=>{er?Dt&&Dt(Cr):It&&It(Cr),Zt||(sr(rt?null:fr.clientWidth),$t(er))},lr=er=>{er.button===0&&(er.preventDefault(),Ht.current.focus(),nr(!0,er))},cr=er=>{nr(!1,er)},Ar=reactExports.Children.toArray(nt),kr=er=>{const Cr=Ar.find(Br=>Br.props.value===er.target.value);Cr!==void 0&&(zt(Cr.props.value),Mt&&Mt(er,Cr))},Dr=er=>Cr=>{let Br;if(Cr.currentTarget.hasAttribute("tabindex")){if(gt){Br=Array.isArray(Pt)?Pt.slice():[];const Yt=Pt.indexOf(er.props.value);Yt===-1?Br.push(er.props.value):Br.splice(Yt,1)}else Br=er.props.value;if(er.props.onClick&&er.props.onClick(Cr),Pt!==Br&&(zt(Br),Mt)){const Yt=Cr.nativeEvent||Cr,br=new Yt.constructor(Yt.type,Yt);Object.defineProperty(br,"target",{writable:!0,value:{value:Br,name:xt}}),Mt(br,er)}gt||nr(!1,Cr)}},Lr=er=>{jt||[" ","ArrowUp","ArrowDown","Enter"].indexOf(er.key)!==-1&&(er.preventDefault(),nr(!0,er))},Ur=ar!==null&&Vt,Or=er=>{!Ur&&wt&&(Object.defineProperty(er,"target",{writable:!0,value:{value:Pt,name:xt}}),wt(er))};delete Ot["aria-invalid"];let Nr,Jt;const Wt=[];let ur=!1;(isFilled({value:Pt})||ut)&&(Xt?Nr=Xt(Pt):ur=!0);const Pr=Ar.map(er=>{if(!reactExports.isValidElement(er))return null;let Cr;if(gt){if(!Array.isArray(Pt))throw new Error(formatMuiErrorMessage$1(2));Cr=Pt.some(Br=>areEqualValues(Br,er.props.value)),Cr&&ur&&Wt.push(er.props.children)}else Cr=areEqualValues(Pt,er.props.value),Cr&&ur&&(Jt=er.props.children);return reactExports.cloneElement(er,{"aria-selected":Cr?"true":"false",onClick:Dr(er),onKeyUp:Br=>{Br.key===" "&&Br.preventDefault(),er.props.onKeyUp&&er.props.onKeyUp(Br)},role:"option",selected:Cr,value:void 0,"data-value":er.props.value})});ur&&(gt?Wt.length===0?Nr=null:Nr=Wt.reduce((er,Cr,Br)=>(er.push(Cr),Br<Wt.length-1&&er.push(", "),er),[]):Nr=Jt);let Tr=ir;!rt&&Zt&&ar&&(Tr=fr.clientWidth);let Ft;typeof vt<"u"?Ft=vt:Ft=ct?null:0;const St=kt.id||(xt?`mui-component-select-${xt}`:void 0),Ct=_extends$2({},o,{variant:Lt,value:Pt,open:Ur,error:dt}),Gt=useUtilityClasses$2(Ct),Qt=_extends$2({},yt.PaperProps,(j=yt.slotProps)==null?void 0:j.paper),rr=useId();return jsxs(reactExports.Fragment,{children:[jsx(SelectSelect,_extends$2({ref:_r,tabIndex:Ft,role:"combobox","aria-controls":rr,"aria-disabled":ct?"true":void 0,"aria-expanded":Ur?"true":"false","aria-haspopup":"listbox","aria-label":et,"aria-labelledby":[pt,St].filter(Boolean).join(" ")||void 0,"aria-describedby":_e,onKeyDown:Lr,onMouseDown:ct||jt?null:lr,onBlur:Or,onFocus:Tt},kt,{ownerState:Ct,className:clsx(kt.className,Gt.select,it),id:St,children:isEmpty(Nr)?_span||(_span=jsx("span",{className:"notranslate",children:"​"})):Nr})),jsx(SelectNativeInput,_extends$2({"aria-invalid":dt,value:Array.isArray(Pt)?Pt.join(","):Pt,name:xt,ref:At,"aria-hidden":!0,onChange:kr,tabIndex:-1,disabled:ct,className:Gt.nativeInput,autoFocus:tt,ownerState:Ct},Ot)),jsx(SelectIcon,{as:ft,className:Gt.icon,ownerState:Ct}),jsx(Menu$1,_extends$2({id:`menu-${xt||""}`,anchorEl:fr,open:Ur,onClose:cr,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},yt,{MenuListProps:_extends$2({"aria-labelledby":pt,role:"listbox","aria-multiselectable":gt?"true":void 0,disableListWrap:!0,id:rr},yt.MenuListProps),slotProps:_extends$2({},yt.slotProps,{paper:_extends$2({},Qt,{style:_extends$2({minWidth:Tr},Qt!=null?Qt.style:null)})}),children:Pr}))]})}),SelectInput$1=SelectInput,_excluded$1=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_excluded2=["root"],useUtilityClasses$1=$=>{const{classes:o}=$;return o},styledRootConfig={name:"MuiSelect",overridesResolver:($,o)=>o.root,shouldForwardProp:$=>rootShouldForwardProp$1($)&&$!=="variant",slot:"Root"},StyledInput=styled$1(Input$1,styledRootConfig)(""),StyledOutlinedInput=styled$1(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled$1(FilledInput$1,styledRootConfig)(""),Select=reactExports.forwardRef(function(o,a){const j=useThemeProps({name:"MuiSelect",props:o}),{autoWidth:_e=!1,children:et,classes:tt={},className:rt,defaultOpen:nt=!1,displayEmpty:it=!1,IconComponent:ot=ArrowDropDownIcon,id:st,input:ct,inputProps:ut,label:dt,labelId:ft,MenuProps:ht,multiple:pt=!1,native:yt=!1,onClose:gt,onOpen:xt,open:wt,renderValue:Mt,SelectDisplayProps:It,variant:Tt="outlined"}=j,Dt=_objectWithoutPropertiesLoose(j,_excluded$1),Ut=yt?NativeSelectInput$1:SelectInput$1,jt=useFormControl(),Xt=formControlState({props:j,muiFormControl:jt,states:["variant","error"]}),kt=Xt.variant||Tt,vt=_extends$2({},j,{variant:kt,classes:tt}),Et=useUtilityClasses$1(vt),Lt=_objectWithoutPropertiesLoose(Et,_excluded2),Ot=ct||{standard:jsx(StyledInput,{ownerState:vt}),outlined:jsx(StyledOutlinedInput,{label:dt,ownerState:vt}),filled:jsx(StyledFilledInput,{ownerState:vt})}[kt],Pt=useForkRef(a,Ot.ref);return jsx(reactExports.Fragment,{children:reactExports.cloneElement(Ot,_extends$2({inputComponent:Ut,inputProps:_extends$2({children:et,error:Xt.error,IconComponent:ot,variant:kt,type:void 0,multiple:pt},yt?{id:st}:{autoWidth:_e,defaultOpen:nt,displayEmpty:it,labelId:ft,MenuProps:ht,onClose:gt,onOpen:xt,open:wt,renderValue:Mt,SelectDisplayProps:_extends$2({id:st},It)},ut,{classes:ut?deepmerge$1(Lt,ut.classes):Lt},ct?ct.props.inputProps:{})},(pt&&yt||it)&&kt==="outlined"?{notched:!0}:{},{ref:Pt,className:clsx(Ot.props.className,rt,Et.root)},!ct&&{variant:kt},Dt))})});Select.muiName="Select";const Select$1=Select;function getTextFieldUtilityClass($){return generateUtilityClass("MuiTextField",$)}generateUtilityClasses("MuiTextField",["root"]);const _excluded=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$1,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses=$=>{const{classes:o}=$;return composeClasses({root:["root"]},getTextFieldUtilityClass,o)},TextFieldRoot=styled$1(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:($,o)=>o.root})({}),TextField=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiTextField"}),{autoComplete:_e,autoFocus:et=!1,children:tt,className:rt,color:nt="primary",defaultValue:it,disabled:ot=!1,error:st=!1,FormHelperTextProps:ct,fullWidth:ut=!1,helperText:dt,id:ft,InputLabelProps:ht,inputProps:pt,InputProps:yt,inputRef:gt,label:xt,maxRows:wt,minRows:Mt,multiline:It=!1,name:Tt,onBlur:Dt,onChange:Ut,onFocus:jt,placeholder:Xt,required:kt=!1,rows:vt,select:Et=!1,SelectProps:Lt,type:Ot,value:Pt,variant:zt="outlined"}=j,Vt=_objectWithoutPropertiesLoose(j,_excluded),$t=_extends$2({},j,{autoFocus:et,color:nt,disabled:ot,error:st,fullWidth:ut,multiline:It,required:kt,select:Et,variant:zt}),At=useUtilityClasses($t),Ht={};zt==="outlined"&&(ht&&typeof ht.shrink<"u"&&(Ht.notched=ht.shrink),Ht.label=xt),Et&&((!Lt||!Lt.native)&&(Ht.id=void 0),Ht["aria-describedby"]=void 0);const ar=useId(ft),Rt=dt&&ar?`${ar}-helper-text`:void 0,Zt=xt&&ar?`${ar}-label`:void 0,ir=variantComponent[zt],sr=jsx(ir,_extends$2({"aria-describedby":Rt,autoComplete:_e,autoFocus:et,defaultValue:it,fullWidth:ut,multiline:It,name:Tt,rows:vt,maxRows:wt,minRows:Mt,type:Ot,value:Pt,id:ar,inputRef:gt,onBlur:Dt,onChange:Ut,onFocus:jt,placeholder:Xt,inputProps:pt},Ht,yt));return jsxs(TextFieldRoot,_extends$2({className:clsx(At.root,rt),disabled:ot,error:st,fullWidth:ut,ref:a,required:kt,color:nt,variant:zt,ownerState:$t},Vt,{children:[xt!=null&&xt!==""&&jsx(InputLabel$1,_extends$2({htmlFor:ar,id:Zt},ht,{children:xt})),Et?jsx(Select$1,_extends$2({"aria-describedby":Rt,id:ar,labelId:Zt,value:Pt,input:sr},Lt,{children:tt})):sr,dt&&jsx(FormHelperText$1,_extends$2({id:Rt},ct,{children:dt}))]}))}),TextField$1=TextField;function getIterator($){if(typeof $.next=="function")return $;if(typeof $[Symbol.iterator]=="function")return $[Symbol.iterator]();if(typeof $[Symbol.asyncIterator]=="function")return $[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function defer(){let $,o;return{promise:new Promise((j,_e)=>{o=j,$=_e}),reject:$,resolve:o}}function _transform($,o,a){const j=getIterator(a),_e=[],et=[];let tt=!1,rt=!1,nt=0,it=null;function ot(){for(;et.length>0&&_e.length>0;){const{resolve:ft}=et.shift(),ht=_e.shift();ft({done:!1,value:ht})}for(;et.length>0&&nt===0&&tt;){const{resolve:ft,reject:ht}=et.shift();it?(ht(it),it=null):ft({done:!0,value:void 0})}}async function st(){if(tt){ot();return}if(!rt&&!(nt+_e.length>=$)){rt=!0,nt++;try{const{done:ft,value:ht}=await j.next();ft?(tt=!0,nt--,ot()):ct(ht)}catch(ft){tt=!0,nt--,it=ft,ot()}rt=!1,st()}}async function ct(ft){try{const ht=await o(ft);_e.push(ht)}catch(ht){tt=!0,it=ht}nt--,ot(),st()}async function ut(){if(_e.length===0){const ht=defer();return et.push(ht),st(),ht.promise}const ft=_e.shift();return st(),{done:!1,value:ft}}const dt={next:ut,[Symbol.asyncIterator]:()=>dt};return dt}function transform($,o,a){return o===void 0?(j,_e)=>_e?transform($,j,_e):transform($,j):a===void 0?j=>transform($,o,j):_transform($,o,a)}var pRetry$2={exports:{}},retry$2={};function RetryOperation($,o){typeof o=="boolean"&&(o={forever:o}),this._originalTimeouts=JSON.parse(JSON.stringify($)),this._timeouts=$,this._options=o||{},this._maxRetryTime=o&&o.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function($){if(this._timeout&&clearTimeout(this._timeout),!$)return!1;var o=new Date().getTime();if($&&o-this._operationStart>=this._maxRetryTime)return this._errors.push($),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push($);var a=this._timeouts.shift();if(a===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),a=this._cachedTimeouts.slice(-1);else return!1;var j=this;return this._timer=setTimeout(function(){j._attempts++,j._operationTimeoutCb&&(j._timeout=setTimeout(function(){j._operationTimeoutCb(j._attempts)},j._operationTimeout),j._options.unref&&j._timeout.unref()),j._fn(j._attempts)},a),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function($,o){this._fn=$,o&&(o.timeout&&(this._operationTimeout=o.timeout),o.cb&&(this._operationTimeoutCb=o.cb));var a=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){a._operationTimeoutCb()},a._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function($){console.log("Using RetryOperation.try() is deprecated"),this.attempt($)};RetryOperation.prototype.start=function($){console.log("Using RetryOperation.start() is deprecated"),this.attempt($)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var $={},o=null,a=0,j=0;j<this._errors.length;j++){var _e=this._errors[j],et=_e.message,tt=($[et]||0)+1;$[et]=tt,tt>=a&&(o=_e,a=tt)}return o};(function($){var o=retry_operation;$.operation=function(a){var j=$.timeouts(a);return new o(j,{forever:a&&(a.forever||a.retries===1/0),unref:a&&a.unref,maxRetryTime:a&&a.maxRetryTime})},$.timeouts=function(a){if(a instanceof Array)return[].concat(a);var j={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var _e in a)j[_e]=a[_e];if(j.minTimeout>j.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var et=[],tt=0;tt<j.retries;tt++)et.push(this.createTimeout(tt,j));return a&&a.forever&&!et.length&&et.push(this.createTimeout(tt,j)),et.sort(function(rt,nt){return rt-nt}),et},$.createTimeout=function(a,j){var _e=j.randomize?Math.random()+1:1,et=Math.round(_e*Math.max(j.minTimeout,1)*Math.pow(j.factor,a));return et=Math.min(et,j.maxTimeout),et},$.wrap=function(a,j,_e){if(j instanceof Array&&(_e=j,j=null),!_e){_e=[];for(var et in a)typeof a[et]=="function"&&_e.push(et)}for(var tt=0;tt<_e.length;tt++){var rt=_e[tt],nt=a[rt];a[rt]=(function(ot){var st=$.operation(j),ct=Array.prototype.slice.call(arguments,1),ut=ct.pop();ct.push(function(dt){st.retry(dt)||(dt&&(arguments[0]=st.mainError()),ut.apply(this,arguments))}),st.attempt(function(){ot.apply(a,ct)})}).bind(a,nt),a[rt].options=j}}})(retry$2);var retry$1=retry$2;const retry=retry$1,networkErrorMsgs=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class AbortError extends Error{constructor(o){super(),o instanceof Error?(this.originalError=o,{message:o}=o):(this.originalError=new Error(o),this.originalError.stack=this.stack),this.name="AbortError",this.message=o}}const decorateErrorWithCounts=($,o,a)=>{const j=a.retries-(o-1);return $.attemptNumber=o,$.retriesLeft=j,$},isNetworkError=$=>networkErrorMsgs.includes($),pRetry=($,o)=>new Promise((a,j)=>{o={onFailedAttempt:()=>{},retries:10,...o};const _e=retry.operation(o);_e.attempt(async et=>{try{a(await $(et))}catch(tt){if(!(tt instanceof Error)){j(new TypeError(`Non-error was thrown: "${tt}". You should only throw errors.`));return}if(tt instanceof AbortError)_e.stop(),j(tt.originalError);else if(tt instanceof TypeError&&!isNetworkError(tt.message))_e.stop(),j(tt);else{decorateErrorWithCounts(tt,et,o);try{await o.onFailedAttempt(tt)}catch(rt){j(rt);return}_e.retry(tt)||j(_e.mainError())}}})});pRetry$2.exports=pRetry;pRetry$2.exports.default=pRetry;var AbortError_1=pRetry$2.exports.AbortError=AbortError,pRetryExports=pRetry$2.exports;const pRetry$1=getDefaultExportFromCjs(pRetryExports),last=async $=>{let o;for await(const a of $)o=a;return o};var itLast=last;const last$1=getDefaultExportFromCjs(itLast);var itPipe={exports:{}};const rawPipe=(...$)=>{let o;for(;$.length;)o=$.shift()(o);return o},isIterable$1=$=>$&&(typeof $[Symbol.asyncIterator]=="function"||typeof $[Symbol.iterator]=="function"||typeof $.next=="function"),isDuplex=$=>$&&typeof $.sink=="function"&&isIterable$1($.source),duplexPipelineFn=$=>o=>($.sink(o),$.source),pipe=(...$)=>{if(isDuplex($[0])){const o=$[0];$[0]=()=>o.source}else if(isIterable$1($[0])){const o=$[0];$[0]=()=>o}if($.length>1&&isDuplex($[$.length-1])&&($[$.length-1]=$[$.length-1].sink),$.length>2)for(let o=1;o<$.length-1;o++)isDuplex($[o])&&($[o]=duplexPipelineFn($[o]));return rawPipe(...$)};itPipe.exports=pipe;itPipe.exports.pipe=pipe;itPipe.exports.rawPipe=rawPipe;itPipe.exports.isIterable=isIterable$1;itPipe.exports.isDuplex=isDuplex;var itPipeExports=itPipe.exports;const pipe$1=getDefaultExportFromCjs(itPipeExports);var encode_1$1=encode$9,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$9($,o,a){if(Number.MAX_SAFE_INTEGER&&$>Number.MAX_SAFE_INTEGER)throw encode$9.bytes=0,new RangeError("Could not encode varint");o=o||[],a=a||0;for(var j=a;$>=INT$1;)o[a++]=$&255|MSB$3,$/=128;for(;$&MSBALL$1;)o[a++]=$&255|MSB$3,$>>>=7;return o[a]=$|0,encode$9.bytes=a-j+1,o}var decode$a=read$1,MSB$2=128,REST$2=127;function read$1($,j){var a=0,j=j||0,_e=0,et=j,tt,rt=$.length;do{if(et>=rt||_e>49)throw read$1.bytes=0,new RangeError("Could not decode varint");tt=$[et++],a+=_e<28?(tt&REST$2)<<_e:(tt&REST$2)*Math.pow(2,_e),_e+=7}while(tt>=MSB$2);return read$1.bytes=et-j,a}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function($){return $<N1$1?1:$<N2$1?2:$<N3$1?3:$<N4$1?4:$<N5$1?5:$<N6$1?6:$<N7$1?7:$<N8$1?8:$<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$a,encodingLength:length$1};const varint$2=getDefaultExportFromCjs(varint$1);var encode_1=encode$8,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$8($,o,a){o=o||[],a=a||0;for(var j=a;$>=INT;)o[a++]=$&255|MSB,$/=128;for(;$&MSBALL;)o[a++]=$&255|MSB,$>>>=7;return o[a]=$|0,encode$8.bytes=a-j+1,o}var decode$9=read,MSB$1=128,REST$1=127;function read($,j){var a=0,j=j||0,_e=0,et=j,tt,rt=$.length;do{if(et>=rt)throw read.bytes=0,new RangeError("Could not decode varint");tt=$[et++],a+=_e<28?(tt&REST$1)<<_e:(tt&REST$1)*Math.pow(2,_e),_e+=7}while(tt>=MSB$1);return read.bytes=et-j,a}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function($){return $<N1?1:$<N2?2:$<N3?3:$<N4?4:$<N5?5:$<N6?6:$<N7?7:$<N8?8:$<N9?9:10},varint={encode:encode_1,decode:decode$9,encodingLength:length},_brrp_varint=varint;const decode$8=($,o=0)=>[_brrp_varint.decode($,o),_brrp_varint.decode.bytes],encodeTo=($,o,a=0)=>(_brrp_varint.encode($,o,a),o),encodingLength=$=>_brrp_varint.encodingLength($),empty=new Uint8Array(0),fromHex=$=>{const o=$.match(/../g);return o?new Uint8Array(o.map(a=>parseInt(a,16))):empty},equals$3=($,o)=>{if($===o)return!0;if($.byteLength!==o.byteLength)return!1;for(let a=0;a<$.byteLength;a++)if($[a]!==o[a])return!1;return!0},coerce=$=>{if($ instanceof Uint8Array&&$.constructor.name==="Uint8Array")return $;if($ instanceof ArrayBuffer)return new Uint8Array($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength);throw new Error("Unknown type, must be binary type")},fromString$3=$=>new TextEncoder().encode($),toString$1=$=>new TextDecoder().decode($),create$5=($,o)=>{const a=o.byteLength,j=encodingLength($),_e=j+encodingLength(a),et=new Uint8Array(_e+a);return encodeTo($,et,0),encodeTo(a,et,j),et.set(o,_e),new Digest($,a,o,et)},decode$7=$=>{const o=coerce($),[a,j]=decode$8(o),[_e,et]=decode$8(o.subarray(j)),tt=o.subarray(j+et);if(tt.byteLength!==_e)throw new Error("Incorrect length");return new Digest(a,_e,tt,o)},equals$2=($,o)=>$===o?!0:$.code===o.code&&$.size===o.size&&equals$3($.bytes,o.bytes);class Digest{constructor(o,a,j,_e){this.code=o,this.size=a,this.digest=j,this.bytes=_e}}function base($,o){if($.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),j=0;j<a.length;j++)a[j]=255;for(var _e=0;_e<$.length;_e++){var et=$.charAt(_e),tt=et.charCodeAt(0);if(a[tt]!==255)throw new TypeError(et+" is ambiguous");a[tt]=_e}var rt=$.length,nt=$.charAt(0),it=Math.log(rt)/Math.log(256),ot=Math.log(256)/Math.log(rt);function st(dt){if(dt instanceof Uint8Array||(ArrayBuffer.isView(dt)?dt=new Uint8Array(dt.buffer,dt.byteOffset,dt.byteLength):Array.isArray(dt)&&(dt=Uint8Array.from(dt))),!(dt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(dt.length===0)return"";for(var ft=0,ht=0,pt=0,yt=dt.length;pt!==yt&&dt[pt]===0;)pt++,ft++;for(var gt=(yt-pt)*ot+1>>>0,xt=new Uint8Array(gt);pt!==yt;){for(var wt=dt[pt],Mt=0,It=gt-1;(wt!==0||Mt<ht)&&It!==-1;It--,Mt++)wt+=256*xt[It]>>>0,xt[It]=wt%rt>>>0,wt=wt/rt>>>0;if(wt!==0)throw new Error("Non-zero carry");ht=Mt,pt++}for(var Tt=gt-ht;Tt!==gt&&xt[Tt]===0;)Tt++;for(var Dt=nt.repeat(ft);Tt<gt;++Tt)Dt+=$.charAt(xt[Tt]);return Dt}function ct(dt){if(typeof dt!="string")throw new TypeError("Expected String");if(dt.length===0)return new Uint8Array;var ft=0;if(dt[ft]!==" "){for(var ht=0,pt=0;dt[ft]===nt;)ht++,ft++;for(var yt=(dt.length-ft)*it+1>>>0,gt=new Uint8Array(yt);dt[ft];){var xt=a[dt.charCodeAt(ft)];if(xt===255)return;for(var wt=0,Mt=yt-1;(xt!==0||wt<pt)&&Mt!==-1;Mt--,wt++)xt+=rt*gt[Mt]>>>0,gt[Mt]=xt%256>>>0,xt=xt/256>>>0;if(xt!==0)throw new Error("Non-zero carry");pt=wt,ft++}if(dt[ft]!==" "){for(var It=yt-pt;It!==yt&&gt[It]===0;)It++;for(var Tt=new Uint8Array(ht+(yt-It)),Dt=ht;It!==yt;)Tt[Dt++]=gt[It++];return Tt}}}function ut(dt){var ft=ct(dt);if(ft)return ft;throw new Error(`Non-${o} character`)}return{encode:st,decodeUnsafe:ct,decode:ut}}var src$2=base,_brrp__multiformats_scope_baseX=src$2;class Encoder{constructor(o,a,j){this.name=o,this.prefix=a,this.baseEncode=j}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(o,a,j){if(this.name=o,this.prefix=a,a.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=a.codePointAt(0),this.baseDecode=j}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or(this,o)}}class ComposedDecoder{constructor(o){this.decoders=o}or(o){return or(this,o)}decode(o){const a=o[0],j=this.decoders[a];if(j)return j.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=($,o)=>new ComposedDecoder({...$.decoders||{[$.prefix]:$},...o.decoders||{[o.prefix]:o}});class Codec{constructor(o,a,j,_e){this.name=o,this.prefix=a,this.baseEncode=j,this.baseDecode=_e,this.encoder=new Encoder(o,a,j),this.decoder=new Decoder(o,a,_e)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}}const from$1=({name:$,prefix:o,encode:a,decode:j})=>new Codec($,o,a,j),baseX=({prefix:$,name:o,alphabet:a})=>{const{encode:j,decode:_e}=_brrp__multiformats_scope_baseX(a,o);return from$1({prefix:$,name:o,encode:j,decode:et=>coerce(_e(et))})},decode$6=($,o,a,j)=>{const _e={};for(let ot=0;ot<o.length;++ot)_e[o[ot]]=ot;let et=$.length;for(;$[et-1]==="=";)--et;const tt=new Uint8Array(et*a/8|0);let rt=0,nt=0,it=0;for(let ot=0;ot<et;++ot){const st=_e[$[ot]];if(st===void 0)throw new SyntaxError(`Non-${j} character`);nt=nt<<a|st,rt+=a,rt>=8&&(rt-=8,tt[it++]=255&nt>>rt)}if(rt>=a||255&nt<<8-rt)throw new SyntaxError("Unexpected end of data");return tt},encode$7=($,o,a)=>{const j=o[o.length-1]==="=",_e=(1<<a)-1;let et="",tt=0,rt=0;for(let nt=0;nt<$.length;++nt)for(rt=rt<<8|$[nt],tt+=8;tt>a;)tt-=a,et+=o[_e&rt>>tt];if(tt&&(et+=o[_e&rt<<a-tt]),j)for(;et.length*a&7;)et+="=";return et},rfc4648=({name:$,prefix:o,bitsPerChar:a,alphabet:j})=>from$1({prefix:o,name:$,encode(_e){return encode$7(_e,j,a)},decode(_e){return decode$6(_e,j,a,$)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"}));class CID{constructor(o,a,j,_e){this.code=a,this.version=o,this.multihash=j,this.bytes=_e,this.byteOffset=_e.byteOffset,this.byteLength=_e.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:o,multihash:a}=this;if(o!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(a.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(a)}}}toV1(){switch(this.version){case 0:{const{code:o,digest:a}=this.multihash,j=create$5(o,a);return CID.createV1(this.code,j)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(o){return o&&this.code===o.code&&this.version===o.version&&equals$2(this.multihash,o.multihash)}toString(o){const{bytes:a,version:j,_baseCache:_e}=this;switch(j){case 0:return toStringV0(a,_e,o||base58btc.encoder);default:return toStringV1(a,_e,o||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(o){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(o&&(o[cidSymbol]||o.asCID===o))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(o){if(o instanceof CID)return o;if(o!=null&&o.asCID===o){const{version:a,code:j,multihash:_e,bytes:et}=o;return new CID(a,j,_e,et||encodeCID(a,j,_e.bytes))}else if(o!=null&&o[cidSymbol]===!0){const{version:a,multihash:j,code:_e}=o,et=decode$7(j);return CID.create(a,_e,et)}else return null}static create(o,a,j){if(typeof a!="number")throw new Error("String codecs are no longer supported");switch(o){case 0:{if(a!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(o,a,j,j.bytes)}case 1:{const _e=encodeCID(o,a,j.bytes);return new CID(o,a,j,_e)}default:throw new Error("Invalid version")}}static createV0(o){return CID.create(0,DAG_PB_CODE,o)}static createV1(o,a){return CID.create(1,o,a)}static decode(o){const[a,j]=CID.decodeFirst(o);if(j.length)throw new Error("Incorrect length");return a}static decodeFirst(o){const a=CID.inspectBytes(o),j=a.size-a.multihashSize,_e=coerce(o.subarray(j,j+a.multihashSize));if(_e.byteLength!==a.multihashSize)throw new Error("Incorrect length");const et=_e.subarray(a.multihashSize-a.digestSize),tt=new Digest(a.multihashCode,a.digestSize,et,_e);return[a.version===0?CID.createV0(tt):CID.createV1(a.codec,tt),o.subarray(a.size)]}static inspectBytes(o){let a=0;const j=()=>{const[st,ct]=decode$8(o.subarray(a));return a+=ct,st};let _e=j(),et=DAG_PB_CODE;if(_e===18?(_e=0,a=0):_e===1&&(et=j()),_e!==0&&_e!==1)throw new RangeError(`Invalid CID version ${_e}`);const tt=a,rt=j(),nt=j(),it=a+nt,ot=it-tt;return{version:_e,codec:et,multihashCode:rt,digestSize:nt,multihashSize:ot,size:it}}static parse(o,a){const[j,_e]=parseCIDtoBytes(o,a),et=CID.decode(_e);return et._baseCache.set(j,o),et}}const parseCIDtoBytes=($,o)=>{switch($[0]){case"Q":{const a=o||base58btc;return[base58btc.prefix,a.decode(`${base58btc.prefix}${$}`)]}case base58btc.prefix:{const a=o||base58btc;return[base58btc.prefix,a.decode($)]}case base32.prefix:{const a=o||base32;return[base32.prefix,a.decode($)]}default:{if(o==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[$[0],o.decode($)]}}},toStringV0=($,o,a)=>{const{prefix:j}=a;if(j!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${a.name} encoding`);const _e=o.get(j);if(_e==null){const et=a.encode($).slice(1);return o.set(j,et),et}else return _e},toStringV1=($,o,a)=>{const{prefix:j}=a,_e=o.get(j);if(_e==null){const et=a.encode($);return o.set(j,et),et}else return _e},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=($,o,a)=>{const j=encodingLength($),_e=j+encodingLength(o),et=new Uint8Array(_e+a.byteLength);return encodeTo($,et,0),encodeTo(o,et,j),et.set(a,_e),et},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version$2="0.0.0-dev",deprecate=($,o)=>{if($.test(version$2))console.warn(o);else throw new Error(o)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is$1($){if($===null)return"null";if($===void 0)return"undefined";if($===!0||$===!1)return"boolean";const o=typeof $;if(typeofs.includes(o))return o;if(o==="function")return"Function";if(Array.isArray($))return"Array";if(isBuffer$1($))return"Buffer";const a=getObjectType($);return a||"Object"}function isBuffer$1($){return $&&$.constructor&&$.constructor.isBuffer&&$.constructor.isBuffer.call(null,$)}function getObjectType($){const o=Object.prototype.toString.call($).slice(8,-1);if(objectTypeNames.includes(o))return o}class Type{constructor(o,a,j){this.major=o,this.majorEncoded=o<<5,this.name=a,this.terminal=j}toString(){return`Type[${this.major}].${this.name}`}compare(o){return this.major<o.major?-1:this.major>o.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(o,a,j){this.type=o,this.value=a,this.encodedLength=j,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$2=new TextEncoder;function isBuffer($){return useBuffer&&globalThis.Buffer.isBuffer($)}function asU8A($){return $ instanceof Uint8Array?isBuffer($)?new Uint8Array($.buffer,$.byteOffset,$.byteLength):$:Uint8Array.from($)}const toString=useBuffer?($,o,a)=>a-o>64?globalThis.Buffer.from($.subarray(o,a)).toString("utf8"):utf8Slice($,o,a):($,o,a)=>a-o>64?textDecoder$1.decode($.subarray(o,a)):utf8Slice($,o,a),fromString$2=useBuffer?$=>$.length>64?globalThis.Buffer.from($):utf8ToBytes($):$=>$.length>64?textEncoder$2.encode($):utf8ToBytes($),fromArray=$=>Uint8Array.from($),slice=useBuffer?($,o,a)=>isBuffer($)?new Uint8Array($.subarray(o,a)):$.slice(o,a):($,o,a)=>$.slice(o,a),concat$2=useBuffer?($,o)=>($=$.map(a=>a instanceof Uint8Array?a:globalThis.Buffer.from(a)),asU8A(globalThis.Buffer.concat($,o))):($,o)=>{const a=new Uint8Array(o);let j=0;for(let _e of $)j+_e.length>a.length&&(_e=_e.subarray(0,a.length-j)),a.set(_e,j),j+=_e.length;return a},alloc=useBuffer?$=>globalThis.Buffer.allocUnsafe($):$=>new Uint8Array($);function compare($,o){if(isBuffer($)&&isBuffer(o))return $.compare(o);for(let a=0;a<$.length;a++)if($[a]!==o[a])return $[a]<o[a]?-1:1;return 0}function utf8ToBytes($,o=1/0){let a;const j=$.length;let _e=null;const et=[];for(let tt=0;tt<j;++tt){if(a=$.charCodeAt(tt),a>55295&&a<57344){if(!_e){if(a>56319){(o-=3)>-1&&et.push(239,191,189);continue}else if(tt+1===j){(o-=3)>-1&&et.push(239,191,189);continue}_e=a;continue}if(a<56320){(o-=3)>-1&&et.push(239,191,189),_e=a;continue}a=(_e-55296<<10|a-56320)+65536}else _e&&(o-=3)>-1&&et.push(239,191,189);if(_e=null,a<128){if((o-=1)<0)break;et.push(a)}else if(a<2048){if((o-=2)<0)break;et.push(a>>6|192,a&63|128)}else if(a<65536){if((o-=3)<0)break;et.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((o-=4)<0)break;et.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return et}function utf8Slice($,o,a){const j=[];for(;o<a;){const _e=$[o];let et=null,tt=_e>239?4:_e>223?3:_e>191?2:1;if(o+tt<=a){let rt,nt,it,ot;switch(tt){case 1:_e<128&&(et=_e);break;case 2:rt=$[o+1],(rt&192)===128&&(ot=(_e&31)<<6|rt&63,ot>127&&(et=ot));break;case 3:rt=$[o+1],nt=$[o+2],(rt&192)===128&&(nt&192)===128&&(ot=(_e&15)<<12|(rt&63)<<6|nt&63,ot>2047&&(ot<55296||ot>57343)&&(et=ot));break;case 4:rt=$[o+1],nt=$[o+2],it=$[o+3],(rt&192)===128&&(nt&192)===128&&(it&192)===128&&(ot=(_e&15)<<18|(rt&63)<<12|(nt&63)<<6|it&63,ot>65535&&ot<1114112&&(et=ot))}}et===null?(et=65533,tt=1):et>65535&&(et-=65536,j.push(et>>>10&1023|55296),et=56320|et&1023),j.push(et),o+=tt}return decodeCodePointsArray(j)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray($){const o=$.length;if(o<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,$);let a="",j=0;for(;j<o;)a+=String.fromCharCode.apply(String,$.slice(j,j+=MAX_ARGUMENTS_LENGTH));return a}const defaultChunkSize=256;class Bl{constructor(o=defaultChunkSize){this.chunkSize=o,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(o){let a=this.chunks[this.chunks.length-1];if(this.cursor+o.length<=this.maxCursor+1){const _e=a.length-(this.maxCursor-this.cursor)-1;a.set(o,_e)}else{if(a){const _e=a.length-(this.maxCursor-this.cursor)-1;_e<a.length&&(this.chunks[this.chunks.length-1]=a.subarray(0,_e),this.maxCursor=this.cursor-1)}o.length<64&&o.length<this.chunkSize?(a=alloc(this.chunkSize),this.chunks.push(a),this.maxCursor+=a.length,this._initReuseChunk===null&&(this._initReuseChunk=a),a.set(o,0)):(this.chunks.push(o),this.maxCursor+=o.length)}this.cursor+=o.length}toBytes(o=!1){let a;if(this.chunks.length===1){const j=this.chunks[0];o&&this.cursor>j.length/2?(a=this.cursor===j.length?j:j.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):a=slice(j,0,this.cursor)}else a=concat$2(this.chunks,this.cursor);return o&&this.reset(),a}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData($,o,a){if($.length-o<a)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8($,o,a){assertEnoughData($,o,1);const j=$[o];if(a.strict===!0&&j<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return j}function readUint16($,o,a){assertEnoughData($,o,2);const j=$[o]<<8|$[o+1];if(a.strict===!0&&j<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return j}function readUint32($,o,a){assertEnoughData($,o,4);const j=$[o]*16777216+($[o+1]<<16)+($[o+2]<<8)+$[o+3];if(a.strict===!0&&j<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return j}function readUint64($,o,a){assertEnoughData($,o,8);const j=$[o]*16777216+($[o+1]<<16)+($[o+2]<<8)+$[o+3],_e=$[o+4]*16777216+($[o+5]<<16)+($[o+6]<<8)+$[o+7],et=(BigInt(j)<<BigInt(32))+BigInt(_e);if(a.strict===!0&&et<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(et<=Number.MAX_SAFE_INTEGER)return Number(et);if(a.allowBigInt===!0)return et;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8($,o,a,j){return new Token(Type.uint,readUint8($,o+1,j),2)}function decodeUint16($,o,a,j){return new Token(Type.uint,readUint16($,o+1,j),3)}function decodeUint32($,o,a,j){return new Token(Type.uint,readUint32($,o+1,j),5)}function decodeUint64($,o,a,j){return new Token(Type.uint,readUint64($,o+1,j),9)}function encodeUint($,o){return encodeUintValue($,0,o.value)}function encodeUintValue($,o,a){if(a<uintBoundaries[0]){const j=Number(a);$.push([o|j])}else if(a<uintBoundaries[1]){const j=Number(a);$.push([o|24,j])}else if(a<uintBoundaries[2]){const j=Number(a);$.push([o|25,j>>>8,j&255])}else if(a<uintBoundaries[3]){const j=Number(a);$.push([o|26,j>>>24&255,j>>>16&255,j>>>8&255,j&255])}else{const j=BigInt(a);if(j<uintBoundaries[4]){const _e=[o|27,0,0,0,0,0,0,0];let et=Number(j&BigInt(4294967295)),tt=Number(j>>BigInt(32)&BigInt(4294967295));_e[8]=et&255,et=et>>8,_e[7]=et&255,et=et>>8,_e[6]=et&255,et=et>>8,_e[5]=et&255,_e[4]=tt&255,tt=tt>>8,_e[3]=tt&255,tt=tt>>8,_e[2]=tt&255,tt=tt>>8,_e[1]=tt&255,$.push(_e)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};encodeUintValue.encodedSize=function(o){return o<uintBoundaries[0]?1:o<uintBoundaries[1]?2:o<uintBoundaries[2]?3:o<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(o,a){return o.value<a.value?-1:o.value>a.value?1:0};function decodeNegint8($,o,a,j){return new Token(Type.negint,-1-readUint8($,o+1,j),2)}function decodeNegint16($,o,a,j){return new Token(Type.negint,-1-readUint16($,o+1,j),3)}function decodeNegint32($,o,a,j){return new Token(Type.negint,-1-readUint32($,o+1,j),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e!="bigint"){const et=-1-_e;if(et>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,et,9)}if(j.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(_e),9)}function encodeNegint($,o){const a=o.value,j=typeof a=="bigint"?a*neg1b-pos1b:a*-1-1;encodeUintValue($,o.type.majorEncoded,j)}encodeNegint.encodedSize=function(o){const a=o.value,j=typeof a=="bigint"?a*neg1b-pos1b:a*-1-1;return j<uintBoundaries[0]?1:j<uintBoundaries[1]?2:j<uintBoundaries[2]?3:j<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(o,a){return o.value<a.value?1:o.value>a.value?-1:0};function toToken$3($,o,a,j){assertEnoughData($,o,a+j);const _e=slice($,o+a,o+a+j);return new Token(Type.bytes,_e,a+j)}function decodeBytesCompact($,o,a,j){return toToken$3($,o,1,a)}function decodeBytes8($,o,a,j){return toToken$3($,o,2,readUint8($,o+1,j))}function decodeBytes16($,o,a,j){return toToken$3($,o,3,readUint16($,o+1,j))}function decodeBytes32($,o,a,j){return toToken$3($,o,5,readUint32($,o+1,j))}function decodeBytes64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3($,o,9,_e)}function tokenBytes($){return $.encodedBytes===void 0&&($.encodedBytes=$.type===Type.string?fromString$2($.value):$.value),$.encodedBytes}function encodeBytes($,o){const a=tokenBytes(o);encodeUintValue($,o.type.majorEncoded,a.length),$.push(a)}encodeBytes.encodedSize=function(o){const a=tokenBytes(o);return encodeUintValue.encodedSize(a.length)+a.length};encodeBytes.compareTokens=function(o,a){return compareBytes(tokenBytes(o),tokenBytes(a))};function compareBytes($,o){return $.length<o.length?-1:$.length>o.length?1:compare($,o)}function toToken$2($,o,a,j,_e){const et=a+j;assertEnoughData($,o,et);const tt=new Token(Type.string,toString($,o+a,o+et),et);return _e.retainStringBytes===!0&&(tt.byteValue=slice($,o+a,o+et)),tt}function decodeStringCompact($,o,a,j){return toToken$2($,o,1,a,j)}function decodeString8($,o,a,j){return toToken$2($,o,2,readUint8($,o+1,j),j)}function decodeString16($,o,a,j){return toToken$2($,o,3,readUint16($,o+1,j),j)}function decodeString32($,o,a,j){return toToken$2($,o,5,readUint32($,o+1,j),j)}function decodeString64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2($,o,9,_e,j)}const encodeString=encodeBytes;function toToken$1($,o,a,j){return new Token(Type.array,j,a)}function decodeArrayCompact($,o,a,j){return toToken$1($,o,1,a)}function decodeArray8($,o,a,j){return toToken$1($,o,2,readUint8($,o+1,j))}function decodeArray16($,o,a,j){return toToken$1($,o,3,readUint16($,o+1,j))}function decodeArray32($,o,a,j){return toToken$1($,o,5,readUint32($,o+1,j))}function decodeArray64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1($,o,9,_e)}function decodeArrayIndefinite($,o,a,j){if(j.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1($,o,1,1/0)}function encodeArray($,o){encodeUintValue($,Type.array.majorEncoded,o.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};function toToken($,o,a,j){return new Token(Type.map,j,a)}function decodeMapCompact($,o,a,j){return toToken($,o,1,a)}function decodeMap8($,o,a,j){return toToken($,o,2,readUint8($,o+1,j))}function decodeMap16($,o,a,j){return toToken($,o,3,readUint16($,o+1,j))}function decodeMap32($,o,a,j){return toToken($,o,5,readUint32($,o+1,j))}function decodeMap64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken($,o,9,_e)}function decodeMapIndefinite($,o,a,j){if(j.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken($,o,1,1/0)}function encodeMap($,o){encodeUintValue($,Type.map.majorEncoded,o.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};function decodeTagCompact($,o,a,j){return new Token(Type.tag,a,1)}function decodeTag8($,o,a,j){return new Token(Type.tag,readUint8($,o+1,j),2)}function decodeTag16($,o,a,j){return new Token(Type.tag,readUint16($,o+1,j),3)}function decodeTag32($,o,a,j){return new Token(Type.tag,readUint32($,o+1,j),5)}function decodeTag64($,o,a,j){return new Token(Type.tag,readUint64($,o+1,j),9)}function encodeTag($,o){encodeUintValue($,Type.tag.majorEncoded,o.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined($,o,a,j){if(j.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return j.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak($,o,a,j){if(j.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken($,o,a){if(a){if(a.allowNaN===!1&&Number.isNaN($))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(a.allowInfinity===!1&&($===1/0||$===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,$,o)}function decodeFloat16($,o,a,j){return createToken(readFloat16($,o+1),3,j)}function decodeFloat32($,o,a,j){return createToken(readFloat32($,o+1),5,j)}function decodeFloat64($,o,a,j){return createToken(readFloat64($,o+1),9,j)}function encodeFloat($,o,a){const j=o.value;if(j===!1)$.push([Type.float.majorEncoded|MINOR_FALSE]);else if(j===!0)$.push([Type.float.majorEncoded|MINOR_TRUE]);else if(j===null)$.push([Type.float.majorEncoded|MINOR_NULL]);else if(j===void 0)$.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let _e,et=!1;(!a||a.float64!==!0)&&(encodeFloat16(j),_e=readFloat16(ui8a,1),j===_e||Number.isNaN(j)?(ui8a[0]=249,$.push(ui8a.slice(0,3)),et=!0):(encodeFloat32(j),_e=readFloat32(ui8a,1),j===_e&&(ui8a[0]=250,$.push(ui8a.slice(0,5)),et=!0))),et||(encodeFloat64(j),_e=readFloat64(ui8a,1),ui8a[0]=251,$.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(o,a){const j=o.value;if(j===!1||j===!0||j===null||j===void 0)return 1;if(!a||a.float64!==!0){encodeFloat16(j);let _e=readFloat16(ui8a,1);if(j===_e||Number.isNaN(j))return 3;if(encodeFloat32(j),_e=readFloat32(ui8a,1),j===_e)return 5}return 9};const buffer$1=new ArrayBuffer(9),dataView=new DataView(buffer$1,1),ui8a=new Uint8Array(buffer$1,0);function encodeFloat16($){if($===1/0)dataView.setUint16(0,31744,!1);else if($===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN($))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,$);const o=dataView.getUint32(0),a=(o&2139095040)>>23,j=o&8388607;if(a===255)dataView.setUint16(0,31744,!1);else if(a===0)dataView.setUint16(0,($&2147483648)>>16|j>>13,!1);else{const _e=a-127;_e<-24?dataView.setUint16(0,0):_e<-14?dataView.setUint16(0,(o&2147483648)>>16|1<<24+_e,!1):dataView.setUint16(0,(o&2147483648)>>16|_e+15<<10|j>>13,!1)}}}function readFloat16($,o){if($.length-o<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const a=($[o]<<8)+$[o+1];if(a===31744)return 1/0;if(a===64512)return-1/0;if(a===32256)return NaN;const j=a>>10&31,_e=a&1023;let et;return j===0?et=_e*2**-24:j!==31?et=(_e+1024)*2**(j-25):et=_e===0?1/0:NaN,a&32768?-et:et}function encodeFloat32($){dataView.setFloat32(0,$,!1)}function readFloat32($,o){if($.length-o<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const a=($.byteOffset||0)+o;return new DataView($.buffer,a,4).getFloat32(0,!1)}function encodeFloat64($){dataView.setFloat64(0,$,!1)}function readFloat64($,o){if($.length-o<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const a=($.byteOffset||0)+o;return new DataView($.buffer,a,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor($,o,a){throw new Error(`${decodeErrPrefix} encountered invalid minor (${a}) for major ${$[o]>>>5}`)}function errorer($){return()=>{throw new Error(`${decodeErrPrefix} ${$}`)}}const jump=[];for(let $=0;$<=23;$++)jump[$]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let $=32;$<=55;$++)jump[$]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let $=64;$<=87;$++)jump[$]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let $=96;$<=119;$++)jump[$]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let $=128;$<=151;$++)jump[$]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let $=160;$<=183;$++)jump[$]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let $=192;$<=215;$++)jump[$]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let $=224;$<=243;$++)jump[$]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let $=0;$<24;$++)quick[$]=new Token(Type.uint,$,1);for(let $=-1;$>=-24;$--)quick[31-$]=new Token(Type.negint,$,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken($){switch($.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return $.value.length?void 0:fromArray([64]);case Type.string:return $.value===""?fromArray([96]):void 0;case Type.array:return $.value===0?fromArray([128]):void 0;case Type.map:return $.value===0?fromArray([160]):void 0;case Type.uint:return $.value<24?fromArray([Number($.value)]):void 0;case Type.negint:if($.value>=-24)return fromArray([31-Number($.value)])}}const defaultEncodeOptions={float64:!1,mapSorter,quickEncodeToken};function makeCborEncoders(){const $=[];return $[Type.uint.major]=encodeUint,$[Type.negint.major]=encodeNegint,$[Type.bytes.major]=encodeBytes,$[Type.string.major]=encodeString,$[Type.array.major]=encodeArray,$[Type.map.major]=encodeMap,$[Type.tag.major]=encodeTag,$[Type.float.major]=encodeFloat,$}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(o,a){this.obj=o,this.parent=a}includes(o){let a=this;do if(a.obj===o)return!0;while(a=a.parent);return!1}static createCheck(o,a){if(o&&o.includes(a))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(a,o)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number($,o,a,j){return!Number.isInteger($)||!Number.isSafeInteger($)?new Token(Type.float,$):$>=0?new Token(Type.uint,$):new Token(Type.negint,$)},bigint($,o,a,j){return $>=BigInt(0)?new Token(Type.uint,$):new Token(Type.negint,$)},Uint8Array($,o,a,j){return new Token(Type.bytes,$)},string($,o,a,j){return new Token(Type.string,$)},boolean($,o,a,j){return $?simpleTokens.true:simpleTokens.false},null($,o,a,j){return simpleTokens.null},undefined($,o,a,j){return simpleTokens.undefined},ArrayBuffer($,o,a,j){return new Token(Type.bytes,new Uint8Array($))},DataView($,o,a,j){return new Token(Type.bytes,new Uint8Array($.buffer,$.byteOffset,$.byteLength))},Array($,o,a,j){if(!$.length)return a.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;j=Ref.createCheck(j,$);const _e=[];let et=0;for(const tt of $)_e[et++]=objectToTokens(tt,a,j);return a.addBreakTokens?[new Token(Type.array,$.length),_e,new Token(Type.break)]:[new Token(Type.array,$.length),_e]},Object($,o,a,j){const _e=o!=="Object",et=_e?$.keys():Object.keys($),tt=_e?$.size:et.length;if(!tt)return a.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;j=Ref.createCheck(j,$);const rt=[];let nt=0;for(const it of et)rt[nt++]=[objectToTokens(it,a,j),objectToTokens(_e?$.get(it):$[it],a,j)];return sortMapEntries(rt,a),a.addBreakTokens?[new Token(Type.map,tt),rt,new Token(Type.break)]:[new Token(Type.map,tt),rt]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const $ of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${$}Array`]=typeEncoders.DataView;function objectToTokens($,o={},a){const j=is$1($),_e=o&&o.typeEncoders&&o.typeEncoders[j]||typeEncoders[j];if(typeof _e=="function"){const tt=_e($,j,o,a);if(tt!=null)return tt}const et=typeEncoders[j];if(!et)throw new Error(`${encodeErrPrefix} unsupported type: ${j}`);return et($,j,o,a)}function sortMapEntries($,o){o.mapSorter&&$.sort(o.mapSorter)}function mapSorter($,o){const a=Array.isArray($[0])?$[0][0]:$[0],j=Array.isArray(o[0])?o[0][0]:o[0];if(a.type!==j.type)return a.type.compare(j.type);const _e=a.type.major,et=cborEncoders[_e].compareTokens(a,j);return et===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),et}function tokensToEncoded($,o,a,j){if(Array.isArray(o))for(const _e of o)tokensToEncoded($,_e,a,j);else a[o.type.major]($,o,j)}function encodeCustom($,o,a){const j=objectToTokens($,a);if(!Array.isArray(j)&&a.quickEncodeToken){const _e=a.quickEncodeToken(j);if(_e)return _e;const et=o[j.type.major];if(et.encodedSize){const tt=et.encodedSize(j,a),rt=new Bl(tt);if(et(rt,j,a),rt.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${j} was wrong`);return asU8A(rt.chunks[0])}}return buf.reset(),tokensToEncoded(buf,j,o,a),buf.toBytes(!0)}function encode$6($,o){return o=Object.assign({},defaultEncodeOptions,o),encodeCustom($,cborEncoders,o)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(o,a={}){this.pos=0,this.data=o,this.options=a}done(){return this.pos>=this.data.length}next(){const o=this.data[this.pos];let a=quick[o];if(a===void 0){const j=jump[o];if(!j)throw new Error(`${decodeErrPrefix} no decoder for major type ${o>>>5} (byte 0x${o.toString(16).padStart(2,"0")})`);const _e=o&31;a=j(this.data,this.pos,_e,this.options)}return this.pos+=a.encodedLength,a}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray($,o,a){const j=[];for(let _e=0;_e<$.value;_e++){const et=tokensToObject(o,a);if(et===BREAK){if($.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(et===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${_e}, expected ${$.value})`);j[_e]=et}return j}function tokenToMap($,o,a){const j=a.useMaps===!0,_e=j?void 0:{},et=j?new Map:void 0;for(let tt=0;tt<$.value;tt++){const rt=tokensToObject(o,a);if(rt===BREAK){if($.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(rt===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${tt} [no key], expected ${$.value})`);if(j!==!0&&typeof rt!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof rt})`);if(a.rejectDuplicateMapKeys===!0&&(j&&et.has(rt)||!j&&rt in _e))throw new Error(`${decodeErrPrefix} found repeat map key "${rt}"`);const nt=tokensToObject(o,a);if(nt===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${tt} [no value], expected ${$.value})`);j?et.set(rt,nt):_e[rt]=nt}return j?et:_e}function tokensToObject($,o){if($.done())return DONE;const a=$.next();if(a.type===Type.break)return BREAK;if(a.type.terminal)return a.value;if(a.type===Type.array)return tokenToArray(a,$,o);if(a.type===Type.map)return tokenToMap(a,$,o);if(a.type===Type.tag){if(o.tags&&typeof o.tags[a.value]=="function"){const j=tokensToObject($,o);return o.tags[a.value](j)}throw new Error(`${decodeErrPrefix} tag not supported (${a.value})`)}throw new Error("unsupported")}function decode$5($,o){if(!($ instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);o=Object.assign({},defaultDecodeOptions,o);const a=o.tokenizer||new Tokeniser($,o),j=tokensToObject(a,o);if(j===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(j===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!a.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return j}const CID_CBOR_TAG$1=42;function cidEncoder$1($){if($.asCID!==$)return null;const o=CID.asCID($);if(!o)return null;const a=new Uint8Array(o.bytes.byteLength+1);return a.set(o.bytes,1),[new Token(Type.tag,CID_CBOR_TAG$1),new Token(Type.bytes,a)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1($){if(Number.isNaN($))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if($===1/0||$===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder$1($){if($[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode($.subarray(1))}const decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG$1]=cidDecoder$1;const code$5=113,encode$5=$=>encode$6($,encodeOptions$1),decode$4=$=>decode$5($,decodeOptions$1),CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112};async function readVarint($){const o=await $.upTo(8),a=varint$2.decode(o);return $.seek(varint$2.decode.bytes),a}async function readHeader($){const o=await readVarint($);if(o===0)throw new Error("Invalid CAR header (zero length)");const a=await $.exactly(o);$.seek(o);const j=decode$4(a);if(j==null||Array.isArray(j)||typeof j!="object")throw new Error("Invalid CAR header format");if(j.version!==1)throw typeof j.version=="string"?new Error(`Invalid CAR version: "${j.version}"`):new Error(`Invalid CAR version: ${j.version}`);if(!Array.isArray(j.roots))throw new Error("Invalid CAR header format");if(Object.keys(j).filter(_e=>_e!=="roots"&&_e!=="version").length)throw new Error("Invalid CAR header format");return j}async function readMultihash($){const o=await $.upTo(8);varint$2.decode(o);const a=varint$2.decode.bytes,j=varint$2.decode(o.subarray(varint$2.decode.bytes)),_e=varint$2.decode.bytes,et=a+_e+j,tt=await $.exactly(et);return $.seek(et),tt}async function readCid($){const o=await $.exactly(2);if(o[0]===CIDV0_BYTES.SHA2_256&&o[1]===CIDV0_BYTES.LENGTH){const tt=await $.exactly(34);$.seek(34);const rt=decode$7(tt);return CID.create(0,CIDV0_BYTES.DAG_PB,rt)}const a=await readVarint($);if(a!==1)throw new Error(`Unexpected CID version (${a})`);const j=await readVarint($),_e=await readMultihash($),et=decode$7(_e);return CID.create(a,j,et)}async function readBlockHead($){const o=$.pos;let a=await readVarint($);if(a===0)throw new Error("Invalid CAR section (zero length)");a+=$.pos-o;const j=await readCid($),_e=a-($.pos-o);return{cid:j,length:a,blockLength:_e}}async function readBlock($){const{cid:o,blockLength:a}=await readBlockHead($),j=await $.exactly(a);return $.seek(a),{bytes:j,cid:o}}async function readBlockIndex($){const o=$.pos,{cid:a,length:j,blockLength:_e}=await readBlockHead($),et={cid:a,length:j,blockLength:_e,offset:o,blockOffset:$.pos};return $.seek(et.blockLength),et}function createDecoder($){const o=readHeader($);return{header:()=>o,async*blocks(){for(await o;(await $.upTo(8)).length>0;)yield await readBlock($)},async*blocksIndex(){for(await o;(await $.upTo(8)).length>0;)yield await readBlockIndex($)}}}function bytesReader($){let o=0;return{async upTo(a){return $.subarray(o,o+Math.min(a,$.length-o))},async exactly(a){if(a>$.length-o)throw new Error("Unexpected end of data");return $.subarray(o,o+a)},seek(a){o+=a},get pos(){return o}}}function chunkReader($){let o=0,a=0,j=0,_e=new Uint8Array(0);const et=async tt=>{a=_e.length-j;const rt=[_e.subarray(j)];for(;a<tt;){const it=await $();if(it==null)break;a<0?it.length>a&&rt.push(it.subarray(-a)):rt.push(it),a+=it.length}_e=new Uint8Array(rt.reduce((it,ot)=>it+ot.length,0));let nt=0;for(const it of rt)_e.set(it,nt),nt+=it.length;j=0};return{async upTo(tt){return _e.length-j<tt&&await et(tt),_e.subarray(j,j+Math.min(_e.length-j,tt))},async exactly(tt){if(_e.length-j<tt&&await et(tt),_e.length-j<tt)throw new Error("Unexpected end of data");return _e.subarray(j,j+tt)},seek(tt){o+=tt,j+=tt},get pos(){return o}}}function asyncIterableReader($){const o=$[Symbol.asyncIterator]();async function a(){const j=await o.next();return j.done?null:j.value}return chunkReader(a)}class CarReader{constructor(o,a,j){this._version=o,this._roots=a,this._blocks=j,this._keys=j.map(_e=>_e.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(o){return this._keys.indexOf(o.toString())>-1}async get(o){const a=this._keys.indexOf(o.toString());return a>-1?this._blocks[a]:void 0}async*blocks(){for(const o of this._blocks)yield o}async*cids(){for(const o of this._blocks)yield o.cid}static async fromBytes(o){if(!(o instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(o))}static async fromIterable(o){if(!o||typeof o[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(o))}}async function decodeReaderComplete($){const o=createDecoder($),{version:a,roots:j}=await o.header(),_e=[];for await(const et of o.blocks())_e.push(et);return new CarReader(a,j,_e)}class CarIteratorBase{constructor(o,a,j){this._version=o,this._roots=a,this._iterable=j,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class CarBlockIterator extends CarIteratorBase{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(o){const{version:a,roots:j,iterator:_e}=await fromBytes(o);return new CarBlockIterator(a,j,_e)}static async fromIterable(o){const{version:a,roots:j,iterator:_e}=await fromIterable(o);return new CarBlockIterator(a,j,_e)}}async function fromBytes($){if(!($ instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeIterator(bytesReader($))}async function fromIterable($){if(!$||typeof $[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeIterator(asyncIterableReader($))}async function decodeIterator($){const o=createDecoder($),{version:a,roots:j}=await o.header();return{version:a,roots:j,iterator:o.blocks()}}function createHeader($){const o=encode$5({version:1,roots:$}),a=varint$2.encode(o.length),j=new Uint8Array(a.length+o.length);return j.set(a,0),j.set(o,a.length),j}function createEncoder($){return{async setRoots(o){const a=createHeader(o);await $.write(a)},async writeBlock(o){const{cid:a,bytes:j}=o;await $.write(new Uint8Array(varint$2.encode(a.bytes.length+j.length))),await $.write(a.bytes),j.length&&await $.write(j)},async close(){return $.end()}}}function noop$1(){}function create$4(){const $=[];let o=null,a=noop$1,j=!1,_e=null,et=noop$1;const tt=()=>(o||(o=new Promise(it=>{a=()=>{o=null,a=noop$1,it()}})),o),rt={write(it){$.push(it);const ot=tt();return et(),ot},async end(){j=!0;const it=tt();return et(),it}},nt={async next(){const it=$.shift();return it?($.length===0&&a(),{done:!1,value:it}):j?(a(),{done:!0,value:void 0}):(_e||(_e=new Promise(ot=>{et=()=>(_e=null,et=noop$1,ot(nt.next()))})),_e)}};return{writer:rt,iterator:nt}}class CarWriter{constructor(o,a){this._encoder=a,this._mutex=a.setRoots(o),this._ended=!1}async put(o){if(!(o.bytes instanceof Uint8Array)||!o.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const a=CID.asCID(o.cid);if(!a)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:a,bytes:o.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(o){o=toRoots(o);const{encoder:a,iterator:j}=encodeWriter(),_e=new CarWriter(o,a),et=new CarWriterOut(j);return{writer:_e,out:et}}static createAppender(){const{encoder:o,iterator:a}=encodeWriter();o.setRoots=()=>Promise.resolve();const j=new CarWriter([],o),_e=new CarWriterOut(a);return{writer:j,out:_e}}static async updateRootsInBytes(o,a){const j=bytesReader(o);await readHeader(j);const _e=createHeader(a);if(j.pos!==_e.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${j.pos} bytes, new header is ${_e.length} bytes)`);return o.set(_e,0),o}}class CarWriterOut{constructor(o){this._iterator=o}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter(){const $=create$4(),{writer:o,iterator:a}=$;return{encoder:createEncoder(o),iterator:a}}function toRoots($){if($===void 0)return[];if(!Array.isArray($)){const a=CID.asCID($);if(!a)throw new TypeError("roots must be a single CID or an array of CIDs");return[a]}const o=[];for(const a of $){const j=CID.asCID(a);if(!j)throw new TypeError("roots must be a single CID or an array of CIDs");o.push(j)}return o}async function*batch$1($,o=1){let a=[];o<1&&(o=1);for await(const j of $)for(a.push(j);a.length>=o;)yield a.slice(0,o),a=a.slice(o);for(;a.length;)yield a.slice(0,o),a=a.slice(o)}var itBatch=batch$1;const batch$2=getDefaultExportFromCjs(itBatch),batch=itBatch;async function*parallelBatch($,o=1){for await(const a of batch($,o)){const j=a.map(_e=>_e().then(et=>({ok:!0,value:et}),et=>({ok:!1,err:et})));for(let _e=0;_e<j.length;_e++){const et=await j[_e];if(et.ok)yield et.value;else throw et.err}}}var itParallelBatch=parallelBatch;const parallelBatch$1=getDefaultExportFromCjs(itParallelBatch);var isPlainObj=$=>{if(Object.prototype.toString.call($)!=="[object Object]")return!1;const o=Object.getPrototypeOf($);return o===null||o===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty:hasOwnProperty$1}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=($,o,a)=>Object.defineProperty($,o,{value:a,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=$=>{const o=[];for(const a in $)hasOwnProperty$1.call($,a)&&o.push(a);if(Object.getOwnPropertySymbols){const a=Object.getOwnPropertySymbols($);for(const j of a)propertyIsEnumerable.call($,j)&&o.push(j)}return o};function clone($){return Array.isArray($)?cloneArray($):isOptionObject($)?cloneOptionObject($):$}function cloneArray($){const o=$.slice(0,0);return getEnumerableOwnPropertyKeys($).forEach(a=>{defineProperty(o,a,clone($[a]))}),o}function cloneOptionObject($){const o=Object.getPrototypeOf($)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys($).forEach(a=>{defineProperty(o,a,clone($[a]))}),o}const mergeKeys=($,o,a,j)=>(a.forEach(_e=>{typeof o[_e]>"u"&&j.ignoreUndefined||(_e in $&&$[_e]!==Object.getPrototypeOf($)?defineProperty($,_e,merge($[_e],o[_e],j)):defineProperty($,_e,clone(o[_e])))}),$),concatArrays=($,o,a)=>{let j=$.slice(0,0),_e=0;return[$,o].forEach(et=>{const tt=[];for(let rt=0;rt<et.length;rt++)hasOwnProperty$1.call(et,rt)&&(tt.push(String(rt)),et===$?defineProperty(j,_e++,et[rt]):defineProperty(j,_e++,clone(et[rt])));j=mergeKeys(j,et,getEnumerableOwnPropertyKeys(et).filter(rt=>!tt.includes(rt)),a)}),j};function merge($,o,a){return a.concatArrays&&Array.isArray($)&&Array.isArray(o)?concatArrays($,o,a):!isOptionObject(o)||!isOptionObject($)?clone(o):mergeKeys($,o,getEnumerableOwnPropertyKeys(o),a)}var mergeOptions=function(...$){const o=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let a={_:{}};for(const j of $)if(j!==void 0){if(!isOptionObject(j))throw new TypeError("`"+j+"` is not an Option Object");a=merge(a,{_:j},o)}return a._};const mergeOptions$1=getDefaultExportFromCjs(mergeOptions),from=({name:$,code:o,encode:a})=>new Hasher($,o,a);class Hasher{constructor(o,a,j){this.name=o,this.code=a,this.encode=j}digest(o){if(o instanceof Uint8Array){const a=this.encode(o);return a instanceof Uint8Array?create$5(this.code,a):a.then(j=>create$5(this.code,j))}else throw Error("Unknown type, must be binary type")}}const sha=$=>async o=>new Uint8Array(await crypto.subtle.digest($,o)),sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")});var murmurHash3js={exports:{}};(function($,o){(function(a,j){var _e={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function et(ft){if(!Array.isArray(ft)&&!ArrayBuffer.isView(ft))return!1;for(var ht=0;ht<ft.length;ht++)if(!Number.isInteger(ft[ht])||ft[ht]<0||ft[ht]>255)return!1;return!0}function tt(ft,ht){return(ft&65535)*ht+(((ft>>>16)*ht&65535)<<16)}function rt(ft,ht){return ft<<ht|ft>>>32-ht}function nt(ft){return ft^=ft>>>16,ft=tt(ft,2246822507),ft^=ft>>>13,ft=tt(ft,3266489909),ft^=ft>>>16,ft}function it(ft,ht){ft=[ft[0]>>>16,ft[0]&65535,ft[1]>>>16,ft[1]&65535],ht=[ht[0]>>>16,ht[0]&65535,ht[1]>>>16,ht[1]&65535];var pt=[0,0,0,0];return pt[3]+=ft[3]+ht[3],pt[2]+=pt[3]>>>16,pt[3]&=65535,pt[2]+=ft[2]+ht[2],pt[1]+=pt[2]>>>16,pt[2]&=65535,pt[1]+=ft[1]+ht[1],pt[0]+=pt[1]>>>16,pt[1]&=65535,pt[0]+=ft[0]+ht[0],pt[0]&=65535,[pt[0]<<16|pt[1],pt[2]<<16|pt[3]]}function ot(ft,ht){ft=[ft[0]>>>16,ft[0]&65535,ft[1]>>>16,ft[1]&65535],ht=[ht[0]>>>16,ht[0]&65535,ht[1]>>>16,ht[1]&65535];var pt=[0,0,0,0];return pt[3]+=ft[3]*ht[3],pt[2]+=pt[3]>>>16,pt[3]&=65535,pt[2]+=ft[2]*ht[3],pt[1]+=pt[2]>>>16,pt[2]&=65535,pt[2]+=ft[3]*ht[2],pt[1]+=pt[2]>>>16,pt[2]&=65535,pt[1]+=ft[1]*ht[3],pt[0]+=pt[1]>>>16,pt[1]&=65535,pt[1]+=ft[2]*ht[2],pt[0]+=pt[1]>>>16,pt[1]&=65535,pt[1]+=ft[3]*ht[1],pt[0]+=pt[1]>>>16,pt[1]&=65535,pt[0]+=ft[0]*ht[3]+ft[1]*ht[2]+ft[2]*ht[1]+ft[3]*ht[0],pt[0]&=65535,[pt[0]<<16|pt[1],pt[2]<<16|pt[3]]}function st(ft,ht){return ht%=64,ht===32?[ft[1],ft[0]]:ht<32?[ft[0]<<ht|ft[1]>>>32-ht,ft[1]<<ht|ft[0]>>>32-ht]:(ht-=32,[ft[1]<<ht|ft[0]>>>32-ht,ft[0]<<ht|ft[1]>>>32-ht])}function ct(ft,ht){return ht%=64,ht===0?ft:ht<32?[ft[0]<<ht|ft[1]>>>32-ht,ft[1]<<ht]:[ft[1]<<ht-32,0]}function ut(ft,ht){return[ft[0]^ht[0],ft[1]^ht[1]]}function dt(ft){return ft=ut(ft,[0,ft[0]>>>1]),ft=ot(ft,[4283543511,3981806797]),ft=ut(ft,[0,ft[0]>>>1]),ft=ot(ft,[3301882366,444984403]),ft=ut(ft,[0,ft[0]>>>1]),ft}_e.x86.hash32=function(ft,ht){if(_e.inputValidation&&!et(ft))return j;ht=ht||0;for(var pt=ft.length%4,yt=ft.length-pt,gt=ht,xt=0,wt=3432918353,Mt=461845907,It=0;It<yt;It=It+4)xt=ft[It]|ft[It+1]<<8|ft[It+2]<<16|ft[It+3]<<24,xt=tt(xt,wt),xt=rt(xt,15),xt=tt(xt,Mt),gt^=xt,gt=rt(gt,13),gt=tt(gt,5)+3864292196;switch(xt=0,pt){case 3:xt^=ft[It+2]<<16;case 2:xt^=ft[It+1]<<8;case 1:xt^=ft[It],xt=tt(xt,wt),xt=rt(xt,15),xt=tt(xt,Mt),gt^=xt}return gt^=ft.length,gt=nt(gt),gt>>>0},_e.x86.hash128=function(ft,ht){if(_e.inputValidation&&!et(ft))return j;ht=ht||0;for(var pt=ft.length%16,yt=ft.length-pt,gt=ht,xt=ht,wt=ht,Mt=ht,It=0,Tt=0,Dt=0,Ut=0,jt=597399067,Xt=2869860233,kt=951274213,vt=2716044179,Et=0;Et<yt;Et=Et+16)It=ft[Et]|ft[Et+1]<<8|ft[Et+2]<<16|ft[Et+3]<<24,Tt=ft[Et+4]|ft[Et+5]<<8|ft[Et+6]<<16|ft[Et+7]<<24,Dt=ft[Et+8]|ft[Et+9]<<8|ft[Et+10]<<16|ft[Et+11]<<24,Ut=ft[Et+12]|ft[Et+13]<<8|ft[Et+14]<<16|ft[Et+15]<<24,It=tt(It,jt),It=rt(It,15),It=tt(It,Xt),gt^=It,gt=rt(gt,19),gt+=xt,gt=tt(gt,5)+1444728091,Tt=tt(Tt,Xt),Tt=rt(Tt,16),Tt=tt(Tt,kt),xt^=Tt,xt=rt(xt,17),xt+=wt,xt=tt(xt,5)+197830471,Dt=tt(Dt,kt),Dt=rt(Dt,17),Dt=tt(Dt,vt),wt^=Dt,wt=rt(wt,15),wt+=Mt,wt=tt(wt,5)+2530024501,Ut=tt(Ut,vt),Ut=rt(Ut,18),Ut=tt(Ut,jt),Mt^=Ut,Mt=rt(Mt,13),Mt+=gt,Mt=tt(Mt,5)+850148119;switch(It=0,Tt=0,Dt=0,Ut=0,pt){case 15:Ut^=ft[Et+14]<<16;case 14:Ut^=ft[Et+13]<<8;case 13:Ut^=ft[Et+12],Ut=tt(Ut,vt),Ut=rt(Ut,18),Ut=tt(Ut,jt),Mt^=Ut;case 12:Dt^=ft[Et+11]<<24;case 11:Dt^=ft[Et+10]<<16;case 10:Dt^=ft[Et+9]<<8;case 9:Dt^=ft[Et+8],Dt=tt(Dt,kt),Dt=rt(Dt,17),Dt=tt(Dt,vt),wt^=Dt;case 8:Tt^=ft[Et+7]<<24;case 7:Tt^=ft[Et+6]<<16;case 6:Tt^=ft[Et+5]<<8;case 5:Tt^=ft[Et+4],Tt=tt(Tt,Xt),Tt=rt(Tt,16),Tt=tt(Tt,kt),xt^=Tt;case 4:It^=ft[Et+3]<<24;case 3:It^=ft[Et+2]<<16;case 2:It^=ft[Et+1]<<8;case 1:It^=ft[Et],It=tt(It,jt),It=rt(It,15),It=tt(It,Xt),gt^=It}return gt^=ft.length,xt^=ft.length,wt^=ft.length,Mt^=ft.length,gt+=xt,gt+=wt,gt+=Mt,xt+=gt,wt+=gt,Mt+=gt,gt=nt(gt),xt=nt(xt),wt=nt(wt),Mt=nt(Mt),gt+=xt,gt+=wt,gt+=Mt,xt+=gt,wt+=gt,Mt+=gt,("00000000"+(gt>>>0).toString(16)).slice(-8)+("00000000"+(xt>>>0).toString(16)).slice(-8)+("00000000"+(wt>>>0).toString(16)).slice(-8)+("00000000"+(Mt>>>0).toString(16)).slice(-8)},_e.x64.hash128=function(ft,ht){if(_e.inputValidation&&!et(ft))return j;ht=ht||0;for(var pt=ft.length%16,yt=ft.length-pt,gt=[0,ht],xt=[0,ht],wt=[0,0],Mt=[0,0],It=[2277735313,289559509],Tt=[1291169091,658871167],Dt=0;Dt<yt;Dt=Dt+16)wt=[ft[Dt+4]|ft[Dt+5]<<8|ft[Dt+6]<<16|ft[Dt+7]<<24,ft[Dt]|ft[Dt+1]<<8|ft[Dt+2]<<16|ft[Dt+3]<<24],Mt=[ft[Dt+12]|ft[Dt+13]<<8|ft[Dt+14]<<16|ft[Dt+15]<<24,ft[Dt+8]|ft[Dt+9]<<8|ft[Dt+10]<<16|ft[Dt+11]<<24],wt=ot(wt,It),wt=st(wt,31),wt=ot(wt,Tt),gt=ut(gt,wt),gt=st(gt,27),gt=it(gt,xt),gt=it(ot(gt,[0,5]),[0,1390208809]),Mt=ot(Mt,Tt),Mt=st(Mt,33),Mt=ot(Mt,It),xt=ut(xt,Mt),xt=st(xt,31),xt=it(xt,gt),xt=it(ot(xt,[0,5]),[0,944331445]);switch(wt=[0,0],Mt=[0,0],pt){case 15:Mt=ut(Mt,ct([0,ft[Dt+14]],48));case 14:Mt=ut(Mt,ct([0,ft[Dt+13]],40));case 13:Mt=ut(Mt,ct([0,ft[Dt+12]],32));case 12:Mt=ut(Mt,ct([0,ft[Dt+11]],24));case 11:Mt=ut(Mt,ct([0,ft[Dt+10]],16));case 10:Mt=ut(Mt,ct([0,ft[Dt+9]],8));case 9:Mt=ut(Mt,[0,ft[Dt+8]]),Mt=ot(Mt,Tt),Mt=st(Mt,33),Mt=ot(Mt,It),xt=ut(xt,Mt);case 8:wt=ut(wt,ct([0,ft[Dt+7]],56));case 7:wt=ut(wt,ct([0,ft[Dt+6]],48));case 6:wt=ut(wt,ct([0,ft[Dt+5]],40));case 5:wt=ut(wt,ct([0,ft[Dt+4]],32));case 4:wt=ut(wt,ct([0,ft[Dt+3]],24));case 3:wt=ut(wt,ct([0,ft[Dt+2]],16));case 2:wt=ut(wt,ct([0,ft[Dt+1]],8));case 1:wt=ut(wt,[0,ft[Dt]]),wt=ot(wt,It),wt=st(wt,31),wt=ot(wt,Tt),gt=ut(gt,wt)}return gt=ut(gt,[0,ft.length]),xt=ut(xt,[0,ft.length]),gt=it(gt,xt),xt=it(xt,gt),gt=dt(gt),xt=dt(xt),gt=it(gt,xt),xt=it(xt,gt),("00000000"+(gt[0]>>>0).toString(16)).slice(-8)+("00000000"+(gt[1]>>>0).toString(16)).slice(-8)+("00000000"+(xt[0]>>>0).toString(16)).slice(-8)+("00000000"+(xt[1]>>>0).toString(16)).slice(-8)},$.exports&&(o=$.exports=_e),o.murmurHash3=_e})()})(murmurHash3js,murmurHash3js.exports);var murmurHash3jsExports=murmurHash3js.exports,murmurhash3jsRevisited=murmurHash3jsExports;const mur=getDefaultExportFromCjs(murmurhash3jsRevisited),murmur3128=from({name:"murmur3-128",code:34,encode:$=>fromHex(mur.x64.hash128($))});async function hamtHashFn($){return(await murmur3128.encode($)).slice(0,8).reverse()}const defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8},defaultOptions$1=($={})=>mergeOptions$1.bind({ignoreUndefined:!0})(defaultOptions,$);function assign($,o){for(const a in o)Object.defineProperty($,a,{value:o[a],enumerable:!0,configurable:!0});return $}function createError($,o,a){if(!$||typeof $=="string")throw new TypeError("Please pass an Error to err-code");a||(a={}),typeof o=="object"&&(a=o,o=""),o&&(a.code=o);try{return assign($,a)}catch{a.message=$.message,a.stack=$.stack;const _e=function(){};return _e.prototype=Object.create(Object.getPrototypeOf($)),assign(new _e,a)}}var errCode=createError;const errCode$1=getDefaultExportFromCjs(errCode);var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise($,o){for(var a=new Array(arguments.length-1),j=0,_e=2,et=!0;_e<arguments.length;)a[j++]=arguments[_e++];return new Promise(function(rt,nt){a[j]=function(ot){if(et)if(et=!1,ot)nt(ot);else{for(var st=new Array(arguments.length-1),ct=0;ct<st.length;)st[ct++]=arguments[ct];rt.apply(null,st)}};try{$.apply(o||null,a)}catch(it){et&&(et=!1,nt(it))}})}var base64$3={};(function($){var o=$;o.length=function(rt){var nt=rt.length;if(!nt)return 0;for(var it=0;--nt%4>1&&rt.charAt(nt)==="=";)++it;return Math.ceil(rt.length*3)/4-it};for(var a=new Array(64),j=new Array(123),_e=0;_e<64;)j[a[_e]=_e<26?_e+65:_e<52?_e+71:_e<62?_e-4:_e-59|43]=_e++;o.encode=function(rt,nt,it){for(var ot=null,st=[],ct=0,ut=0,dt;nt<it;){var ft=rt[nt++];switch(ut){case 0:st[ct++]=a[ft>>2],dt=(ft&3)<<4,ut=1;break;case 1:st[ct++]=a[dt|ft>>4],dt=(ft&15)<<2,ut=2;break;case 2:st[ct++]=a[dt|ft>>6],st[ct++]=a[ft&63],ut=0;break}ct>8191&&((ot||(ot=[])).push(String.fromCharCode.apply(String,st)),ct=0)}return ut&&(st[ct++]=a[dt],st[ct++]=61,ut===1&&(st[ct++]=61)),ot?(ct&&ot.push(String.fromCharCode.apply(String,st.slice(0,ct))),ot.join("")):String.fromCharCode.apply(String,st.slice(0,ct))};var et="invalid encoding";o.decode=function(rt,nt,it){for(var ot=it,st=0,ct,ut=0;ut<rt.length;){var dt=rt.charCodeAt(ut++);if(dt===61&&st>1)break;if((dt=j[dt])===void 0)throw Error(et);switch(st){case 0:ct=dt,st=1;break;case 1:nt[it++]=ct<<2|(dt&48)>>4,ct=dt,st=2;break;case 2:nt[it++]=(ct&15)<<4|(dt&60)>>2,ct=dt,st=3;break;case 3:nt[it++]=(ct&3)<<6|dt,st=0;break}}if(st===1)throw Error(et);return it-ot},o.test=function(rt){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(rt)}})(base64$3);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(o,a,j){return(this._listeners[o]||(this._listeners[o]=[])).push({fn:a,ctx:j||this}),this};EventEmitter.prototype.off=function(o,a){if(o===void 0)this._listeners={};else if(a===void 0)this._listeners[o]=[];else for(var j=this._listeners[o],_e=0;_e<j.length;)j[_e].fn===a?j.splice(_e,1):++_e;return this};EventEmitter.prototype.emit=function(o){var a=this._listeners[o];if(a){for(var j=[],_e=1;_e<arguments.length;)j.push(arguments[_e++]);for(_e=0;_e<a.length;)a[_e].fn.apply(a[_e++].ctx,j)}return this};var float=factory(factory);function factory($){return typeof Float32Array<"u"?function(){var o=new Float32Array([-0]),a=new Uint8Array(o.buffer),j=a[3]===128;function _e(nt,it,ot){o[0]=nt,it[ot]=a[0],it[ot+1]=a[1],it[ot+2]=a[2],it[ot+3]=a[3]}function et(nt,it,ot){o[0]=nt,it[ot]=a[3],it[ot+1]=a[2],it[ot+2]=a[1],it[ot+3]=a[0]}$.writeFloatLE=j?_e:et,$.writeFloatBE=j?et:_e;function tt(nt,it){return a[0]=nt[it],a[1]=nt[it+1],a[2]=nt[it+2],a[3]=nt[it+3],o[0]}function rt(nt,it){return a[3]=nt[it],a[2]=nt[it+1],a[1]=nt[it+2],a[0]=nt[it+3],o[0]}$.readFloatLE=j?tt:rt,$.readFloatBE=j?rt:tt}():function(){function o(j,_e,et,tt){var rt=_e<0?1:0;if(rt&&(_e=-_e),_e===0)j(1/_e>0?0:2147483648,et,tt);else if(isNaN(_e))j(2143289344,et,tt);else if(_e>34028234663852886e22)j((rt<<31|2139095040)>>>0,et,tt);else if(_e<11754943508222875e-54)j((rt<<31|Math.round(_e/1401298464324817e-60))>>>0,et,tt);else{var nt=Math.floor(Math.log(_e)/Math.LN2),it=Math.round(_e*Math.pow(2,-nt)*8388608)&8388607;j((rt<<31|nt+127<<23|it)>>>0,et,tt)}}$.writeFloatLE=o.bind(null,writeUintLE),$.writeFloatBE=o.bind(null,writeUintBE);function a(j,_e,et){var tt=j(_e,et),rt=(tt>>31)*2+1,nt=tt>>>23&255,it=tt&8388607;return nt===255?it?NaN:rt*(1/0):nt===0?rt*1401298464324817e-60*it:rt*Math.pow(2,nt-150)*(it+8388608)}$.readFloatLE=a.bind(null,readUintLE),$.readFloatBE=a.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var o=new Float64Array([-0]),a=new Uint8Array(o.buffer),j=a[7]===128;function _e(nt,it,ot){o[0]=nt,it[ot]=a[0],it[ot+1]=a[1],it[ot+2]=a[2],it[ot+3]=a[3],it[ot+4]=a[4],it[ot+5]=a[5],it[ot+6]=a[6],it[ot+7]=a[7]}function et(nt,it,ot){o[0]=nt,it[ot]=a[7],it[ot+1]=a[6],it[ot+2]=a[5],it[ot+3]=a[4],it[ot+4]=a[3],it[ot+5]=a[2],it[ot+6]=a[1],it[ot+7]=a[0]}$.writeDoubleLE=j?_e:et,$.writeDoubleBE=j?et:_e;function tt(nt,it){return a[0]=nt[it],a[1]=nt[it+1],a[2]=nt[it+2],a[3]=nt[it+3],a[4]=nt[it+4],a[5]=nt[it+5],a[6]=nt[it+6],a[7]=nt[it+7],o[0]}function rt(nt,it){return a[7]=nt[it],a[6]=nt[it+1],a[5]=nt[it+2],a[4]=nt[it+3],a[3]=nt[it+4],a[2]=nt[it+5],a[1]=nt[it+6],a[0]=nt[it+7],o[0]}$.readDoubleLE=j?tt:rt,$.readDoubleBE=j?rt:tt}():function(){function o(j,_e,et,tt,rt,nt){var it=tt<0?1:0;if(it&&(tt=-tt),tt===0)j(0,rt,nt+_e),j(1/tt>0?0:2147483648,rt,nt+et);else if(isNaN(tt))j(0,rt,nt+_e),j(2146959360,rt,nt+et);else if(tt>17976931348623157e292)j(0,rt,nt+_e),j((it<<31|2146435072)>>>0,rt,nt+et);else{var ot;if(tt<22250738585072014e-324)ot=tt/5e-324,j(ot>>>0,rt,nt+_e),j((it<<31|ot/4294967296)>>>0,rt,nt+et);else{var st=Math.floor(Math.log(tt)/Math.LN2);st===1024&&(st=1023),ot=tt*Math.pow(2,-st),j(ot*4503599627370496>>>0,rt,nt+_e),j((it<<31|st+1023<<20|ot*1048576&1048575)>>>0,rt,nt+et)}}}$.writeDoubleLE=o.bind(null,writeUintLE,0,4),$.writeDoubleBE=o.bind(null,writeUintBE,4,0);function a(j,_e,et,tt,rt){var nt=j(tt,rt+_e),it=j(tt,rt+et),ot=(it>>31)*2+1,st=it>>>20&2047,ct=4294967296*(it&1048575)+nt;return st===2047?ct?NaN:ot*(1/0):st===0?ot*5e-324*ct:ot*Math.pow(2,st-1075)*(ct+4503599627370496)}$.readDoubleLE=a.bind(null,readUintLE,0,4),$.readDoubleBE=a.bind(null,readUintBE,4,0)}(),$}function writeUintLE($,o,a){o[a]=$&255,o[a+1]=$>>>8&255,o[a+2]=$>>>16&255,o[a+3]=$>>>24}function writeUintBE($,o,a){o[a]=$>>>24,o[a+1]=$>>>16&255,o[a+2]=$>>>8&255,o[a+3]=$&255}function readUintLE($,o){return($[o]|$[o+1]<<8|$[o+2]<<16|$[o+3]<<24)>>>0}function readUintBE($,o){return($[o]<<24|$[o+1]<<16|$[o+2]<<8|$[o+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch($){}return null}var utf8$2={};(function($){var o=$;o.length=function(j){for(var _e=0,et=0,tt=0;tt<j.length;++tt)et=j.charCodeAt(tt),et<128?_e+=1:et<2048?_e+=2:(et&64512)===55296&&(j.charCodeAt(tt+1)&64512)===56320?(++tt,_e+=4):_e+=3;return _e},o.read=function(j,_e,et){var tt=et-_e;if(tt<1)return"";for(var rt=null,nt=[],it=0,ot;_e<et;)ot=j[_e++],ot<128?nt[it++]=ot:ot>191&&ot<224?nt[it++]=(ot&31)<<6|j[_e++]&63:ot>239&&ot<365?(ot=((ot&7)<<18|(j[_e++]&63)<<12|(j[_e++]&63)<<6|j[_e++]&63)-65536,nt[it++]=55296+(ot>>10),nt[it++]=56320+(ot&1023)):nt[it++]=(ot&15)<<12|(j[_e++]&63)<<6|j[_e++]&63,it>8191&&((rt||(rt=[])).push(String.fromCharCode.apply(String,nt)),it=0);return rt?(it&&rt.push(String.fromCharCode.apply(String,nt.slice(0,it))),rt.join("")):String.fromCharCode.apply(String,nt.slice(0,it))},o.write=function(j,_e,et){for(var tt=et,rt,nt,it=0;it<j.length;++it)rt=j.charCodeAt(it),rt<128?_e[et++]=rt:rt<2048?(_e[et++]=rt>>6|192,_e[et++]=rt&63|128):(rt&64512)===55296&&((nt=j.charCodeAt(it+1))&64512)===56320?(rt=65536+((rt&1023)<<10)+(nt&1023),++it,_e[et++]=rt>>18|240,_e[et++]=rt>>12&63|128,_e[et++]=rt>>6&63|128,_e[et++]=rt&63|128):(_e[et++]=rt>>12|224,_e[et++]=rt>>6&63|128,_e[et++]=rt&63|128);return et-tt}})(utf8$2);var pool_1=pool;function pool($,o,a){var j=a||8192,_e=j>>>1,et=null,tt=j;return function(nt){if(nt<1||nt>_e)return $(nt);tt+nt>j&&(et=$(j),tt=0);var it=o.call(et,tt,tt+=nt);return tt&7&&(tt=(tt|7)+1),it}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=o;var $=requireMinimal();function o(et,tt){this.lo=et>>>0,this.hi=tt>>>0}var a=o.zero=new o(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var j=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(tt){if(tt===0)return a;var rt=tt<0;rt&&(tt=-tt);var nt=tt>>>0,it=(tt-nt)/4294967296>>>0;return rt&&(it=~it>>>0,nt=~nt>>>0,++nt>4294967295&&(nt=0,++it>4294967295&&(it=0))),new o(nt,it)},o.from=function(tt){if(typeof tt=="number")return o.fromNumber(tt);if($.isString(tt))if($.Long)tt=$.Long.fromString(tt);else return o.fromNumber(parseInt(tt,10));return tt.low||tt.high?new o(tt.low>>>0,tt.high>>>0):a},o.prototype.toNumber=function(tt){if(!tt&&this.hi>>>31){var rt=~this.lo+1>>>0,nt=~this.hi>>>0;return rt||(nt=nt+1>>>0),-(rt+nt*4294967296)}return this.lo+this.hi*4294967296},o.prototype.toLong=function(tt){return $.Long?new $.Long(this.lo|0,this.hi|0,!!tt):{low:this.lo|0,high:this.hi|0,unsigned:!!tt}};var _e=String.prototype.charCodeAt;return o.fromHash=function(tt){return tt===j?a:new o((_e.call(tt,0)|_e.call(tt,1)<<8|_e.call(tt,2)<<16|_e.call(tt,3)<<24)>>>0,(_e.call(tt,4)|_e.call(tt,5)<<8|_e.call(tt,6)<<16|_e.call(tt,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var tt=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^tt)>>>0,this.lo=(this.lo<<1^tt)>>>0,this},o.prototype.zzDecode=function(){var tt=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^tt)>>>0,this.hi=(this.hi>>>1^tt)>>>0,this},o.prototype.length=function(){var tt=this.lo,rt=(this.lo>>>28|this.hi<<4)>>>0,nt=this.hi>>>24;return nt===0?rt===0?tt<16384?tt<128?1:2:tt<2097152?3:4:rt<16384?rt<128?5:6:rt<2097152?7:8:nt<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function($){var o=$;o.asPromise=aspromise,o.base64=base64$3,o.EventEmitter=eventemitter,o.float=float,o.inquire=inquire_1,o.utf8=utf8$2,o.pool=pool_1,o.LongBits=requireLongbits(),o.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),o.global=o.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isInteger=Number.isInteger||function(et){return typeof et=="number"&&isFinite(et)&&Math.floor(et)===et},o.isString=function(et){return typeof et=="string"||et instanceof String},o.isObject=function(et){return et&&typeof et=="object"},o.isset=o.isSet=function(et,tt){var rt=et[tt];return rt!=null&&et.hasOwnProperty(tt)?typeof rt!="object"||(Array.isArray(rt)?rt.length:Object.keys(rt).length)>0:!1},o.Buffer=function(){try{var _e=o.inquire("buffer").Buffer;return _e.prototype.utf8Write?_e:null}catch{return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(et){return typeof et=="number"?o.Buffer?o._Buffer_allocUnsafe(et):new o.Array(et):o.Buffer?o._Buffer_from(et):typeof Uint8Array>"u"?et:new Uint8Array(et)},o.Array=typeof Uint8Array<"u"?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(et){return et?o.LongBits.from(et).toHash():o.LongBits.zeroHash},o.longFromHash=function(et,tt){var rt=o.LongBits.fromHash(et);return o.Long?o.Long.fromBits(rt.lo,rt.hi,tt):rt.toNumber(!!tt)};function a(_e,et,tt){for(var rt=Object.keys(et),nt=0;nt<rt.length;++nt)(_e[rt[nt]]===void 0||!tt)&&(_e[rt[nt]]=et[rt[nt]]);return _e}o.merge=a,o.lcFirst=function(et){return et.charAt(0).toLowerCase()+et.substring(1)};function j(_e){function et(tt,rt){if(!(this instanceof et))return new et(tt,rt);Object.defineProperty(this,"message",{get:function(){return tt}}),Error.captureStackTrace?Error.captureStackTrace(this,et):Object.defineProperty(this,"stack",{value:new Error().stack||""}),rt&&a(this,rt)}return(et.prototype=Object.create(Error.prototype)).constructor=et,Object.defineProperty(et.prototype,"name",{get:function(){return _e}}),et.prototype.toString=function(){return this.name+": "+this.message},et}o.newError=j,o.ProtocolError=j("ProtocolError"),o.oneOfGetter=function(et){for(var tt={},rt=0;rt<et.length;++rt)tt[et[rt]]=1;return function(){for(var nt=Object.keys(this),it=nt.length-1;it>-1;--it)if(tt[nt[it]]===1&&this[nt[it]]!==void 0&&this[nt[it]]!==null)return nt[it]}},o.oneOfSetter=function(et){return function(tt){for(var rt=0;rt<et.length;++rt)et[rt]!==tt&&delete this[et[rt]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var _e=o.Buffer;if(!_e){o._Buffer_from=o._Buffer_allocUnsafe=null;return}o._Buffer_from=_e.from!==Uint8Array.from&&_e.from||function(tt,rt){return new _e(tt,rt)},o._Buffer_allocUnsafe=_e.allocUnsafe||function(tt){return new _e(tt)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64$2=util$4.base64,utf8$1=util$4.utf8;function Op($,o,a){this.fn=$,this.len=o,this.next=void 0,this.val=a}function noop(){}function State($){this.head=$.head,this.tail=$.tail,this.len=$.len,this.next=$.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$3=function $(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$3();Writer$1.alloc=function $(o){return new util$4.Array(o)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function $(o,a,j){return this.tail=this.tail.next=new Op(o,a,j),this.len+=a,this};function writeByte($,o,a){o[a]=$&255}function writeVarint32($,o,a){for(;$>127;)o[a++]=$&127|128,$>>>=7;o[a]=$}function VarintOp($,o){this.len=$,this.next=void 0,this.val=o}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function $(o){return this.len+=(this.tail=this.tail.next=new VarintOp((o=o>>>0)<128?1:o<16384?2:o<2097152?3:o<268435456?4:5,o)).len,this};Writer$1.prototype.int32=function $(o){return o<0?this._push(writeVarint64,10,LongBits$1.fromNumber(o)):this.uint32(o)};Writer$1.prototype.sint32=function $(o){return this.uint32((o<<1^o>>31)>>>0)};function writeVarint64($,o,a){for(;$.hi;)o[a++]=$.lo&127|128,$.lo=($.lo>>>7|$.hi<<25)>>>0,$.hi>>>=7;for(;$.lo>127;)o[a++]=$.lo&127|128,$.lo=$.lo>>>7;o[a++]=$.lo}Writer$1.prototype.uint64=function $(o){var a=LongBits$1.from(o);return this._push(writeVarint64,a.length(),a)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function $(o){var a=LongBits$1.from(o).zzEncode();return this._push(writeVarint64,a.length(),a)};Writer$1.prototype.bool=function $(o){return this._push(writeByte,1,o?1:0)};function writeFixed32($,o,a){o[a]=$&255,o[a+1]=$>>>8&255,o[a+2]=$>>>16&255,o[a+3]=$>>>24}Writer$1.prototype.fixed32=function $(o){return this._push(writeFixed32,4,o>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function $(o){var a=LongBits$1.from(o);return this._push(writeFixed32,4,a.lo)._push(writeFixed32,4,a.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function $(o){return this._push(util$4.float.writeFloatLE,4,o)};Writer$1.prototype.double=function $(o){return this._push(util$4.float.writeDoubleLE,8,o)};var writeBytes=util$4.Array.prototype.set?function $(o,a,j){a.set(o,j)}:function $(o,a,j){for(var _e=0;_e<o.length;++_e)a[j+_e]=o[_e]};Writer$1.prototype.bytes=function $(o){var a=o.length>>>0;if(!a)return this._push(writeByte,1,0);if(util$4.isString(o)){var j=Writer$1.alloc(a=base64$2.length(o));base64$2.decode(o,j,0),o=j}return this.uint32(a)._push(writeBytes,a,o)};Writer$1.prototype.string=function $(o){var a=utf8$1.length(o);return a?this.uint32(a)._push(utf8$1.write,a,o):this._push(writeByte,1,0)};Writer$1.prototype.fork=function $(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function $(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function $(){var o=this.head,a=this.tail,j=this.len;return this.reset().uint32(j),j&&(this.tail.next=o.next,this.tail=a,this.len+=j),this};Writer$1.prototype.finish=function $(){for(var o=this.head.next,a=this.constructor.alloc(this.len),j=0;o;)o.fn(o.val,a,j),j+=o.len,o=o.next;return a};Writer$1._configure=function($){BufferWriter$1=$,Writer$1.create=create$3(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(o,a,j){a.set(o,j)}:function(o,a,j){if(o.copy)o.copy(a,j,0,o.length);else for(var _e=0;_e<o.length;)a[j++]=o[_e++]}};BufferWriter.prototype.bytes=function $(o){util$3.isString(o)&&(o=util$3._Buffer_from(o,"base64"));var a=o.length>>>0;return this.uint32(a),a&&this._push(BufferWriter.writeBytesBuffer,a,o),this};function writeStringBuffer($,o,a){$.length<40?util$3.utf8.write($,o,a):o.utf8Write?o.utf8Write($,a):o.write($,a)}BufferWriter.prototype.string=function $(o){var a=util$3.Buffer.byteLength(o);return this.uint32(a),a&&this._push(writeStringBuffer,a,o),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange($,o){return RangeError("index out of range: "+$.pos+" + "+(o||1)+" > "+$.len)}function Reader$1($){this.buf=$,this.pos=0,this.len=$.length}var create_array=typeof Uint8Array<"u"?function $(o){if(o instanceof Uint8Array||Array.isArray(o))return new Reader$1(o);throw Error("illegal buffer")}:function $(o){if(Array.isArray(o))return new Reader$1(o);throw Error("illegal buffer")},create$2=function $(){return util$2.Buffer?function(a){return(Reader$1.create=function(_e){return util$2.Buffer.isBuffer(_e)?new BufferReader$1(_e):create_array(_e)})(a)}:create_array};Reader$1.create=create$2();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function $(){var o=4294967295;return function(){if(o=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(o=(o|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return o;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return o}}();Reader$1.prototype.int32=function $(){return this.uint32()|0};Reader$1.prototype.sint32=function $(){var o=this.uint32();return o>>>1^-(o&1)|0};function readLongVarint(){var $=new LongBits(0,0),o=0;if(this.len-this.pos>4){for(;o<4;++o)if($.lo=($.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return $;if($.lo=($.lo|(this.buf[this.pos]&127)<<28)>>>0,$.hi=($.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return $;o=0}else{for(;o<3;++o){if(this.pos>=this.len)throw indexOutOfRange(this);if($.lo=($.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return $}return $.lo=($.lo|(this.buf[this.pos++]&127)<<o*7)>>>0,$}if(this.len-this.pos>4){for(;o<5;++o)if($.hi=($.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return $}else for(;o<5;++o){if(this.pos>=this.len)throw indexOutOfRange(this);if($.hi=($.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return $}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function $(){return this.uint32()!==0};function readFixed32_end($,o){return($[o-4]|$[o-3]<<8|$[o-2]<<16|$[o-1]<<24)>>>0}Reader$1.prototype.fixed32=function $(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function $(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function $(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var o=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,o};Reader$1.prototype.double=function $(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var o=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,o};Reader$1.prototype.bytes=function $(){var o=this.uint32(),a=this.pos,j=this.pos+o;if(j>this.len)throw indexOutOfRange(this,o);return this.pos+=o,Array.isArray(this.buf)?this.buf.slice(a,j):a===j?new this.buf.constructor(0):this._slice.call(this.buf,a,j)};Reader$1.prototype.string=function $(){var o=this.bytes();return utf8.read(o,0,o.length)};Reader$1.prototype.skip=function $(o){if(typeof o=="number"){if(this.pos+o>this.len)throw indexOutOfRange(this,o);this.pos+=o}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function($){switch($){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;($=this.uint32()&7)!==4;)this.skipType($);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+$+" at offset "+this.pos)}return this};Reader$1._configure=function($){BufferReader$1=$,Reader$1.create=create$2(),BufferReader$1._configure();var o=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[o](!1)},uint64:function(){return readLongVarint.call(this)[o](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[o](!1)},fixed64:function(){return readFixed64.call(this)[o](!0)},sfixed64:function(){return readFixed64.call(this)[o](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader($){Reader.call(this,$)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function $(){var o=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+o,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+o,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service($,o,a){if(typeof $!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=$,this.requestDelimited=!!o,this.responseDelimited=!!a}Service.prototype.rpcCall=function $(o,a,j,_e,et){if(!_e)throw TypeError("request must be specified");var tt=this;if(!et)return util.asPromise($,tt,o,a,j,_e);if(!tt.rpcImpl){setTimeout(function(){et(Error("already ended"))},0);return}try{return tt.rpcImpl(o,a[tt.requestDelimited?"encodeDelimited":"encode"](_e).finish(),function(nt,it){if(nt)return tt.emit("error",nt,o),et(nt);if(it===null){tt.end(!0);return}if(!(it instanceof j))try{it=j[tt.responseDelimited?"decodeDelimited":"decode"](it)}catch(ot){return tt.emit("error",ot,o),et(ot)}return tt.emit("data",it,o),et(null,it)})}catch(rt){tt.emit("error",rt,o),setTimeout(function(){et(rt)},0);return}};Service.prototype.end=function $(o){return this.rpcImpl&&(o||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function($){var o=$;o.Service=service})(rpc);var roots$1={};(function($){var o=$;o.build="minimal",o.Writer=writer,o.BufferWriter=writer_buffer,o.Reader=reader,o.BufferReader=reader_buffer,o.util=requireMinimal(),o.rpc=rpc,o.roots=roots$1,o.configure=a;function a(){o.util._configure(),o.Writer._configure(o.BufferWriter),o.Reader._configure(o.BufferReader)}a()})(indexMinimal);var minimal=indexMinimal;const $protobuf=getDefaultExportFromCjs(minimal),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots["ipfs-unixfs"]||($protobuf.roots["ipfs-unixfs"]={}),Data=$root.Data=(()=>{function $(o){if(this.blocksizes=[],o)for(var a=Object.keys(o),j=0;j<a.length;++j)o[a[j]]!=null&&(this[a[j]]=o[a[j]])}return $.prototype.Type=0,$.prototype.Data=$util.newBuffer([]),$.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,$.prototype.blocksizes=$util.emptyArray,$.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,$.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,$.prototype.mode=0,$.prototype.mtime=null,$.encode=function(a,j){if(j||(j=$Writer.create()),j.uint32(8).int32(a.Type),a.Data!=null&&Object.hasOwnProperty.call(a,"Data")&&j.uint32(18).bytes(a.Data),a.filesize!=null&&Object.hasOwnProperty.call(a,"filesize")&&j.uint32(24).uint64(a.filesize),a.blocksizes!=null&&a.blocksizes.length)for(var _e=0;_e<a.blocksizes.length;++_e)j.uint32(32).uint64(a.blocksizes[_e]);return a.hashType!=null&&Object.hasOwnProperty.call(a,"hashType")&&j.uint32(40).uint64(a.hashType),a.fanout!=null&&Object.hasOwnProperty.call(a,"fanout")&&j.uint32(48).uint64(a.fanout),a.mode!=null&&Object.hasOwnProperty.call(a,"mode")&&j.uint32(56).uint32(a.mode),a.mtime!=null&&Object.hasOwnProperty.call(a,"mtime")&&$root.UnixTime.encode(a.mtime,j.uint32(66).fork()).ldelim(),j},$.decode=function(a,j){a instanceof $Reader||(a=$Reader.create(a));for(var _e=j===void 0?a.len:a.pos+j,et=new $root.Data;a.pos<_e;){var tt=a.uint32();switch(tt>>>3){case 1:et.Type=a.int32();break;case 2:et.Data=a.bytes();break;case 3:et.filesize=a.uint64();break;case 4:if(et.blocksizes&&et.blocksizes.length||(et.blocksizes=[]),(tt&7)===2)for(var rt=a.uint32()+a.pos;a.pos<rt;)et.blocksizes.push(a.uint64());else et.blocksizes.push(a.uint64());break;case 5:et.hashType=a.uint64();break;case 6:et.fanout=a.uint64();break;case 7:et.mode=a.uint32();break;case 8:et.mtime=$root.UnixTime.decode(a,a.uint32());break;default:a.skipType(tt&7);break}}if(!et.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:et});return et},$.fromObject=function(a){if(a instanceof $root.Data)return a;var j=new $root.Data;switch(a.Type){case"Raw":case 0:j.Type=0;break;case"Directory":case 1:j.Type=1;break;case"File":case 2:j.Type=2;break;case"Metadata":case 3:j.Type=3;break;case"Symlink":case 4:j.Type=4;break;case"HAMTShard":case 5:j.Type=5;break}if(a.Data!=null&&(typeof a.Data=="string"?$util.base64.decode(a.Data,j.Data=$util.newBuffer($util.base64.length(a.Data)),0):a.Data.length&&(j.Data=a.Data)),a.filesize!=null&&($util.Long?(j.filesize=$util.Long.fromValue(a.filesize)).unsigned=!0:typeof a.filesize=="string"?j.filesize=parseInt(a.filesize,10):typeof a.filesize=="number"?j.filesize=a.filesize:typeof a.filesize=="object"&&(j.filesize=new $util.LongBits(a.filesize.low>>>0,a.filesize.high>>>0).toNumber(!0))),a.blocksizes){if(!Array.isArray(a.blocksizes))throw TypeError(".Data.blocksizes: array expected");j.blocksizes=[];for(var _e=0;_e<a.blocksizes.length;++_e)$util.Long?(j.blocksizes[_e]=$util.Long.fromValue(a.blocksizes[_e])).unsigned=!0:typeof a.blocksizes[_e]=="string"?j.blocksizes[_e]=parseInt(a.blocksizes[_e],10):typeof a.blocksizes[_e]=="number"?j.blocksizes[_e]=a.blocksizes[_e]:typeof a.blocksizes[_e]=="object"&&(j.blocksizes[_e]=new $util.LongBits(a.blocksizes[_e].low>>>0,a.blocksizes[_e].high>>>0).toNumber(!0))}if(a.hashType!=null&&($util.Long?(j.hashType=$util.Long.fromValue(a.hashType)).unsigned=!0:typeof a.hashType=="string"?j.hashType=parseInt(a.hashType,10):typeof a.hashType=="number"?j.hashType=a.hashType:typeof a.hashType=="object"&&(j.hashType=new $util.LongBits(a.hashType.low>>>0,a.hashType.high>>>0).toNumber(!0))),a.fanout!=null&&($util.Long?(j.fanout=$util.Long.fromValue(a.fanout)).unsigned=!0:typeof a.fanout=="string"?j.fanout=parseInt(a.fanout,10):typeof a.fanout=="number"?j.fanout=a.fanout:typeof a.fanout=="object"&&(j.fanout=new $util.LongBits(a.fanout.low>>>0,a.fanout.high>>>0).toNumber(!0))),a.mode!=null&&(j.mode=a.mode>>>0),a.mtime!=null){if(typeof a.mtime!="object")throw TypeError(".Data.mtime: object expected");j.mtime=$root.UnixTime.fromObject(a.mtime)}return j},$.toObject=function(a,j){j||(j={});var _e={};if((j.arrays||j.defaults)&&(_e.blocksizes=[]),j.defaults){if(_e.Type=j.enums===String?"Raw":0,j.bytes===String?_e.Data="":(_e.Data=[],j.bytes!==Array&&(_e.Data=$util.newBuffer(_e.Data))),$util.Long){var et=new $util.Long(0,0,!0);_e.filesize=j.longs===String?et.toString():j.longs===Number?et.toNumber():et}else _e.filesize=j.longs===String?"0":0;if($util.Long){var et=new $util.Long(0,0,!0);_e.hashType=j.longs===String?et.toString():j.longs===Number?et.toNumber():et}else _e.hashType=j.longs===String?"0":0;if($util.Long){var et=new $util.Long(0,0,!0);_e.fanout=j.longs===String?et.toString():j.longs===Number?et.toNumber():et}else _e.fanout=j.longs===String?"0":0;_e.mode=0,_e.mtime=null}if(a.Type!=null&&a.hasOwnProperty("Type")&&(_e.Type=j.enums===String?$root.Data.DataType[a.Type]:a.Type),a.Data!=null&&a.hasOwnProperty("Data")&&(_e.Data=j.bytes===String?$util.base64.encode(a.Data,0,a.Data.length):j.bytes===Array?Array.prototype.slice.call(a.Data):a.Data),a.filesize!=null&&a.hasOwnProperty("filesize")&&(typeof a.filesize=="number"?_e.filesize=j.longs===String?String(a.filesize):a.filesize:_e.filesize=j.longs===String?$util.Long.prototype.toString.call(a.filesize):j.longs===Number?new $util.LongBits(a.filesize.low>>>0,a.filesize.high>>>0).toNumber(!0):a.filesize),a.blocksizes&&a.blocksizes.length){_e.blocksizes=[];for(var tt=0;tt<a.blocksizes.length;++tt)typeof a.blocksizes[tt]=="number"?_e.blocksizes[tt]=j.longs===String?String(a.blocksizes[tt]):a.blocksizes[tt]:_e.blocksizes[tt]=j.longs===String?$util.Long.prototype.toString.call(a.blocksizes[tt]):j.longs===Number?new $util.LongBits(a.blocksizes[tt].low>>>0,a.blocksizes[tt].high>>>0).toNumber(!0):a.blocksizes[tt]}return a.hashType!=null&&a.hasOwnProperty("hashType")&&(typeof a.hashType=="number"?_e.hashType=j.longs===String?String(a.hashType):a.hashType:_e.hashType=j.longs===String?$util.Long.prototype.toString.call(a.hashType):j.longs===Number?new $util.LongBits(a.hashType.low>>>0,a.hashType.high>>>0).toNumber(!0):a.hashType),a.fanout!=null&&a.hasOwnProperty("fanout")&&(typeof a.fanout=="number"?_e.fanout=j.longs===String?String(a.fanout):a.fanout:_e.fanout=j.longs===String?$util.Long.prototype.toString.call(a.fanout):j.longs===Number?new $util.LongBits(a.fanout.low>>>0,a.fanout.high>>>0).toNumber(!0):a.fanout),a.mode!=null&&a.hasOwnProperty("mode")&&(_e.mode=a.mode),a.mtime!=null&&a.hasOwnProperty("mtime")&&(_e.mtime=$root.UnixTime.toObject(a.mtime,j)),_e},$.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},$.DataType=function(){const o={},a=Object.create(o);return a[o[0]="Raw"]=0,a[o[1]="Directory"]=1,a[o[2]="File"]=2,a[o[3]="Metadata"]=3,a[o[4]="Symlink"]=4,a[o[5]="HAMTShard"]=5,a}(),$})();$root.UnixTime=(()=>{function $(o){if(o)for(var a=Object.keys(o),j=0;j<a.length;++j)o[a[j]]!=null&&(this[a[j]]=o[a[j]])}return $.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,$.prototype.FractionalNanoseconds=0,$.encode=function(a,j){return j||(j=$Writer.create()),j.uint32(8).int64(a.Seconds),a.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(a,"FractionalNanoseconds")&&j.uint32(21).fixed32(a.FractionalNanoseconds),j},$.decode=function(a,j){a instanceof $Reader||(a=$Reader.create(a));for(var _e=j===void 0?a.len:a.pos+j,et=new $root.UnixTime;a.pos<_e;){var tt=a.uint32();switch(tt>>>3){case 1:et.Seconds=a.int64();break;case 2:et.FractionalNanoseconds=a.fixed32();break;default:a.skipType(tt&7);break}}if(!et.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:et});return et},$.fromObject=function(a){if(a instanceof $root.UnixTime)return a;var j=new $root.UnixTime;return a.Seconds!=null&&($util.Long?(j.Seconds=$util.Long.fromValue(a.Seconds)).unsigned=!1:typeof a.Seconds=="string"?j.Seconds=parseInt(a.Seconds,10):typeof a.Seconds=="number"?j.Seconds=a.Seconds:typeof a.Seconds=="object"&&(j.Seconds=new $util.LongBits(a.Seconds.low>>>0,a.Seconds.high>>>0).toNumber())),a.FractionalNanoseconds!=null&&(j.FractionalNanoseconds=a.FractionalNanoseconds>>>0),j},$.toObject=function(a,j){j||(j={});var _e={};if(j.defaults){if($util.Long){var et=new $util.Long(0,0,!1);_e.Seconds=j.longs===String?et.toString():j.longs===Number?et.toNumber():et}else _e.Seconds=j.longs===String?"0":0;_e.FractionalNanoseconds=0}return a.Seconds!=null&&a.hasOwnProperty("Seconds")&&(typeof a.Seconds=="number"?_e.Seconds=j.longs===String?String(a.Seconds):a.Seconds:_e.Seconds=j.longs===String?$util.Long.prototype.toString.call(a.Seconds):j.longs===Number?new $util.LongBits(a.Seconds.low>>>0,a.Seconds.high>>>0).toNumber():a.Seconds),a.FractionalNanoseconds!=null&&a.hasOwnProperty("FractionalNanoseconds")&&(_e.FractionalNanoseconds=a.FractionalNanoseconds),_e},$.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},$})();$root.Metadata=(()=>{function $(o){if(o)for(var a=Object.keys(o),j=0;j<a.length;++j)o[a[j]]!=null&&(this[a[j]]=o[a[j]])}return $.prototype.MimeType="",$.encode=function(a,j){return j||(j=$Writer.create()),a.MimeType!=null&&Object.hasOwnProperty.call(a,"MimeType")&&j.uint32(10).string(a.MimeType),j},$.decode=function(a,j){a instanceof $Reader||(a=$Reader.create(a));for(var _e=j===void 0?a.len:a.pos+j,et=new $root.Metadata;a.pos<_e;){var tt=a.uint32();switch(tt>>>3){case 1:et.MimeType=a.string();break;default:a.skipType(tt&7);break}}return et},$.fromObject=function(a){if(a instanceof $root.Metadata)return a;var j=new $root.Metadata;return a.MimeType!=null&&(j.MimeType=String(a.MimeType)),j},$.toObject=function(a,j){j||(j={});var _e={};return j.defaults&&(_e.MimeType=""),a.MimeType!=null&&a.hasOwnProperty("MimeType")&&(_e.MimeType=a.MimeType),_e},$.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},$})();const PBData=Data,types=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],dirTypes=["directory","hamt-sharded-directory"],DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode($){if($!=null)return typeof $=="number"?$&4095:($=$.toString(),$.substring(0,1)==="0"?parseInt($,8)&4095:parseInt($,10)&4095)}function parseMtime($){if($==null)return;let o;if($.secs!=null&&(o={secs:$.secs,nsecs:$.nsecs}),$.Seconds!=null&&(o={secs:$.Seconds,nsecs:$.FractionalNanoseconds}),Array.isArray($)&&(o={secs:$[0],nsecs:$[1]}),$ instanceof Date){const a=$.getTime(),j=Math.floor(a/1e3);o={secs:j,nsecs:(a-j*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(o,"secs")){if(o!=null&&o.nsecs!=null&&(o.nsecs<0||o.nsecs>999999999))throw errCode$1(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return o}}class UnixFS{static unmarshal(o){const a=PBData.decode(o),j=PBData.toObject(a,{defaults:!1,arrays:!0,longs:Number,objects:!1}),_e=new UnixFS({type:types[j.Type],data:j.Data,blockSizes:j.blocksizes,mode:j.mode,mtime:j.mtime?{secs:j.mtime.Seconds,nsecs:j.mtime.FractionalNanoseconds}:void 0});return _e._originalMode=j.mode||0,_e}constructor(o={type:"file"}){const{type:a,data:j,blockSizes:_e,hashType:et,fanout:tt,mtime:rt,mode:nt}=o;if(a&&!types.includes(a))throw errCode$1(new Error("Type: "+a+" is not valid"),"ERR_INVALID_TYPE");this.type=a||"file",this.data=j,this.hashType=et,this.fanout=tt,this.blockSizes=_e||[],this._originalMode=0,this.mode=parseMode(nt),rt&&(this.mtime=parseMtime(rt),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(o){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;const a=parseMode(o);a!==void 0&&(this._mode=a)}get mode(){return this._mode}isDirectory(){return!!(this.type&&dirTypes.includes(this.type))}addBlockSize(o){this.blockSizes.push(o)}removeBlockSize(o){this.blockSizes.splice(o,1)}fileSize(){if(this.isDirectory())return 0;let o=0;return this.blockSizes.forEach(a=>{o+=a}),this.data&&(o+=this.data.length),o}marshal(){let o;switch(this.type){case"raw":o=PBData.DataType.Raw;break;case"directory":o=PBData.DataType.Directory;break;case"file":o=PBData.DataType.File;break;case"metadata":o=PBData.DataType.Metadata;break;case"symlink":o=PBData.DataType.Symlink;break;case"hamt-sharded-directory":o=PBData.DataType.HAMTShard;break;default:throw errCode$1(new Error("Type: "+o+" is not valid"),"ERR_INVALID_TYPE")}let a=this.data;(!this.data||!this.data.length)&&(a=void 0);let j;this.mode!=null&&(j=this._originalMode&4294963200|(parseMode(this.mode)||0),j===DEFAULT_FILE_MODE&&!this.isDirectory()&&(j=void 0),j===DEFAULT_DIRECTORY_MODE&&this.isDirectory()&&(j=void 0));let _e;if(this.mtime!=null){const tt=parseMtime(this.mtime);tt&&(_e={Seconds:tt.secs,FractionalNanoseconds:tt.nsecs},_e.FractionalNanoseconds===0&&delete _e.FractionalNanoseconds)}const et={Type:o,Data:a,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:j,mtime:_e};return PBData.encode(et).finish()}}const textDecoder=new TextDecoder;function decodeVarint($,o){let a=0;for(let j=0;;j+=7){if(j>=64)throw new Error("protobuf: varint overflow");if(o>=$.length)throw new Error("protobuf: unexpected end of data");const _e=$[o++];if(a+=j<28?(_e&127)<<j:(_e&127)*2**j,_e<128)break}return[a,o]}function decodeBytes($,o){let a;[a,o]=decodeVarint($,o);const j=o+a;if(a<0||j<0)throw new Error("protobuf: invalid length");if(j>$.length)throw new Error("protobuf: unexpected end of data");return[$.subarray(o,j),j]}function decodeKey($,o){let a;return[a,o]=decodeVarint($,o),[a&7,a>>3,o]}function decodeLink($){const o={},a=$.length;let j=0;for(;j<a;){let _e,et;if([_e,et,j]=decodeKey($,j),et===1){if(o.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(_e!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${_e}) for Hash`);if(o.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(o.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[o.Hash,j]=decodeBytes($,j)}else if(et===2){if(o.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(_e!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${_e}) for Name`);if(o.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let tt;[tt,j]=decodeBytes($,j),o.Name=textDecoder.decode(tt)}else if(et===3){if(o.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(_e!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${_e}) for Tsize`);[o.Tsize,j]=decodeVarint($,j)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${et}`)}if(j>a)throw new Error("protobuf: (PBLink) unexpected end of data");return o}function decodeNode($){const o=$.length;let a=0,j,_e=!1,et;for(;a<o;){let rt,nt;if([rt,nt,a]=decodeKey($,a),rt!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${rt}`);if(nt===1){if(et)throw new Error("protobuf: (PBNode) duplicate Data section");[et,a]=decodeBytes($,a),j&&(_e=!0)}else if(nt===2){if(_e)throw new Error("protobuf: (PBNode) duplicate Links section");j||(j=[]);let it;[it,a]=decodeBytes($,a),j.push(decodeLink(it))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${nt}`)}if(a>o)throw new Error("protobuf: (PBNode) unexpected end of data");const tt={};return et&&(tt.Data=et),tt.Links=j||[],tt}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink($,o){let a=o.length;if(typeof $.Tsize=="number"){if($.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger($.Tsize))throw new Error("Tsize too large for encoding");a=encodeVarint(o,a,$.Tsize)-1,o[a]=24}if(typeof $.Name=="string"){const j=textEncoder$1.encode($.Name);a-=j.length,o.set(j,a),a=encodeVarint(o,a,j.length)-1,o[a]=18}return $.Hash&&(a-=$.Hash.length,o.set($.Hash,a),a=encodeVarint(o,a,$.Hash.length)-1,o[a]=10),o.length-a}function encodeNode($){const o=sizeNode($),a=new Uint8Array(o);let j=o;if($.Data&&(j-=$.Data.length,a.set($.Data,j),j=encodeVarint(a,j,$.Data.length)-1,a[j]=10),$.Links)for(let _e=$.Links.length-1;_e>=0;_e--){const et=encodeLink($.Links[_e],a.subarray(0,j));j-=et,j=encodeVarint(a,j,et)-1,a[j]=18}return a}function sizeLink($){let o=0;if($.Hash){const a=$.Hash.length;o+=1+a+sov(a)}if(typeof $.Name=="string"){const a=textEncoder$1.encode($.Name).length;o+=1+a+sov(a)}return typeof $.Tsize=="number"&&(o+=1+sov($.Tsize)),o}function sizeNode($){let o=0;if($.Data){const a=$.Data.length;o+=1+a+sov(a)}if($.Links)for(const a of $.Links){const j=sizeLink(a);o+=1+j+sov(j)}return o}function encodeVarint($,o,a){o-=sov(a);const j=o;for(;a>=maxUInt32;)$[o++]=a&127|128,a/=128;for(;a>=128;)$[o++]=a&127|128,a>>>=7;return $[o]=a,j}function sov($){return $%2===0&&$++,Math.floor((len64($)+6)/7)}function len64($){let o=0;return $>=maxInt32&&($=Math.floor($/maxInt32),o=32),$>=65536&&($>>>=16,o+=16),$>=256&&($>>>=8,o+=8),o+len8tab[$]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator($,o){if($===o)return 0;const a=$.Name?textEncoder.encode($.Name):[],j=o.Name?textEncoder.encode(o.Name):[];let _e=a.length,et=j.length;for(let tt=0,rt=Math.min(_e,et);tt<rt;++tt)if(a[tt]!==j[tt]){_e=a[tt],et=j[tt];break}return _e<et?-1:et<_e?1:0}function hasOnlyProperties($,o){return!Object.keys($).some(a=>!o.includes(a))}function asLink($){if(typeof $.asCID=="object"){const a=CID.asCID($);if(!a)throw new TypeError("Invalid DAG-PB form");return{Hash:a}}if(typeof $!="object"||Array.isArray($))throw new TypeError("Invalid DAG-PB form");const o={};if($.Hash){let a=CID.asCID($.Hash);try{a||(typeof $.Hash=="string"?a=CID.parse($.Hash):$.Hash instanceof Uint8Array&&(a=CID.decode($.Hash)))}catch(j){throw new TypeError(`Invalid DAG-PB form: ${j.message}`)}a&&(o.Hash=a)}if(!o.Hash)throw new TypeError("Invalid DAG-PB form");return typeof $.Name=="string"&&(o.Name=$.Name),typeof $.Tsize=="number"&&(o.Tsize=$.Tsize),o}function prepare$1($){if(($ instanceof Uint8Array||typeof $=="string")&&($={Data:$}),typeof $!="object"||Array.isArray($))throw new TypeError("Invalid DAG-PB form");const o={};if($.Data!==void 0)if(typeof $.Data=="string")o.Data=textEncoder.encode($.Data);else if($.Data instanceof Uint8Array)o.Data=$.Data;else throw new TypeError("Invalid DAG-PB form");if($.Links!==void 0)if(Array.isArray($.Links))o.Links=$.Links.map(asLink),o.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else o.Links=[];return o}function validate($){if(!$||typeof $!="object"||Array.isArray($))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties($,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if($.Data!==void 0&&!($.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray($.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let o=0;o<$.Links.length;o++){const a=$.Links[o];if(!a||typeof a!="object"||Array.isArray(a))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(a,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!a.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(a.Hash.asCID!==a.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(a.Name!==void 0&&typeof a.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(a.Tsize!==void 0&&(typeof a.Tsize!="number"||a.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(o>0&&linkComparator(a,$.Links[o-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode($,o=[]){return prepare$1({Data:$,Links:o})}function createLink($,o,a){return asLink({Hash:a,Name:$,Tsize:o})}const name$3="dag-pb",code$4=112;function encode$4($){validate($);const o={};return $.Links&&(o.Links=$.Links.map(a=>{const j={};return a.Hash&&(j.Hash=a.Hash.bytes),a.Name!==void 0&&(j.Name=a.Name),a.Tsize!==void 0&&(j.Tsize=a.Tsize),j})),$.Data&&(o.Data=$.Data),encodeNode(o)}function decode$3($){const o=decodeNode($),a={};return o.Data&&(a.Data=o.Data),o.Links&&(a.Links=o.Links.map(j=>{const _e={};try{_e.Hash=CID.decode(j.Hash)}catch{}if(!_e.Hash)throw new Error("Invalid Hash field found in link, expected CID");return j.Name!==void 0&&(_e.Name=j.Name),j.Tsize!==void 0&&(_e.Tsize=j.Tsize),_e})),a}const pb=Object.freeze(Object.defineProperty({__proto__:null,code:code$4,createLink,createNode,decode:decode$3,encode:encode$4,name:name$3,prepare:prepare$1,validate},Symbol.toStringTag,{value:"Module"})),persist=async($,o,a)=>{a.codec||(a.codec=pb),a.hasher||(a.hasher=sha256),a.cidVersion===void 0&&(a.cidVersion=1),a.codec===pb&&a.hasher!==sha256&&(a.cidVersion=1);const j=await a.hasher.digest($),_e=CID.create(a.cidVersion,a.codec.code,j);return a.onlyHash||await o.put(_e,$,{signal:a.signal}),_e},dirBuilder=async($,o,a)=>{const j=new UnixFS({type:"directory",mtime:$.mtime,mode:$.mode}),_e=encode$4(prepare$1({Data:j.marshal()})),et=await persist(_e,o,a),tt=$.path;return{cid:et,path:tt,unixfs:j,size:_e.length}},name$2="raw",code$3=85,encode$3=$=>coerce($),decode$2=$=>coerce($),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$3,decode:decode$2,encode:encode$3,name:name$2},Symbol.toStringTag,{value:"Module"})),all=async $=>{const o=[];for await(const a of $)o.push(a);return o};var itAll=all;const all$1=getDefaultExportFromCjs(itAll);async function flat($,o){return o(await all$1($))}function balanced($,o,a){return reduceToParents($,o,a)}async function reduceToParents($,o,a){const j=[];for await(const _e of batch$2($,a.maxChildrenPerNode))j.push(await o(_e));return j.length>1?reduceToParents(j,o,a):j[0]}async function trickleStream($,o,a){const j=new Root(a.layerRepeat);let _e=0,et=1,tt=j;for await(const rt of batch$2($,a.maxChildrenPerNode))tt.isFull()&&(tt!==j&&j.addChild(await tt.reduce(o)),_e&&_e%a.layerRepeat===0&&et++,tt=new SubTree(et,a.layerRepeat,_e),_e++),tt.append(rt);return tt&&tt!==j&&j.addChild(await tt.reduce(o)),j.reduce(o)}class SubTree{constructor(o,a,j=0){this.maxDepth=o,this.layerRepeat=a,this.currentDepth=1,this.iteration=j,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:o,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const o=this._findParent(this.node,this.currentDepth);return o?(this._addNextNodeToParent(o),!1):!0}_addNextNodeToParent(o){this.parent=o;const a={children:[],depth:o.depth+1,parent:o,maxDepth:this.maxDepth,maxChildren:Math.floor(o.children.length/this.layerRepeat)*this.layerRepeat};o.children.push(a),this.currentDepth=a.depth,this.node=a}append(o){this.node.data=o}reduce(o){return this._reduce(this.root,o)}async _reduce(o,a){let j=[];return o.children.length&&(j=await Promise.all(o.children.filter(_e=>_e.data).map(_e=>this._reduce(_e,a)))),a((o.data||[]).concat(j))}_findParent(o,a){const j=o.parent;if(!(!j||j.depth===0))return j.children.length===j.maxChildren||!j.maxChildren?this._findParent(j,a):j}}class Root extends SubTree{constructor(o){super(0,o),this.root.depth=0,this.currentDepth=1}addChild(o){this.root.children.push(o)}reduce(o){return o((this.root.data||[]).concat(this.root.children))}}async function*bufferImporter($,o,a){for await(let j of $.content)yield async()=>{a.progress(j.length,$.path);let _e;const et={codec:pb,cidVersion:a.cidVersion,hasher:a.hasher,onlyHash:a.onlyHash};return a.rawLeaves?(et.codec=raw,et.cidVersion=1):(_e=new UnixFS({type:a.leafType,data:j}),j=encode$4({Data:_e.marshal(),Links:[]})),{cid:await persist(j,o,et),unixfs:_e,size:j.length}}}const dagBuilders={flat,balanced,trickle:trickleStream};async function*buildFileBatch($,o,a){let j=-1,_e,et;typeof a.bufferImporter=="function"?et=a.bufferImporter:et=bufferImporter;for await(const tt of parallelBatch$1(et($,o,a),a.blockWriteConcurrency)){if(j++,j===0){_e=tt;continue}else j===1&&_e&&(yield _e,_e=null);yield tt}_e&&(_e.single=!0,yield _e)}const reduce=($,o,a)=>{async function j(_e){if(_e.length===1&&_e[0].single&&a.reduceSingleLeafToSelf){const ot=_e[0];if($.mtime!==void 0||$.mode!==void 0){let st=await o.get(ot.cid);ot.unixfs=new UnixFS({type:"file",mtime:$.mtime,mode:$.mode,data:st}),st=encode$4(prepare$1({Data:ot.unixfs.marshal()})),ot.cid=await persist(st,o,{...a,codec:pb,hasher:a.hasher,cidVersion:a.cidVersion}),ot.size=st.length}return{cid:ot.cid,path:$.path,unixfs:ot.unixfs,size:ot.size}}const et=new UnixFS({type:"file",mtime:$.mtime,mode:$.mode}),tt=_e.filter(ot=>ot.cid.code===code$3&&ot.size||ot.unixfs&&!ot.unixfs.data&&ot.unixfs.fileSize()?!0:!!(ot.unixfs&&ot.unixfs.data&&ot.unixfs.data.length)).map(ot=>ot.cid.code===code$3?(et.addBlockSize(ot.size),{Name:"",Tsize:ot.size,Hash:ot.cid}):(!ot.unixfs||!ot.unixfs.data?et.addBlockSize(ot.unixfs&&ot.unixfs.fileSize()||0):et.addBlockSize(ot.unixfs.data.length),{Name:"",Tsize:ot.size,Hash:ot.cid})),rt={Data:et.marshal(),Links:tt},nt=encode$4(prepare$1(rt));return{cid:await persist(nt,o,a),path:$.path,unixfs:et,size:nt.length+rt.Links.reduce((ot,st)=>ot+st.Tsize,0)}}return j};function fileBuilder($,o,a){const j=dagBuilders[a.strategy];if(!j)throw errCode$1(new Error(`Unknown importer build strategy name: ${a.strategy}`),"ERR_BAD_STRATEGY");return j(buildFileBatch($,o,a),reduce($,o,a),a)}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code$2.length;i$2<len;++i$2)lookup[i$2]=code$2[i$2],revLookup[code$2.charCodeAt(i$2)]=i$2;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens($){var o=$.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=$.indexOf("=");a===-1&&(a=o);var j=a===o?0:4-a%4;return[a,j]}function byteLength($){var o=getLens($),a=o[0],j=o[1];return(a+j)*3/4-j}function _byteLength($,o,a){return(o+a)*3/4-a}function toByteArray($){var o,a=getLens($),j=a[0],_e=a[1],et=new Arr(_byteLength($,j,_e)),tt=0,rt=_e>0?j-4:j,nt;for(nt=0;nt<rt;nt+=4)o=revLookup[$.charCodeAt(nt)]<<18|revLookup[$.charCodeAt(nt+1)]<<12|revLookup[$.charCodeAt(nt+2)]<<6|revLookup[$.charCodeAt(nt+3)],et[tt++]=o>>16&255,et[tt++]=o>>8&255,et[tt++]=o&255;return _e===2&&(o=revLookup[$.charCodeAt(nt)]<<2|revLookup[$.charCodeAt(nt+1)]>>4,et[tt++]=o&255),_e===1&&(o=revLookup[$.charCodeAt(nt)]<<10|revLookup[$.charCodeAt(nt+1)]<<4|revLookup[$.charCodeAt(nt+2)]>>2,et[tt++]=o>>8&255,et[tt++]=o&255),et}function tripletToBase64($){return lookup[$>>18&63]+lookup[$>>12&63]+lookup[$>>6&63]+lookup[$&63]}function encodeChunk($,o,a){for(var j,_e=[],et=o;et<a;et+=3)j=($[et]<<16&16711680)+($[et+1]<<8&65280)+($[et+2]&255),_e.push(tripletToBase64(j));return _e.join("")}function fromByteArray($){for(var o,a=$.length,j=a%3,_e=[],et=16383,tt=0,rt=a-j;tt<rt;tt+=et)_e.push(encodeChunk($,tt,tt+et>rt?rt:tt+et));return j===1?(o=$[a-1],_e.push(lookup[o>>2]+lookup[o<<4&63]+"==")):j===2&&(o=($[a-2]<<8)+$[a-1],_e.push(lookup[o>>10]+lookup[o>>4&63]+lookup[o<<2&63]+"=")),_e.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function($,o,a,j,_e){var et,tt,rt=_e*8-j-1,nt=(1<<rt)-1,it=nt>>1,ot=-7,st=a?_e-1:0,ct=a?-1:1,ut=$[o+st];for(st+=ct,et=ut&(1<<-ot)-1,ut>>=-ot,ot+=rt;ot>0;et=et*256+$[o+st],st+=ct,ot-=8);for(tt=et&(1<<-ot)-1,et>>=-ot,ot+=j;ot>0;tt=tt*256+$[o+st],st+=ct,ot-=8);if(et===0)et=1-it;else{if(et===nt)return tt?NaN:(ut?-1:1)*(1/0);tt=tt+Math.pow(2,j),et=et-it}return(ut?-1:1)*tt*Math.pow(2,et-j)};ieee754.write=function($,o,a,j,_e,et){var tt,rt,nt,it=et*8-_e-1,ot=(1<<it)-1,st=ot>>1,ct=_e===23?Math.pow(2,-24)-Math.pow(2,-77):0,ut=j?0:et-1,dt=j?1:-1,ft=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(rt=isNaN(o)?1:0,tt=ot):(tt=Math.floor(Math.log(o)/Math.LN2),o*(nt=Math.pow(2,-tt))<1&&(tt--,nt*=2),tt+st>=1?o+=ct/nt:o+=ct*Math.pow(2,1-st),o*nt>=2&&(tt++,nt/=2),tt+st>=ot?(rt=0,tt=ot):tt+st>=1?(rt=(o*nt-1)*Math.pow(2,_e),tt=tt+st):(rt=o*Math.pow(2,st-1)*Math.pow(2,_e),tt=0));_e>=8;$[a+ut]=rt&255,ut+=dt,rt/=256,_e-=8);for(tt=tt<<_e|rt,it+=_e;it>0;$[a+ut]=tt&255,ut+=dt,tt/=256,it-=8);$[a+ut-dt]|=ft*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function($){const o=base64Js,a=ieee754,j=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$.Buffer=rt,$.SlowBuffer=yt,$.INSPECT_MAX_BYTES=50;const _e=2147483647;$.kMaxLength=_e,rt.TYPED_ARRAY_SUPPORT=et(),!rt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function et(){try{const Ft=new Uint8Array(1),St={foo:function(){return 42}};return Object.setPrototypeOf(St,Uint8Array.prototype),Object.setPrototypeOf(Ft,St),Ft.foo()===42}catch{return!1}}Object.defineProperty(rt.prototype,"parent",{enumerable:!0,get:function(){if(rt.isBuffer(this))return this.buffer}}),Object.defineProperty(rt.prototype,"offset",{enumerable:!0,get:function(){if(rt.isBuffer(this))return this.byteOffset}});function tt(Ft){if(Ft>_e)throw new RangeError('The value "'+Ft+'" is invalid for option "size"');const St=new Uint8Array(Ft);return Object.setPrototypeOf(St,rt.prototype),St}function rt(Ft,St,Ct){if(typeof Ft=="number"){if(typeof St=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return st(Ft)}return nt(Ft,St,Ct)}rt.poolSize=8192;function nt(Ft,St,Ct){if(typeof Ft=="string")return ct(Ft,St);if(ArrayBuffer.isView(Ft))return dt(Ft);if(Ft==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ft);if(Jt(Ft,ArrayBuffer)||Ft&&Jt(Ft.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Jt(Ft,SharedArrayBuffer)||Ft&&Jt(Ft.buffer,SharedArrayBuffer)))return ft(Ft,St,Ct);if(typeof Ft=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Gt=Ft.valueOf&&Ft.valueOf();if(Gt!=null&&Gt!==Ft)return rt.from(Gt,St,Ct);const Qt=ht(Ft);if(Qt)return Qt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ft[Symbol.toPrimitive]=="function")return rt.from(Ft[Symbol.toPrimitive]("string"),St,Ct);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ft)}rt.from=function(Ft,St,Ct){return nt(Ft,St,Ct)},Object.setPrototypeOf(rt.prototype,Uint8Array.prototype),Object.setPrototypeOf(rt,Uint8Array);function it(Ft){if(typeof Ft!="number")throw new TypeError('"size" argument must be of type number');if(Ft<0)throw new RangeError('The value "'+Ft+'" is invalid for option "size"')}function ot(Ft,St,Ct){return it(Ft),Ft<=0?tt(Ft):St!==void 0?typeof Ct=="string"?tt(Ft).fill(St,Ct):tt(Ft).fill(St):tt(Ft)}rt.alloc=function(Ft,St,Ct){return ot(Ft,St,Ct)};function st(Ft){return it(Ft),tt(Ft<0?0:pt(Ft)|0)}rt.allocUnsafe=function(Ft){return st(Ft)},rt.allocUnsafeSlow=function(Ft){return st(Ft)};function ct(Ft,St){if((typeof St!="string"||St==="")&&(St="utf8"),!rt.isEncoding(St))throw new TypeError("Unknown encoding: "+St);const Ct=gt(Ft,St)|0;let Gt=tt(Ct);const Qt=Gt.write(Ft,St);return Qt!==Ct&&(Gt=Gt.slice(0,Qt)),Gt}function ut(Ft){const St=Ft.length<0?0:pt(Ft.length)|0,Ct=tt(St);for(let Gt=0;Gt<St;Gt+=1)Ct[Gt]=Ft[Gt]&255;return Ct}function dt(Ft){if(Jt(Ft,Uint8Array)){const St=new Uint8Array(Ft);return ft(St.buffer,St.byteOffset,St.byteLength)}return ut(Ft)}function ft(Ft,St,Ct){if(St<0||Ft.byteLength<St)throw new RangeError('"offset" is outside of buffer bounds');if(Ft.byteLength<St+(Ct||0))throw new RangeError('"length" is outside of buffer bounds');let Gt;return St===void 0&&Ct===void 0?Gt=new Uint8Array(Ft):Ct===void 0?Gt=new Uint8Array(Ft,St):Gt=new Uint8Array(Ft,St,Ct),Object.setPrototypeOf(Gt,rt.prototype),Gt}function ht(Ft){if(rt.isBuffer(Ft)){const St=pt(Ft.length)|0,Ct=tt(St);return Ct.length===0||Ft.copy(Ct,0,0,St),Ct}if(Ft.length!==void 0)return typeof Ft.length!="number"||Wt(Ft.length)?tt(0):ut(Ft);if(Ft.type==="Buffer"&&Array.isArray(Ft.data))return ut(Ft.data)}function pt(Ft){if(Ft>=_e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_e.toString(16)+" bytes");return Ft|0}function yt(Ft){return+Ft!=Ft&&(Ft=0),rt.alloc(+Ft)}rt.isBuffer=function(St){return St!=null&&St._isBuffer===!0&&St!==rt.prototype},rt.compare=function(St,Ct){if(Jt(St,Uint8Array)&&(St=rt.from(St,St.offset,St.byteLength)),Jt(Ct,Uint8Array)&&(Ct=rt.from(Ct,Ct.offset,Ct.byteLength)),!rt.isBuffer(St)||!rt.isBuffer(Ct))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(St===Ct)return 0;let Gt=St.length,Qt=Ct.length;for(let rr=0,er=Math.min(Gt,Qt);rr<er;++rr)if(St[rr]!==Ct[rr]){Gt=St[rr],Qt=Ct[rr];break}return Gt<Qt?-1:Qt<Gt?1:0},rt.isEncoding=function(St){switch(String(St).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},rt.concat=function(St,Ct){if(!Array.isArray(St))throw new TypeError('"list" argument must be an Array of Buffers');if(St.length===0)return rt.alloc(0);let Gt;if(Ct===void 0)for(Ct=0,Gt=0;Gt<St.length;++Gt)Ct+=St[Gt].length;const Qt=rt.allocUnsafe(Ct);let rr=0;for(Gt=0;Gt<St.length;++Gt){let er=St[Gt];if(Jt(er,Uint8Array))rr+er.length>Qt.length?(rt.isBuffer(er)||(er=rt.from(er)),er.copy(Qt,rr)):Uint8Array.prototype.set.call(Qt,er,rr);else if(rt.isBuffer(er))er.copy(Qt,rr);else throw new TypeError('"list" argument must be an Array of Buffers');rr+=er.length}return Qt};function gt(Ft,St){if(rt.isBuffer(Ft))return Ft.length;if(ArrayBuffer.isView(Ft)||Jt(Ft,ArrayBuffer))return Ft.byteLength;if(typeof Ft!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ft);const Ct=Ft.length,Gt=arguments.length>2&&arguments[2]===!0;if(!Gt&&Ct===0)return 0;let Qt=!1;for(;;)switch(St){case"ascii":case"latin1":case"binary":return Ct;case"utf8":case"utf-8":return Dr(Ft).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct*2;case"hex":return Ct>>>1;case"base64":return Or(Ft).length;default:if(Qt)return Gt?-1:Dr(Ft).length;St=(""+St).toLowerCase(),Qt=!0}}rt.byteLength=gt;function xt(Ft,St,Ct){let Gt=!1;if((St===void 0||St<0)&&(St=0),St>this.length||((Ct===void 0||Ct>this.length)&&(Ct=this.length),Ct<=0)||(Ct>>>=0,St>>>=0,Ct<=St))return"";for(Ft||(Ft="utf8");;)switch(Ft){case"hex":return zt(this,St,Ct);case"utf8":case"utf-8":return vt(this,St,Ct);case"ascii":return Ot(this,St,Ct);case"latin1":case"binary":return Pt(this,St,Ct);case"base64":return kt(this,St,Ct);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vt(this,St,Ct);default:if(Gt)throw new TypeError("Unknown encoding: "+Ft);Ft=(Ft+"").toLowerCase(),Gt=!0}}rt.prototype._isBuffer=!0;function wt(Ft,St,Ct){const Gt=Ft[St];Ft[St]=Ft[Ct],Ft[Ct]=Gt}rt.prototype.swap16=function(){const St=this.length;if(St%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Ct=0;Ct<St;Ct+=2)wt(this,Ct,Ct+1);return this},rt.prototype.swap32=function(){const St=this.length;if(St%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Ct=0;Ct<St;Ct+=4)wt(this,Ct,Ct+3),wt(this,Ct+1,Ct+2);return this},rt.prototype.swap64=function(){const St=this.length;if(St%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Ct=0;Ct<St;Ct+=8)wt(this,Ct,Ct+7),wt(this,Ct+1,Ct+6),wt(this,Ct+2,Ct+5),wt(this,Ct+3,Ct+4);return this},rt.prototype.toString=function(){const St=this.length;return St===0?"":arguments.length===0?vt(this,0,St):xt.apply(this,arguments)},rt.prototype.toLocaleString=rt.prototype.toString,rt.prototype.equals=function(St){if(!rt.isBuffer(St))throw new TypeError("Argument must be a Buffer");return this===St?!0:rt.compare(this,St)===0},rt.prototype.inspect=function(){let St="";const Ct=$.INSPECT_MAX_BYTES;return St=this.toString("hex",0,Ct).replace(/(.{2})/g,"$1 ").trim(),this.length>Ct&&(St+=" ... "),"<Buffer "+St+">"},j&&(rt.prototype[j]=rt.prototype.inspect),rt.prototype.compare=function(St,Ct,Gt,Qt,rr){if(Jt(St,Uint8Array)&&(St=rt.from(St,St.offset,St.byteLength)),!rt.isBuffer(St))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof St);if(Ct===void 0&&(Ct=0),Gt===void 0&&(Gt=St?St.length:0),Qt===void 0&&(Qt=0),rr===void 0&&(rr=this.length),Ct<0||Gt>St.length||Qt<0||rr>this.length)throw new RangeError("out of range index");if(Qt>=rr&&Ct>=Gt)return 0;if(Qt>=rr)return-1;if(Ct>=Gt)return 1;if(Ct>>>=0,Gt>>>=0,Qt>>>=0,rr>>>=0,this===St)return 0;let er=rr-Qt,Cr=Gt-Ct;const Br=Math.min(er,Cr),Yt=this.slice(Qt,rr),br=St.slice(Ct,Gt);for(let Rr=0;Rr<Br;++Rr)if(Yt[Rr]!==br[Rr]){er=Yt[Rr],Cr=br[Rr];break}return er<Cr?-1:Cr<er?1:0};function Mt(Ft,St,Ct,Gt,Qt){if(Ft.length===0)return-1;if(typeof Ct=="string"?(Gt=Ct,Ct=0):Ct>2147483647?Ct=2147483647:Ct<-2147483648&&(Ct=-2147483648),Ct=+Ct,Wt(Ct)&&(Ct=Qt?0:Ft.length-1),Ct<0&&(Ct=Ft.length+Ct),Ct>=Ft.length){if(Qt)return-1;Ct=Ft.length-1}else if(Ct<0)if(Qt)Ct=0;else return-1;if(typeof St=="string"&&(St=rt.from(St,Gt)),rt.isBuffer(St))return St.length===0?-1:It(Ft,St,Ct,Gt,Qt);if(typeof St=="number")return St=St&255,typeof Uint8Array.prototype.indexOf=="function"?Qt?Uint8Array.prototype.indexOf.call(Ft,St,Ct):Uint8Array.prototype.lastIndexOf.call(Ft,St,Ct):It(Ft,[St],Ct,Gt,Qt);throw new TypeError("val must be string, number or Buffer")}function It(Ft,St,Ct,Gt,Qt){let rr=1,er=Ft.length,Cr=St.length;if(Gt!==void 0&&(Gt=String(Gt).toLowerCase(),Gt==="ucs2"||Gt==="ucs-2"||Gt==="utf16le"||Gt==="utf-16le")){if(Ft.length<2||St.length<2)return-1;rr=2,er/=2,Cr/=2,Ct/=2}function Br(br,Rr){return rr===1?br[Rr]:br.readUInt16BE(Rr*rr)}let Yt;if(Qt){let br=-1;for(Yt=Ct;Yt<er;Yt++)if(Br(Ft,Yt)===Br(St,br===-1?0:Yt-br)){if(br===-1&&(br=Yt),Yt-br+1===Cr)return br*rr}else br!==-1&&(Yt-=Yt-br),br=-1}else for(Ct+Cr>er&&(Ct=er-Cr),Yt=Ct;Yt>=0;Yt--){let br=!0;for(let Rr=0;Rr<Cr;Rr++)if(Br(Ft,Yt+Rr)!==Br(St,Rr)){br=!1;break}if(br)return Yt}return-1}rt.prototype.includes=function(St,Ct,Gt){return this.indexOf(St,Ct,Gt)!==-1},rt.prototype.indexOf=function(St,Ct,Gt){return Mt(this,St,Ct,Gt,!0)},rt.prototype.lastIndexOf=function(St,Ct,Gt){return Mt(this,St,Ct,Gt,!1)};function Tt(Ft,St,Ct,Gt){Ct=Number(Ct)||0;const Qt=Ft.length-Ct;Gt?(Gt=Number(Gt),Gt>Qt&&(Gt=Qt)):Gt=Qt;const rr=St.length;Gt>rr/2&&(Gt=rr/2);let er;for(er=0;er<Gt;++er){const Cr=parseInt(St.substr(er*2,2),16);if(Wt(Cr))return er;Ft[Ct+er]=Cr}return er}function Dt(Ft,St,Ct,Gt){return Nr(Dr(St,Ft.length-Ct),Ft,Ct,Gt)}function Ut(Ft,St,Ct,Gt){return Nr(Lr(St),Ft,Ct,Gt)}function jt(Ft,St,Ct,Gt){return Nr(Or(St),Ft,Ct,Gt)}function Xt(Ft,St,Ct,Gt){return Nr(Ur(St,Ft.length-Ct),Ft,Ct,Gt)}rt.prototype.write=function(St,Ct,Gt,Qt){if(Ct===void 0)Qt="utf8",Gt=this.length,Ct=0;else if(Gt===void 0&&typeof Ct=="string")Qt=Ct,Gt=this.length,Ct=0;else if(isFinite(Ct))Ct=Ct>>>0,isFinite(Gt)?(Gt=Gt>>>0,Qt===void 0&&(Qt="utf8")):(Qt=Gt,Gt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const rr=this.length-Ct;if((Gt===void 0||Gt>rr)&&(Gt=rr),St.length>0&&(Gt<0||Ct<0)||Ct>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qt||(Qt="utf8");let er=!1;for(;;)switch(Qt){case"hex":return Tt(this,St,Ct,Gt);case"utf8":case"utf-8":return Dt(this,St,Ct,Gt);case"ascii":case"latin1":case"binary":return Ut(this,St,Ct,Gt);case"base64":return jt(this,St,Ct,Gt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xt(this,St,Ct,Gt);default:if(er)throw new TypeError("Unknown encoding: "+Qt);Qt=(""+Qt).toLowerCase(),er=!0}},rt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function kt(Ft,St,Ct){return St===0&&Ct===Ft.length?o.fromByteArray(Ft):o.fromByteArray(Ft.slice(St,Ct))}function vt(Ft,St,Ct){Ct=Math.min(Ft.length,Ct);const Gt=[];let Qt=St;for(;Qt<Ct;){const rr=Ft[Qt];let er=null,Cr=rr>239?4:rr>223?3:rr>191?2:1;if(Qt+Cr<=Ct){let Br,Yt,br,Rr;switch(Cr){case 1:rr<128&&(er=rr);break;case 2:Br=Ft[Qt+1],(Br&192)===128&&(Rr=(rr&31)<<6|Br&63,Rr>127&&(er=Rr));break;case 3:Br=Ft[Qt+1],Yt=Ft[Qt+2],(Br&192)===128&&(Yt&192)===128&&(Rr=(rr&15)<<12|(Br&63)<<6|Yt&63,Rr>2047&&(Rr<55296||Rr>57343)&&(er=Rr));break;case 4:Br=Ft[Qt+1],Yt=Ft[Qt+2],br=Ft[Qt+3],(Br&192)===128&&(Yt&192)===128&&(br&192)===128&&(Rr=(rr&15)<<18|(Br&63)<<12|(Yt&63)<<6|br&63,Rr>65535&&Rr<1114112&&(er=Rr))}}er===null?(er=65533,Cr=1):er>65535&&(er-=65536,Gt.push(er>>>10&1023|55296),er=56320|er&1023),Gt.push(er),Qt+=Cr}return Lt(Gt)}const Et=4096;function Lt(Ft){const St=Ft.length;if(St<=Et)return String.fromCharCode.apply(String,Ft);let Ct="",Gt=0;for(;Gt<St;)Ct+=String.fromCharCode.apply(String,Ft.slice(Gt,Gt+=Et));return Ct}function Ot(Ft,St,Ct){let Gt="";Ct=Math.min(Ft.length,Ct);for(let Qt=St;Qt<Ct;++Qt)Gt+=String.fromCharCode(Ft[Qt]&127);return Gt}function Pt(Ft,St,Ct){let Gt="";Ct=Math.min(Ft.length,Ct);for(let Qt=St;Qt<Ct;++Qt)Gt+=String.fromCharCode(Ft[Qt]);return Gt}function zt(Ft,St,Ct){const Gt=Ft.length;(!St||St<0)&&(St=0),(!Ct||Ct<0||Ct>Gt)&&(Ct=Gt);let Qt="";for(let rr=St;rr<Ct;++rr)Qt+=ur[Ft[rr]];return Qt}function Vt(Ft,St,Ct){const Gt=Ft.slice(St,Ct);let Qt="";for(let rr=0;rr<Gt.length-1;rr+=2)Qt+=String.fromCharCode(Gt[rr]+Gt[rr+1]*256);return Qt}rt.prototype.slice=function(St,Ct){const Gt=this.length;St=~~St,Ct=Ct===void 0?Gt:~~Ct,St<0?(St+=Gt,St<0&&(St=0)):St>Gt&&(St=Gt),Ct<0?(Ct+=Gt,Ct<0&&(Ct=0)):Ct>Gt&&(Ct=Gt),Ct<St&&(Ct=St);const Qt=this.subarray(St,Ct);return Object.setPrototypeOf(Qt,rt.prototype),Qt};function $t(Ft,St,Ct){if(Ft%1!==0||Ft<0)throw new RangeError("offset is not uint");if(Ft+St>Ct)throw new RangeError("Trying to access beyond buffer length")}rt.prototype.readUintLE=rt.prototype.readUIntLE=function(St,Ct,Gt){St=St>>>0,Ct=Ct>>>0,Gt||$t(St,Ct,this.length);let Qt=this[St],rr=1,er=0;for(;++er<Ct&&(rr*=256);)Qt+=this[St+er]*rr;return Qt},rt.prototype.readUintBE=rt.prototype.readUIntBE=function(St,Ct,Gt){St=St>>>0,Ct=Ct>>>0,Gt||$t(St,Ct,this.length);let Qt=this[St+--Ct],rr=1;for(;Ct>0&&(rr*=256);)Qt+=this[St+--Ct]*rr;return Qt},rt.prototype.readUint8=rt.prototype.readUInt8=function(St,Ct){return St=St>>>0,Ct||$t(St,1,this.length),this[St]},rt.prototype.readUint16LE=rt.prototype.readUInt16LE=function(St,Ct){return St=St>>>0,Ct||$t(St,2,this.length),this[St]|this[St+1]<<8},rt.prototype.readUint16BE=rt.prototype.readUInt16BE=function(St,Ct){return St=St>>>0,Ct||$t(St,2,this.length),this[St]<<8|this[St+1]},rt.prototype.readUint32LE=rt.prototype.readUInt32LE=function(St,Ct){return St=St>>>0,Ct||$t(St,4,this.length),(this[St]|this[St+1]<<8|this[St+2]<<16)+this[St+3]*16777216},rt.prototype.readUint32BE=rt.prototype.readUInt32BE=function(St,Ct){return St=St>>>0,Ct||$t(St,4,this.length),this[St]*16777216+(this[St+1]<<16|this[St+2]<<8|this[St+3])},rt.prototype.readBigUInt64LE=Pr(function(St){St=St>>>0,lr(St,"offset");const Ct=this[St],Gt=this[St+7];(Ct===void 0||Gt===void 0)&&cr(St,this.length-8);const Qt=Ct+this[++St]*2**8+this[++St]*2**16+this[++St]*2**24,rr=this[++St]+this[++St]*2**8+this[++St]*2**16+Gt*2**24;return BigInt(Qt)+(BigInt(rr)<<BigInt(32))}),rt.prototype.readBigUInt64BE=Pr(function(St){St=St>>>0,lr(St,"offset");const Ct=this[St],Gt=this[St+7];(Ct===void 0||Gt===void 0)&&cr(St,this.length-8);const Qt=Ct*2**24+this[++St]*2**16+this[++St]*2**8+this[++St],rr=this[++St]*2**24+this[++St]*2**16+this[++St]*2**8+Gt;return(BigInt(Qt)<<BigInt(32))+BigInt(rr)}),rt.prototype.readIntLE=function(St,Ct,Gt){St=St>>>0,Ct=Ct>>>0,Gt||$t(St,Ct,this.length);let Qt=this[St],rr=1,er=0;for(;++er<Ct&&(rr*=256);)Qt+=this[St+er]*rr;return rr*=128,Qt>=rr&&(Qt-=Math.pow(2,8*Ct)),Qt},rt.prototype.readIntBE=function(St,Ct,Gt){St=St>>>0,Ct=Ct>>>0,Gt||$t(St,Ct,this.length);let Qt=Ct,rr=1,er=this[St+--Qt];for(;Qt>0&&(rr*=256);)er+=this[St+--Qt]*rr;return rr*=128,er>=rr&&(er-=Math.pow(2,8*Ct)),er},rt.prototype.readInt8=function(St,Ct){return St=St>>>0,Ct||$t(St,1,this.length),this[St]&128?(255-this[St]+1)*-1:this[St]},rt.prototype.readInt16LE=function(St,Ct){St=St>>>0,Ct||$t(St,2,this.length);const Gt=this[St]|this[St+1]<<8;return Gt&32768?Gt|4294901760:Gt},rt.prototype.readInt16BE=function(St,Ct){St=St>>>0,Ct||$t(St,2,this.length);const Gt=this[St+1]|this[St]<<8;return Gt&32768?Gt|4294901760:Gt},rt.prototype.readInt32LE=function(St,Ct){return St=St>>>0,Ct||$t(St,4,this.length),this[St]|this[St+1]<<8|this[St+2]<<16|this[St+3]<<24},rt.prototype.readInt32BE=function(St,Ct){return St=St>>>0,Ct||$t(St,4,this.length),this[St]<<24|this[St+1]<<16|this[St+2]<<8|this[St+3]},rt.prototype.readBigInt64LE=Pr(function(St){St=St>>>0,lr(St,"offset");const Ct=this[St],Gt=this[St+7];(Ct===void 0||Gt===void 0)&&cr(St,this.length-8);const Qt=this[St+4]+this[St+5]*2**8+this[St+6]*2**16+(Gt<<24);return(BigInt(Qt)<<BigInt(32))+BigInt(Ct+this[++St]*2**8+this[++St]*2**16+this[++St]*2**24)}),rt.prototype.readBigInt64BE=Pr(function(St){St=St>>>0,lr(St,"offset");const Ct=this[St],Gt=this[St+7];(Ct===void 0||Gt===void 0)&&cr(St,this.length-8);const Qt=(Ct<<24)+this[++St]*2**16+this[++St]*2**8+this[++St];return(BigInt(Qt)<<BigInt(32))+BigInt(this[++St]*2**24+this[++St]*2**16+this[++St]*2**8+Gt)}),rt.prototype.readFloatLE=function(St,Ct){return St=St>>>0,Ct||$t(St,4,this.length),a.read(this,St,!0,23,4)},rt.prototype.readFloatBE=function(St,Ct){return St=St>>>0,Ct||$t(St,4,this.length),a.read(this,St,!1,23,4)},rt.prototype.readDoubleLE=function(St,Ct){return St=St>>>0,Ct||$t(St,8,this.length),a.read(this,St,!0,52,8)},rt.prototype.readDoubleBE=function(St,Ct){return St=St>>>0,Ct||$t(St,8,this.length),a.read(this,St,!1,52,8)};function At(Ft,St,Ct,Gt,Qt,rr){if(!rt.isBuffer(Ft))throw new TypeError('"buffer" argument must be a Buffer instance');if(St>Qt||St<rr)throw new RangeError('"value" argument is out of bounds');if(Ct+Gt>Ft.length)throw new RangeError("Index out of range")}rt.prototype.writeUintLE=rt.prototype.writeUIntLE=function(St,Ct,Gt,Qt){if(St=+St,Ct=Ct>>>0,Gt=Gt>>>0,!Qt){const Cr=Math.pow(2,8*Gt)-1;At(this,St,Ct,Gt,Cr,0)}let rr=1,er=0;for(this[Ct]=St&255;++er<Gt&&(rr*=256);)this[Ct+er]=St/rr&255;return Ct+Gt},rt.prototype.writeUintBE=rt.prototype.writeUIntBE=function(St,Ct,Gt,Qt){if(St=+St,Ct=Ct>>>0,Gt=Gt>>>0,!Qt){const Cr=Math.pow(2,8*Gt)-1;At(this,St,Ct,Gt,Cr,0)}let rr=Gt-1,er=1;for(this[Ct+rr]=St&255;--rr>=0&&(er*=256);)this[Ct+rr]=St/er&255;return Ct+Gt},rt.prototype.writeUint8=rt.prototype.writeUInt8=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,1,255,0),this[Ct]=St&255,Ct+1},rt.prototype.writeUint16LE=rt.prototype.writeUInt16LE=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,2,65535,0),this[Ct]=St&255,this[Ct+1]=St>>>8,Ct+2},rt.prototype.writeUint16BE=rt.prototype.writeUInt16BE=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,2,65535,0),this[Ct]=St>>>8,this[Ct+1]=St&255,Ct+2},rt.prototype.writeUint32LE=rt.prototype.writeUInt32LE=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,4,4294967295,0),this[Ct+3]=St>>>24,this[Ct+2]=St>>>16,this[Ct+1]=St>>>8,this[Ct]=St&255,Ct+4},rt.prototype.writeUint32BE=rt.prototype.writeUInt32BE=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,4,4294967295,0),this[Ct]=St>>>24,this[Ct+1]=St>>>16,this[Ct+2]=St>>>8,this[Ct+3]=St&255,Ct+4};function Ht(Ft,St,Ct,Gt,Qt){nr(St,Gt,Qt,Ft,Ct,7);let rr=Number(St&BigInt(4294967295));Ft[Ct++]=rr,rr=rr>>8,Ft[Ct++]=rr,rr=rr>>8,Ft[Ct++]=rr,rr=rr>>8,Ft[Ct++]=rr;let er=Number(St>>BigInt(32)&BigInt(4294967295));return Ft[Ct++]=er,er=er>>8,Ft[Ct++]=er,er=er>>8,Ft[Ct++]=er,er=er>>8,Ft[Ct++]=er,Ct}function ar(Ft,St,Ct,Gt,Qt){nr(St,Gt,Qt,Ft,Ct,7);let rr=Number(St&BigInt(4294967295));Ft[Ct+7]=rr,rr=rr>>8,Ft[Ct+6]=rr,rr=rr>>8,Ft[Ct+5]=rr,rr=rr>>8,Ft[Ct+4]=rr;let er=Number(St>>BigInt(32)&BigInt(4294967295));return Ft[Ct+3]=er,er=er>>8,Ft[Ct+2]=er,er=er>>8,Ft[Ct+1]=er,er=er>>8,Ft[Ct]=er,Ct+8}rt.prototype.writeBigUInt64LE=Pr(function(St,Ct=0){return Ht(this,St,Ct,BigInt(0),BigInt("0xffffffffffffffff"))}),rt.prototype.writeBigUInt64BE=Pr(function(St,Ct=0){return ar(this,St,Ct,BigInt(0),BigInt("0xffffffffffffffff"))}),rt.prototype.writeIntLE=function(St,Ct,Gt,Qt){if(St=+St,Ct=Ct>>>0,!Qt){const Br=Math.pow(2,8*Gt-1);At(this,St,Ct,Gt,Br-1,-Br)}let rr=0,er=1,Cr=0;for(this[Ct]=St&255;++rr<Gt&&(er*=256);)St<0&&Cr===0&&this[Ct+rr-1]!==0&&(Cr=1),this[Ct+rr]=(St/er>>0)-Cr&255;return Ct+Gt},rt.prototype.writeIntBE=function(St,Ct,Gt,Qt){if(St=+St,Ct=Ct>>>0,!Qt){const Br=Math.pow(2,8*Gt-1);At(this,St,Ct,Gt,Br-1,-Br)}let rr=Gt-1,er=1,Cr=0;for(this[Ct+rr]=St&255;--rr>=0&&(er*=256);)St<0&&Cr===0&&this[Ct+rr+1]!==0&&(Cr=1),this[Ct+rr]=(St/er>>0)-Cr&255;return Ct+Gt},rt.prototype.writeInt8=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,1,127,-128),St<0&&(St=255+St+1),this[Ct]=St&255,Ct+1},rt.prototype.writeInt16LE=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,2,32767,-32768),this[Ct]=St&255,this[Ct+1]=St>>>8,Ct+2},rt.prototype.writeInt16BE=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,2,32767,-32768),this[Ct]=St>>>8,this[Ct+1]=St&255,Ct+2},rt.prototype.writeInt32LE=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,4,2147483647,-2147483648),this[Ct]=St&255,this[Ct+1]=St>>>8,this[Ct+2]=St>>>16,this[Ct+3]=St>>>24,Ct+4},rt.prototype.writeInt32BE=function(St,Ct,Gt){return St=+St,Ct=Ct>>>0,Gt||At(this,St,Ct,4,2147483647,-2147483648),St<0&&(St=4294967295+St+1),this[Ct]=St>>>24,this[Ct+1]=St>>>16,this[Ct+2]=St>>>8,this[Ct+3]=St&255,Ct+4},rt.prototype.writeBigInt64LE=Pr(function(St,Ct=0){return Ht(this,St,Ct,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),rt.prototype.writeBigInt64BE=Pr(function(St,Ct=0){return ar(this,St,Ct,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Rt(Ft,St,Ct,Gt,Qt,rr){if(Ct+Gt>Ft.length)throw new RangeError("Index out of range");if(Ct<0)throw new RangeError("Index out of range")}function Zt(Ft,St,Ct,Gt,Qt){return St=+St,Ct=Ct>>>0,Qt||Rt(Ft,St,Ct,4),a.write(Ft,St,Ct,Gt,23,4),Ct+4}rt.prototype.writeFloatLE=function(St,Ct,Gt){return Zt(this,St,Ct,!0,Gt)},rt.prototype.writeFloatBE=function(St,Ct,Gt){return Zt(this,St,Ct,!1,Gt)};function ir(Ft,St,Ct,Gt,Qt){return St=+St,Ct=Ct>>>0,Qt||Rt(Ft,St,Ct,8),a.write(Ft,St,Ct,Gt,52,8),Ct+8}rt.prototype.writeDoubleLE=function(St,Ct,Gt){return ir(this,St,Ct,!0,Gt)},rt.prototype.writeDoubleBE=function(St,Ct,Gt){return ir(this,St,Ct,!1,Gt)},rt.prototype.copy=function(St,Ct,Gt,Qt){if(!rt.isBuffer(St))throw new TypeError("argument should be a Buffer");if(Gt||(Gt=0),!Qt&&Qt!==0&&(Qt=this.length),Ct>=St.length&&(Ct=St.length),Ct||(Ct=0),Qt>0&&Qt<Gt&&(Qt=Gt),Qt===Gt||St.length===0||this.length===0)return 0;if(Ct<0)throw new RangeError("targetStart out of bounds");if(Gt<0||Gt>=this.length)throw new RangeError("Index out of range");if(Qt<0)throw new RangeError("sourceEnd out of bounds");Qt>this.length&&(Qt=this.length),St.length-Ct<Qt-Gt&&(Qt=St.length-Ct+Gt);const rr=Qt-Gt;return this===St&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ct,Gt,Qt):Uint8Array.prototype.set.call(St,this.subarray(Gt,Qt),Ct),rr},rt.prototype.fill=function(St,Ct,Gt,Qt){if(typeof St=="string"){if(typeof Ct=="string"?(Qt=Ct,Ct=0,Gt=this.length):typeof Gt=="string"&&(Qt=Gt,Gt=this.length),Qt!==void 0&&typeof Qt!="string")throw new TypeError("encoding must be a string");if(typeof Qt=="string"&&!rt.isEncoding(Qt))throw new TypeError("Unknown encoding: "+Qt);if(St.length===1){const er=St.charCodeAt(0);(Qt==="utf8"&&er<128||Qt==="latin1")&&(St=er)}}else typeof St=="number"?St=St&255:typeof St=="boolean"&&(St=Number(St));if(Ct<0||this.length<Ct||this.length<Gt)throw new RangeError("Out of range index");if(Gt<=Ct)return this;Ct=Ct>>>0,Gt=Gt===void 0?this.length:Gt>>>0,St||(St=0);let rr;if(typeof St=="number")for(rr=Ct;rr<Gt;++rr)this[rr]=St;else{const er=rt.isBuffer(St)?St:rt.from(St,Qt),Cr=er.length;if(Cr===0)throw new TypeError('The value "'+St+'" is invalid for argument "value"');for(rr=0;rr<Gt-Ct;++rr)this[rr+Ct]=er[rr%Cr]}return this};const sr={};function pr(Ft,St,Ct){sr[Ft]=class extends Ct{constructor(){super(),Object.defineProperty(this,"message",{value:St.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ft}]`,this.stack,delete this.name}get code(){return Ft}set code(Qt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qt,writable:!0})}toString(){return`${this.name} [${Ft}]: ${this.message}`}}}pr("ERR_BUFFER_OUT_OF_BOUNDS",function(Ft){return Ft?`${Ft} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pr("ERR_INVALID_ARG_TYPE",function(Ft,St){return`The "${Ft}" argument must be of type number. Received type ${typeof St}`},TypeError),pr("ERR_OUT_OF_RANGE",function(Ft,St,Ct){let Gt=`The value of "${Ft}" is out of range.`,Qt=Ct;return Number.isInteger(Ct)&&Math.abs(Ct)>2**32?Qt=_r(String(Ct)):typeof Ct=="bigint"&&(Qt=String(Ct),(Ct>BigInt(2)**BigInt(32)||Ct<-(BigInt(2)**BigInt(32)))&&(Qt=_r(Qt)),Qt+="n"),Gt+=` It must be ${St}. Received ${Qt}`,Gt},RangeError);function _r(Ft){let St="",Ct=Ft.length;const Gt=Ft[0]==="-"?1:0;for(;Ct>=Gt+4;Ct-=3)St=`_${Ft.slice(Ct-3,Ct)}${St}`;return`${Ft.slice(0,Ct)}${St}`}function fr(Ft,St,Ct){lr(St,"offset"),(Ft[St]===void 0||Ft[St+Ct]===void 0)&&cr(St,Ft.length-(Ct+1))}function nr(Ft,St,Ct,Gt,Qt,rr){if(Ft>Ct||Ft<St){const er=typeof St=="bigint"?"n":"";let Cr;throw rr>3?St===0||St===BigInt(0)?Cr=`>= 0${er} and < 2${er} ** ${(rr+1)*8}${er}`:Cr=`>= -(2${er} ** ${(rr+1)*8-1}${er}) and < 2 ** ${(rr+1)*8-1}${er}`:Cr=`>= ${St}${er} and <= ${Ct}${er}`,new sr.ERR_OUT_OF_RANGE("value",Cr,Ft)}fr(Gt,Qt,rr)}function lr(Ft,St){if(typeof Ft!="number")throw new sr.ERR_INVALID_ARG_TYPE(St,"number",Ft)}function cr(Ft,St,Ct){throw Math.floor(Ft)!==Ft?(lr(Ft,Ct),new sr.ERR_OUT_OF_RANGE(Ct||"offset","an integer",Ft)):St<0?new sr.ERR_BUFFER_OUT_OF_BOUNDS:new sr.ERR_OUT_OF_RANGE(Ct||"offset",`>= ${Ct?1:0} and <= ${St}`,Ft)}const Ar=/[^+/0-9A-Za-z-_]/g;function kr(Ft){if(Ft=Ft.split("=")[0],Ft=Ft.trim().replace(Ar,""),Ft.length<2)return"";for(;Ft.length%4!==0;)Ft=Ft+"=";return Ft}function Dr(Ft,St){St=St||1/0;let Ct;const Gt=Ft.length;let Qt=null;const rr=[];for(let er=0;er<Gt;++er){if(Ct=Ft.charCodeAt(er),Ct>55295&&Ct<57344){if(!Qt){if(Ct>56319){(St-=3)>-1&&rr.push(239,191,189);continue}else if(er+1===Gt){(St-=3)>-1&&rr.push(239,191,189);continue}Qt=Ct;continue}if(Ct<56320){(St-=3)>-1&&rr.push(239,191,189),Qt=Ct;continue}Ct=(Qt-55296<<10|Ct-56320)+65536}else Qt&&(St-=3)>-1&&rr.push(239,191,189);if(Qt=null,Ct<128){if((St-=1)<0)break;rr.push(Ct)}else if(Ct<2048){if((St-=2)<0)break;rr.push(Ct>>6|192,Ct&63|128)}else if(Ct<65536){if((St-=3)<0)break;rr.push(Ct>>12|224,Ct>>6&63|128,Ct&63|128)}else if(Ct<1114112){if((St-=4)<0)break;rr.push(Ct>>18|240,Ct>>12&63|128,Ct>>6&63|128,Ct&63|128)}else throw new Error("Invalid code point")}return rr}function Lr(Ft){const St=[];for(let Ct=0;Ct<Ft.length;++Ct)St.push(Ft.charCodeAt(Ct)&255);return St}function Ur(Ft,St){let Ct,Gt,Qt;const rr=[];for(let er=0;er<Ft.length&&!((St-=2)<0);++er)Ct=Ft.charCodeAt(er),Gt=Ct>>8,Qt=Ct%256,rr.push(Qt),rr.push(Gt);return rr}function Or(Ft){return o.toByteArray(kr(Ft))}function Nr(Ft,St,Ct,Gt){let Qt;for(Qt=0;Qt<Gt&&!(Qt+Ct>=St.length||Qt>=Ft.length);++Qt)St[Qt+Ct]=Ft[Qt];return Qt}function Jt(Ft,St){return Ft instanceof St||Ft!=null&&Ft.constructor!=null&&Ft.constructor.name!=null&&Ft.constructor.name===St.name}function Wt(Ft){return Ft!==Ft}const ur=function(){const Ft="0123456789abcdef",St=new Array(256);for(let Ct=0;Ct<16;++Ct){const Gt=Ct*16;for(let Qt=0;Qt<16;++Qt)St[Gt+Qt]=Ft[Ct]+Ft[Qt]}return St}();function Pr(Ft){return typeof BigInt>"u"?Tr:Ft}function Tr(){throw new Error("BigInt not supported")}})(buffer);const{Buffer}=buffer,symbol=Symbol.for("BufferList");function BufferList($){if(!(this instanceof BufferList))return new BufferList($);BufferList._init.call(this,$)}BufferList._init=function $(o){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,o&&this.append(o)};BufferList.prototype._new=function $(o){return new BufferList(o)};BufferList.prototype._offset=function $(o){if(o===0)return[0,0];let a=0;for(let j=0;j<this._bufs.length;j++){const _e=a+this._bufs[j].length;if(o<_e||j===this._bufs.length-1)return[j,o-a];a=_e}};BufferList.prototype._reverseOffset=function($){const o=$[0];let a=$[1];for(let j=0;j<o;j++)a+=this._bufs[j].length;return a};BufferList.prototype.get=function $(o){if(o>this.length||o<0)return;const a=this._offset(o);return this._bufs[a[0]][a[1]]};BufferList.prototype.slice=function $(o,a){return typeof o=="number"&&o<0&&(o+=this.length),typeof a=="number"&&a<0&&(a+=this.length),this.copy(null,0,o,a)};BufferList.prototype.copy=function $(o,a,j,_e){if((typeof j!="number"||j<0)&&(j=0),(typeof _e!="number"||_e>this.length)&&(_e=this.length),j>=this.length||_e<=0)return o||Buffer.alloc(0);const et=!!o,tt=this._offset(j),rt=_e-j;let nt=rt,it=et&&a||0,ot=tt[1];if(j===0&&_e===this.length){if(!et)return this._bufs.length===1?this._bufs[0]:Buffer.concat(this._bufs,this.length);for(let st=0;st<this._bufs.length;st++)this._bufs[st].copy(o,it),it+=this._bufs[st].length;return o}if(nt<=this._bufs[tt[0]].length-ot)return et?this._bufs[tt[0]].copy(o,a,ot,ot+nt):this._bufs[tt[0]].slice(ot,ot+nt);et||(o=Buffer.allocUnsafe(rt));for(let st=tt[0];st<this._bufs.length;st++){const ct=this._bufs[st].length-ot;if(nt>ct)this._bufs[st].copy(o,it,ot),it+=ct;else{this._bufs[st].copy(o,it,ot,ot+nt),it+=ct;break}nt-=ct,ot&&(ot=0)}return o.length>it?o.slice(0,it):o};BufferList.prototype.shallowSlice=function $(o,a){if(o=o||0,a=typeof a!="number"?this.length:a,o<0&&(o+=this.length),a<0&&(a+=this.length),o===a)return this._new();const j=this._offset(o),_e=this._offset(a),et=this._bufs.slice(j[0],_e[0]+1);return _e[1]===0?et.pop():et[et.length-1]=et[et.length-1].slice(0,_e[1]),j[1]!==0&&(et[0]=et[0].slice(j[1])),this._new(et)};BufferList.prototype.toString=function $(o,a,j){return this.slice(a,j).toString(o)};BufferList.prototype.consume=function $(o){if(o=Math.trunc(o),Number.isNaN(o)||o<=0)return this;for(;this._bufs.length;)if(o>=this._bufs[0].length)o-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(o),this.length-=o;break}return this};BufferList.prototype.duplicate=function $(){const o=this._new();for(let a=0;a<this._bufs.length;a++)o.append(this._bufs[a]);return o};BufferList.prototype.append=function $(o){if(o==null)return this;if(o.buffer)this._appendBuffer(Buffer.from(o.buffer,o.byteOffset,o.byteLength));else if(Array.isArray(o))for(let a=0;a<o.length;a++)this.append(o[a]);else if(this._isBufferList(o))for(let a=0;a<o._bufs.length;a++)this.append(o._bufs[a]);else typeof o=="number"&&(o=o.toString()),this._appendBuffer(Buffer.from(o));return this};BufferList.prototype._appendBuffer=function $(o){this._bufs.push(o),this.length+=o.length};BufferList.prototype.indexOf=function($,o,a){if(a===void 0&&typeof o=="string"&&(a=o,o=void 0),typeof $=="function"||Array.isArray($))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof $=="number"?$=Buffer.from([$]):typeof $=="string"?$=Buffer.from($,a):this._isBufferList($)?$=$.slice():Array.isArray($.buffer)?$=Buffer.from($.buffer,$.byteOffset,$.byteLength):Buffer.isBuffer($)||($=Buffer.from($)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),$.length===0)return o>this.length?this.length:o;const j=this._offset(o);let _e=j[0],et=j[1];for(;_e<this._bufs.length;_e++){const tt=this._bufs[_e];for(;et<tt.length;)if(tt.length-et>=$.length){const nt=tt.indexOf($,et);if(nt!==-1)return this._reverseOffset([_e,nt]);et=tt.length-$.length+1}else{const nt=this._reverseOffset([_e,et]);if(this._match(nt,$))return nt;et++}et=0}return-1};BufferList.prototype._match=function($,o){if(this.length-$<o.length)return!1;for(let a=0;a<o.length;a++)if(this.get($+a)!==o[a])return!1;return!0};(function(){const $={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const o in $)(function(a){$[a]===null?BufferList.prototype[a]=function(j,_e){return this.slice(j,j+_e)[a](0,_e)}:BufferList.prototype[a]=function(j=0){return this.slice(j,j+$[a])[a](0)}})(o)})();BufferList.prototype._isBufferList=function $(o){return o instanceof BufferList||BufferList.isBufferList(o)};BufferList.isBufferList=function $(o){return o!=null&&o[symbol]};var BufferList_1=BufferList;const BufferList$1=getDefaultExportFromCjs(BufferList_1);let Rabin$1=class{constructor(o,a=12,j=8*1024,_e=32*1024,et=64,tt){this.bits=a,this.min=j,this.max=_e,this.asModule=o,this.rabin=new o.Rabin(a,j,_e,et,tt),this.polynomial=tt}fingerprint(o){const{__retain:a,__release:j,__allocArray:_e,__getInt32Array:et,Int32Array_ID:tt,Uint8Array_ID:rt}=this.asModule,nt=new Int32Array(Math.ceil(o.length/this.min)),it=a(_e(tt,nt)),ot=a(_e(rt,o)),st=this.rabin.fingerprint(ot,it),ct=et(st);j(ot),j(it);const ut=ct.indexOf(0);return ut>=0?ct.subarray(0,ut):ct}};var rabin$1=Rabin$1,loader={};const ID_OFFSET=-8,SIZE_OFFSET=-4,ARRAYBUFFER_ID=0,STRING_ID=1,ARRAYBUFFERVIEW=1,ARRAY=2,VAL_ALIGN_OFFSET=5,VAL_SIGNED=1024,VAL_FLOAT=2048,VAL_MANAGED=8192,ARRAYBUFFERVIEW_BUFFER_OFFSET=0,ARRAYBUFFERVIEW_DATASTART_OFFSET=4,ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8,ARRAYBUFFERVIEW_SIZE=12,ARRAY_LENGTH_OFFSET=12,ARRAY_SIZE=16,BIGINT=typeof BigUint64Array<"u",THIS=Symbol(),CHUNKSIZE=1024;function getStringImpl($,o){const a=new Uint32Array($),j=new Uint16Array($);var _e=a[o+SIZE_OFFSET>>>2]>>>1,et=o>>>1;if(_e<=CHUNKSIZE)return String.fromCharCode.apply(String,j.subarray(et,et+_e));const tt=[];do{const rt=j[et+CHUNKSIZE-1],nt=rt>=55296&&rt<56320?CHUNKSIZE-1:CHUNKSIZE;tt.push(String.fromCharCode.apply(String,j.subarray(et,et+=nt))),_e-=nt}while(_e>CHUNKSIZE);return tt.join("")+String.fromCharCode.apply(String,j.subarray(et,et+_e))}function preInstantiate($){const o={};function a(_e,et){return _e?getStringImpl(_e.buffer,et):"<yet unknown>"}const j=$.env=$.env||{};return j.abort=j.abort||function(et,tt,rt,nt){const it=o.memory||j.memory;throw Error("abort: "+a(it,et)+" at "+a(it,tt)+":"+rt+":"+nt)},j.trace=j.trace||function(et,tt){const rt=o.memory||j.memory;console.log("trace: "+a(rt,et)+(tt?" ":"")+Array.prototype.slice.call(arguments,2,2+tt).join(", "))},$.Math=$.Math||Math,$.Date=$.Date||Date,o}function postInstantiate($,o){const a=o.exports,j=a.memory,_e=a.table,et=a.__alloc,tt=a.__retain,rt=a.__rtti_base||-1;function nt(wt){const Mt=new Uint32Array(j.buffer),It=Mt[rt>>>2];if((wt>>>=0)>=It)throw Error("invalid id: "+wt);return Mt[(rt+4>>>2)+wt*2]}function it(wt){const Mt=new Uint32Array(j.buffer),It=Mt[rt>>>2];if((wt>>>=0)>=It)throw Error("invalid id: "+wt);return Mt[(rt+4>>>2)+wt*2+1]}function ot(wt){return 31-Math.clz32(wt>>>VAL_ALIGN_OFFSET&31)}function st(wt){const Mt=wt.length,It=et(Mt<<1,STRING_ID),Tt=new Uint16Array(j.buffer);for(var Dt=0,Ut=It>>>1;Dt<Mt;++Dt)Tt[Ut+Dt]=wt.charCodeAt(Dt);return It}$.__allocString=st;function ct(wt){const Mt=j.buffer;if(new Uint32Array(Mt)[wt+ID_OFFSET>>>2]!==STRING_ID)throw Error("not a string: "+wt);return getStringImpl(Mt,wt)}$.__getString=ct;function ut(wt,Mt,It){const Tt=j.buffer;if(It)switch(wt){case 2:return new Float32Array(Tt);case 3:return new Float64Array(Tt)}else switch(wt){case 0:return new(Mt?Int8Array:Uint8Array)(Tt);case 1:return new(Mt?Int16Array:Uint16Array)(Tt);case 2:return new(Mt?Int32Array:Uint32Array)(Tt);case 3:return new(Mt?BigInt64Array:BigUint64Array)(Tt)}throw Error("unsupported align: "+wt)}function dt(wt,Mt){const It=nt(wt);if(!(It&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+wt+" @ "+It);const Tt=ot(It),Dt=Mt.length,Ut=et(Dt<<Tt,ARRAYBUFFER_ID),jt=et(It&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,wt),Xt=new Uint32Array(j.buffer);Xt[jt+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=tt(Ut),Xt[jt+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=Ut,Xt[jt+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=Dt<<Tt,It&ARRAY&&(Xt[jt+ARRAY_LENGTH_OFFSET>>>2]=Dt);const kt=ut(Tt,It&VAL_SIGNED,It&VAL_FLOAT);if(It&VAL_MANAGED)for(let vt=0;vt<Dt;++vt)kt[(Ut>>>Tt)+vt]=tt(Mt[vt]);else kt.set(Mt,Ut>>>Tt);return jt}$.__allocArray=dt;function ft(wt){const Mt=new Uint32Array(j.buffer),It=Mt[wt+ID_OFFSET>>>2],Tt=nt(It);if(!(Tt&ARRAYBUFFERVIEW))throw Error("not an array: "+It);const Dt=ot(Tt);var Ut=Mt[wt+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];const jt=Tt&ARRAY?Mt[wt+ARRAY_LENGTH_OFFSET>>>2]:Mt[Ut+SIZE_OFFSET>>>2]>>>Dt;return ut(Dt,Tt&VAL_SIGNED,Tt&VAL_FLOAT).subarray(Ut>>>=Dt,Ut+jt)}$.__getArrayView=ft;function ht(wt){const Mt=ft(wt),It=Mt.length,Tt=new Array(It);for(let Dt=0;Dt<It;Dt++)Tt[Dt]=Mt[Dt];return Tt}$.__getArray=ht;function pt(wt){const Mt=j.buffer,It=new Uint32Array(Mt)[wt+SIZE_OFFSET>>>2];return Mt.slice(wt,wt+It)}$.__getArrayBuffer=pt;function yt(wt,Mt,It){return new wt(gt(wt,Mt,It))}function gt(wt,Mt,It){const Tt=j.buffer,Dt=new Uint32Array(Tt),Ut=Dt[It+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new wt(Tt,Ut,Dt[Ut+SIZE_OFFSET>>>2]>>>Mt)}$.__getInt8Array=yt.bind(null,Int8Array,0),$.__getInt8ArrayView=gt.bind(null,Int8Array,0),$.__getUint8Array=yt.bind(null,Uint8Array,0),$.__getUint8ArrayView=gt.bind(null,Uint8Array,0),$.__getUint8ClampedArray=yt.bind(null,Uint8ClampedArray,0),$.__getUint8ClampedArrayView=gt.bind(null,Uint8ClampedArray,0),$.__getInt16Array=yt.bind(null,Int16Array,1),$.__getInt16ArrayView=gt.bind(null,Int16Array,1),$.__getUint16Array=yt.bind(null,Uint16Array,1),$.__getUint16ArrayView=gt.bind(null,Uint16Array,1),$.__getInt32Array=yt.bind(null,Int32Array,2),$.__getInt32ArrayView=gt.bind(null,Int32Array,2),$.__getUint32Array=yt.bind(null,Uint32Array,2),$.__getUint32ArrayView=gt.bind(null,Uint32Array,2),BIGINT&&($.__getInt64Array=yt.bind(null,BigInt64Array,3),$.__getInt64ArrayView=gt.bind(null,BigInt64Array,3),$.__getUint64Array=yt.bind(null,BigUint64Array,3),$.__getUint64ArrayView=gt.bind(null,BigUint64Array,3)),$.__getFloat32Array=yt.bind(null,Float32Array,2),$.__getFloat32ArrayView=gt.bind(null,Float32Array,2),$.__getFloat64Array=yt.bind(null,Float64Array,3),$.__getFloat64ArrayView=gt.bind(null,Float64Array,3);function xt(wt,Mt){const It=new Uint32Array(j.buffer);var Tt=It[wt+ID_OFFSET>>>2];if(Tt<=It[rt>>>2])do if(Tt==Mt)return!0;while(Tt=it(Tt));return!1}return $.__instanceof=xt,$.memory=$.memory||j,$.table=$.table||_e,demangle(a,$)}function isResponse($){return typeof Response<"u"&&$ instanceof Response}async function instantiate$1($,o){return isResponse($=await $)?instantiateStreaming($,o):postInstantiate(preInstantiate(o||(o={})),await WebAssembly.instantiate($ instanceof WebAssembly.Module?$:await WebAssembly.compile($),o))}loader.instantiate=instantiate$1;function instantiateSync($,o){return postInstantiate(preInstantiate(o||(o={})),new WebAssembly.Instance($ instanceof WebAssembly.Module?$:new WebAssembly.Module($),o))}loader.instantiateSync=instantiateSync;async function instantiateStreaming($,o){return WebAssembly.instantiateStreaming?postInstantiate(preInstantiate(o||(o={})),(await WebAssembly.instantiateStreaming($,o)).instance):instantiate$1(isResponse($=await $)?$.arrayBuffer():$,o)}loader.instantiateStreaming=instantiateStreaming;function demangle($,o){var a=o?Object.create(o):{},j=$.__argumentsLength?function(_e){$.__argumentsLength.value=_e}:$.__setArgumentsLength||$.__setargc||function(){};for(let _e in $){if(!Object.prototype.hasOwnProperty.call($,_e))continue;const et=$[_e];let tt=_e.split("."),rt=a;for(;tt.length>1;){let ot=tt.shift();Object.prototype.hasOwnProperty.call(rt,ot)||(rt[ot]={}),rt=rt[ot]}let nt=tt[0],it=nt.indexOf("#");if(it>=0){let ot=nt.substring(0,it),st=rt[ot];if(typeof st>"u"||!st.prototype){let ct=function(...ut){return ct.wrap(ct.prototype.constructor(0,...ut))};ct.prototype={valueOf:function(){return this[THIS]}},ct.wrap=function(ut){return Object.create(ct.prototype,{[THIS]:{value:ut,writable:!1}})},st&&Object.getOwnPropertyNames(st).forEach(ut=>Object.defineProperty(ct,ut,Object.getOwnPropertyDescriptor(st,ut))),rt[ot]=ct}if(nt=nt.substring(it+1),rt=rt[ot].prototype,/^(get|set):/.test(nt)){if(!Object.prototype.hasOwnProperty.call(rt,nt=nt.substring(4))){let ct=$[_e.replace("set:","get:")],ut=$[_e.replace("get:","set:")];Object.defineProperty(rt,nt,{get:function(){return ct(this[THIS])},set:function(dt){ut(this[THIS],dt)},enumerable:!0})}}else nt==="constructor"?(rt[nt]=(...ct)=>(j(ct.length),et(...ct))).original=et:(rt[nt]=function(...ct){return j(ct.length),et(this[THIS],...ct)}).original=et}else/^(get|set):/.test(nt)?Object.prototype.hasOwnProperty.call(rt,nt=nt.substring(4))||Object.defineProperty(rt,nt,{get:$[_e.replace("set:","get:")],set:$[_e.replace("get:","set:")],enumerable:!0}):typeof et=="function"&&et!==j?(rt[nt]=(...ot)=>(j(ot.length),et(...ot))).original=et:rt[nt]=et}return a}loader.demangle=demangle;const{instantiate}=loader;loadWebAssembly.supported=typeof WebAssembly<"u";function loadWebAssembly($={}){if(!loadWebAssembly.supported)return null;var o=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([o],{type:"application/wasm"})),$)}var rabinWasm=loadWebAssembly;const Rabin=rabin$1,getRabin=rabinWasm,create$1=async($,o,a,j,_e)=>{const et=await getRabin();return new Rabin(et,$,o,a,j,_e)};var src$1={Rabin,create:create$1};async function*rabinChunker($,o){let a,j,_e;if(o.minChunkSize&&o.maxChunkSize&&o.avgChunkSize)_e=o.avgChunkSize,a=o.minChunkSize,j=o.maxChunkSize;else if(o.avgChunkSize)_e=o.avgChunkSize,a=_e/3,j=_e+_e/2;else throw errCode$1(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(a<16)throw errCode$1(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");j<a&&(j=a),_e<a&&(_e=a);const et=Math.floor(Math.log2(_e));for await(const tt of rabin($,{min:a,max:j,bits:et,window:o.window,polynomial:o.polynomial}))yield tt}async function*rabin($,o){const a=await src$1.create(o.bits,o.min,o.max,o.window),j=new BufferList$1;for await(const _e of $){j.append(_e);const et=a.fingerprint(_e);for(let tt=0;tt<et.length;tt++){const rt=et[tt],nt=j.slice(0,rt);j.consume(rt),yield nt}}j.length&&(yield j.slice(0))}async function*fixedSizeChunker($,o){let a=new BufferList$1,j=0,_e=!1;const et=o.maxChunkSize;for await(const tt of $)for(a.append(tt),j+=tt.length;j>=et;)if(yield a.slice(0,et),_e=!0,et===a.length)a=new BufferList$1,j=0;else{const rt=new BufferList$1;rt.append(a.shallowSlice(et)),a=rt,j-=et}(!_e||j)&&(yield a.slice(0,j))}const identity$1=from$1({prefix:"\0",name:"identity",encode:$=>toString$1($),decode:$=>fromString$3($)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$1},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce(($,o,a)=>($[a]=o,$),[]),alphabetCharsToBytes=alphabet.reduce(($,o,a)=>($[o.codePointAt(0)]=a,$),[]);function encode$2($){return $.reduce((o,a)=>(o+=alphabetBytesToChars[a],o),"")}function decode$1($){const o=[];for(const a of $){const j=alphabetCharsToBytes[a.codePointAt(0)];if(j===void 0)throw new Error(`Non-base256emoji character: ${a}`);o.push(j)}return new Uint8Array(o)}const base256emoji=from$1({prefix:"🚀",name:"base256emoji",encode:encode$2,decode:decode$1}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"})),code$1=0,name$1="identity",encode$1=coerce,digest=$=>create$5(code$1,encode$1($)),identity={code:code$1,name:name$1,encode:encode$1,digest};new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function asUint8Array($){return globalThis.Buffer!=null?new Uint8Array($.buffer,$.byteOffset,$.byteLength):$}function allocUnsafe($=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe($)):new Uint8Array($)}function createCodec($,o,a,j){return{name:$,prefix:o,encoder:{name:$,prefix:o,encode:a},decoder:{decode:j}}}const string=createCodec("utf8","u",$=>"u"+new TextDecoder("utf8").decode($),$=>new TextEncoder().encode($.substring(1))),ascii=createCodec("ascii","a",$=>{let o="a";for(let a=0;a<$.length;a++)o+=String.fromCharCode($[a]);return o},$=>{$=$.substring(1);const o=allocUnsafe($.length);for(let a=0;a<$.length;a++)o[a]=$.charCodeAt(a);return o}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString($,o="utf8"){const a=BASES[o];if(!a)throw new Error(`Unsupported encoding "${o}"`);return(o==="utf8"||o==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from($,"utf-8")):a.decoder.decode(`${a.prefix}${$}`)}const fromString$1=Object.freeze(Object.defineProperty({__proto__:null,fromString},Symbol.toStringTag,{value:"Module"}));async function*validateChunks($){for await(const o of $){if(o.length===void 0)throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof o=="string"||o instanceof String)yield fromString(o.toString());else if(Array.isArray(o))yield Uint8Array.from(o);else if(o instanceof Uint8Array)yield o;else throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}function isIterable($){return Symbol.iterator in $}function isAsyncIterable($){return Symbol.asyncIterator in $}function contentAsAsyncIterable($){try{if($ instanceof Uint8Array)return async function*(){yield $}();if(isIterable($))return async function*(){yield*$}();if(isAsyncIterable($))return $}catch{throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*dagBuilder($,o,a){for await(const j of $)if(j.path&&(j.path.substring(0,2)==="./"&&(a.wrapWithDirectory=!0),j.path=j.path.split("/").filter(_e=>_e&&_e!==".").join("/")),j.content){let _e;typeof a.chunker=="function"?_e=a.chunker:a.chunker==="rabin"?_e=rabinChunker:_e=fixedSizeChunker;let et;typeof a.chunkValidator=="function"?et=a.chunkValidator:et=validateChunks;const tt={path:j.path,mtime:j.mtime,mode:j.mode,content:_e(et(contentAsAsyncIterable(j.content),a),a)};yield()=>fileBuilder(tt,o,a)}else if(j.path){const _e={path:j.path,mtime:j.mtime,mode:j.mode};yield()=>dirBuilder(_e,o,a)}else throw new Error("Import candidate must have content or path or both")}class Dir{constructor(o,a){this.options=a||{},this.root=o.root,this.dir=o.dir,this.path=o.path,this.dirty=o.dirty,this.flat=o.flat,this.parent=o.parent,this.parentKey=o.parentKey,this.unixfs=o.unixfs,this.mode=o.mode,this.mtime=o.mtime,this.cid=void 0,this.size=void 0}async put(o,a){}get(o){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(o){}}class DirFlat extends Dir{constructor(o,a){super(o,a),this._children={}}async put(o,a){this.cid=void 0,this.size=void 0,this._children[o]=a}get(o){return Promise.resolve(this._children[o])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const o=Object.keys(this._children);for(let a=0;a<o.length;a++){const j=o[a];yield{key:j,child:this._children[j]}}}async*flush(o){const a=Object.keys(this._children),j=[];for(let it=0;it<a.length;it++){let ot=this._children[a[it]];if(ot instanceof Dir)for await(const st of ot.flush(o))ot=st,yield ot;ot.size!=null&&ot.cid&&j.push({Name:a[it],Tsize:ot.size,Hash:ot.cid})}const _e=new UnixFS({type:"directory",mtime:this.mtime,mode:this.mode}),et={Data:_e.marshal(),Links:j},tt=encode$4(prepare$1(et)),rt=await persist(tt,o,this.options),nt=tt.length+et.Links.reduce((it,ot)=>it+(ot.Tsize==null?0:ot.Tsize),0);this.cid=rt,this.size=nt,yield{cid:rt,unixfs:_e,path:this.path,size:nt}}}const BITS_PER_BYTE=7;var sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(o,a){let j=this._internalPositionFor(o,!1);if(a===void 0)j!==-1&&(this._unsetInternalPos(j),this._unsetBit(o),this._changedLength=!0,this._changedData=!0);else{let _e=!1;j===-1?(j=this._data.length,this._setBit(o),this._changedData=!0):_e=!0,this._setInternalPos(j,o,a,_e),this._changedLength=!0}}unset(o){this.set(o,void 0)}get(o){this._sortData();const a=this._internalPositionFor(o,!0);if(a!==-1)return this._data[a][1]}push(o){return this.set(this.length,o),this.length}get length(){if(this._sortData(),this._changedLength){const o=this._data[this._data.length-1];this._length=o?o[0]+1:0,this._changedLength=!1}return this._length}forEach(o){let a=0;for(;a<this.length;)o(this.get(a),a,this),a++}map(o){let a=0,j=new Array(this.length);for(;a<this.length;)j[a]=o(this.get(a),a,this),a++;return j}reduce(o,a){let j=0,_e=a;for(;j<this.length;){const et=this.get(j);_e=o(_e,et,j),j++}return _e}find(o){let a=0,j,_e;for(;a<this.length&&!j;)_e=this.get(a),j=o(_e),a++;return j?_e:void 0}_internalPositionFor(o,a){const j=this._bytePosFor(o,a);if(j>=this._bitArrays.length)return-1;const _e=this._bitArrays[j],et=o-j*BITS_PER_BYTE;if(!((_e&1<<et)>0))return-1;const rt=this._bitArrays.slice(0,j).reduce(popCountReduce,0),nt=~(4294967295<<et+1),it=popCount(_e&nt);return rt+it-1}_bytePosFor(o,a){const j=Math.floor(o/BITS_PER_BYTE),_e=j+1;for(;!a&&this._bitArrays.length<_e;)this._bitArrays.push(0);return j}_setBit(o){const a=this._bytePosFor(o,!1);this._bitArrays[a]|=1<<o-a*BITS_PER_BYTE}_unsetBit(o){const a=this._bytePosFor(o,!1);this._bitArrays[a]&=~(1<<o-a*BITS_PER_BYTE)}_setInternalPos(o,a,j,_e){const et=this._data,tt=[a,j];if(_e)this._sortData(),et[o]=tt;else{if(et.length)if(et[et.length-1][0]>=a)et.push(tt);else if(et[0][0]<=a)et.unshift(tt);else{const rt=Math.round(et.length/2);this._data=et.slice(0,rt).concat(tt).concat(et.slice(rt))}else this._data.push(tt);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(o){this._data.splice(o,1)}_sortData(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}bitField(){const o=[];let a=8,j=0,_e=0,et;const tt=this._bitArrays.slice();for(;tt.length||j;){j===0&&(et=tt.shift(),j=7);const nt=Math.min(j,a),it=~(255<<nt),ot=et&it;_e|=ot<<8-a,et=et>>>nt,j-=nt,a-=nt,(!a||!j&&!tt.length)&&(o.push(_e),_e=0,a=8)}for(var rt=o.length-1;rt>0&&o[rt]===0;rt--)o.pop();return o}compactArray(){return this._sortData(),this._data.map(valueOnly)}};function popCountReduce($,o){return $+popCount(o)}function popCount($){let o=$;return o=o-(o>>1&1431655765),o=(o&858993459)+(o>>2&858993459),(o+(o>>4)&252645135)*16843009>>24}function sortInternal($,o){return $[0]-o[0]}function valueOnly($){return $[1]}const require$$1$1=getAugmentedNamespace(fromString$1),SparseArray=sparseArray,{fromString:uint8ArrayFromString}=require$$1$1;let Bucket$1=class zo{constructor(o,a,j=0){this._options=o,this._popCount=0,this._parent=a,this._posAtParent=j,this._children=new SparseArray,this.key=null}async put(o,a){const j=await this._findNewBucketAndPos(o);await j.bucket._putAt(j,o,a)}async get(o){const a=await this._findChild(o);if(a)return a.value}async del(o){const a=await this._findPlace(o),j=a.bucket._at(a.pos);j&&j.key===o&&a.bucket._delAt(a.pos)}leafCount(){return this._children.compactArray().reduce((a,j)=>j instanceof zo?a+j.leafCount():a+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const o=this._children.compactArray();for(const a of o)a instanceof zo?yield*a.eachLeafSeries():yield a;return[]}serialize(o,a){const j=[];return a(this._children.reduce((_e,et,tt)=>(et&&(et instanceof zo?_e.push(et.serialize(o,a)):_e.push(o(et,tt))),_e),j))}asyncTransform(o,a){return asyncTransformBucket(this,o,a)}toJSON(){return this.serialize(mapNode,reduceNodes)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(o){const a=await this._findPlace(o),j=a.bucket._at(a.pos);if(!(j instanceof zo)&&j&&j.key===o)return j}async _findPlace(o){const a=this._options.hash(typeof o=="string"?uint8ArrayFromString(o):o),j=await a.take(this._options.bits),_e=this._children.get(j);return _e instanceof zo?_e._findPlace(a):{bucket:this,pos:j,hash:a,existingChild:_e}}async _findNewBucketAndPos(o){const a=await this._findPlace(o);if(a.existingChild&&a.existingChild.key!==o){const j=new zo(this._options,a.bucket,a.pos);a.bucket._putObjectAt(a.pos,j);const _e=await j._findPlace(a.existingChild.hash);return _e.bucket._putAt(_e,a.existingChild.key,a.existingChild.value),j._findNewBucketAndPos(a.hash)}return a}_putAt(o,a,j){this._putObjectAt(o.pos,{key:a,value:j,hash:o.hash})}_putObjectAt(o,a){this._children.get(o)||this._popCount++,this._children.set(o,a)}_delAt(o){if(o===-1)throw new Error("Invalid position");this._children.get(o)&&this._popCount--,this._children.unset(o),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const o=this._children.find(exists);if(o&&!(o instanceof zo)){const a=o.hash;a.untake(this._options.bits);const j={pos:this._posAtParent,hash:a,bucket:this._parent};this._parent._putAt(j,o.key,o.value)}}else this._parent._delAt(this._posAtParent)}_at(o){return this._children.get(o)}};function exists($){return!!$}function mapNode($,o){return $.key}function reduceNodes($){return $}async function asyncTransformBucket($,o,a){const j=[];for(const _e of $._children.compactArray())if(_e instanceof Bucket$1)await asyncTransformBucket(_e,o,a);else{const et=await o(_e);j.push({bitField:$._children.bitField(),children:et})}return a(j)}var bucket=Bucket$1,consumableHash={exports:{}};const START_MASKS=[255,254,252,248,240,224,192,128],STOP_MASKS=[1,3,7,15,31,63,127,255];var consumableBuffer=class{constructor(o){this._value=o,this._currentBytePos=o.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(o){let a=o,j=0;for(;a&&this._haveBits();){const _e=this._value[this._currentBytePos],et=this._currentBitPos+1,tt=Math.min(et,a),rt=byteBitsToInt(_e,et-tt,tt);j=(j<<tt)+rt,a-=tt,this._currentBitPos-=tt,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return j}untake(o){for(this._currentBitPos+=o;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function byteBitsToInt($,o,a){const j=maskFor(o,a);return($&j)>>>o}function maskFor($,o){return START_MASKS[$]&STOP_MASKS[Math.min(o+$-1,7)]}function concat($,o){o||(o=$.reduce((_e,et)=>_e+et.length,0));const a=allocUnsafe(o);let j=0;for(const _e of $)a.set(_e,j),j+=_e.length;return asUint8Array(a)}const concat$1=Object.freeze(Object.defineProperty({__proto__:null,concat},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(concat$1),ConsumableBuffer=consumableBuffer,{concat:uint8ArrayConcat}=require$$1;function wrapHash$1($){function o(a){return a instanceof InfiniteHash?a:new InfiniteHash(a,$)}return o}class InfiniteHash{constructor(o,a){if(!(o instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=o,this._hashFn=a,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(o){let a=o;for(;this._availableBits<a;)await this._produceMoreBits();let j=0;for(;a>0;){const _e=this._buffers[this._currentBufferIndex],et=Math.min(_e.availableBits(),a),tt=_e.take(et);j=(j<<et)+tt,a-=et,this._availableBits-=et,_e.availableBits()===0&&this._currentBufferIndex++}return j}untake(o){let a=o;for(;a>0;){const j=this._buffers[this._currentBufferIndex],_e=Math.min(j.totalBits()-j.availableBits(),a);j.untake(_e),a-=_e,this._availableBits+=_e,this._currentBufferIndex>0&&j.totalBits()===j.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const o=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value,a=await this._hashFn(o),j=new ConsumableBuffer(a);this._buffers.push(j),this._availableBits+=j.availableBits()}}consumableHash.exports=wrapHash$1;consumableHash.exports.InfiniteHash=InfiniteHash;var consumableHashExports=consumableHash.exports;const Bucket=bucket,wrapHash=consumableHashExports;function createHAMT($){if(!$||!$.hashFn)throw new Error("please define an options.hashFn");const o={bits:$.bits||8,hash:wrapHash($.hashFn)};return new Bucket(o)}var src={createHAMT,Bucket};class DirSharded extends Dir{constructor(o,a){super(o,a),this._bucket=src.createHAMT({hashFn:a.hamtHashFn,bits:a.hamtBucketBits})}async put(o,a){await this._bucket.put(o,a)}get(o){return this._bucket.get(o)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:o,value:a}of this._bucket.eachLeafSeries())yield{key:o,child:a}}async*flush(o){for await(const a of flush(this._bucket,o,this,this.options))yield{...a,path:this.path}}}async function*flush($,o,a,j){const _e=$._children,et=[];let tt=0;for(let ut=0;ut<_e.length;ut++){const dt=_e.get(ut);if(!dt)continue;const ft=ut.toString(16).toUpperCase().padStart(2,"0");if(dt instanceof src.Bucket){let ht;for await(const pt of await flush(dt,o,null,j))ht=pt;if(!ht)throw new Error("Could not flush sharded directory, no subshard found");et.push({Name:ft,Tsize:ht.size,Hash:ht.cid}),tt+=ht.size}else if(typeof dt.value.flush=="function"){const ht=dt.value;let pt;for await(const gt of ht.flush(o))pt=gt,yield pt;const yt=ft+dt.key;et.push({Name:yt,Tsize:pt.size,Hash:pt.cid}),tt+=pt.size}else{const ht=dt.value;if(!ht.cid)continue;const pt=ft+dt.key,yt=ht.size;et.push({Name:pt,Tsize:yt,Hash:ht.cid}),tt+=yt}}const rt=Uint8Array.from(_e.bitField().reverse()),nt=new UnixFS({type:"hamt-sharded-directory",data:rt,fanout:$.tableSize(),hashType:j.hamtHashCode,mtime:a&&a.mtime,mode:a&&a.mode}),it={Data:nt.marshal(),Links:et},ot=encode$4(prepare$1(it)),st=await persist(ot,o,j),ct=ot.length+tt;yield{cid:st,unixfs:nt,size:ct}}async function flatToShard($,o,a,j){let _e=o;o instanceof DirFlat&&o.directChildrenCount()>=a&&(_e=await convertToShard(o,j));const et=_e.parent;if(et){if(_e!==o){if($&&($.parent=_e),!_e.parentKey)throw new Error("No parent key found");await et.put(_e.parentKey,_e)}return flatToShard(_e,et,a,j)}return _e}async function convertToShard($,o){const a=new DirSharded({root:$.root,dir:!0,parent:$.parent,parentKey:$.parentKey,path:$.path,dirty:$.dirty,flat:!1,mtime:$.mtime,mode:$.mode},o);for await(const{key:j,child:_e}of $.eachChildSeries())await a.put(j,_e);return a}const toPathComponents$1=($="")=>($.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean);async function addToTree($,o,a){const j=toPathComponents$1($.path||""),_e=j.length-1;let et=o,tt="";for(let rt=0;rt<j.length;rt++){const nt=j[rt];tt+=`${tt?"/":""}${nt}`;const it=rt===_e;if(et.dirty=!0,et.cid=void 0,et.size=void 0,it)await et.put(nt,$),o=await flatToShard(null,et,a.shardSplitThreshold,a);else{let ot=await et.get(nt);(!ot||!(ot instanceof Dir))&&(ot=new DirFlat({root:!1,dir:!0,parent:et,parentKey:nt,path:tt,dirty:!0,flat:!0,mtime:ot&&ot.unixfs&&ot.unixfs.mtime,mode:ot&&ot.unixfs&&ot.unixfs.mode},a)),await et.put(nt,ot),et=ot}}return o}async function*flushAndYield($,o){if(!($ instanceof Dir)){$&&$.unixfs&&$.unixfs.isDirectory()&&(yield $);return}yield*$.flush(o)}async function*treeBuilder($,o,a){let j=new DirFlat({root:!0,dir:!0,path:"",dirty:!0,flat:!0},a);for await(const _e of $)_e&&(j=await addToTree(_e,j,a),(!_e.unixfs||!_e.unixfs.isDirectory())&&(yield _e));if(a.wrapWithDirectory)yield*flushAndYield(j,o);else for await(const _e of j.eachChildSeries())_e&&(yield*flushAndYield(_e.child,o))}async function*importer($,o,a={}){const j=defaultOptions$1(a);let _e;typeof a.dagBuilder=="function"?_e=a.dagBuilder:_e=dagBuilder;let et;typeof a.treeBuilder=="function"?et=a.treeBuilder:et=treeBuilder;let tt;Symbol.asyncIterator in $||Symbol.iterator in $?tt=$:tt=[$];for await(const rt of et(parallelBatch$1(_e(tt,o,j),j.fileImportConcurrency),o,j))yield{cid:rt.cid,path:rt.path,unixfs:rt.unixfs,size:rt.size}}async function*browserReadableStreamToIt$1($,o={}){const a=$.getReader();try{for(;;){const j=await a.read();if(j.done)return;yield j.value}}finally{o.preventCancel!==!0&&a.cancel(),a.releaseLock()}}var browserReadablestreamToIt=browserReadableStreamToIt$1;const toIterable=getDefaultExportFromCjs(browserReadablestreamToIt),browserReadableStreamToIt=browserReadablestreamToIt;function blobToIt($){return typeof $.stream=="function"?browserReadableStreamToIt($.stream()):browserReadableStreamToIt(new Response($).body)}var blobToIt_1=blobToIt;const blobToIt$1=getDefaultExportFromCjs(blobToIt_1);function peekableIterator($){const[o,a]=$[Symbol.asyncIterator]?[$[Symbol.asyncIterator](),Symbol.asyncIterator]:[$[Symbol.iterator](),Symbol.iterator],j=[];return{peek:()=>o.next(),push:_e=>{j.push(_e)},next:()=>j.length?{done:!1,value:j.shift()}:o.next(),[a](){return this}}}var itPeekable=peekableIterator;const itPeekable$1=getDefaultExportFromCjs(itPeekable),map=async function*($,o){for await(const a of $)yield o(a)};var itMap=map;const map$1=getDefaultExportFromCjs(itMap);function isBytes$1($){return ArrayBuffer.isView($)||$ instanceof ArrayBuffer}function isBlob$1($){return $.constructor&&($.constructor.name==="Blob"||$.constructor.name==="File")&&typeof $.stream=="function"}function isFileObject($){return typeof $=="object"&&($.path||$.content)}const isReadableStream=$=>$&&typeof $.getReader=="function";async function*toAsyncIterable($){yield $}async function normaliseContent($){if(isBytes$1($))return toAsyncIterable(toBytes($));if(typeof $=="string"||$ instanceof String)return toAsyncIterable(toBytes($.toString()));if(isBlob$1($))return blobToIt$1($);if(isReadableStream($)&&($=toIterable($)),Symbol.iterator in $||Symbol.asyncIterator in $){const o=itPeekable$1($),{value:a,done:j}=await o.peek();if(j)return toAsyncIterable(new Uint8Array(0));if(o.push(a),Number.isInteger(a))return toAsyncIterable(Uint8Array.from(await all$1(o)));if(isBytes$1(a)||typeof a=="string"||a instanceof String)return map$1(o,toBytes)}throw errCode$1(new Error(`Unexpected input: ${$}`),"ERR_UNEXPECTED_INPUT")}function toBytes($){return $ instanceof Uint8Array?$:ArrayBuffer.isView($)?new Uint8Array($.buffer,$.byteOffset,$.byteLength):$ instanceof ArrayBuffer?new Uint8Array($):Array.isArray($)?Uint8Array.from($):fromString($.toString())}async function*normaliseCandidateSingle($,o){if($==null)throw errCode$1(new Error(`Unexpected input: ${$}`),"ERR_UNEXPECTED_INPUT");if(typeof $=="string"||$ instanceof String){yield toFileObject$1($.toString(),o);return}if(isBytes$1($)||isBlob$1($)){yield toFileObject$1($,o);return}if(isReadableStream($)&&($=toIterable($)),Symbol.iterator in $||Symbol.asyncIterator in $){const a=itPeekable$1($),{value:j,done:_e}=await a.peek();if(_e){yield{content:[]};return}if(a.push(j),Number.isInteger(j)||isBytes$1(j)||typeof j=="string"||j instanceof String){yield toFileObject$1(a,o);return}throw errCode$1(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(isFileObject($)){yield toFileObject$1($,o);return}throw errCode$1(new Error('Unexpected input: cannot convert "'+typeof $+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function toFileObject$1($,o){const{path:a,mode:j,mtime:_e,content:et}=$,tt={path:a||"",mode:parseMode(j),mtime:parseMtime(_e)};return et?tt.content=await o(et):a||(tt.content=await o($)),tt}function normaliseInput$1($){return normaliseCandidateSingle($,normaliseContent)}async function*normaliseCandidateMultiple($,o){if(typeof $=="string"||$ instanceof String||isBytes$1($)||isBlob$1($)||$._readableState)throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(isReadableStream($)&&($=toIterable($)),Symbol.iterator in $||Symbol.asyncIterator in $){const a=itPeekable$1($),{value:j,done:_e}=await a.peek();if(_e){yield*[];return}if(a.push(j),Number.isInteger(j))throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(j._readableState){yield*map$1(a,et=>toFileObject({content:et},o));return}if(isBytes$1(j)){yield toFileObject({content:a},o);return}if(isFileObject(j)||j[Symbol.iterator]||j[Symbol.asyncIterator]||isReadableStream(j)||isBlob$1(j)){yield*map$1(a,et=>toFileObject(et,o));return}}throw isFileObject($)?errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):errCode$1(new Error("Unexpected input: "+typeof $),"ERR_UNEXPECTED_INPUT")}async function toFileObject($,o){const{path:a,mode:j,mtime:_e,content:et}=$,tt={path:a||"",mode:parseMode(j),mtime:parseMtime(_e)};return et?tt.content=await o(et):a||(tt.content=await o($)),tt}function normaliseInput($){return normaliseCandidateMultiple($,normaliseContent)}function isBytes($){return ArrayBuffer.isView($)||$ instanceof ArrayBuffer}function isBlob($){return!!$.constructor&&($.constructor.name==="Blob"||$.constructor.name==="File")&&typeof $.stream=="function"}function isSingle($){return typeof $=="string"||$ instanceof String||isBytes($)||isBlob($)||"_readableState"in $}function getNormaliser($){return isSingle($)?normaliseInput$1($):normaliseInput($)}const drain=async $=>{for await(const o of $);};var itDrain=drain;const drain$1=getDefaultExportFromCjs(itDrain),filter=async function*($,o){for await(const a of $)await o(a)&&(yield a)};var itFilter=filter;const filter$1=getDefaultExportFromCjs(itFilter),take=async function*($,o){let a=0;if(!(o<1)){for await(const j of $)if(yield j,a++,a===o)return}};var itTake=take;const take$1=getDefaultExportFromCjs(itTake),sortAll=($,o)=>async function*(){yield*(await all$1($)).sort(o)}();class BaseBlockstore{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(o,a,j){return Promise.reject(new Error(".put is not implemented"))}get(o,a){return Promise.reject(new Error(".get is not implemented"))}has(o,a){return Promise.reject(new Error(".has is not implemented"))}delete(o,a){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(o,a={}){for await(const{key:j,value:_e}of o)await this.put(j,_e,a),yield{key:j,value:_e}}async*getMany(o,a={}){for await(const j of o)yield this.get(j,a)}async*deleteMany(o,a={}){for await(const j of o)await this.delete(j,a),yield j}batch(){let o=[],a=[];return{put(j,_e){o.push({key:j,value:_e})},delete(j){a.push(j)},commit:async j=>{await drain$1(this.putMany(o,j)),o=[],await drain$1(this.deleteMany(a,j)),a=[]}}}async*_all(o,a){throw new Error("._all is not implemented")}async*_allKeys(o,a){throw new Error("._allKeys is not implemented")}query(o,a){let j=this._all(o,a);if(o.prefix!=null&&(j=filter$1(j,_e=>_e.key.toString().startsWith(o.prefix||""))),Array.isArray(o.filters)&&(j=o.filters.reduce((_e,et)=>filter$1(_e,et),j)),Array.isArray(o.orders)&&(j=o.orders.reduce((_e,et)=>sortAll(_e,et),j)),o.offset!=null){let _e=0;j=filter$1(j,()=>_e++>=(o.offset||0))}return o.limit!=null&&(j=take$1(j,o.limit)),j}queryKeys(o,a){let j=this._allKeys(o,a);if(o.prefix!=null&&(j=filter$1(j,_e=>_e.toString().startsWith(o.prefix||""))),Array.isArray(o.filters)&&(j=o.filters.reduce((_e,et)=>filter$1(_e,et),j)),Array.isArray(o.orders)&&(j=o.orders.reduce((_e,et)=>sortAll(_e,et),j)),o.offset!=null){let _e=0;j=filter$1(j,()=>_e++>=o.offset)}return o.limit!=null&&(j=take$1(j,o.limit)),j}}class MemoryBlockStore extends BaseBlockstore{constructor(){super(),this.store=new Map}async*blocks(){for(const[o,a]of this.store.entries())yield{cid:CID.parse(o),bytes:a}}put(o,a){return this.store.set(o.toString(),a),Promise.resolve()}get(o){const a=this.store.get(o.toString());if(!a)throw new Error(`block with cid ${o.toString()} no found`);return Promise.resolve(a)}has(o){return Promise.resolve(this.store.has(o.toString()))}close(){return this.store.clear(),Promise.resolve()}}const unixfsImporterOptionsDefault={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function pack({input:$,blockstore:o,hasher:a,maxChunkSize:j,maxChildrenPerNode:_e,wrapWithDirectory:et,rawLeaves:tt}){if(!$||Array.isArray($)&&!$.length)throw new Error("missing input file(s)");const rt=o||new MemoryBlockStore,nt=await last$1(pipe$1(getNormaliser($),ht=>importer(ht,rt,{...unixfsImporterOptionsDefault,hasher:a||unixfsImporterOptionsDefault.hasher,maxChunkSize:j||unixfsImporterOptionsDefault.maxChunkSize,maxChildrenPerNode:_e||unixfsImporterOptionsDefault.maxChildrenPerNode,wrapWithDirectory:et===!1?!1:unixfsImporterOptionsDefault.wrapWithDirectory,rawLeaves:tt??unixfsImporterOptionsDefault.rawLeaves})));if(!nt||!nt.cid)throw new Error("given input could not be parsed correctly");const it=nt.cid,{writer:ot,out:st}=await CarWriter.create([it]),ct=st[Symbol.asyncIterator]();let ut;const dt=async()=>{for await(const ht of rt.blocks())await ot.put(ht);await ot.close(),o||await rt.close()},ft={[Symbol.asyncIterator](){if(ut!=null)throw new Error("Multiple iterator not supported");return ut=dt(),{async next(){const ht=await ct.next();return ht.done&&await ut,ht}}}};return{root:it,out:ft}}const MAX_HEADER_LENGTH=2e3,THROW_ON_MAX_HEADER_LENGTH_EXCEEDED=!1;function hasRel($){return $&&$.rel}function intoRels($,o){function a(j){$[j]=Object.assign({},o,{rel:j})}return o.rel.split(/\s+/).forEach(a),$}function createObjects($,o){const a=o.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return a&&($[a[1]]=a[2]),$}function parseLink($){try{const o=$.match(/<?([^>]*)>(.*)/),a=o[1],j=o[2].split(";"),_e={},et=new URL(a,"https://example.com");for(const[rt,nt]of et.searchParams)_e[rt]=nt;j.shift();let tt=j.reduce(createObjects,{});return tt=Object.assign({},_e,tt),tt.url=a,tt}catch{return null}}function checkHeader($,o){if(!$)return!1;o=o||{};const a=o.maxHeaderLength||MAX_HEADER_LENGTH,j=o.throwOnMaxHeaderLengthExceeded||THROW_ON_MAX_HEADER_LENGTH_EXCEEDED;if($.length>a){if(j)throw new Error("Input string too long, it should be under "+a+" characters.");return!1}return!0}function parseLinkHeader($,o){return checkHeader($,o)?$.split(/,\s*</).map(parseLink).filter(hasRel).reduce(intoRels,{}):null}const hashFn=async function($){return(await murmur3128.encode($)).slice(0,8).reverse()},addLinksToHamtBucket=($,o,a)=>Promise.all($.map(j=>{if(j.Name==null)throw new Error("Unexpected Link without a Name");if(j.Name.length===2){const _e=parseInt(j.Name,16);return o._putObjectAt(_e,new src.Bucket({hash:a._options.hash,bits:a._options.bits},o,_e))}return a.put(j.Name.substring(2),!0)})),toPrefix=$=>$.toString(16).toUpperCase().padStart(2,"0").substring(0,2),toBucketPath=$=>{let o=$.bucket;const a=[];for(;o._parent;)a.push(o),o=o._parent;return a.push(o),a.reverse()},findShardCid=async($,o,a,j,_e)=>{if(!j){const ot=src.createHAMT({hashFn});j={rootBucket:ot,hamtDepth:1,lastBucket:ot}}await addLinksToHamtBucket($.Links,j.lastBucket,j.rootBucket);const et=await j.rootBucket._findNewBucketAndPos(o);let tt=toPrefix(et.pos);const rt=toBucketPath(et);rt.length>j.hamtDepth&&(j.lastBucket=rt[j.hamtDepth],tt=toPrefix(j.lastBucket._posAtParent));const nt=$.Links.find(ot=>{if(ot.Name==null)return!1;const st=ot.Name.substring(0,2),ct=ot.Name.substring(2);return!(st!==tt||ct&&ct!==o)});if(!nt)return null;if(nt.Name!=null&&nt.Name.substring(2)===o)return nt.Hash;j.hamtDepth++;const it=await a.get(nt.Hash,_e);return $=decode$3(it),findShardCid($,o,a,j,_e)};function extractDataFromBlock($,o,a,j){const _e=$.length,et=o+_e;return a>=et||j<o?new Uint8Array(0):(j>=o&&j<et&&($=$.slice(0,j-o)),a>=o&&a<et&&($=$.slice(a-o)),$)}const validateOffsetAndLength=($,o,a)=>{if(o||(o=0),o<0)throw errCode$1(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>$)throw errCode$1(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(!a&&a!==0&&(a=$-o),a<0)throw errCode$1(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return o+a>$&&(a=$-o),{offset:o,length:a}};async function*emitBytes($,o,a,j,_e=0,et){if(o instanceof Uint8Array){const nt=extractDataFromBlock(o,_e,a,j);return nt.length&&(yield nt),_e+=nt.length,_e}if(o.Data==null)throw errCode$1(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let tt;try{tt=UnixFS.unmarshal(o.Data)}catch(nt){throw errCode$1(nt,"ERR_NOT_UNIXFS")}if(tt.data&&tt.data.length){const nt=extractDataFromBlock(tt.data,_e,a,j);nt.length&&(yield nt),_e+=tt.data.length}let rt=_e;for(let nt=0;nt<o.Links.length;nt++){const it=o.Links[nt],ot=_e+tt.blockSizes[nt];if(a>=rt&&a<ot||j>rt&&j<=ot||a<rt&&j>ot){const st=await $.get(it.Hash,{signal:et.signal});let ct;switch(it.Hash.code){case code$4:ct=await decode$3(st);break;case code$3:ct=st;break;case code$5:ct=await decode$4(st);break;default:throw Error(`Unsupported codec: ${it.Hash.code}`)}for await(const ut of emitBytes($,ct,a,j,_e,et))_e+=ut.length,yield ut}_e=ot,rt=ot+1}}const fileContent=($,o,a,j,_e,et,tt)=>{function rt(nt={}){const it=a.fileSize();if(it===void 0)throw new Error("File was a directory");const{offset:ot,length:st}=validateOffsetAndLength(it,nt.offset,nt.length),ct=ot,ut=ot+st;return emitBytes(tt,o,ct,ut,0,nt)}return rt},directoryContent=($,o,a,j,_e,et,tt)=>{async function*rt(nt={}){const it=nt.offset||0,ot=nt.length||o.Links.length,st=o.Links.slice(it,ot);for(const ct of st){const ut=await _e(ct.Hash,ct.Name||"",`${j}/${ct.Name||""}`,[],et+1,tt,nt);ut.entry&&(yield ut.entry)}}return rt},hamtShardedDirectoryContent=($,o,a,j,_e,et,tt)=>{function rt(nt={}){return listDirectory(o,j,_e,et,tt,nt)}return rt};async function*listDirectory($,o,a,j,_e,et){const tt=$.Links;for(const rt of tt){const nt=rt.Name!=null?rt.Name.substring(2):null;if(nt)yield(await a(rt.Hash,nt,`${o}/${nt}`,[],j+1,_e,et)).entry;else{const it=await _e.get(rt.Hash);$=decode$3(it);for await(const ot of listDirectory($,o,a,j,_e,et))yield ot}}}const findLinkCid=($,o)=>{const a=$.Links.find(j=>j.Name===o);return a&&a.Hash},contentExporters={raw:fileContent,file:fileContent,directory:directoryContent,"hamt-sharded-directory":hamtShardedDirectoryContent,metadata:($,o,a,j,_e,et,tt)=>()=>[],symlink:($,o,a,j,_e,et,tt)=>()=>[]},unixFsResolver=async($,o,a,j,_e,et,tt,rt)=>{const nt=await tt.get($,rt),it=decode$3(nt);let ot,st;if(o||(o=$.toString()),it.Data==null)throw errCode$1(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{ot=UnixFS.unmarshal(it.Data)}catch(ct){throw errCode$1(ct,"ERR_NOT_UNIXFS")}if(a||(a=o),j.length){let ct;if(ot&&ot.type==="hamt-sharded-directory"?ct=await findShardCid(it,j[0],tt):ct=findLinkCid(it,j[0]),!ct)throw errCode$1(new Error("file does not exist"),"ERR_NOT_FOUND");const ut=j.shift(),dt=`${a}/${ut}`;st={cid:ct,toResolve:j,name:ut||"",path:dt}}return{entry:{type:ot.isDirectory()?"directory":"file",name:o,path:a,cid:$,content:contentExporters[ot.type]($,it,ot,a,_e,et,tt),unixfs:ot,depth:et,node:it,size:ot.fileSize()},next:st}},rawContent$1=$=>{async function*o(a={}){const{offset:j,length:_e}=validateOffsetAndLength($.length,a.offset,a.length);yield extractDataFromBlock($,0,j,j+_e)}return o},resolve$4=async($,o,a,j,_e,et,tt,rt)=>{if(j.length)throw errCode$1(new Error(`No link named ${a} found in raw node ${$}`),"ERR_NOT_FOUND");const nt=await tt.get($,rt);return{entry:{type:"raw",name:o,path:a,cid:$,content:rawContent$1(nt),depth:et,size:nt.length,node:nt}}},resolve$3=async($,o,a,j,_e,et,tt,rt)=>{const nt=await tt.get($),it=decode$4(nt);let ot=it,st=a;for(;j.length;){const ct=j[0];if(ct in ot){j.shift(),st=`${st}/${ct}`;const ut=CID.asCID(ot[ct]);if(ut)return{entry:{type:"object",name:o,path:a,cid:$,node:nt,depth:et,size:nt.length,content:async function*(){yield it}},next:{cid:ut,name:ct,path:st,toResolve:j}};ot=ot[ct]}else throw errCode$1(new Error(`No property named ${ct} found in cbor node ${$}`),"ERR_NO_PROP")}return{entry:{type:"object",name:o,path:a,cid:$,node:nt,depth:et,size:nt.length,content:async function*(){yield it}}}},rawContent=$=>{async function*o(a={}){const{offset:j,length:_e}=validateOffsetAndLength($.length,a.offset,a.length);yield extractDataFromBlock($,0,j,j+_e)}return o},resolve$2=async($,o,a,j,_e,et,tt,rt)=>{if(j.length)throw errCode$1(new Error(`No link named ${a} found in raw node ${$}`),"ERR_NOT_FOUND");const nt=await decode$7($.multihash.bytes);return{entry:{type:"identity",name:o,path:a,cid:$,content:rawContent(nt.digest),depth:et,size:nt.digest.length,node:nt.digest}}},resolvers={[code$4]:unixFsResolver,[code$3]:resolve$4,[code$5]:resolve$3,[identity.code]:resolve$2};function resolve$1($,o,a,j,_e,et,tt){const rt=resolvers[$.code];if(!rt)throw errCode$1(new Error(`No resolver for code ${$.code}`),"ERR_NO_RESOLVER");return rt($,o,a,j,resolve$1,_e,et,tt)}const toPathComponents=($="")=>($.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean),cidAndRest=$=>{if($ instanceof Uint8Array)return{cid:CID.decode($),toResolve:[]};const o=CID.asCID($);if(o)return{cid:o,toResolve:[]};if(typeof $=="string"){$.indexOf("/ipfs/")===0&&($=$.substring(6));const a=toPathComponents($);return{cid:CID.parse(a[0]),toResolve:a.slice(1)}}throw errCode$1(new Error(`Unknown path type ${$}`),"ERR_BAD_PATH")};async function*walkPath($,o,a={}){let{cid:j,toResolve:_e}=cidAndRest($),et=j.toString(),tt=et;const rt=_e.length;for(;;){const nt=await resolve$1(j,et,tt,_e,rt,o,a);if(!nt.entry&&!nt.next)throw errCode$1(new Error(`Could not resolve ${$}`),"ERR_NOT_FOUND");if(nt.entry&&(yield nt.entry),!nt.next)return;_e=nt.next.toResolve,j=nt.next.cid,et=nt.next.name,tt=nt.next.path}}async function exporter($,o,a={}){const j=await last$1(walkPath($,o,a));if(!j)throw errCode$1(new Error(`Could not resolve ${$}`),"ERR_NOT_FOUND");return j}async function*recursive($,o,a={}){const j=await exporter($,o,a);if(!j)return;if(yield j,j.type==="directory")for await(const et of _e(j,a))yield et;async function*_e(et,tt){for await(const rt of et.content(tt))yield rt,!(rt instanceof Uint8Array)&&rt.type==="directory"&&(yield*_e(rt,tt))}}function equals$1($,o){if($===o)return!0;if($.byteLength!==o.byteLength)return!1;for(let a=0;a<$.byteLength;a++)if($[a]!==o[a])return!1;return!0}class VerifyingGetOnlyBlockStore extends BaseBlockstore{constructor(o){super(),this.store=o}async get(o){const a=await this.store.get(o);if(!a)throw new Error(`Incomplete CAR. Block missing for CID ${o}`);if(!isValid({cid:o,bytes:a}))throw new Error(`Invalid CAR. Hash of block data does not match CID ${o}`);return a}static fromBlockstore(o){return new VerifyingGetOnlyBlockStore(o)}static fromCarReader(o){return new VerifyingGetOnlyBlockStore({get:async a=>{const j=await o.get(a);return j==null?void 0:j.bytes}})}}async function isValid({cid:$,bytes:o}){const a=await sha256.digest(o);return equals$1(a.digest,$.multihash.digest)}async function*unpackStream($,{roots:o,blockstore:a}={}){const j=await CarBlockIterator.fromIterable(asAsyncIterable($)),_e=a||new MemoryBlockStore;for await(const tt of j)await _e.put(tt.cid,tt.bytes);const et=VerifyingGetOnlyBlockStore.fromBlockstore(_e);(!o||o.length===0)&&(o=await j.getRoots());for(const tt of o)yield*recursive(tt,et)}function asAsyncIterable($){return Symbol.asyncIterator in $?$:toIterable($)}const readonly=({enumerable:$=!0,configurable:o=!1}={})=>({enumerable:$,configurable:o,writable:!1}),links=function*($,o){if($!=null&&!($ instanceof Uint8Array))for(const[a,j]of Object.entries($)){const _e=[...o,a];if(j!=null&&typeof j=="object")if(Array.isArray(j))for(const[et,tt]of j.entries()){const rt=[..._e,et],nt=CID.asCID(tt);nt?yield[rt.join("/"),nt]:typeof tt=="object"&&(yield*links(tt,rt))}else{const et=CID.asCID(j);et?yield[_e.join("/"),et]:yield*links(j,_e)}}},tree=function*($,o){if($!=null)for(const[a,j]of Object.entries($)){const _e=[...o,a];if(yield _e.join("/"),j!=null&&!(j instanceof Uint8Array)&&typeof j=="object"&&!CID.asCID(j))if(Array.isArray(j))for(const[et,tt]of j.entries()){const rt=[..._e,et];yield rt.join("/"),typeof tt=="object"&&!CID.asCID(tt)&&(yield*tree(tt,rt))}else yield*tree(j,_e)}},get=($,o)=>{let a=$;for(const[j,_e]of o.entries()){if(a=a[_e],a==null)throw new Error(`Object has no property at ${o.slice(0,j+1).map(tt=>`[${JSON.stringify(tt)}]`).join("")}`);const et=CID.asCID(a);if(et)return{value:et,remaining:o.slice(j+1).join("/")}}return{value:a}};let Block$1=class{constructor({cid:o,bytes:a,value:j}){if(!o||!a||typeof j>"u")throw new Error("Missing required argument");this.cid=o,this.bytes=a,this.value=j,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(o="/"){return get(this.value,o.split("/").filter(Boolean))}};const CID_CBOR_TAG=42;function cidEncoder($){if($.asCID!==$)return null;const o=CID.asCID($);if(!o)return null;const a=new Uint8Array(o.bytes.byteLength+1);return a.set(o.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,a)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder($){if(Number.isNaN($))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if($===1/0||$===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder($){if($[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode($.subarray(1))}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const name="dag-cbor",code=113,encode=$=>encode$6($,encodeOptions),decode=$=>decode$5($,decodeOptions),cbor=Object.freeze(Object.defineProperty({__proto__:null,code,decode,encode,name},Symbol.toStringTag,{value:"Module"}));class TreewalkCarSplitter{constructor(o,a,j={}){if(typeof a!="number"||a<=0)throw new Error("invalid target chunk size");this._reader=o,this._targetSize=a,this._decoders=[pb,raw,cbor,...j.decoders||[]]}async*cars(){const o=await this._reader.getRoots();if(o.length!==1)throw new Error(`unexpected number of roots: ${o.length}`);let a;for await(const j of this._cars(o[0]))a=j.channel,j.out&&(yield j.out);if(!a)throw new Error("missing CAR writer channel");a.writer.close(),yield a.out}async _get(o){const a=await this._reader.get(o);if(!a)throw new Error(`missing block for ${o}`);const{bytes:j}=a,_e=this._decoders.find(et=>et.code===o.code);if(!_e)throw new Error(`missing decoder for ${o.code}`);return new Block$1({cid:o,bytes:j,value:_e.decode(j)})}async*_cars(o,a=[],j=void 0){const _e=await this._get(o);if(j=j||Object.assign(CarWriter.create(o),{size:0}),j.size>0&&j.size+_e.bytes.byteLength>=this._targetSize){j.writer.close();const{out:et}=j;j=newCar(a),yield{channel:j,out:et}}a=a.concat(_e),j.size+=_e.bytes.byteLength,j.writer.put(_e);for(const[,et]of _e.links())for await(const tt of this._cars(et,a,j))j=tt.channel,yield tt;if(!j)throw new Error("missing CAR writer channel");yield{channel:j}}static async fromIterable(o,a,j){const _e=await CarReader.fromIterable(o);return new TreewalkCarSplitter(_e,a,j)}static async fromBlob(o,a,j){const _e=await o.arrayBuffer(),et=await CarReader.fromBytes(new Uint8Array(_e));return new TreewalkCarSplitter(et,a,j)}}function newCar($){const o=Object.assign(CarWriter.create($[0].cid),{size:$.reduce((a,j)=>a+j.bytes.byteLength,0)});for(const a of $)o.writer.put(a);return o}var throttledQueue$1={exports:{}};(function($,o){Object.defineProperty(o,"__esModule",{value:!0});function a(j,_e,et){et===void 0&&(et=!1),et&&(_e=_e/j,j=1);var tt=[],rt=0,nt=0,it,ot=function(){var st=rt+_e,ct=Date.now();if(ct<st){it!==void 0&&clearTimeout(it),it=setTimeout(ot,st-ct);return}rt=ct,nt=0;for(var ut=0,dt=tt.splice(0,j);ut<dt.length;ut++){var ft=dt[ut];nt++,ft()}tt.length?it=setTimeout(ot,_e):it=void 0};return function(st){return new Promise(function(ct,ut){var dt=function(){return Promise.resolve().then(st).then(ct).catch(ut)},ft=Date.now();it===void 0&&ft-rt>_e&&(rt=ft,nt=0),nt++<j?dt():(tt.push(dt),it===void 0&&(it=setTimeout(ot,rt+_e-ft)))})}}$.exports=a,o.default=a})(throttledQueue$1,throttledQueue$1.exports);var throttledQueueExports=throttledQueue$1.exports;const throttledQueue=getDefaultExportFromCjs(throttledQueueExports),fetch$1=globalThis.fetch,Blob$1=globalThis.Blob,File=globalThis.File,Blockstore=MemoryBlockStore,MAX_PUT_RETRIES=5,MAX_CONCURRENT_UPLOADS=3,DEFAULT_CHUNK_SIZE=1024*1024*50,MAX_BLOCK_SIZE=1048576,MAX_CHUNK_SIZE=104857600,RATE_LIMIT_REQUESTS=30,RATE_LIMIT_PERIOD=10*1e3;function createRateLimiter(){const $=throttledQueue(RATE_LIMIT_REQUESTS,RATE_LIMIT_PERIOD);return()=>$(()=>{})}const globalRateLimiter=createRateLimiter();class Web3Storage{constructor({token:o,endpoint:a=new URL("https://api.web3.storage"),rateLimiter:j,fetch:_e=fetch$1}){this.token=o,this.endpoint=a,this.rateLimiter=j||createRateLimiter(),this.fetch=_e}static headers(o){if(!o)throw new Error("missing token");return{Authorization:`Bearer ${o}`,"X-Client":"web3.storage/js"}}static async put({endpoint:o,token:a,rateLimiter:j=globalRateLimiter,fetch:_e=fetch$1},et,{onRootCidReady:tt,onStoredChunk:rt,maxRetries:nt=MAX_PUT_RETRIES,maxChunkSize:it=DEFAULT_CHUNK_SIZE,wrapWithDirectory:ot=!0,name:st,signal:ct}={}){if(it>=MAX_CHUNK_SIZE||it<MAX_BLOCK_SIZE)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const ut=new Blockstore;try{const{out:dt,root:ft}=await pack({input:Array.from(et).map(toImportCandidate),blockstore:ut,wrapWithDirectory:ot,maxChunkSize:MAX_BLOCK_SIZE,maxChildrenPerNode:1024});tt&&tt(ft.toString());const ht=await CarReader.fromIterable(dt);return await Web3Storage.putCar({endpoint:o,token:a,rateLimiter:j,fetch:_e},ht,{onStoredChunk:rt,maxRetries:nt,maxChunkSize:it,name:st,signal:ct})}finally{await ut.close()}}static async putCar({endpoint:o,token:a,rateLimiter:j=globalRateLimiter,fetch:_e=fetch$1},et,{name:tt,onStoredChunk:rt,maxRetries:nt=MAX_PUT_RETRIES,maxChunkSize:it=DEFAULT_CHUNK_SIZE,decoders:ot,signal:st}={}){if(it>=MAX_CHUNK_SIZE||it<MAX_BLOCK_SIZE)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const ct=it,ut=new URL("car",o),dt={...Web3Storage.headers(a),"Content-Type":"application/vnd.ipld.car",...tt?{"X-Name":encodeURIComponent(tt)}:{}},ft=await et.getRoots();if(ft[0]==null)throw new Error("missing root CID");if(ft.length>1)throw new Error("too many roots");const ht=ft[0].toString(),pt=new TreewalkCarSplitter(et,ct,{decoders:ot}),gt=transform(MAX_CONCURRENT_UPLOADS,async xt=>{var Dt,Ut;const wt=[];for await(const jt of xt)wt.push(jt);const Mt=new Blob$1(wt,{type:"application/vnd.ipld.car"});let It=Mt;parseInt((Ut=(Dt=globalThis.process)==null?void 0:Dt.versions)==null?void 0:Ut.node)>18&&(It=await It.arrayBuffer());const Tt=await pRetry$1(async()=>{await j();let jt;try{jt=await _e(ut.toString(),{method:"POST",headers:dt,body:It,signal:st})}catch(kt){throw st&&st.aborted?new AbortError_1(kt):kt}if(jt.status===429)throw new Error("rate limited");const Xt=await jt.json();if(!jt.ok)throw new Error(Xt.message);if(Xt.cid!==ht)throw new Error(`root CID mismatch, expected: ${ht}, received: ${Xt.cid}`);return Xt.cid},{retries:nt});return rt&&rt(Mt.size),Tt});for await(const xt of gt(pt.cars()));return ht}static async get({endpoint:o,token:a,rateLimiter:j=globalRateLimiter,fetch:_e=fetch$1},et,tt={}){const rt=new URL(`car/${et}`,o);await j();const nt=await _e(rt.toString(),{method:"GET",headers:Web3Storage.headers(a),signal:tt.signal});if(nt.status===429)throw new Error("rate limited");return toWeb3Response(nt)}static async delete({endpoint:o,token:a,rateLimiter:j=globalRateLimiter},_e,et={}){throw console.log("Not deleting",_e,o,a,j,et),Error(".delete not implemented yet")}static async status({endpoint:o,token:a,rateLimiter:j=globalRateLimiter,fetch:_e=fetch$1},et,tt={}){const rt=new URL(`status/${et}`,o);await j();const nt=await _e(rt.toString(),{method:"GET",headers:Web3Storage.headers(a),signal:tt.signal});if(nt.status===429)throw new Error("rate limited");if(nt.status!==404){if(!nt.ok)throw new Error(nt.statusText);return nt.json()}}static async*list(o,{before:a=new Date().toISOString(),maxResults:j=1/0,signal:_e}={}){async function et({endpoint:nt,token:it,rateLimiter:ot=globalRateLimiter,fetch:st=fetch$1},{before:ct,size:ut}){const dt=new URLSearchParams({before:ct,size:ut.toString()}),ft=new URL(`user/uploads?${dt}`,nt);return await ot(),st(ft.toString(),{method:"GET",headers:{...Web3Storage.headers(it),"Access-Control-Request-Headers":"Link"},signal:_e})}let tt=0;const rt=j>100?100:j;for await(const nt of paginator(et,o,{before:a,size:rt})){if(!nt.ok){if(nt.status===429)throw new Error("rate limited");const ot=await nt.json();throw new Error(`${nt.status} ${nt.statusText} ${ot?"- "+ot.message:""}`)}const it=await nt.json();for(const ot of it){if(++tt>j)return;yield ot}}}put(o,a){return Web3Storage.put(this,o,a)}putCar(o,a){return Web3Storage.putCar(this,o,a)}get(o,a){return Web3Storage.get(this,o,a)}delete(o,a){return Web3Storage.delete(this,o,a)}status(o,a){return Web3Storage.status(this,o,a)}list(o){return Web3Storage.list(this,o)}}async function toWeb3File({content:$,path:o,cid:a}){const j=[];for await(const et of $())j.push(et);const _e=new File(j,toFilenameWithPath(o));return Object.assign(_e,{cid:a.toString()})}function toFilenameWithPath($){const o=$.indexOf("/");return o===-1?$:$.substring(o+1)}function toWeb3Response($){const o=Object.assign($,{unixFsIterator:async function*(){if(!$.ok)throw new Error(`Response was not ok: ${$.status} ${$.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!$.body)throw new Error("No body on response");const a=new Blockstore;try{for await(const j of unpackStream($.body,{blockstore:a}))yield j}finally{await a.close()}},files:async()=>{if(!$.ok)throw new Error(`Response was not ok: ${$.status} ${$.statusText} - Check for { "ok": false } on the Response object before calling .files`);const a=[];for await(const j of o.unixFsIterator()){if(j.type==="directory")continue;const _e=await toWeb3File(j);a.push(_e)}return a}});return o}function toImportCandidate($){let o;return{path:$.name,get content(){return o=o||$.stream(),o}}}async function*paginator($,o,a){let j=await $(o,a);yield j;let _e=parseLinkHeader(j.headers.get("Link")||"");for(;_e&&_e.next;)j=await $(o,_e.next),yield j,_e=parseLinkHeader(j.headers.get("Link")||"")}const apiToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweEUxYjc5QTZmM0I0ZkY5M2FjYjgwYjc3YUI0NDUzQUJGMUUyNjkxMDciLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NDc5NjY2ODE5NTEsIm5hbWUiOiJkLWNoYXQifQ.4eEl-M2x2d7IA_DwloL4-T7RA_TwO_zN_UsOGDoVxfw",client=new Web3Storage({token:apiToken});let IMG_URL;const Upload=()=>{const[$,o]=reactExports.useState(""),a=async()=>{console.log(document.getElementById("input").files[0]);var _e=document.getElementById("input");const et=await client.put(_e.files,{name:"cat pics",maxRetries:3});console.log(et);const rt=await(await client.get(et)).files();console.log(rt);const nt=URL.createObjectURL(rt[0]);console.log(nt),IMG_URL=nt,o(nt)};function j(){var _e=document.getElementById("field1");_e.select(),navigator.clipboard.writeText(_e.value),alert("Copied the text: "+_e.value)}return jsxs("div",{children:[jsxs("div",{children:[jsx("h2",{htmlFor:"file",style:{fontFamily:"sans-serif"},children:"Choose file to upload"}),jsx("input",{type:"file",id:"input",name:"file",multiple:!0})]}),jsx("br",{}),jsx("div",{className:"upload-btn",children:jsx("button",{onClick:a,className:"btn",children:"Submit"})}),jsx("br",{}),jsx("label",{style:{fontFamily:"sans-serif"},children:"URL : "}),jsx("input",{type:"text",id:"field1",value:IMG_URL}),jsx("button",{id:"copy-btn",onClick:j,className:"btn",children:"Copy URL"}),jsx("br",{}),jsx("br",{}),jsx("br",{}),jsx("h2",{style:{fontFamily:"sans-serif"},children:"Paste the copied link below"})]})},feature2="data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAZhtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAANGlsb2MAAAAAREAAAgACAAAAAAG8AAEAAAAAAAAF6AABAAAAAAekAAEAAAAAAAAGzQAAADhpaW5mAAAAAAACAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAFWluZmUCAAAAAAIAAGF2MDEAAAAA12lwcnAAAACxaXBjbwAAABNjb2xybmNseAACAAIABoAAAAAMYXYxQ4EAHAAAAAAUaXNwZQAAAAAAAAFoAAABaAAAAA5waXhpAAAAAAEIAAAAOGF1eEMAAAAAdXJuOm1wZWc6bXBlZ0I6Y2ljcDpzeXN0ZW1zOmF1eGlsaWFyeTphbHBoYQAAAAAMYXYxQ4EADAAAAAAUaXNwZQAAAAAAAAFoAAABaAAAABBwaXhpAAAAAAMICAgAAAAeaXBtYQAAAAAAAAACAAEEgYYHiAACBIIDhIUAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAADL1tZGF0EgAKBhgiLPZ2FTLbCxFABBBQtJETa910tfCMuHvQMBrO0Qm6i/4s/HLjgyyRpYWcDGxCW+4PPuDzb1QImWXWVY7AH6tGk04Ku8RD3KjcoXBgPPbw4xqHbneE47B8NZIzzd+GZ616oP8PWZSv+0sOo4BKqn7+ZavszqfezeVS2rhLf3zcHqWJcg5jehNaazyRMQDZ5/N4xpJfAaZvQ5Wx99IxhQOPxLIlj3HSMceGUPTUnoAw6E2hPb+tUQDgicdsJd+M5TPFvlcSRob1t+b7ALInzvdDfE6o0hvz8Pj6s37L514Pbo9AWwtm9U/5FT+VG0YR4SDN51sdPBkhdS/S9DzkxGrD8I4LAjT9ZnUOLTdnR1H2g6voorL+fykMJT9PqOQhveUvI3pLw4Wg8vUPoly+2s6SqnLSg08Z03aLY3jaGeYIM+PdSbgJg47Otc/fD+CelbCtS4C+XauXYyebXEjbVl+EVZvr58X2F6eUheeaSYFcsL2ywLJuln+VzS7eZlVZvNLPxI6w28WLSAXpREzwH1shd7z2pCkSAxYZfuL14g0zb238h5QfmhRI22FC8NbZ9T4l1FI+L2osCrg1JZCPg/bpEw48k0oJ4DVKs3aTRHOLVqcMhs/Pl7P282xGrXFaYCveyiQdqNzXqfbCZK96lZIKEI3OFLZVavTx+I8chu0wJ2XJV/aI9g6vbWbP7udW3Um6C1qjZ07xHPWhUTHH+P76tB5sLl6x00Ej1WdadZdyo2n6uIjd3YbpIfohDfk+uaVMwWfeU3wtdg5qdHvRNcTt6yhcVWJ59yZncb2EbtWSJT9JWfURBYg2xEjRDImbhRqPDXjuEpZ9w5+ghllTMXTQyRqtVALfI1UBqp/U3UCrvf0ck5pmxFWJB5n3+u2Uo8UjKeynRcby0s3Md0I815V50XrFrxlGZOhtGjCoxqZ+Y5Fspzx6JDe47CjqiFSLHFSjTGeSmc3xYuLC1JBzp2A4SakabSv64KH1mnMsLYtmE1qA4R3nkiN+m3fIN3x6/ULvUMMuFL1gunShtW4AWhKLPxHgXRL58gZjh9j9Ile3flgimw1Tm2i/IsPljKTvwRKLi7APnETh7WfbnWmgDbMlaI55lZe2OI+v+WzobcDYmpvUq0PGBgCzNxWkYKU6ryareUUsum/cOo/wUcfYR87eBs4cRN+qa44IOz4nvHqe5AVuMsyhTToftk70oE3/OcN2xRKbV2C4f+cZlZiZfewUmVlACed8LaURcmcEWHjbSiB2kt/i+whlIeg1OVPI11guCWXvHa2Wghi5WB0nHgHL4FDhm1zuq4AfTg70TnwOWEH8GI+JbxQPXBEp24fVOzKL+dEtHEJed3l8NK9lTcIRE6c9zuI1cZWnINktiCHYvB+LyDaU9Q8kDJwNy9lTA94SevzXVMaDUlzVUIAz6HDWBxJdQkOZ8hqbhHV5eHE5qOoHYEyEnBtfbIh8V7k9e+dlYVmwtflfUSeCXe624H2k6ddmE+IQ9sNDK8EcpPELN1/S91Bp2oulIOgsFsRikZOP6QaQ9c+4EOo9sFoq9ZfUdpxUBquMj/SUuF4Y5DT1jPpFsUJe2yB0/IDYl07rkCcsqVU+XeAlUYAZ39r4DRIOzGgJO5dv2SvF1rKr/htJmtWS1EE3/sB80bkPOk7SZ8fwSCo96oIMp3hQhG1V08ubhihQDtz0GlzG1qubfArsgy8KxcZAEkGmqfp2HmdPKXc9ZjHLa+kZ7DLEhXtqGhbxYTO2XDtjjalDlkYhcCQymiUe3BZk28+gi2zaYzy/EfpJrFI0CY/jvMFSB5AjyMNGZ42rrSLYOsQ/jOtxh3HNQlLxCmeAQMAyKOTevetbZmGEA6b102nCZvtgvo7XcJO3ASIHBmuMr2I7lDPhBRxAWFkfQwoJGQkrjSzPkihLJDO0me6YMsXQAAKet+mSp3f6zhigae8VamoNqza1Ga2rXVPfYatl/5LQdueJw/UuKIOWjW6VIkSe4rosUop98UBLZvAmEgAKChgiLPZ2CBAQNCAyvA1MUAK0XfFrAd79Rf0YhzUr0IewWM/X/l1jDkBI1/4uE6lZVi4cE3NuhmfhCA+p9/rrY4eWIJ6O58h9s4+06Pu0XV7QPpXyZMKHpNAkcoaQSontt6pBt4L9CK/mqvGQ7Xh4c+uh/NRPCLv64i5kaYYCmFW2OuT0oEQJofhcCsocwBwLyKjWFg6pMHsXXVFg53eywCGn7kc+Qm92WB/aRAkCTW1nKMzHR97DHGrrsabU16baqqhmJhUsV+KfrgsG1XPyTeIbiB7TcMNN01TxiTPm2OCW7FW1tjjj+nV3u8pzqFDOivDVDhtPnqpea1z+8LtV23yl7VMLSDXuTNRjbfgX36CP7XZho7/odFXsh5KuZe8WVexqLYv8/WYS4NvZaTCxEnEb0bxmf6n8KWzzBladm1tHrvaSgWg7vcFo3ZXvtHpikGMrA5XQujr92aCTOBQzGJHCh5S5D9YseeBsPNAwpvB4FRmhjuWPnbrCXVFznnDNV9fZdD+upkieTIpKMEuTedET02mc4c1XbrI98Oa63YtlZm9tM90mTOrsNdZJLT/5wTkGYYz+P8KM2+/63KNYowSoWolvc+KhQkmYVZK/fKYc1+y4tWPUjgVpBDnhbjmu/HBnNaHjda1jDexHGGrY70yA9d1LeLhw47EFgx5fuob2hMx1V26yoqJXFVmM8iyv7LD4l/1/xzxok+1DvLaxWGp6xfTVcD/Rorz3+KfgMcLyKxys0TDIVzxEdqq9WsT7dWYI4GQ8GysgZW4kV1f0e1vCAiSVx6leH2V3G875vk83EUZ0Gcg8BGIOxpFBw+cv46WfR8peJiAmlb1Pnonu9nRlreC1dd4pRfgQuE4Muaqo61RLAbeNNS9dMSJ/CDwmK+z5FF/eSKz+aebrP46eH9ofbbcqegDDTPQ3S+aOHz+DMjEOZArFz6FWZGIRqlxUv0Q6WqTW/F5zUAOoVBwxppg/sUlAuSv98mQAHo5Xru77DAKvSBGMCNrPbjIyIRJrT3BMPGmp8vbjt8cEl23+jGFiubcPcCtPl60OYhWEF6ObkYiePf//8s+ZWbthOuZNnMUxMaFozQyiK2wUNEd7/ewfOxJUXrN8ggkdKh/rj9xit5V21haQCFpeLEZf8d1NAjM6gmcCyHgd6BfeNXKdm7RZyovk1CY3izuLpg0PRpntrWWnR3bnynTTuVjG2lH8+5Jagi001Y89lF2XYSN/zkwzH0ReNAlzfqlFM1QV/Hy6+vmWxmTwNEqL8nnpgbuP/zcPmwu1hIBUoXfxxkQe5hL27wEjj5RVYSWUkIyWlJGpddbmYHFeYSzbOCL9tUnU5nHaqsQ5XszKbdeKn0/l4ejh1qSVLnHzAJ9P5HNSm9AIZig0FeFz+KONVB07GUb0garHWJoTsHhhLp0TJuSuzf8pii3IZ45/sjlx3urirksMA3A1hs5M/M8cwDxAY7EO4VY8eatKbCDqzlCIJckBPawwf5mH7rMYIaoKRrmwxqFf2pOS8avYVEK3xEYdn4sDAR2NTL/cNleX21Ix1+5MkmpLP7XAdk9lpq1KBLmEMJIQY9qj3gvgY/zK+9KNLxwLPoDHNoxY9csOBzCgfP0PjKo23ag5s1M2iwupLe6AVSFizYMDBYdiZn0q6JO+EKUsylw0+ZycLKTh6efhy/RQuL6rhlWbLGGkrHe3d8EsL7U3FRf/D0TFMU6uRXmqSrSeuHwjukw35jmfW0ObyKZMeq4qEl8J2hCJh0WDRyJ44eFreRVfP/u33x9h4Hh9mxAVwHpa79b7tpaDU8x8ta8OKGSNFvq/hFCoISJzD7fbm385334PwipPJavIFknrkWZUmS7Vh0fvSbU50k9WjmUcKvUJpuXHBVpdeKwWHkARepqcLotfQs0mrT4GKpDx0QGmM31Yj0nZhM10vFPvmjKaLSHojN61C7S8L8LVIzUn9fefk72cRMPiUNgFaJGG5RbVJbIT8cnILGrzIZACb7RNROz056RTMCo1yj2S18bUJTdSBo//rSokBAfzXjMKv9T7T+IEWX/uMk03dl4tGtN6BFLjXiwd7fLDW9YmifqPo3ChcizZoiU7PECMiqasaypaDg1Z1izV5YYFhfNMtvh8B0Thd9jCEgpBFYYXwJIOjd/mVfOc1JwHVt6EVbRXI+aQKQLsCgqMLNyGfy7CevKA7iy/gLHN/lSfS3Ml7LCXlBz8yJEAjKurc2cLAQCf038oVNBR+Q1ghvq5lwInuXyF7bdyNLLeGYWKpCIwgmuFirF3JDiolBw+Br3G0BJM3rQjShj+QuyN20GG2Q==",feature3="/assets/feature3-cfc0d633.png";function _interopDefault($){return $&&typeof $=="object"&&"default"in $?$.default:$}var React=reactExports,React__default=_interopDefault(React);function _defineProperty$1($,o,a){return o in $?Object.defineProperty($,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):$[o]=a,$}function _inheritsLoose($,o){$.prototype=Object.create(o.prototype),$.prototype.constructor=$,$.__proto__=o}var canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);function withSideEffect($,o,a){if(typeof $!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof o!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof a<"u"&&typeof a!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function j(_e){return _e.displayName||_e.name||"Component"}return function(et){if(typeof et!="function")throw new Error("Expected WrappedComponent to be a React component.");var tt=[],rt;function nt(){rt=$(tt.map(function(ot){return ot.props})),it.canUseDOM?o(rt):a&&(rt=a(rt))}var it=function(ot){_inheritsLoose(st,ot);function st(){return ot.apply(this,arguments)||this}st.peek=function(){return rt},st.rewind=function(){if(st.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var dt=rt;return rt=void 0,tt=[],dt};var ct=st.prototype;return ct.UNSAFE_componentWillMount=function(){tt.push(this),nt()},ct.componentDidUpdate=function(){nt()},ct.componentWillUnmount=function(){var dt=tt.indexOf(this);tt.splice(dt,1),nt()},ct.render=function(){return React__default.createElement(et,this.props)},st}(React.PureComponent);return _defineProperty$1(it,"displayName","SideEffect("+j(et)+")"),_defineProperty$1(it,"canUseDOM",canUseDOM),it}}var lib=withSideEffect;const withSideEffect$1=getDefaultExportFromCjs(lib);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal($,o){if($===o)return!0;if($&&o&&typeof $=="object"&&typeof o=="object"){if($.constructor!==o.constructor)return!1;var a,j,_e;if(Array.isArray($)){if(a=$.length,a!=o.length)return!1;for(j=a;j--!==0;)if(!equal($[j],o[j]))return!1;return!0}var et;if(hasMap&&$ instanceof Map&&o instanceof Map){if($.size!==o.size)return!1;for(et=$.entries();!(j=et.next()).done;)if(!o.has(j.value[0]))return!1;for(et=$.entries();!(j=et.next()).done;)if(!equal(j.value[1],o.get(j.value[0])))return!1;return!0}if(hasSet&&$ instanceof Set&&o instanceof Set){if($.size!==o.size)return!1;for(et=$.entries();!(j=et.next()).done;)if(!o.has(j.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView($)&&ArrayBuffer.isView(o)){if(a=$.length,a!=o.length)return!1;for(j=a;j--!==0;)if($[j]!==o[j])return!1;return!0}if($.constructor===RegExp)return $.source===o.source&&$.flags===o.flags;if($.valueOf!==Object.prototype.valueOf&&typeof $.valueOf=="function"&&typeof o.valueOf=="function")return $.valueOf()===o.valueOf();if($.toString!==Object.prototype.toString&&typeof $.toString=="function"&&typeof o.toString=="function")return $.toString()===o.toString();if(_e=Object.keys($),a=_e.length,a!==Object.keys(o).length)return!1;for(j=a;j--!==0;)if(!Object.prototype.hasOwnProperty.call(o,_e[j]))return!1;if(hasElementType&&$ instanceof Element)return!1;for(j=a;j--!==0;)if(!((_e[j]==="_owner"||_e[j]==="__v"||_e[j]==="__o")&&$.$$typeof)&&!equal($[_e[j]],o[_e[j]]))return!1;return!0}return $!==$&&o!==o}var reactFastCompare=function $(o,a){try{return equal(o,a)}catch(j){if((j.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw j}};const isEqual=getDefaultExportFromCjs(reactFastCompare);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject($){if($==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object($)}function shouldUseNative(){try{if(!Object.assign)return!1;var $=new String("abc");if($[5]="de",Object.getOwnPropertyNames($)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var j=Object.getOwnPropertyNames(o).map(function(et){return o[et]});if(j.join("")!=="0123456789")return!1;var _e={};return"abcdefghijklmnopqrst".split("").forEach(function(et){_e[et]=et}),Object.keys(Object.assign({},_e)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function($,o){for(var a,j=toObject($),_e,et=1;et<arguments.length;et++){a=Object(arguments[et]);for(var tt in a)hasOwnProperty.call(a,tt)&&(j[tt]=a[tt]);if(getOwnPropertySymbols){_e=getOwnPropertySymbols(a);for(var rt=0;rt<_e.length;rt++)propIsEnumerable.call(a,_e[rt])&&(j[_e[rt]]=a[_e[rt]])}}return j};const objectAssign$1=getDefaultExportFromCjs(objectAssign);var ATTRIBUTE_NAMES={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},TAG_NAMES={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(TAG_NAMES).map(function($){return TAG_NAMES[$]});var TAG_PROPERTIES={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},HTML_TAG_MAP=Object.keys(REACT_TAG_MAP).reduce(function($,o){return $[REACT_TAG_MAP[o]]=o,$},{}),SELF_CLOSING_TAGS=[TAG_NAMES.NOSCRIPT,TAG_NAMES.SCRIPT,TAG_NAMES.STYLE],HELMET_ATTRIBUTE="data-react-helmet",_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},classCallCheck=function($,o){if(!($ instanceof o))throw new TypeError("Cannot call a class as a function")},createClass=function(){function $(o,a){for(var j=0;j<a.length;j++){var _e=a[j];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(o,_e.key,_e)}}return function(o,a,j){return a&&$(o.prototype,a),j&&$(o,j),o}}(),_extends=Object.assign||function($){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&($[j]=a[j])}return $},inherits=function($,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);$.prototype=Object.create(o&&o.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf($,o):$.__proto__=o)},objectWithoutProperties=function($,o){var a={};for(var j in $)o.indexOf(j)>=0||Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j]);return a},possibleConstructorReturn=function($,o){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:$},encodeSpecialCharacters=function $(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return a===!1?String(o):String(o).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},getTitleFromPropsList=function $(o){var a=getInnermostProperty(o,TAG_NAMES.TITLE),j=getInnermostProperty(o,HELMET_PROPS.TITLE_TEMPLATE);if(j&&a)return j.replace(/%s/g,function(){return Array.isArray(a)?a.join(""):a});var _e=getInnermostProperty(o,HELMET_PROPS.DEFAULT_TITLE);return a||_e||void 0},getOnChangeClientState=function $(o){return getInnermostProperty(o,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||function(){}},getAttributesFromPropsList=function $(o,a){return a.filter(function(j){return typeof j[o]<"u"}).map(function(j){return j[o]}).reduce(function(j,_e){return _extends({},j,_e)},{})},getBaseTagFromPropsList=function $(o,a){return a.filter(function(j){return typeof j[TAG_NAMES.BASE]<"u"}).map(function(j){return j[TAG_NAMES.BASE]}).reverse().reduce(function(j,_e){if(!j.length)for(var et=Object.keys(_e),tt=0;tt<et.length;tt++){var rt=et[tt],nt=rt.toLowerCase();if(o.indexOf(nt)!==-1&&_e[nt])return j.concat(_e)}return j},[])},getTagsFromPropsList=function $(o,a,j){var _e={};return j.filter(function(et){return Array.isArray(et[o])?!0:(typeof et[o]<"u"&&warn("Helmet: "+o+' should be of type "Array". Instead found type "'+_typeof(et[o])+'"'),!1)}).map(function(et){return et[o]}).reverse().reduce(function(et,tt){var rt={};tt.filter(function(ct){for(var ut=void 0,dt=Object.keys(ct),ft=0;ft<dt.length;ft++){var ht=dt[ft],pt=ht.toLowerCase();a.indexOf(pt)!==-1&&!(ut===TAG_PROPERTIES.REL&&ct[ut].toLowerCase()==="canonical")&&!(pt===TAG_PROPERTIES.REL&&ct[pt].toLowerCase()==="stylesheet")&&(ut=pt),a.indexOf(ht)!==-1&&(ht===TAG_PROPERTIES.INNER_HTML||ht===TAG_PROPERTIES.CSS_TEXT||ht===TAG_PROPERTIES.ITEM_PROP)&&(ut=ht)}if(!ut||!ct[ut])return!1;var yt=ct[ut].toLowerCase();return _e[ut]||(_e[ut]={}),rt[ut]||(rt[ut]={}),_e[ut][yt]?!1:(rt[ut][yt]=!0,!0)}).reverse().forEach(function(ct){return et.push(ct)});for(var nt=Object.keys(rt),it=0;it<nt.length;it++){var ot=nt[it],st=objectAssign$1({},_e[ot],rt[ot]);_e[ot]=st}return et},[]).reverse()},getInnermostProperty=function $(o,a){for(var j=o.length-1;j>=0;j--){var _e=o[j];if(_e.hasOwnProperty(a))return _e[a]}return null},reducePropsToState=function $(o){return{baseTag:getBaseTagFromPropsList([TAG_PROPERTIES.HREF,TAG_PROPERTIES.TARGET],o),bodyAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY,o),defer:getInnermostProperty(o,HELMET_PROPS.DEFER),encode:getInnermostProperty(o,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML,o),linkTags:getTagsFromPropsList(TAG_NAMES.LINK,[TAG_PROPERTIES.REL,TAG_PROPERTIES.HREF],o),metaTags:getTagsFromPropsList(TAG_NAMES.META,[TAG_PROPERTIES.NAME,TAG_PROPERTIES.CHARSET,TAG_PROPERTIES.HTTPEQUIV,TAG_PROPERTIES.PROPERTY,TAG_PROPERTIES.ITEM_PROP],o),noscriptTags:getTagsFromPropsList(TAG_NAMES.NOSCRIPT,[TAG_PROPERTIES.INNER_HTML],o),onChangeClientState:getOnChangeClientState(o),scriptTags:getTagsFromPropsList(TAG_NAMES.SCRIPT,[TAG_PROPERTIES.SRC,TAG_PROPERTIES.INNER_HTML],o),styleTags:getTagsFromPropsList(TAG_NAMES.STYLE,[TAG_PROPERTIES.CSS_TEXT],o),title:getTitleFromPropsList(o),titleAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE,o)}},rafPolyfill=function(){var $=Date.now();return function(o){var a=Date.now();a-$>16?($=a,o(a)):setTimeout(function(){rafPolyfill(o)},0)}}(),cafPolyfill=function $(o){return clearTimeout(o)},requestAnimationFrame$1=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||rafPolyfill:global.requestAnimationFrame||rafPolyfill,cancelAnimationFrame$1=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||cafPolyfill:global.cancelAnimationFrame||cafPolyfill,warn=function $(o){return console&&typeof console.warn=="function"&&console.warn(o)},_helmetCallback=null,handleClientStateChange=function $(o){_helmetCallback&&cancelAnimationFrame$1(_helmetCallback),o.defer?_helmetCallback=requestAnimationFrame$1(function(){commitTagChanges(o,function(){_helmetCallback=null})}):(commitTagChanges(o),_helmetCallback=null)},commitTagChanges=function $(o,a){var j=o.baseTag,_e=o.bodyAttributes,et=o.htmlAttributes,tt=o.linkTags,rt=o.metaTags,nt=o.noscriptTags,it=o.onChangeClientState,ot=o.scriptTags,st=o.styleTags,ct=o.title,ut=o.titleAttributes;updateAttributes(TAG_NAMES.BODY,_e),updateAttributes(TAG_NAMES.HTML,et),updateTitle(ct,ut);var dt={baseTag:updateTags(TAG_NAMES.BASE,j),linkTags:updateTags(TAG_NAMES.LINK,tt),metaTags:updateTags(TAG_NAMES.META,rt),noscriptTags:updateTags(TAG_NAMES.NOSCRIPT,nt),scriptTags:updateTags(TAG_NAMES.SCRIPT,ot),styleTags:updateTags(TAG_NAMES.STYLE,st)},ft={},ht={};Object.keys(dt).forEach(function(pt){var yt=dt[pt],gt=yt.newTags,xt=yt.oldTags;gt.length&&(ft[pt]=gt),xt.length&&(ht[pt]=dt[pt].oldTags)}),a&&a(),it(o,ft,ht)},flattenArray=function $(o){return Array.isArray(o)?o.join(""):o},updateTitle=function $(o,a){typeof o<"u"&&document.title!==o&&(document.title=flattenArray(o)),updateAttributes(TAG_NAMES.TITLE,a)},updateAttributes=function $(o,a){var j=document.getElementsByTagName(o)[0];if(j){for(var _e=j.getAttribute(HELMET_ATTRIBUTE),et=_e?_e.split(","):[],tt=[].concat(et),rt=Object.keys(a),nt=0;nt<rt.length;nt++){var it=rt[nt],ot=a[it]||"";j.getAttribute(it)!==ot&&j.setAttribute(it,ot),et.indexOf(it)===-1&&et.push(it);var st=tt.indexOf(it);st!==-1&&tt.splice(st,1)}for(var ct=tt.length-1;ct>=0;ct--)j.removeAttribute(tt[ct]);et.length===tt.length?j.removeAttribute(HELMET_ATTRIBUTE):j.getAttribute(HELMET_ATTRIBUTE)!==rt.join(",")&&j.setAttribute(HELMET_ATTRIBUTE,rt.join(","))}},updateTags=function $(o,a){var j=document.head||document.querySelector(TAG_NAMES.HEAD),_e=j.querySelectorAll(o+"["+HELMET_ATTRIBUTE+"]"),et=Array.prototype.slice.call(_e),tt=[],rt=void 0;return a&&a.length&&a.forEach(function(nt){var it=document.createElement(o);for(var ot in nt)if(nt.hasOwnProperty(ot))if(ot===TAG_PROPERTIES.INNER_HTML)it.innerHTML=nt.innerHTML;else if(ot===TAG_PROPERTIES.CSS_TEXT)it.styleSheet?it.styleSheet.cssText=nt.cssText:it.appendChild(document.createTextNode(nt.cssText));else{var st=typeof nt[ot]>"u"?"":nt[ot];it.setAttribute(ot,st)}it.setAttribute(HELMET_ATTRIBUTE,"true"),et.some(function(ct,ut){return rt=ut,it.isEqualNode(ct)})?et.splice(rt,1):tt.push(it)}),et.forEach(function(nt){return nt.parentNode.removeChild(nt)}),tt.forEach(function(nt){return j.appendChild(nt)}),{oldTags:et,newTags:tt}},generateElementAttributesAsString=function $(o){return Object.keys(o).reduce(function(a,j){var _e=typeof o[j]<"u"?j+'="'+o[j]+'"':""+j;return a?a+" "+_e:_e},"")},generateTitleAsString=function $(o,a,j,_e){var et=generateElementAttributesAsString(j),tt=flattenArray(a);return et?"<"+o+" "+HELMET_ATTRIBUTE+'="true" '+et+">"+encodeSpecialCharacters(tt,_e)+"</"+o+">":"<"+o+" "+HELMET_ATTRIBUTE+'="true">'+encodeSpecialCharacters(tt,_e)+"</"+o+">"},generateTagsAsString=function $(o,a,j){return a.reduce(function(_e,et){var tt=Object.keys(et).filter(function(it){return!(it===TAG_PROPERTIES.INNER_HTML||it===TAG_PROPERTIES.CSS_TEXT)}).reduce(function(it,ot){var st=typeof et[ot]>"u"?ot:ot+'="'+encodeSpecialCharacters(et[ot],j)+'"';return it?it+" "+st:st},""),rt=et.innerHTML||et.cssText||"",nt=SELF_CLOSING_TAGS.indexOf(o)===-1;return _e+"<"+o+" "+HELMET_ATTRIBUTE+'="true" '+tt+(nt?"/>":">"+rt+"</"+o+">")},"")},convertElementAttributestoReactProps=function $(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(o).reduce(function(j,_e){return j[REACT_TAG_MAP[_e]||_e]=o[_e],j},a)},convertReactPropstoHtmlAttributes=function $(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(o).reduce(function(j,_e){return j[HTML_TAG_MAP[_e]||_e]=o[_e],j},a)},generateTitleAsReactComponent=function $(o,a,j){var _e,et=(_e={key:a},_e[HELMET_ATTRIBUTE]=!0,_e),tt=convertElementAttributestoReactProps(j,et);return[React$1.createElement(TAG_NAMES.TITLE,tt,a)]},generateTagsAsReactComponent=function $(o,a){return a.map(function(j,_e){var et,tt=(et={key:_e},et[HELMET_ATTRIBUTE]=!0,et);return Object.keys(j).forEach(function(rt){var nt=REACT_TAG_MAP[rt]||rt;if(nt===TAG_PROPERTIES.INNER_HTML||nt===TAG_PROPERTIES.CSS_TEXT){var it=j.innerHTML||j.cssText;tt.dangerouslySetInnerHTML={__html:it}}else tt[nt]=j[rt]}),React$1.createElement(o,tt)})},getMethodsForTag=function $(o,a,j){switch(o){case TAG_NAMES.TITLE:return{toComponent:function(){return generateTitleAsReactComponent(o,a.title,a.titleAttributes)},toString:function(){return generateTitleAsString(o,a.title,a.titleAttributes,j)}};case ATTRIBUTE_NAMES.BODY:case ATTRIBUTE_NAMES.HTML:return{toComponent:function(){return convertElementAttributestoReactProps(a)},toString:function(){return generateElementAttributesAsString(a)}};default:return{toComponent:function(){return generateTagsAsReactComponent(o,a)},toString:function(){return generateTagsAsString(o,a,j)}}}},mapStateOnServer=function $(o){var a=o.baseTag,j=o.bodyAttributes,_e=o.encode,et=o.htmlAttributes,tt=o.linkTags,rt=o.metaTags,nt=o.noscriptTags,it=o.scriptTags,ot=o.styleTags,st=o.title,ct=st===void 0?"":st,ut=o.titleAttributes;return{base:getMethodsForTag(TAG_NAMES.BASE,a,_e),bodyAttributes:getMethodsForTag(ATTRIBUTE_NAMES.BODY,j,_e),htmlAttributes:getMethodsForTag(ATTRIBUTE_NAMES.HTML,et,_e),link:getMethodsForTag(TAG_NAMES.LINK,tt,_e),meta:getMethodsForTag(TAG_NAMES.META,rt,_e),noscript:getMethodsForTag(TAG_NAMES.NOSCRIPT,nt,_e),script:getMethodsForTag(TAG_NAMES.SCRIPT,it,_e),style:getMethodsForTag(TAG_NAMES.STYLE,ot,_e),title:getMethodsForTag(TAG_NAMES.TITLE,{title:ct,titleAttributes:ut},_e)}},Helmet=function $(o){var a,j;return j=a=function(_e){inherits(et,_e);function et(){return classCallCheck(this,et),possibleConstructorReturn(this,_e.apply(this,arguments))}return et.prototype.shouldComponentUpdate=function(rt){return!isEqual(this.props,rt)},et.prototype.mapNestedChildrenToProps=function(rt,nt){if(!nt)return null;switch(rt.type){case TAG_NAMES.SCRIPT:case TAG_NAMES.NOSCRIPT:return{innerHTML:nt};case TAG_NAMES.STYLE:return{cssText:nt}}throw new Error("<"+rt.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},et.prototype.flattenArrayTypeChildren=function(rt){var nt,it=rt.child,ot=rt.arrayTypeChildren,st=rt.newChildProps,ct=rt.nestedChildren;return _extends({},ot,(nt={},nt[it.type]=[].concat(ot[it.type]||[],[_extends({},st,this.mapNestedChildrenToProps(it,ct))]),nt))},et.prototype.mapObjectTypeChildren=function(rt){var nt,it,ot=rt.child,st=rt.newProps,ct=rt.newChildProps,ut=rt.nestedChildren;switch(ot.type){case TAG_NAMES.TITLE:return _extends({},st,(nt={},nt[ot.type]=ut,nt.titleAttributes=_extends({},ct),nt));case TAG_NAMES.BODY:return _extends({},st,{bodyAttributes:_extends({},ct)});case TAG_NAMES.HTML:return _extends({},st,{htmlAttributes:_extends({},ct)})}return _extends({},st,(it={},it[ot.type]=_extends({},ct),it))},et.prototype.mapArrayTypeChildrenToProps=function(rt,nt){var it=_extends({},nt);return Object.keys(rt).forEach(function(ot){var st;it=_extends({},it,(st={},st[ot]=rt[ot],st))}),it},et.prototype.warnOnInvalidChildren=function(rt,nt){return!0},et.prototype.mapChildrenToProps=function(rt,nt){var it=this,ot={};return React$1.Children.forEach(rt,function(st){if(!(!st||!st.props)){var ct=st.props,ut=ct.children,dt=objectWithoutProperties(ct,["children"]),ft=convertReactPropstoHtmlAttributes(dt);switch(it.warnOnInvalidChildren(st,ut),st.type){case TAG_NAMES.LINK:case TAG_NAMES.META:case TAG_NAMES.NOSCRIPT:case TAG_NAMES.SCRIPT:case TAG_NAMES.STYLE:ot=it.flattenArrayTypeChildren({child:st,arrayTypeChildren:ot,newChildProps:ft,nestedChildren:ut});break;default:nt=it.mapObjectTypeChildren({child:st,newProps:nt,newChildProps:ft,nestedChildren:ut});break}}}),nt=this.mapArrayTypeChildrenToProps(ot,nt),nt},et.prototype.render=function(){var rt=this.props,nt=rt.children,it=objectWithoutProperties(rt,["children"]),ot=_extends({},it);return nt&&(ot=this.mapChildrenToProps(nt,ot)),React$1.createElement(o,ot)},createClass(et,null,[{key:"canUseDOM",set:function(rt){o.canUseDOM=rt}}]),et}(React$1.Component),a.propTypes={base:PropTypes.object,bodyAttributes:PropTypes.object,children:PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node),PropTypes.node]),defaultTitle:PropTypes.string,defer:PropTypes.bool,encodeSpecialCharacters:PropTypes.bool,htmlAttributes:PropTypes.object,link:PropTypes.arrayOf(PropTypes.object),meta:PropTypes.arrayOf(PropTypes.object),noscript:PropTypes.arrayOf(PropTypes.object),onChangeClientState:PropTypes.func,script:PropTypes.arrayOf(PropTypes.object),style:PropTypes.arrayOf(PropTypes.object),title:PropTypes.string,titleAttributes:PropTypes.object,titleTemplate:PropTypes.string},a.defaultProps={defer:!0,encodeSpecialCharacters:!0},a.peek=o.peek,a.rewind=function(){var _e=o.rewind();return _e||(_e=mapStateOnServer({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),_e},j},NullComponent=function $(){return null},HelmetSideEffects=withSideEffect$1(reducePropsToState,handleClientStateChange,mapStateOnServer)(NullComponent),HelmetExport=Helmet(HelmetSideEffects);HelmetExport.renderStatic=HelmetExport.rewind;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="150",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(o,a){this._listeners===void 0&&(this._listeners={});const j=this._listeners;j[o]===void 0&&(j[o]=[]),j[o].indexOf(a)===-1&&j[o].push(a)}hasEventListener(o,a){if(this._listeners===void 0)return!1;const j=this._listeners;return j[o]!==void 0&&j[o].indexOf(a)!==-1}removeEventListener(o,a){if(this._listeners===void 0)return;const _e=this._listeners[o];if(_e!==void 0){const et=_e.indexOf(a);et!==-1&&_e.splice(et,1)}}dispatchEvent(o){if(this._listeners===void 0)return;const j=this._listeners[o.type];if(j!==void 0){o.target=this;const _e=j.slice(0);for(let et=0,tt=_e.length;et<tt;et++)_e[et].call(this,o);o.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const $=Math.random()*4294967295|0,o=Math.random()*4294967295|0,a=Math.random()*4294967295|0,j=Math.random()*4294967295|0;return(_lut[$&255]+_lut[$>>8&255]+_lut[$>>16&255]+_lut[$>>24&255]+"-"+_lut[o&255]+_lut[o>>8&255]+"-"+_lut[o>>16&15|64]+_lut[o>>24&255]+"-"+_lut[a&63|128]+_lut[a>>8&255]+"-"+_lut[a>>16&255]+_lut[a>>24&255]+_lut[j&255]+_lut[j>>8&255]+_lut[j>>16&255]+_lut[j>>24&255]).toLowerCase()}function clamp($,o,a){return Math.max(o,Math.min(a,$))}function euclideanModulo($,o){return($%o+o)%o}function mapLinear($,o,a,j,_e){return j+($-o)*(_e-j)/(a-o)}function inverseLerp($,o,a){return $!==o?(a-$)/(o-$):0}function lerp($,o,a){return(1-a)*$+a*o}function damp($,o,a,j){return lerp($,o,1-Math.exp(-a*j))}function pingpong($,o=1){return o-Math.abs(euclideanModulo($,o*2)-o)}function smoothstep($,o,a){return $<=o?0:$>=a?1:($=($-o)/(a-o),$*$*(3-2*$))}function smootherstep($,o,a){return $<=o?0:$>=a?1:($=($-o)/(a-o),$*$*$*($*($*6-15)+10))}function randInt($,o){return $+Math.floor(Math.random()*(o-$+1))}function randFloat($,o){return $+Math.random()*(o-$)}function randFloatSpread($){return $*(.5-Math.random())}function seededRandom($){$!==void 0&&(_seed=$);let o=_seed+=1831565813;return o=Math.imul(o^o>>>15,o|1),o^=o+Math.imul(o^o>>>7,o|61),((o^o>>>14)>>>0)/4294967296}function degToRad($){return $*DEG2RAD}function radToDeg($){return $*RAD2DEG}function isPowerOfTwo($){return($&$-1)===0&&$!==0}function ceilPowerOfTwo($){return Math.pow(2,Math.ceil(Math.log($)/Math.LN2))}function floorPowerOfTwo($){return Math.pow(2,Math.floor(Math.log($)/Math.LN2))}function setQuaternionFromProperEuler($,o,a,j,_e){const et=Math.cos,tt=Math.sin,rt=et(a/2),nt=tt(a/2),it=et((o+j)/2),ot=tt((o+j)/2),st=et((o-j)/2),ct=tt((o-j)/2),ut=et((j-o)/2),dt=tt((j-o)/2);switch(_e){case"XYX":$.set(rt*ot,nt*st,nt*ct,rt*it);break;case"YZY":$.set(nt*ct,rt*ot,nt*st,rt*it);break;case"ZXZ":$.set(nt*st,nt*ct,rt*ot,rt*it);break;case"XZX":$.set(rt*ot,nt*dt,nt*ut,rt*it);break;case"YXY":$.set(nt*ut,rt*ot,nt*dt,rt*it);break;case"ZYZ":$.set(nt*dt,nt*ut,rt*ot,rt*it);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+_e)}}function denormalize($,o){switch(o.constructor){case Float32Array:return $;case Uint16Array:return $/65535;case Uint8Array:return $/255;case Int16Array:return Math.max($/32767,-1);case Int8Array:return Math.max($/127,-1);default:throw new Error("Invalid component type.")}}function normalize($,o){switch(o.constructor){case Float32Array:return $;case Uint16Array:return Math.round($*65535);case Uint8Array:return Math.round($*255);case Int16Array:return Math.round($*32767);case Int8Array:return Math.round($*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(o=0,a=0){Vector2.prototype.isVector2=!0,this.x=o,this.y=a}get width(){return this.x}set width(o){this.x=o}get height(){return this.y}set height(o){this.y=o}set(o,a){return this.x=o,this.y=a,this}setScalar(o){return this.x=o,this.y=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setComponent(o,a){switch(o){case 0:this.x=a;break;case 1:this.y=a;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y)}copy(o){return this.x=o.x,this.y=o.y,this}add(o){return this.x+=o.x,this.y+=o.y,this}addScalar(o){return this.x+=o,this.y+=o,this}addVectors(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this}addScaledVector(o,a){return this.x+=o.x*a,this.y+=o.y*a,this}sub(o){return this.x-=o.x,this.y-=o.y,this}subScalar(o){return this.x-=o,this.y-=o,this}subVectors(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this}multiply(o){return this.x*=o.x,this.y*=o.y,this}multiplyScalar(o){return this.x*=o,this.y*=o,this}divide(o){return this.x/=o.x,this.y/=o.y,this}divideScalar(o){return this.multiplyScalar(1/o)}applyMatrix3(o){const a=this.x,j=this.y,_e=o.elements;return this.x=_e[0]*a+_e[3]*j+_e[6],this.y=_e[1]*a+_e[4]*j+_e[7],this}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this}clamp(o,a){return this.x=Math.max(o.x,Math.min(a.x,this.x)),this.y=Math.max(o.y,Math.min(a.y,this.y)),this}clampScalar(o,a){return this.x=Math.max(o,Math.min(a,this.x)),this.y=Math.max(o,Math.min(a,this.y)),this}clampLength(o,a){const j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(o,Math.min(a,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(o){return this.x*o.x+this.y*o.y}cross(o){return this.x*o.y-this.y*o.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){const a=this.x-o.x,j=this.y-o.y;return a*a+j*j}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,a){return this.x+=(o.x-this.x)*a,this.y+=(o.y-this.y)*a,this}lerpVectors(o,a,j){return this.x=o.x+(a.x-o.x)*j,this.y=o.y+(a.y-o.y)*j,this}equals(o){return o.x===this.x&&o.y===this.y}fromArray(o,a=0){return this.x=o[a],this.y=o[a+1],this}toArray(o=[],a=0){return o[a]=this.x,o[a+1]=this.y,o}fromBufferAttribute(o,a){return this.x=o.getX(a),this.y=o.getY(a),this}rotateAround(o,a){const j=Math.cos(a),_e=Math.sin(a),et=this.x-o.x,tt=this.y-o.y;return this.x=et*j-tt*_e+o.x,this.y=et*_e+tt*j+o.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(o,a,j,_e,et,tt,rt,nt,it){const ot=this.elements;return ot[0]=o,ot[1]=_e,ot[2]=rt,ot[3]=a,ot[4]=et,ot[5]=nt,ot[6]=j,ot[7]=tt,ot[8]=it,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(o){const a=this.elements,j=o.elements;return a[0]=j[0],a[1]=j[1],a[2]=j[2],a[3]=j[3],a[4]=j[4],a[5]=j[5],a[6]=j[6],a[7]=j[7],a[8]=j[8],this}extractBasis(o,a,j){return o.setFromMatrix3Column(this,0),a.setFromMatrix3Column(this,1),j.setFromMatrix3Column(this,2),this}setFromMatrix4(o){const a=o.elements;return this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]),this}multiply(o){return this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,a){const j=o.elements,_e=a.elements,et=this.elements,tt=j[0],rt=j[3],nt=j[6],it=j[1],ot=j[4],st=j[7],ct=j[2],ut=j[5],dt=j[8],ft=_e[0],ht=_e[3],pt=_e[6],yt=_e[1],gt=_e[4],xt=_e[7],wt=_e[2],Mt=_e[5],It=_e[8];return et[0]=tt*ft+rt*yt+nt*wt,et[3]=tt*ht+rt*gt+nt*Mt,et[6]=tt*pt+rt*xt+nt*It,et[1]=it*ft+ot*yt+st*wt,et[4]=it*ht+ot*gt+st*Mt,et[7]=it*pt+ot*xt+st*It,et[2]=ct*ft+ut*yt+dt*wt,et[5]=ct*ht+ut*gt+dt*Mt,et[8]=ct*pt+ut*xt+dt*It,this}multiplyScalar(o){const a=this.elements;return a[0]*=o,a[3]*=o,a[6]*=o,a[1]*=o,a[4]*=o,a[7]*=o,a[2]*=o,a[5]*=o,a[8]*=o,this}determinant(){const o=this.elements,a=o[0],j=o[1],_e=o[2],et=o[3],tt=o[4],rt=o[5],nt=o[6],it=o[7],ot=o[8];return a*tt*ot-a*rt*it-j*et*ot+j*rt*nt+_e*et*it-_e*tt*nt}invert(){const o=this.elements,a=o[0],j=o[1],_e=o[2],et=o[3],tt=o[4],rt=o[5],nt=o[6],it=o[7],ot=o[8],st=ot*tt-rt*it,ct=rt*nt-ot*et,ut=it*et-tt*nt,dt=a*st+j*ct+_e*ut;if(dt===0)return this.set(0,0,0,0,0,0,0,0,0);const ft=1/dt;return o[0]=st*ft,o[1]=(_e*it-ot*j)*ft,o[2]=(rt*j-_e*tt)*ft,o[3]=ct*ft,o[4]=(ot*a-_e*nt)*ft,o[5]=(_e*et-rt*a)*ft,o[6]=ut*ft,o[7]=(j*nt-it*a)*ft,o[8]=(tt*a-j*et)*ft,this}transpose(){let o;const a=this.elements;return o=a[1],a[1]=a[3],a[3]=o,o=a[2],a[2]=a[6],a[6]=o,o=a[5],a[5]=a[7],a[7]=o,this}getNormalMatrix(o){return this.setFromMatrix4(o).invert().transpose()}transposeIntoArray(o){const a=this.elements;return o[0]=a[0],o[1]=a[3],o[2]=a[6],o[3]=a[1],o[4]=a[4],o[5]=a[7],o[6]=a[2],o[7]=a[5],o[8]=a[8],this}setUvTransform(o,a,j,_e,et,tt,rt){const nt=Math.cos(et),it=Math.sin(et);return this.set(j*nt,j*it,-j*(nt*tt+it*rt)+tt+o,-_e*it,_e*nt,-_e*(-it*tt+nt*rt)+rt+a,0,0,1),this}scale(o,a){return this.premultiply(_m3.makeScale(o,a)),this}rotate(o){return this.premultiply(_m3.makeRotation(-o)),this}translate(o,a){return this.premultiply(_m3.makeTranslation(o,a)),this}makeTranslation(o,a){return this.set(1,0,o,0,1,a,0,0,1),this}makeRotation(o){const a=Math.cos(o),j=Math.sin(o);return this.set(a,-j,0,j,a,0,0,0,1),this}makeScale(o,a){return this.set(o,0,0,0,a,0,0,0,1),this}equals(o){const a=this.elements,j=o.elements;for(let _e=0;_e<9;_e++)if(a[_e]!==j[_e])return!1;return!0}fromArray(o,a=0){for(let j=0;j<9;j++)this.elements[j]=o[j+a];return this}toArray(o=[],a=0){const j=this.elements;return o[a]=j[0],o[a+1]=j[1],o[a+2]=j[2],o[a+3]=j[3],o[a+4]=j[4],o[a+5]=j[5],o[a+6]=j[6],o[a+7]=j[7],o[a+8]=j[8],o}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32($){for(let o=$.length-1;o>=0;--o)if($[o]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray($,o){return new TYPED_ARRAYS[$](o)}function createElementNS($){return document.createElementNS("http://www.w3.org/1999/xhtml",$)}class Quaternion{constructor(o=0,a=0,j=0,_e=1){this.isQuaternion=!0,this._x=o,this._y=a,this._z=j,this._w=_e}static slerpFlat(o,a,j,_e,et,tt,rt){let nt=j[_e+0],it=j[_e+1],ot=j[_e+2],st=j[_e+3];const ct=et[tt+0],ut=et[tt+1],dt=et[tt+2],ft=et[tt+3];if(rt===0){o[a+0]=nt,o[a+1]=it,o[a+2]=ot,o[a+3]=st;return}if(rt===1){o[a+0]=ct,o[a+1]=ut,o[a+2]=dt,o[a+3]=ft;return}if(st!==ft||nt!==ct||it!==ut||ot!==dt){let ht=1-rt;const pt=nt*ct+it*ut+ot*dt+st*ft,yt=pt>=0?1:-1,gt=1-pt*pt;if(gt>Number.EPSILON){const wt=Math.sqrt(gt),Mt=Math.atan2(wt,pt*yt);ht=Math.sin(ht*Mt)/wt,rt=Math.sin(rt*Mt)/wt}const xt=rt*yt;if(nt=nt*ht+ct*xt,it=it*ht+ut*xt,ot=ot*ht+dt*xt,st=st*ht+ft*xt,ht===1-rt){const wt=1/Math.sqrt(nt*nt+it*it+ot*ot+st*st);nt*=wt,it*=wt,ot*=wt,st*=wt}}o[a]=nt,o[a+1]=it,o[a+2]=ot,o[a+3]=st}static multiplyQuaternionsFlat(o,a,j,_e,et,tt){const rt=j[_e],nt=j[_e+1],it=j[_e+2],ot=j[_e+3],st=et[tt],ct=et[tt+1],ut=et[tt+2],dt=et[tt+3];return o[a]=rt*dt+ot*st+nt*ut-it*ct,o[a+1]=nt*dt+ot*ct+it*st-rt*ut,o[a+2]=it*dt+ot*ut+rt*ct-nt*st,o[a+3]=ot*dt-rt*st-nt*ct-it*ut,o}get x(){return this._x}set x(o){this._x=o,this._onChangeCallback()}get y(){return this._y}set y(o){this._y=o,this._onChangeCallback()}get z(){return this._z}set z(o){this._z=o,this._onChangeCallback()}get w(){return this._w}set w(o){this._w=o,this._onChangeCallback()}set(o,a,j,_e){return this._x=o,this._y=a,this._z=j,this._w=_e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(o){return this._x=o.x,this._y=o.y,this._z=o.z,this._w=o.w,this._onChangeCallback(),this}setFromEuler(o,a){const j=o._x,_e=o._y,et=o._z,tt=o._order,rt=Math.cos,nt=Math.sin,it=rt(j/2),ot=rt(_e/2),st=rt(et/2),ct=nt(j/2),ut=nt(_e/2),dt=nt(et/2);switch(tt){case"XYZ":this._x=ct*ot*st+it*ut*dt,this._y=it*ut*st-ct*ot*dt,this._z=it*ot*dt+ct*ut*st,this._w=it*ot*st-ct*ut*dt;break;case"YXZ":this._x=ct*ot*st+it*ut*dt,this._y=it*ut*st-ct*ot*dt,this._z=it*ot*dt-ct*ut*st,this._w=it*ot*st+ct*ut*dt;break;case"ZXY":this._x=ct*ot*st-it*ut*dt,this._y=it*ut*st+ct*ot*dt,this._z=it*ot*dt+ct*ut*st,this._w=it*ot*st-ct*ut*dt;break;case"ZYX":this._x=ct*ot*st-it*ut*dt,this._y=it*ut*st+ct*ot*dt,this._z=it*ot*dt-ct*ut*st,this._w=it*ot*st+ct*ut*dt;break;case"YZX":this._x=ct*ot*st+it*ut*dt,this._y=it*ut*st+ct*ot*dt,this._z=it*ot*dt-ct*ut*st,this._w=it*ot*st-ct*ut*dt;break;case"XZY":this._x=ct*ot*st-it*ut*dt,this._y=it*ut*st-ct*ot*dt,this._z=it*ot*dt+ct*ut*st,this._w=it*ot*st+ct*ut*dt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+tt)}return a!==!1&&this._onChangeCallback(),this}setFromAxisAngle(o,a){const j=a/2,_e=Math.sin(j);return this._x=o.x*_e,this._y=o.y*_e,this._z=o.z*_e,this._w=Math.cos(j),this._onChangeCallback(),this}setFromRotationMatrix(o){const a=o.elements,j=a[0],_e=a[4],et=a[8],tt=a[1],rt=a[5],nt=a[9],it=a[2],ot=a[6],st=a[10],ct=j+rt+st;if(ct>0){const ut=.5/Math.sqrt(ct+1);this._w=.25/ut,this._x=(ot-nt)*ut,this._y=(et-it)*ut,this._z=(tt-_e)*ut}else if(j>rt&&j>st){const ut=2*Math.sqrt(1+j-rt-st);this._w=(ot-nt)/ut,this._x=.25*ut,this._y=(_e+tt)/ut,this._z=(et+it)/ut}else if(rt>st){const ut=2*Math.sqrt(1+rt-j-st);this._w=(et-it)/ut,this._x=(_e+tt)/ut,this._y=.25*ut,this._z=(nt+ot)/ut}else{const ut=2*Math.sqrt(1+st-j-rt);this._w=(tt-_e)/ut,this._x=(et+it)/ut,this._y=(nt+ot)/ut,this._z=.25*ut}return this._onChangeCallback(),this}setFromUnitVectors(o,a){let j=o.dot(a)+1;return j<Number.EPSILON?(j=0,Math.abs(o.x)>Math.abs(o.z)?(this._x=-o.y,this._y=o.x,this._z=0,this._w=j):(this._x=0,this._y=-o.z,this._z=o.y,this._w=j)):(this._x=o.y*a.z-o.z*a.y,this._y=o.z*a.x-o.x*a.z,this._z=o.x*a.y-o.y*a.x,this._w=j),this.normalize()}angleTo(o){return 2*Math.acos(Math.abs(clamp(this.dot(o),-1,1)))}rotateTowards(o,a){const j=this.angleTo(o);if(j===0)return this;const _e=Math.min(1,a/j);return this.slerp(o,_e),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(o){return this._x*o._x+this._y*o._y+this._z*o._z+this._w*o._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let o=this.length();return o===0?(this._x=0,this._y=0,this._z=0,this._w=1):(o=1/o,this._x=this._x*o,this._y=this._y*o,this._z=this._z*o,this._w=this._w*o),this._onChangeCallback(),this}multiply(o){return this.multiplyQuaternions(this,o)}premultiply(o){return this.multiplyQuaternions(o,this)}multiplyQuaternions(o,a){const j=o._x,_e=o._y,et=o._z,tt=o._w,rt=a._x,nt=a._y,it=a._z,ot=a._w;return this._x=j*ot+tt*rt+_e*it-et*nt,this._y=_e*ot+tt*nt+et*rt-j*it,this._z=et*ot+tt*it+j*nt-_e*rt,this._w=tt*ot-j*rt-_e*nt-et*it,this._onChangeCallback(),this}slerp(o,a){if(a===0)return this;if(a===1)return this.copy(o);const j=this._x,_e=this._y,et=this._z,tt=this._w;let rt=tt*o._w+j*o._x+_e*o._y+et*o._z;if(rt<0?(this._w=-o._w,this._x=-o._x,this._y=-o._y,this._z=-o._z,rt=-rt):this.copy(o),rt>=1)return this._w=tt,this._x=j,this._y=_e,this._z=et,this;const nt=1-rt*rt;if(nt<=Number.EPSILON){const ut=1-a;return this._w=ut*tt+a*this._w,this._x=ut*j+a*this._x,this._y=ut*_e+a*this._y,this._z=ut*et+a*this._z,this.normalize(),this._onChangeCallback(),this}const it=Math.sqrt(nt),ot=Math.atan2(it,rt),st=Math.sin((1-a)*ot)/it,ct=Math.sin(a*ot)/it;return this._w=tt*st+this._w*ct,this._x=j*st+this._x*ct,this._y=_e*st+this._y*ct,this._z=et*st+this._z*ct,this._onChangeCallback(),this}slerpQuaternions(o,a,j){return this.copy(o).slerp(a,j)}random(){const o=Math.random(),a=Math.sqrt(1-o),j=Math.sqrt(o),_e=2*Math.PI*Math.random(),et=2*Math.PI*Math.random();return this.set(a*Math.cos(_e),j*Math.sin(et),j*Math.cos(et),a*Math.sin(_e))}equals(o){return o._x===this._x&&o._y===this._y&&o._z===this._z&&o._w===this._w}fromArray(o,a=0){return this._x=o[a],this._y=o[a+1],this._z=o[a+2],this._w=o[a+3],this._onChangeCallback(),this}toArray(o=[],a=0){return o[a]=this._x,o[a+1]=this._y,o[a+2]=this._z,o[a+3]=this._w,o}fromBufferAttribute(o,a){return this._x=o.getX(a),this._y=o.getY(a),this._z=o.getZ(a),this._w=o.getW(a),this}_onChange(o){return this._onChangeCallback=o,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(o=0,a=0,j=0){Vector3.prototype.isVector3=!0,this.x=o,this.y=a,this.z=j}set(o,a,j){return j===void 0&&(j=this.z),this.x=o,this.y=a,this.z=j,this}setScalar(o){return this.x=o,this.y=o,this.z=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setZ(o){return this.z=o,this}setComponent(o,a){switch(o){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(o){return this.x=o.x,this.y=o.y,this.z=o.z,this}add(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z,this}addScalar(o){return this.x+=o,this.y+=o,this.z+=o,this}addVectors(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this.z=o.z+a.z,this}addScaledVector(o,a){return this.x+=o.x*a,this.y+=o.y*a,this.z+=o.z*a,this}sub(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z,this}subScalar(o){return this.x-=o,this.y-=o,this.z-=o,this}subVectors(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this.z=o.z-a.z,this}multiply(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z,this}multiplyScalar(o){return this.x*=o,this.y*=o,this.z*=o,this}multiplyVectors(o,a){return this.x=o.x*a.x,this.y=o.y*a.y,this.z=o.z*a.z,this}applyEuler(o){return this.applyQuaternion(_quaternion$4.setFromEuler(o))}applyAxisAngle(o,a){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(o,a))}applyMatrix3(o){const a=this.x,j=this.y,_e=this.z,et=o.elements;return this.x=et[0]*a+et[3]*j+et[6]*_e,this.y=et[1]*a+et[4]*j+et[7]*_e,this.z=et[2]*a+et[5]*j+et[8]*_e,this}applyNormalMatrix(o){return this.applyMatrix3(o).normalize()}applyMatrix4(o){const a=this.x,j=this.y,_e=this.z,et=o.elements,tt=1/(et[3]*a+et[7]*j+et[11]*_e+et[15]);return this.x=(et[0]*a+et[4]*j+et[8]*_e+et[12])*tt,this.y=(et[1]*a+et[5]*j+et[9]*_e+et[13])*tt,this.z=(et[2]*a+et[6]*j+et[10]*_e+et[14])*tt,this}applyQuaternion(o){const a=this.x,j=this.y,_e=this.z,et=o.x,tt=o.y,rt=o.z,nt=o.w,it=nt*a+tt*_e-rt*j,ot=nt*j+rt*a-et*_e,st=nt*_e+et*j-tt*a,ct=-et*a-tt*j-rt*_e;return this.x=it*nt+ct*-et+ot*-rt-st*-tt,this.y=ot*nt+ct*-tt+st*-et-it*-rt,this.z=st*nt+ct*-rt+it*-tt-ot*-et,this}project(o){return this.applyMatrix4(o.matrixWorldInverse).applyMatrix4(o.projectionMatrix)}unproject(o){return this.applyMatrix4(o.projectionMatrixInverse).applyMatrix4(o.matrixWorld)}transformDirection(o){const a=this.x,j=this.y,_e=this.z,et=o.elements;return this.x=et[0]*a+et[4]*j+et[8]*_e,this.y=et[1]*a+et[5]*j+et[9]*_e,this.z=et[2]*a+et[6]*j+et[10]*_e,this.normalize()}divide(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z,this}divideScalar(o){return this.multiplyScalar(1/o)}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this}clamp(o,a){return this.x=Math.max(o.x,Math.min(a.x,this.x)),this.y=Math.max(o.y,Math.min(a.y,this.y)),this.z=Math.max(o.z,Math.min(a.z,this.z)),this}clampScalar(o,a){return this.x=Math.max(o,Math.min(a,this.x)),this.y=Math.max(o,Math.min(a,this.y)),this.z=Math.max(o,Math.min(a,this.z)),this}clampLength(o,a){const j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(o,Math.min(a,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(o){return this.x*o.x+this.y*o.y+this.z*o.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,a){return this.x+=(o.x-this.x)*a,this.y+=(o.y-this.y)*a,this.z+=(o.z-this.z)*a,this}lerpVectors(o,a,j){return this.x=o.x+(a.x-o.x)*j,this.y=o.y+(a.y-o.y)*j,this.z=o.z+(a.z-o.z)*j,this}cross(o){return this.crossVectors(this,o)}crossVectors(o,a){const j=o.x,_e=o.y,et=o.z,tt=a.x,rt=a.y,nt=a.z;return this.x=_e*nt-et*rt,this.y=et*tt-j*nt,this.z=j*rt-_e*tt,this}projectOnVector(o){const a=o.lengthSq();if(a===0)return this.set(0,0,0);const j=o.dot(this)/a;return this.copy(o).multiplyScalar(j)}projectOnPlane(o){return _vector$d.copy(this).projectOnVector(o),this.sub(_vector$d)}reflect(o){return this.sub(_vector$d.copy(o).multiplyScalar(2*this.dot(o)))}angleTo(o){const a=Math.sqrt(this.lengthSq()*o.lengthSq());if(a===0)return Math.PI/2;const j=this.dot(o)/a;return Math.acos(clamp(j,-1,1))}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){const a=this.x-o.x,j=this.y-o.y,_e=this.z-o.z;return a*a+j*j+_e*_e}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)+Math.abs(this.z-o.z)}setFromSpherical(o){return this.setFromSphericalCoords(o.radius,o.phi,o.theta)}setFromSphericalCoords(o,a,j){const _e=Math.sin(a)*o;return this.x=_e*Math.sin(j),this.y=Math.cos(a)*o,this.z=_e*Math.cos(j),this}setFromCylindrical(o){return this.setFromCylindricalCoords(o.radius,o.theta,o.y)}setFromCylindricalCoords(o,a,j){return this.x=o*Math.sin(a),this.y=j,this.z=o*Math.cos(a),this}setFromMatrixPosition(o){const a=o.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this}setFromMatrixScale(o){const a=this.setFromMatrixColumn(o,0).length(),j=this.setFromMatrixColumn(o,1).length(),_e=this.setFromMatrixColumn(o,2).length();return this.x=a,this.y=j,this.z=_e,this}setFromMatrixColumn(o,a){return this.fromArray(o.elements,a*4)}setFromMatrix3Column(o,a){return this.fromArray(o.elements,a*3)}setFromEuler(o){return this.x=o._x,this.y=o._y,this.z=o._z,this}equals(o){return o.x===this.x&&o.y===this.y&&o.z===this.z}fromArray(o,a=0){return this.x=o[a],this.y=o[a+1],this.z=o[a+2],this}toArray(o=[],a=0){return o[a]=this.x,o[a+1]=this.y,o[a+2]=this.z,o}fromBufferAttribute(o,a){return this.x=o.getX(a),this.y=o.getY(a),this.z=o.getZ(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const o=(Math.random()-.5)*2,a=Math.random()*Math.PI*2,j=Math.sqrt(1-o**2);return this.x=j*Math.cos(a),this.y=j*Math.sin(a),this.z=o,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$d=new Vector3,_quaternion$4=new Quaternion;function SRGBToLinear($){return $<.04045?$*.0773993808:Math.pow($*.9478672986+.0521327014,2.4)}function LinearToSRGB($){return $<.0031308?$*12.92:1.055*Math.pow($,.41666)-.055}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),_vector$c=new Vector3;function DisplayP3ToLinearSRGB($){return $.convertSRGBToLinear(),_vector$c.set($.r,$.g,$.b).applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),$.setRGB(_vector$c.x,_vector$c.y,_vector$c.z)}function LinearSRGBToDisplayP3($){return _vector$c.set($.r,$.g,$.b).applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3),$.setRGB(_vector$c.x,_vector$c.y,_vector$c.z).convertLinearToSRGB()}const TO_LINEAR={[LinearSRGBColorSpace]:$=>$,[SRGBColorSpace]:$=>$.convertSRGBToLinear(),[DisplayP3ColorSpace]:DisplayP3ToLinearSRGB},FROM_LINEAR={[LinearSRGBColorSpace]:$=>$,[SRGBColorSpace]:$=>$.convertLinearToSRGB(),[DisplayP3ColorSpace]:LinearSRGBToDisplayP3},ColorManagement={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode($){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!$},get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace($){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function($,o,a){if(this.enabled===!1||o===a||!o||!a)return $;const j=TO_LINEAR[o],_e=FROM_LINEAR[a];if(j===void 0||_e===void 0)throw new Error(`Unsupported color space conversion, "${o}" to "${a}".`);return _e(j($))},fromWorkingColorSpace:function($,o){return this.convert($,this.workingColorSpace,o)},toWorkingColorSpace:function($,o){return this.convert($,o,this.workingColorSpace)}};let _canvas;class ImageUtils{static getDataURL(o){if(/^data:/i.test(o.src)||typeof HTMLCanvasElement>"u")return o.src;let a;if(o instanceof HTMLCanvasElement)a=o;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=o.width,_canvas.height=o.height;const j=_canvas.getContext("2d");o instanceof ImageData?j.putImageData(o,0,0):j.drawImage(o,0,0,o.width,o.height),a=_canvas}return a.width>2048||a.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",o),a.toDataURL("image/jpeg",.6)):a.toDataURL("image/png")}static sRGBToLinear(o){if(typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&o instanceof ImageBitmap){const a=createElementNS("canvas");a.width=o.width,a.height=o.height;const j=a.getContext("2d");j.drawImage(o,0,0,o.width,o.height);const _e=j.getImageData(0,0,o.width,o.height),et=_e.data;for(let tt=0;tt<et.length;tt++)et[tt]=SRGBToLinear(et[tt]/255)*255;return j.putImageData(_e,0,0),a}else if(o.data){const a=o.data.slice(0);for(let j=0;j<a.length;j++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[j]=Math.floor(SRGBToLinear(a[j]/255)*255):a[j]=SRGBToLinear(a[j]);return{data:a,width:o.width,height:o.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),o}}class Source{constructor(o=null){this.isSource=!0,this.uuid=generateUUID(),this.data=o,this.version=0}set needsUpdate(o){o===!0&&this.version++}toJSON(o){const a=o===void 0||typeof o=="string";if(!a&&o.images[this.uuid]!==void 0)return o.images[this.uuid];const j={uuid:this.uuid,url:""},_e=this.data;if(_e!==null){let et;if(Array.isArray(_e)){et=[];for(let tt=0,rt=_e.length;tt<rt;tt++)_e[tt].isDataTexture?et.push(serializeImage(_e[tt].image)):et.push(serializeImage(_e[tt]))}else et=serializeImage(_e);j.url=et}return a||(o.images[this.uuid]=j),j}}function serializeImage($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap?ImageUtils.getDataURL($):$.data?{data:Array.from($.data),width:$.width,height:$.height,type:$.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(o=Texture.DEFAULT_IMAGE,a=Texture.DEFAULT_MAPPING,j=ClampToEdgeWrapping,_e=ClampToEdgeWrapping,et=LinearFilter,tt=LinearMipmapLinearFilter,rt=RGBAFormat,nt=UnsignedByteType,it=Texture.DEFAULT_ANISOTROPY,ot=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(o),this.mipmaps=[],this.mapping=a,this.wrapS=j,this.wrapT=_e,this.magFilter=et,this.minFilter=tt,this.anisotropy=it,this.format=rt,this.internalFormat=null,this.type=nt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ot,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(o=null){this.source.data=o}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(o){return this.name=o.name,this.source=o.source,this.mipmaps=o.mipmaps.slice(0),this.mapping=o.mapping,this.wrapS=o.wrapS,this.wrapT=o.wrapT,this.magFilter=o.magFilter,this.minFilter=o.minFilter,this.anisotropy=o.anisotropy,this.format=o.format,this.internalFormat=o.internalFormat,this.type=o.type,this.offset.copy(o.offset),this.repeat.copy(o.repeat),this.center.copy(o.center),this.rotation=o.rotation,this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrix.copy(o.matrix),this.generateMipmaps=o.generateMipmaps,this.premultiplyAlpha=o.premultiplyAlpha,this.flipY=o.flipY,this.unpackAlignment=o.unpackAlignment,this.encoding=o.encoding,this.userData=JSON.parse(JSON.stringify(o.userData)),this.needsUpdate=!0,this}toJSON(o){const a=o===void 0||typeof o=="string";if(!a&&o.textures[this.uuid]!==void 0)return o.textures[this.uuid];const j={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(o).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(j.userData=this.userData),a||(o.textures[this.uuid]=j),j}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(o){if(this.mapping!==UVMapping)return o;if(o.applyMatrix3(this.matrix),o.x<0||o.x>1)switch(this.wrapS){case RepeatWrapping:o.x=o.x-Math.floor(o.x);break;case ClampToEdgeWrapping:o.x=o.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(o.x)%2)===1?o.x=Math.ceil(o.x)-o.x:o.x=o.x-Math.floor(o.x);break}if(o.y<0||o.y>1)switch(this.wrapT){case RepeatWrapping:o.y=o.y-Math.floor(o.y);break;case ClampToEdgeWrapping:o.y=o.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(o.y)%2)===1?o.y=Math.ceil(o.y)-o.y:o.y=o.y-Math.floor(o.y);break}return this.flipY&&(o.y=1-o.y),o}set needsUpdate(o){o===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(o=0,a=0,j=0,_e=1){Vector4.prototype.isVector4=!0,this.x=o,this.y=a,this.z=j,this.w=_e}get width(){return this.z}set width(o){this.z=o}get height(){return this.w}set height(o){this.w=o}set(o,a,j,_e){return this.x=o,this.y=a,this.z=j,this.w=_e,this}setScalar(o){return this.x=o,this.y=o,this.z=o,this.w=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setZ(o){return this.z=o,this}setW(o){return this.w=o,this}setComponent(o,a){switch(o){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;case 3:this.w=a;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(o){return this.x=o.x,this.y=o.y,this.z=o.z,this.w=o.w!==void 0?o.w:1,this}add(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z,this.w+=o.w,this}addScalar(o){return this.x+=o,this.y+=o,this.z+=o,this.w+=o,this}addVectors(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this.z=o.z+a.z,this.w=o.w+a.w,this}addScaledVector(o,a){return this.x+=o.x*a,this.y+=o.y*a,this.z+=o.z*a,this.w+=o.w*a,this}sub(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z,this.w-=o.w,this}subScalar(o){return this.x-=o,this.y-=o,this.z-=o,this.w-=o,this}subVectors(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this.z=o.z-a.z,this.w=o.w-a.w,this}multiply(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z,this.w*=o.w,this}multiplyScalar(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this}applyMatrix4(o){const a=this.x,j=this.y,_e=this.z,et=this.w,tt=o.elements;return this.x=tt[0]*a+tt[4]*j+tt[8]*_e+tt[12]*et,this.y=tt[1]*a+tt[5]*j+tt[9]*_e+tt[13]*et,this.z=tt[2]*a+tt[6]*j+tt[10]*_e+tt[14]*et,this.w=tt[3]*a+tt[7]*j+tt[11]*_e+tt[15]*et,this}divideScalar(o){return this.multiplyScalar(1/o)}setAxisAngleFromQuaternion(o){this.w=2*Math.acos(o.w);const a=Math.sqrt(1-o.w*o.w);return a<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=o.x/a,this.y=o.y/a,this.z=o.z/a),this}setAxisAngleFromRotationMatrix(o){let a,j,_e,et;const nt=o.elements,it=nt[0],ot=nt[4],st=nt[8],ct=nt[1],ut=nt[5],dt=nt[9],ft=nt[2],ht=nt[6],pt=nt[10];if(Math.abs(ot-ct)<.01&&Math.abs(st-ft)<.01&&Math.abs(dt-ht)<.01){if(Math.abs(ot+ct)<.1&&Math.abs(st+ft)<.1&&Math.abs(dt+ht)<.1&&Math.abs(it+ut+pt-3)<.1)return this.set(1,0,0,0),this;a=Math.PI;const gt=(it+1)/2,xt=(ut+1)/2,wt=(pt+1)/2,Mt=(ot+ct)/4,It=(st+ft)/4,Tt=(dt+ht)/4;return gt>xt&&gt>wt?gt<.01?(j=0,_e=.707106781,et=.707106781):(j=Math.sqrt(gt),_e=Mt/j,et=It/j):xt>wt?xt<.01?(j=.707106781,_e=0,et=.707106781):(_e=Math.sqrt(xt),j=Mt/_e,et=Tt/_e):wt<.01?(j=.707106781,_e=.707106781,et=0):(et=Math.sqrt(wt),j=It/et,_e=Tt/et),this.set(j,_e,et,a),this}let yt=Math.sqrt((ht-dt)*(ht-dt)+(st-ft)*(st-ft)+(ct-ot)*(ct-ot));return Math.abs(yt)<.001&&(yt=1),this.x=(ht-dt)/yt,this.y=(st-ft)/yt,this.z=(ct-ot)/yt,this.w=Math.acos((it+ut+pt-1)/2),this}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this.w=Math.min(this.w,o.w),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this.w=Math.max(this.w,o.w),this}clamp(o,a){return this.x=Math.max(o.x,Math.min(a.x,this.x)),this.y=Math.max(o.y,Math.min(a.y,this.y)),this.z=Math.max(o.z,Math.min(a.z,this.z)),this.w=Math.max(o.w,Math.min(a.w,this.w)),this}clampScalar(o,a){return this.x=Math.max(o,Math.min(a,this.x)),this.y=Math.max(o,Math.min(a,this.y)),this.z=Math.max(o,Math.min(a,this.z)),this.w=Math.max(o,Math.min(a,this.w)),this}clampLength(o,a){const j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(o,Math.min(a,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,a){return this.x+=(o.x-this.x)*a,this.y+=(o.y-this.y)*a,this.z+=(o.z-this.z)*a,this.w+=(o.w-this.w)*a,this}lerpVectors(o,a,j){return this.x=o.x+(a.x-o.x)*j,this.y=o.y+(a.y-o.y)*j,this.z=o.z+(a.z-o.z)*j,this.w=o.w+(a.w-o.w)*j,this}equals(o){return o.x===this.x&&o.y===this.y&&o.z===this.z&&o.w===this.w}fromArray(o,a=0){return this.x=o[a],this.y=o[a+1],this.z=o[a+2],this.w=o[a+3],this}toArray(o=[],a=0){return o[a]=this.x,o[a+1]=this.y,o[a+2]=this.z,o[a+3]=this.w,o}fromBufferAttribute(o,a){return this.x=o.getX(a),this.y=o.getY(a),this.z=o.getZ(a),this.w=o.getW(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(o=1,a=1,j={}){super(),this.isWebGLRenderTarget=!0,this.width=o,this.height=a,this.depth=1,this.scissor=new Vector4(0,0,o,a),this.scissorTest=!1,this.viewport=new Vector4(0,0,o,a);const _e={width:o,height:a,depth:1};this.texture=new Texture(_e,j.mapping,j.wrapS,j.wrapT,j.magFilter,j.minFilter,j.format,j.type,j.anisotropy,j.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=j.generateMipmaps!==void 0?j.generateMipmaps:!1,this.texture.internalFormat=j.internalFormat!==void 0?j.internalFormat:null,this.texture.minFilter=j.minFilter!==void 0?j.minFilter:LinearFilter,this.depthBuffer=j.depthBuffer!==void 0?j.depthBuffer:!0,this.stencilBuffer=j.stencilBuffer!==void 0?j.stencilBuffer:!1,this.depthTexture=j.depthTexture!==void 0?j.depthTexture:null,this.samples=j.samples!==void 0?j.samples:0}setSize(o,a,j=1){(this.width!==o||this.height!==a||this.depth!==j)&&(this.width=o,this.height=a,this.depth=j,this.texture.image.width=o,this.texture.image.height=a,this.texture.image.depth=j,this.dispose()),this.viewport.set(0,0,o,a),this.scissor.set(0,0,o,a)}clone(){return new this.constructor().copy(this)}copy(o){this.width=o.width,this.height=o.height,this.depth=o.depth,this.viewport.copy(o.viewport),this.texture=o.texture.clone(),this.texture.isRenderTargetTexture=!0;const a=Object.assign({},o.texture.image);return this.texture.source=new Source(a),this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,o.depthTexture!==null&&(this.depthTexture=o.depthTexture.clone()),this.samples=o.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(o=null,a=1,j=1,_e=1){super(null),this.isDataArrayTexture=!0,this.image={data:o,width:a,height:j,depth:_e},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(o=1,a=1,j=1){super(o,a),this.isWebGLArrayRenderTarget=!0,this.depth=j,this.texture=new DataArrayTexture(null,o,a,j),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(o=null,a=1,j=1,_e=1){super(null),this.isData3DTexture=!0,this.image={data:o,width:a,height:j,depth:_e},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(o=1,a=1,j=1){super(o,a),this.isWebGL3DRenderTarget=!0,this.depth=j,this.texture=new Data3DTexture(null,o,a,j),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(o=1,a=1,j=1,_e={}){super(o,a,_e),this.isWebGLMultipleRenderTargets=!0;const et=this.texture;this.texture=[];for(let tt=0;tt<j;tt++)this.texture[tt]=et.clone(),this.texture[tt].isRenderTargetTexture=!0}setSize(o,a,j=1){if(this.width!==o||this.height!==a||this.depth!==j){this.width=o,this.height=a,this.depth=j;for(let _e=0,et=this.texture.length;_e<et;_e++)this.texture[_e].image.width=o,this.texture[_e].image.height=a,this.texture[_e].image.depth=j;this.dispose()}return this.viewport.set(0,0,o,a),this.scissor.set(0,0,o,a),this}copy(o){this.dispose(),this.width=o.width,this.height=o.height,this.depth=o.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,o.depthTexture!==null&&(this.depthTexture=o.depthTexture.clone()),this.texture.length=0;for(let a=0,j=o.texture.length;a<j;a++)this.texture[a]=o.texture[a].clone(),this.texture[a].isRenderTargetTexture=!0;return this}}class Box3{constructor(o=new Vector3(1/0,1/0,1/0),a=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=o,this.max=a}set(o,a){return this.min.copy(o),this.max.copy(a),this}setFromArray(o){let a=1/0,j=1/0,_e=1/0,et=-1/0,tt=-1/0,rt=-1/0;for(let nt=0,it=o.length;nt<it;nt+=3){const ot=o[nt],st=o[nt+1],ct=o[nt+2];ot<a&&(a=ot),st<j&&(j=st),ct<_e&&(_e=ct),ot>et&&(et=ot),st>tt&&(tt=st),ct>rt&&(rt=ct)}return this.min.set(a,j,_e),this.max.set(et,tt,rt),this}setFromBufferAttribute(o){let a=1/0,j=1/0,_e=1/0,et=-1/0,tt=-1/0,rt=-1/0;for(let nt=0,it=o.count;nt<it;nt++){const ot=o.getX(nt),st=o.getY(nt),ct=o.getZ(nt);ot<a&&(a=ot),st<j&&(j=st),ct<_e&&(_e=ct),ot>et&&(et=ot),st>tt&&(tt=st),ct>rt&&(rt=ct)}return this.min.set(a,j,_e),this.max.set(et,tt,rt),this}setFromPoints(o){this.makeEmpty();for(let a=0,j=o.length;a<j;a++)this.expandByPoint(o[a]);return this}setFromCenterAndSize(o,a){const j=_vector$b.copy(a).multiplyScalar(.5);return this.min.copy(o).sub(j),this.max.copy(o).add(j),this}setFromObject(o,a=!1){return this.makeEmpty(),this.expandByObject(o,a)}clone(){return new this.constructor().copy(this)}copy(o){return this.min.copy(o.min),this.max.copy(o.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(o){return this.isEmpty()?o.set(0,0,0):o.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(o){return this.isEmpty()?o.set(0,0,0):o.subVectors(this.max,this.min)}expandByPoint(o){return this.min.min(o),this.max.max(o),this}expandByVector(o){return this.min.sub(o),this.max.add(o),this}expandByScalar(o){return this.min.addScalar(-o),this.max.addScalar(o),this}expandByObject(o,a=!1){o.updateWorldMatrix(!1,!1);const j=o.geometry;if(j!==void 0)if(a&&j.attributes!=null&&j.attributes.position!==void 0){const et=j.attributes.position;for(let tt=0,rt=et.count;tt<rt;tt++)_vector$b.fromBufferAttribute(et,tt).applyMatrix4(o.matrixWorld),this.expandByPoint(_vector$b)}else j.boundingBox===null&&j.computeBoundingBox(),_box$3.copy(j.boundingBox),_box$3.applyMatrix4(o.matrixWorld),this.union(_box$3);const _e=o.children;for(let et=0,tt=_e.length;et<tt;et++)this.expandByObject(_e[et],a);return this}containsPoint(o){return!(o.x<this.min.x||o.x>this.max.x||o.y<this.min.y||o.y>this.max.y||o.z<this.min.z||o.z>this.max.z)}containsBox(o){return this.min.x<=o.min.x&&o.max.x<=this.max.x&&this.min.y<=o.min.y&&o.max.y<=this.max.y&&this.min.z<=o.min.z&&o.max.z<=this.max.z}getParameter(o,a){return a.set((o.x-this.min.x)/(this.max.x-this.min.x),(o.y-this.min.y)/(this.max.y-this.min.y),(o.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(o){return!(o.max.x<this.min.x||o.min.x>this.max.x||o.max.y<this.min.y||o.min.y>this.max.y||o.max.z<this.min.z||o.min.z>this.max.z)}intersectsSphere(o){return this.clampPoint(o.center,_vector$b),_vector$b.distanceToSquared(o.center)<=o.radius*o.radius}intersectsPlane(o){let a,j;return o.normal.x>0?(a=o.normal.x*this.min.x,j=o.normal.x*this.max.x):(a=o.normal.x*this.max.x,j=o.normal.x*this.min.x),o.normal.y>0?(a+=o.normal.y*this.min.y,j+=o.normal.y*this.max.y):(a+=o.normal.y*this.max.y,j+=o.normal.y*this.min.y),o.normal.z>0?(a+=o.normal.z*this.min.z,j+=o.normal.z*this.max.z):(a+=o.normal.z*this.max.z,j+=o.normal.z*this.min.z),a<=-o.constant&&j>=-o.constant}intersectsTriangle(o){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(o.a,_center),_v1$7.subVectors(o.b,_center),_v2$4.subVectors(o.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let a=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(a,_v0$2,_v1$7,_v2$4,_extents)||(a=[1,0,0,0,1,0,0,0,1],!satForAxes(a,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),a=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(a,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(o,a){return a.copy(o).clamp(this.min,this.max)}distanceToPoint(o){return this.clampPoint(o,_vector$b).distanceTo(o)}getBoundingSphere(o){return this.isEmpty()?o.makeEmpty():(this.getCenter(o.center),o.radius=this.getSize(_vector$b).length()*.5),o}intersect(o){return this.min.max(o.min),this.max.min(o.max),this.isEmpty()&&this.makeEmpty(),this}union(o){return this.min.min(o.min),this.max.max(o.max),this}applyMatrix4(o){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(o),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(o),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(o),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(o),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(o),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(o),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(o),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(o),this.setFromPoints(_points),this)}translate(o){return this.min.add(o),this.max.add(o),this}equals(o){return o.min.equals(this.min)&&o.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes($,o,a,j,_e){for(let et=0,tt=$.length-3;et<=tt;et+=3){_testAxis.fromArray($,et);const rt=_e.x*Math.abs(_testAxis.x)+_e.y*Math.abs(_testAxis.y)+_e.z*Math.abs(_testAxis.z),nt=o.dot(_testAxis),it=a.dot(_testAxis),ot=j.dot(_testAxis);if(Math.max(-Math.max(nt,it,ot),Math.min(nt,it,ot))>rt)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(o=new Vector3,a=-1){this.center=o,this.radius=a}set(o,a){return this.center.copy(o),this.radius=a,this}setFromPoints(o,a){const j=this.center;a!==void 0?j.copy(a):_box$2.setFromPoints(o).getCenter(j);let _e=0;for(let et=0,tt=o.length;et<tt;et++)_e=Math.max(_e,j.distanceToSquared(o[et]));return this.radius=Math.sqrt(_e),this}copy(o){return this.center.copy(o.center),this.radius=o.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(o){return o.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(o){return o.distanceTo(this.center)-this.radius}intersectsSphere(o){const a=this.radius+o.radius;return o.center.distanceToSquared(this.center)<=a*a}intersectsBox(o){return o.intersectsSphere(this)}intersectsPlane(o){return Math.abs(o.distanceToPoint(this.center))<=this.radius}clampPoint(o,a){const j=this.center.distanceToSquared(o);return a.copy(o),j>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a}getBoundingBox(o){return this.isEmpty()?(o.makeEmpty(),o):(o.set(this.center,this.center),o.expandByScalar(this.radius),o)}applyMatrix4(o){return this.center.applyMatrix4(o),this.radius=this.radius*o.getMaxScaleOnAxis(),this}translate(o){return this.center.add(o),this}expandByPoint(o){if(this.isEmpty())return this.center.copy(o),this.radius=0,this;_v1$6.subVectors(o,this.center);const a=_v1$6.lengthSq();if(a>this.radius*this.radius){const j=Math.sqrt(a),_e=(j-this.radius)*.5;this.center.addScaledVector(_v1$6,_e/j),this.radius+=_e}return this}union(o){return o.isEmpty()?this:this.isEmpty()?(this.copy(o),this):(this.center.equals(o.center)===!0?this.radius=Math.max(this.radius,o.radius):(_v2$3.subVectors(o.center,this.center).setLength(o.radius),this.expandByPoint(_v1$6.copy(o.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(o.center).sub(_v2$3))),this)}equals(o){return o.center.equals(this.center)&&o.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(o=new Vector3,a=new Vector3(0,0,-1)){this.origin=o,this.direction=a}set(o,a){return this.origin.copy(o),this.direction.copy(a),this}copy(o){return this.origin.copy(o.origin),this.direction.copy(o.direction),this}at(o,a){return a.copy(this.origin).addScaledVector(this.direction,o)}lookAt(o){return this.direction.copy(o).sub(this.origin).normalize(),this}recast(o){return this.origin.copy(this.at(o,_vector$a)),this}closestPointToPoint(o,a){a.subVectors(o,this.origin);const j=a.dot(this.direction);return j<0?a.copy(this.origin):a.copy(this.origin).addScaledVector(this.direction,j)}distanceToPoint(o){return Math.sqrt(this.distanceSqToPoint(o))}distanceSqToPoint(o){const a=_vector$a.subVectors(o,this.origin).dot(this.direction);return a<0?this.origin.distanceToSquared(o):(_vector$a.copy(this.origin).addScaledVector(this.direction,a),_vector$a.distanceToSquared(o))}distanceSqToSegment(o,a,j,_e){_segCenter.copy(o).add(a).multiplyScalar(.5),_segDir.copy(a).sub(o).normalize(),_diff.copy(this.origin).sub(_segCenter);const et=o.distanceTo(a)*.5,tt=-this.direction.dot(_segDir),rt=_diff.dot(this.direction),nt=-_diff.dot(_segDir),it=_diff.lengthSq(),ot=Math.abs(1-tt*tt);let st,ct,ut,dt;if(ot>0)if(st=tt*nt-rt,ct=tt*rt-nt,dt=et*ot,st>=0)if(ct>=-dt)if(ct<=dt){const ft=1/ot;st*=ft,ct*=ft,ut=st*(st+tt*ct+2*rt)+ct*(tt*st+ct+2*nt)+it}else ct=et,st=Math.max(0,-(tt*ct+rt)),ut=-st*st+ct*(ct+2*nt)+it;else ct=-et,st=Math.max(0,-(tt*ct+rt)),ut=-st*st+ct*(ct+2*nt)+it;else ct<=-dt?(st=Math.max(0,-(-tt*et+rt)),ct=st>0?-et:Math.min(Math.max(-et,-nt),et),ut=-st*st+ct*(ct+2*nt)+it):ct<=dt?(st=0,ct=Math.min(Math.max(-et,-nt),et),ut=ct*(ct+2*nt)+it):(st=Math.max(0,-(tt*et+rt)),ct=st>0?et:Math.min(Math.max(-et,-nt),et),ut=-st*st+ct*(ct+2*nt)+it);else ct=tt>0?-et:et,st=Math.max(0,-(tt*ct+rt)),ut=-st*st+ct*(ct+2*nt)+it;return j&&j.copy(this.origin).addScaledVector(this.direction,st),_e&&_e.copy(_segCenter).addScaledVector(_segDir,ct),ut}intersectSphere(o,a){_vector$a.subVectors(o.center,this.origin);const j=_vector$a.dot(this.direction),_e=_vector$a.dot(_vector$a)-j*j,et=o.radius*o.radius;if(_e>et)return null;const tt=Math.sqrt(et-_e),rt=j-tt,nt=j+tt;return nt<0?null:rt<0?this.at(nt,a):this.at(rt,a)}intersectsSphere(o){return this.distanceSqToPoint(o.center)<=o.radius*o.radius}distanceToPlane(o){const a=o.normal.dot(this.direction);if(a===0)return o.distanceToPoint(this.origin)===0?0:null;const j=-(this.origin.dot(o.normal)+o.constant)/a;return j>=0?j:null}intersectPlane(o,a){const j=this.distanceToPlane(o);return j===null?null:this.at(j,a)}intersectsPlane(o){const a=o.distanceToPoint(this.origin);return a===0||o.normal.dot(this.direction)*a<0}intersectBox(o,a){let j,_e,et,tt,rt,nt;const it=1/this.direction.x,ot=1/this.direction.y,st=1/this.direction.z,ct=this.origin;return it>=0?(j=(o.min.x-ct.x)*it,_e=(o.max.x-ct.x)*it):(j=(o.max.x-ct.x)*it,_e=(o.min.x-ct.x)*it),ot>=0?(et=(o.min.y-ct.y)*ot,tt=(o.max.y-ct.y)*ot):(et=(o.max.y-ct.y)*ot,tt=(o.min.y-ct.y)*ot),j>tt||et>_e||((et>j||isNaN(j))&&(j=et),(tt<_e||isNaN(_e))&&(_e=tt),st>=0?(rt=(o.min.z-ct.z)*st,nt=(o.max.z-ct.z)*st):(rt=(o.max.z-ct.z)*st,nt=(o.min.z-ct.z)*st),j>nt||rt>_e)||((rt>j||j!==j)&&(j=rt),(nt<_e||_e!==_e)&&(_e=nt),_e<0)?null:this.at(j>=0?j:_e,a)}intersectsBox(o){return this.intersectBox(o,_vector$a)!==null}intersectTriangle(o,a,j,_e,et){_edge1.subVectors(a,o),_edge2.subVectors(j,o),_normal$1.crossVectors(_edge1,_edge2);let tt=this.direction.dot(_normal$1),rt;if(tt>0){if(_e)return null;rt=1}else if(tt<0)rt=-1,tt=-tt;else return null;_diff.subVectors(this.origin,o);const nt=rt*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(nt<0)return null;const it=rt*this.direction.dot(_edge1.cross(_diff));if(it<0||nt+it>tt)return null;const ot=-rt*_diff.dot(_normal$1);return ot<0?null:this.at(ot/tt,et)}applyMatrix4(o){return this.origin.applyMatrix4(o),this.direction.transformDirection(o),this}equals(o){return o.origin.equals(this.origin)&&o.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(o,a,j,_e,et,tt,rt,nt,it,ot,st,ct,ut,dt,ft,ht){const pt=this.elements;return pt[0]=o,pt[4]=a,pt[8]=j,pt[12]=_e,pt[1]=et,pt[5]=tt,pt[9]=rt,pt[13]=nt,pt[2]=it,pt[6]=ot,pt[10]=st,pt[14]=ct,pt[3]=ut,pt[7]=dt,pt[11]=ft,pt[15]=ht,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(o){const a=this.elements,j=o.elements;return a[0]=j[0],a[1]=j[1],a[2]=j[2],a[3]=j[3],a[4]=j[4],a[5]=j[5],a[6]=j[6],a[7]=j[7],a[8]=j[8],a[9]=j[9],a[10]=j[10],a[11]=j[11],a[12]=j[12],a[13]=j[13],a[14]=j[14],a[15]=j[15],this}copyPosition(o){const a=this.elements,j=o.elements;return a[12]=j[12],a[13]=j[13],a[14]=j[14],this}setFromMatrix3(o){const a=o.elements;return this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1),this}extractBasis(o,a,j){return o.setFromMatrixColumn(this,0),a.setFromMatrixColumn(this,1),j.setFromMatrixColumn(this,2),this}makeBasis(o,a,j){return this.set(o.x,a.x,j.x,0,o.y,a.y,j.y,0,o.z,a.z,j.z,0,0,0,0,1),this}extractRotation(o){const a=this.elements,j=o.elements,_e=1/_v1$5.setFromMatrixColumn(o,0).length(),et=1/_v1$5.setFromMatrixColumn(o,1).length(),tt=1/_v1$5.setFromMatrixColumn(o,2).length();return a[0]=j[0]*_e,a[1]=j[1]*_e,a[2]=j[2]*_e,a[3]=0,a[4]=j[4]*et,a[5]=j[5]*et,a[6]=j[6]*et,a[7]=0,a[8]=j[8]*tt,a[9]=j[9]*tt,a[10]=j[10]*tt,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromEuler(o){const a=this.elements,j=o.x,_e=o.y,et=o.z,tt=Math.cos(j),rt=Math.sin(j),nt=Math.cos(_e),it=Math.sin(_e),ot=Math.cos(et),st=Math.sin(et);if(o.order==="XYZ"){const ct=tt*ot,ut=tt*st,dt=rt*ot,ft=rt*st;a[0]=nt*ot,a[4]=-nt*st,a[8]=it,a[1]=ut+dt*it,a[5]=ct-ft*it,a[9]=-rt*nt,a[2]=ft-ct*it,a[6]=dt+ut*it,a[10]=tt*nt}else if(o.order==="YXZ"){const ct=nt*ot,ut=nt*st,dt=it*ot,ft=it*st;a[0]=ct+ft*rt,a[4]=dt*rt-ut,a[8]=tt*it,a[1]=tt*st,a[5]=tt*ot,a[9]=-rt,a[2]=ut*rt-dt,a[6]=ft+ct*rt,a[10]=tt*nt}else if(o.order==="ZXY"){const ct=nt*ot,ut=nt*st,dt=it*ot,ft=it*st;a[0]=ct-ft*rt,a[4]=-tt*st,a[8]=dt+ut*rt,a[1]=ut+dt*rt,a[5]=tt*ot,a[9]=ft-ct*rt,a[2]=-tt*it,a[6]=rt,a[10]=tt*nt}else if(o.order==="ZYX"){const ct=tt*ot,ut=tt*st,dt=rt*ot,ft=rt*st;a[0]=nt*ot,a[4]=dt*it-ut,a[8]=ct*it+ft,a[1]=nt*st,a[5]=ft*it+ct,a[9]=ut*it-dt,a[2]=-it,a[6]=rt*nt,a[10]=tt*nt}else if(o.order==="YZX"){const ct=tt*nt,ut=tt*it,dt=rt*nt,ft=rt*it;a[0]=nt*ot,a[4]=ft-ct*st,a[8]=dt*st+ut,a[1]=st,a[5]=tt*ot,a[9]=-rt*ot,a[2]=-it*ot,a[6]=ut*st+dt,a[10]=ct-ft*st}else if(o.order==="XZY"){const ct=tt*nt,ut=tt*it,dt=rt*nt,ft=rt*it;a[0]=nt*ot,a[4]=-st,a[8]=it*ot,a[1]=ct*st+ft,a[5]=tt*ot,a[9]=ut*st-dt,a[2]=dt*st-ut,a[6]=rt*ot,a[10]=ft*st+ct}return a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromQuaternion(o){return this.compose(_zero,o,_one)}lookAt(o,a,j){const _e=this.elements;return _z.subVectors(o,a),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(j,_z),_x.lengthSq()===0&&(Math.abs(j.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(j,_z)),_x.normalize(),_y.crossVectors(_z,_x),_e[0]=_x.x,_e[4]=_y.x,_e[8]=_z.x,_e[1]=_x.y,_e[5]=_y.y,_e[9]=_z.y,_e[2]=_x.z,_e[6]=_y.z,_e[10]=_z.z,this}multiply(o){return this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,a){const j=o.elements,_e=a.elements,et=this.elements,tt=j[0],rt=j[4],nt=j[8],it=j[12],ot=j[1],st=j[5],ct=j[9],ut=j[13],dt=j[2],ft=j[6],ht=j[10],pt=j[14],yt=j[3],gt=j[7],xt=j[11],wt=j[15],Mt=_e[0],It=_e[4],Tt=_e[8],Dt=_e[12],Ut=_e[1],jt=_e[5],Xt=_e[9],kt=_e[13],vt=_e[2],Et=_e[6],Lt=_e[10],Ot=_e[14],Pt=_e[3],zt=_e[7],Vt=_e[11],$t=_e[15];return et[0]=tt*Mt+rt*Ut+nt*vt+it*Pt,et[4]=tt*It+rt*jt+nt*Et+it*zt,et[8]=tt*Tt+rt*Xt+nt*Lt+it*Vt,et[12]=tt*Dt+rt*kt+nt*Ot+it*$t,et[1]=ot*Mt+st*Ut+ct*vt+ut*Pt,et[5]=ot*It+st*jt+ct*Et+ut*zt,et[9]=ot*Tt+st*Xt+ct*Lt+ut*Vt,et[13]=ot*Dt+st*kt+ct*Ot+ut*$t,et[2]=dt*Mt+ft*Ut+ht*vt+pt*Pt,et[6]=dt*It+ft*jt+ht*Et+pt*zt,et[10]=dt*Tt+ft*Xt+ht*Lt+pt*Vt,et[14]=dt*Dt+ft*kt+ht*Ot+pt*$t,et[3]=yt*Mt+gt*Ut+xt*vt+wt*Pt,et[7]=yt*It+gt*jt+xt*Et+wt*zt,et[11]=yt*Tt+gt*Xt+xt*Lt+wt*Vt,et[15]=yt*Dt+gt*kt+xt*Ot+wt*$t,this}multiplyScalar(o){const a=this.elements;return a[0]*=o,a[4]*=o,a[8]*=o,a[12]*=o,a[1]*=o,a[5]*=o,a[9]*=o,a[13]*=o,a[2]*=o,a[6]*=o,a[10]*=o,a[14]*=o,a[3]*=o,a[7]*=o,a[11]*=o,a[15]*=o,this}determinant(){const o=this.elements,a=o[0],j=o[4],_e=o[8],et=o[12],tt=o[1],rt=o[5],nt=o[9],it=o[13],ot=o[2],st=o[6],ct=o[10],ut=o[14],dt=o[3],ft=o[7],ht=o[11],pt=o[15];return dt*(+et*nt*st-_e*it*st-et*rt*ct+j*it*ct+_e*rt*ut-j*nt*ut)+ft*(+a*nt*ut-a*it*ct+et*tt*ct-_e*tt*ut+_e*it*ot-et*nt*ot)+ht*(+a*it*st-a*rt*ut-et*tt*st+j*tt*ut+et*rt*ot-j*it*ot)+pt*(-_e*rt*ot-a*nt*st+a*rt*ct+_e*tt*st-j*tt*ct+j*nt*ot)}transpose(){const o=this.elements;let a;return a=o[1],o[1]=o[4],o[4]=a,a=o[2],o[2]=o[8],o[8]=a,a=o[6],o[6]=o[9],o[9]=a,a=o[3],o[3]=o[12],o[12]=a,a=o[7],o[7]=o[13],o[13]=a,a=o[11],o[11]=o[14],o[14]=a,this}setPosition(o,a,j){const _e=this.elements;return o.isVector3?(_e[12]=o.x,_e[13]=o.y,_e[14]=o.z):(_e[12]=o,_e[13]=a,_e[14]=j),this}invert(){const o=this.elements,a=o[0],j=o[1],_e=o[2],et=o[3],tt=o[4],rt=o[5],nt=o[6],it=o[7],ot=o[8],st=o[9],ct=o[10],ut=o[11],dt=o[12],ft=o[13],ht=o[14],pt=o[15],yt=st*ht*it-ft*ct*it+ft*nt*ut-rt*ht*ut-st*nt*pt+rt*ct*pt,gt=dt*ct*it-ot*ht*it-dt*nt*ut+tt*ht*ut+ot*nt*pt-tt*ct*pt,xt=ot*ft*it-dt*st*it+dt*rt*ut-tt*ft*ut-ot*rt*pt+tt*st*pt,wt=dt*st*nt-ot*ft*nt-dt*rt*ct+tt*ft*ct+ot*rt*ht-tt*st*ht,Mt=a*yt+j*gt+_e*xt+et*wt;if(Mt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const It=1/Mt;return o[0]=yt*It,o[1]=(ft*ct*et-st*ht*et-ft*_e*ut+j*ht*ut+st*_e*pt-j*ct*pt)*It,o[2]=(rt*ht*et-ft*nt*et+ft*_e*it-j*ht*it-rt*_e*pt+j*nt*pt)*It,o[3]=(st*nt*et-rt*ct*et-st*_e*it+j*ct*it+rt*_e*ut-j*nt*ut)*It,o[4]=gt*It,o[5]=(ot*ht*et-dt*ct*et+dt*_e*ut-a*ht*ut-ot*_e*pt+a*ct*pt)*It,o[6]=(dt*nt*et-tt*ht*et-dt*_e*it+a*ht*it+tt*_e*pt-a*nt*pt)*It,o[7]=(tt*ct*et-ot*nt*et+ot*_e*it-a*ct*it-tt*_e*ut+a*nt*ut)*It,o[8]=xt*It,o[9]=(dt*st*et-ot*ft*et-dt*j*ut+a*ft*ut+ot*j*pt-a*st*pt)*It,o[10]=(tt*ft*et-dt*rt*et+dt*j*it-a*ft*it-tt*j*pt+a*rt*pt)*It,o[11]=(ot*rt*et-tt*st*et-ot*j*it+a*st*it+tt*j*ut-a*rt*ut)*It,o[12]=wt*It,o[13]=(ot*ft*_e-dt*st*_e+dt*j*ct-a*ft*ct-ot*j*ht+a*st*ht)*It,o[14]=(dt*rt*_e-tt*ft*_e-dt*j*nt+a*ft*nt+tt*j*ht-a*rt*ht)*It,o[15]=(tt*st*_e-ot*rt*_e+ot*j*nt-a*st*nt-tt*j*ct+a*rt*ct)*It,this}scale(o){const a=this.elements,j=o.x,_e=o.y,et=o.z;return a[0]*=j,a[4]*=_e,a[8]*=et,a[1]*=j,a[5]*=_e,a[9]*=et,a[2]*=j,a[6]*=_e,a[10]*=et,a[3]*=j,a[7]*=_e,a[11]*=et,this}getMaxScaleOnAxis(){const o=this.elements,a=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],j=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],_e=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(a,j,_e))}makeTranslation(o,a,j){return this.set(1,0,0,o,0,1,0,a,0,0,1,j,0,0,0,1),this}makeRotationX(o){const a=Math.cos(o),j=Math.sin(o);return this.set(1,0,0,0,0,a,-j,0,0,j,a,0,0,0,0,1),this}makeRotationY(o){const a=Math.cos(o),j=Math.sin(o);return this.set(a,0,j,0,0,1,0,0,-j,0,a,0,0,0,0,1),this}makeRotationZ(o){const a=Math.cos(o),j=Math.sin(o);return this.set(a,-j,0,0,j,a,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(o,a){const j=Math.cos(a),_e=Math.sin(a),et=1-j,tt=o.x,rt=o.y,nt=o.z,it=et*tt,ot=et*rt;return this.set(it*tt+j,it*rt-_e*nt,it*nt+_e*rt,0,it*rt+_e*nt,ot*rt+j,ot*nt-_e*tt,0,it*nt-_e*rt,ot*nt+_e*tt,et*nt*nt+j,0,0,0,0,1),this}makeScale(o,a,j){return this.set(o,0,0,0,0,a,0,0,0,0,j,0,0,0,0,1),this}makeShear(o,a,j,_e,et,tt){return this.set(1,j,et,0,o,1,tt,0,a,_e,1,0,0,0,0,1),this}compose(o,a,j){const _e=this.elements,et=a._x,tt=a._y,rt=a._z,nt=a._w,it=et+et,ot=tt+tt,st=rt+rt,ct=et*it,ut=et*ot,dt=et*st,ft=tt*ot,ht=tt*st,pt=rt*st,yt=nt*it,gt=nt*ot,xt=nt*st,wt=j.x,Mt=j.y,It=j.z;return _e[0]=(1-(ft+pt))*wt,_e[1]=(ut+xt)*wt,_e[2]=(dt-gt)*wt,_e[3]=0,_e[4]=(ut-xt)*Mt,_e[5]=(1-(ct+pt))*Mt,_e[6]=(ht+yt)*Mt,_e[7]=0,_e[8]=(dt+gt)*It,_e[9]=(ht-yt)*It,_e[10]=(1-(ct+ft))*It,_e[11]=0,_e[12]=o.x,_e[13]=o.y,_e[14]=o.z,_e[15]=1,this}decompose(o,a,j){const _e=this.elements;let et=_v1$5.set(_e[0],_e[1],_e[2]).length();const tt=_v1$5.set(_e[4],_e[5],_e[6]).length(),rt=_v1$5.set(_e[8],_e[9],_e[10]).length();this.determinant()<0&&(et=-et),o.x=_e[12],o.y=_e[13],o.z=_e[14],_m1$2.copy(this);const it=1/et,ot=1/tt,st=1/rt;return _m1$2.elements[0]*=it,_m1$2.elements[1]*=it,_m1$2.elements[2]*=it,_m1$2.elements[4]*=ot,_m1$2.elements[5]*=ot,_m1$2.elements[6]*=ot,_m1$2.elements[8]*=st,_m1$2.elements[9]*=st,_m1$2.elements[10]*=st,a.setFromRotationMatrix(_m1$2),j.x=et,j.y=tt,j.z=rt,this}makePerspective(o,a,j,_e,et,tt){const rt=this.elements,nt=2*et/(a-o),it=2*et/(j-_e),ot=(a+o)/(a-o),st=(j+_e)/(j-_e),ct=-(tt+et)/(tt-et),ut=-2*tt*et/(tt-et);return rt[0]=nt,rt[4]=0,rt[8]=ot,rt[12]=0,rt[1]=0,rt[5]=it,rt[9]=st,rt[13]=0,rt[2]=0,rt[6]=0,rt[10]=ct,rt[14]=ut,rt[3]=0,rt[7]=0,rt[11]=-1,rt[15]=0,this}makeOrthographic(o,a,j,_e,et,tt){const rt=this.elements,nt=1/(a-o),it=1/(j-_e),ot=1/(tt-et),st=(a+o)*nt,ct=(j+_e)*it,ut=(tt+et)*ot;return rt[0]=2*nt,rt[4]=0,rt[8]=0,rt[12]=-st,rt[1]=0,rt[5]=2*it,rt[9]=0,rt[13]=-ct,rt[2]=0,rt[6]=0,rt[10]=-2*ot,rt[14]=-ut,rt[3]=0,rt[7]=0,rt[11]=0,rt[15]=1,this}equals(o){const a=this.elements,j=o.elements;for(let _e=0;_e<16;_e++)if(a[_e]!==j[_e])return!1;return!0}fromArray(o,a=0){for(let j=0;j<16;j++)this.elements[j]=o[j+a];return this}toArray(o=[],a=0){const j=this.elements;return o[a]=j[0],o[a+1]=j[1],o[a+2]=j[2],o[a+3]=j[3],o[a+4]=j[4],o[a+5]=j[5],o[a+6]=j[6],o[a+7]=j[7],o[a+8]=j[8],o[a+9]=j[9],o[a+10]=j[10],o[a+11]=j[11],o[a+12]=j[12],o[a+13]=j[13],o[a+14]=j[14],o[a+15]=j[15],o}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(o=0,a=0,j=0,_e=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=o,this._y=a,this._z=j,this._order=_e}get x(){return this._x}set x(o){this._x=o,this._onChangeCallback()}get y(){return this._y}set y(o){this._y=o,this._onChangeCallback()}get z(){return this._z}set z(o){this._z=o,this._onChangeCallback()}get order(){return this._order}set order(o){this._order=o,this._onChangeCallback()}set(o,a,j,_e=this._order){return this._x=o,this._y=a,this._z=j,this._order=_e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(o){return this._x=o._x,this._y=o._y,this._z=o._z,this._order=o._order,this._onChangeCallback(),this}setFromRotationMatrix(o,a=this._order,j=!0){const _e=o.elements,et=_e[0],tt=_e[4],rt=_e[8],nt=_e[1],it=_e[5],ot=_e[9],st=_e[2],ct=_e[6],ut=_e[10];switch(a){case"XYZ":this._y=Math.asin(clamp(rt,-1,1)),Math.abs(rt)<.9999999?(this._x=Math.atan2(-ot,ut),this._z=Math.atan2(-tt,et)):(this._x=Math.atan2(ct,it),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(ot,-1,1)),Math.abs(ot)<.9999999?(this._y=Math.atan2(rt,ut),this._z=Math.atan2(nt,it)):(this._y=Math.atan2(-st,et),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(ct,-1,1)),Math.abs(ct)<.9999999?(this._y=Math.atan2(-st,ut),this._z=Math.atan2(-tt,it)):(this._y=0,this._z=Math.atan2(nt,et));break;case"ZYX":this._y=Math.asin(-clamp(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(ct,ut),this._z=Math.atan2(nt,et)):(this._x=0,this._z=Math.atan2(-tt,it));break;case"YZX":this._z=Math.asin(clamp(nt,-1,1)),Math.abs(nt)<.9999999?(this._x=Math.atan2(-ot,it),this._y=Math.atan2(-st,et)):(this._x=0,this._y=Math.atan2(rt,ut));break;case"XZY":this._z=Math.asin(-clamp(tt,-1,1)),Math.abs(tt)<.9999999?(this._x=Math.atan2(ct,it),this._y=Math.atan2(rt,et)):(this._x=Math.atan2(-ot,ut),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+a)}return this._order=a,j===!0&&this._onChangeCallback(),this}setFromQuaternion(o,a,j){return _matrix$1.makeRotationFromQuaternion(o),this.setFromRotationMatrix(_matrix$1,a,j)}setFromVector3(o,a=this._order){return this.set(o.x,o.y,o.z,a)}reorder(o){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,o)}equals(o){return o._x===this._x&&o._y===this._y&&o._z===this._z&&o._order===this._order}fromArray(o){return this._x=o[0],this._y=o[1],this._z=o[2],o[3]!==void 0&&(this._order=o[3]),this._onChangeCallback(),this}toArray(o=[],a=0){return o[a]=this._x,o[a+1]=this._y,o[a+2]=this._z,o[a+3]=this._order,o}_onChange(o){return this._onChangeCallback=o,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(o){this.mask=(1<<o|0)>>>0}enable(o){this.mask|=1<<o|0}enableAll(){this.mask=-1}toggle(o){this.mask^=1<<o|0}disable(o){this.mask&=~(1<<o|0)}disableAll(){this.mask=0}test(o){return(this.mask&o.mask)!==0}isEnabled(o){return(this.mask&(1<<o|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const o=new Vector3,a=new Euler,j=new Quaternion,_e=new Vector3(1,1,1);function et(){j.setFromEuler(a,!1)}function tt(){a.setFromQuaternion(j,void 0,!1)}a._onChange(et),j._onChange(tt),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:o},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:j},scale:{configurable:!0,enumerable:!0,value:_e},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(o){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(o),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(o){return this.quaternion.premultiply(o),this}setRotationFromAxisAngle(o,a){this.quaternion.setFromAxisAngle(o,a)}setRotationFromEuler(o){this.quaternion.setFromEuler(o,!0)}setRotationFromMatrix(o){this.quaternion.setFromRotationMatrix(o)}setRotationFromQuaternion(o){this.quaternion.copy(o)}rotateOnAxis(o,a){return _q1.setFromAxisAngle(o,a),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(o,a){return _q1.setFromAxisAngle(o,a),this.quaternion.premultiply(_q1),this}rotateX(o){return this.rotateOnAxis(_xAxis,o)}rotateY(o){return this.rotateOnAxis(_yAxis,o)}rotateZ(o){return this.rotateOnAxis(_zAxis,o)}translateOnAxis(o,a){return _v1$4.copy(o).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(a)),this}translateX(o){return this.translateOnAxis(_xAxis,o)}translateY(o){return this.translateOnAxis(_yAxis,o)}translateZ(o){return this.translateOnAxis(_zAxis,o)}localToWorld(o){return this.updateWorldMatrix(!0,!1),o.applyMatrix4(this.matrixWorld)}worldToLocal(o){return this.updateWorldMatrix(!0,!1),o.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(o,a,j){o.isVector3?_target.copy(o):_target.set(o,a,j);const _e=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),_e&&(_m1$1.extractRotation(_e.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(o){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}return o===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",o),this):(o&&o.isObject3D?(o.parent!==null&&o.parent.remove(o),o.parent=this,this.children.push(o),o.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",o),this)}remove(o){if(arguments.length>1){for(let j=0;j<arguments.length;j++)this.remove(arguments[j]);return this}const a=this.children.indexOf(o);return a!==-1&&(o.parent=null,this.children.splice(a,1),o.dispatchEvent(_removedEvent)),this}removeFromParent(){const o=this.parent;return o!==null&&o.remove(this),this}clear(){for(let o=0;o<this.children.length;o++){const a=this.children[o];a.parent=null,a.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(o){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),o.parent!==null&&(o.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(o.parent.matrixWorld)),o.applyMatrix4(_m1$1),this.add(o),o.updateWorldMatrix(!1,!0),this}getObjectById(o){return this.getObjectByProperty("id",o)}getObjectByName(o){return this.getObjectByProperty("name",o)}getObjectByProperty(o,a){if(this[o]===a)return this;for(let j=0,_e=this.children.length;j<_e;j++){const tt=this.children[j].getObjectByProperty(o,a);if(tt!==void 0)return tt}}getObjectsByProperty(o,a){let j=[];this[o]===a&&j.push(this);for(let _e=0,et=this.children.length;_e<et;_e++){const tt=this.children[_e].getObjectsByProperty(o,a);tt.length>0&&(j=j.concat(tt))}return j}getWorldPosition(o){return this.updateWorldMatrix(!0,!1),o.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,o,_scale$2),o}getWorldScale(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,o),o}getWorldDirection(o){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return o.set(a[8],a[9],a[10]).normalize()}raycast(){}traverse(o){o(this);const a=this.children;for(let j=0,_e=a.length;j<_e;j++)a[j].traverse(o)}traverseVisible(o){if(this.visible===!1)return;o(this);const a=this.children;for(let j=0,_e=a.length;j<_e;j++)a[j].traverseVisible(o)}traverseAncestors(o){const a=this.parent;a!==null&&(o(a),a.traverseAncestors(o))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(o){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||o)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,o=!0);const a=this.children;for(let j=0,_e=a.length;j<_e;j++){const et=a[j];(et.matrixWorldAutoUpdate===!0||o===!0)&&et.updateMatrixWorld(o)}}updateWorldMatrix(o,a){const j=this.parent;if(o===!0&&j!==null&&j.matrixWorldAutoUpdate===!0&&j.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),a===!0){const _e=this.children;for(let et=0,tt=_e.length;et<tt;et++){const rt=_e[et];rt.matrixWorldAutoUpdate===!0&&rt.updateWorldMatrix(!1,!0)}}}toJSON(o){const a=o===void 0||typeof o=="string",j={};a&&(o={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},j.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const _e={};_e.uuid=this.uuid,_e.type=this.type,this.name!==""&&(_e.name=this.name),this.castShadow===!0&&(_e.castShadow=!0),this.receiveShadow===!0&&(_e.receiveShadow=!0),this.visible===!1&&(_e.visible=!1),this.frustumCulled===!1&&(_e.frustumCulled=!1),this.renderOrder!==0&&(_e.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(_e.userData=this.userData),_e.layers=this.layers.mask,_e.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(_e.matrixAutoUpdate=!1),this.isInstancedMesh&&(_e.type="InstancedMesh",_e.count=this.count,_e.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(_e.instanceColor=this.instanceColor.toJSON()));function et(rt,nt){return rt[nt.uuid]===void 0&&(rt[nt.uuid]=nt.toJSON(o)),nt.uuid}if(this.isScene)this.background&&(this.background.isColor?_e.background=this.background.toJSON():this.background.isTexture&&(_e.background=this.background.toJSON(o).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(_e.environment=this.environment.toJSON(o).uuid);else if(this.isMesh||this.isLine||this.isPoints){_e.geometry=et(o.geometries,this.geometry);const rt=this.geometry.parameters;if(rt!==void 0&&rt.shapes!==void 0){const nt=rt.shapes;if(Array.isArray(nt))for(let it=0,ot=nt.length;it<ot;it++){const st=nt[it];et(o.shapes,st)}else et(o.shapes,nt)}}if(this.isSkinnedMesh&&(_e.bindMode=this.bindMode,_e.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(et(o.skeletons,this.skeleton),_e.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const rt=[];for(let nt=0,it=this.material.length;nt<it;nt++)rt.push(et(o.materials,this.material[nt]));_e.material=rt}else _e.material=et(o.materials,this.material);if(this.children.length>0){_e.children=[];for(let rt=0;rt<this.children.length;rt++)_e.children.push(this.children[rt].toJSON(o).object)}if(this.animations.length>0){_e.animations=[];for(let rt=0;rt<this.animations.length;rt++){const nt=this.animations[rt];_e.animations.push(et(o.animations,nt))}}if(a){const rt=tt(o.geometries),nt=tt(o.materials),it=tt(o.textures),ot=tt(o.images),st=tt(o.shapes),ct=tt(o.skeletons),ut=tt(o.animations),dt=tt(o.nodes);rt.length>0&&(j.geometries=rt),nt.length>0&&(j.materials=nt),it.length>0&&(j.textures=it),ot.length>0&&(j.images=ot),st.length>0&&(j.shapes=st),ct.length>0&&(j.skeletons=ct),ut.length>0&&(j.animations=ut),dt.length>0&&(j.nodes=dt)}return j.object=_e,j;function tt(rt){const nt=[];for(const it in rt){const ot=rt[it];delete ot.metadata,nt.push(ot)}return nt}}clone(o){return new this.constructor().copy(this,o)}copy(o,a=!0){if(this.name=o.name,this.up.copy(o.up),this.position.copy(o.position),this.rotation.order=o.rotation.order,this.quaternion.copy(o.quaternion),this.scale.copy(o.scale),this.matrix.copy(o.matrix),this.matrixWorld.copy(o.matrixWorld),this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrixWorldNeedsUpdate=o.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=o.matrixWorldAutoUpdate,this.layers.mask=o.layers.mask,this.visible=o.visible,this.castShadow=o.castShadow,this.receiveShadow=o.receiveShadow,this.frustumCulled=o.frustumCulled,this.renderOrder=o.renderOrder,this.userData=JSON.parse(JSON.stringify(o.userData)),a===!0)for(let j=0;j<o.children.length;j++){const _e=o.children[j];this.add(_e.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(o=new Vector3,a=new Vector3,j=new Vector3){this.a=o,this.b=a,this.c=j}static getNormal(o,a,j,_e){_e.subVectors(j,a),_v0$1.subVectors(o,a),_e.cross(_v0$1);const et=_e.lengthSq();return et>0?_e.multiplyScalar(1/Math.sqrt(et)):_e.set(0,0,0)}static getBarycoord(o,a,j,_e,et){_v0$1.subVectors(_e,a),_v1$3.subVectors(j,a),_v2$2.subVectors(o,a);const tt=_v0$1.dot(_v0$1),rt=_v0$1.dot(_v1$3),nt=_v0$1.dot(_v2$2),it=_v1$3.dot(_v1$3),ot=_v1$3.dot(_v2$2),st=tt*it-rt*rt;if(st===0)return et.set(-2,-1,-1);const ct=1/st,ut=(it*nt-rt*ot)*ct,dt=(tt*ot-rt*nt)*ct;return et.set(1-ut-dt,dt,ut)}static containsPoint(o,a,j,_e){return this.getBarycoord(o,a,j,_e,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(o,a,j,_e,et,tt,rt,nt){return this.getBarycoord(o,a,j,_e,_v3$1),nt.set(0,0),nt.addScaledVector(et,_v3$1.x),nt.addScaledVector(tt,_v3$1.y),nt.addScaledVector(rt,_v3$1.z),nt}static isFrontFacing(o,a,j,_e){return _v0$1.subVectors(j,a),_v1$3.subVectors(o,a),_v0$1.cross(_v1$3).dot(_e)<0}set(o,a,j){return this.a.copy(o),this.b.copy(a),this.c.copy(j),this}setFromPointsAndIndices(o,a,j,_e){return this.a.copy(o[a]),this.b.copy(o[j]),this.c.copy(o[_e]),this}setFromAttributeAndIndices(o,a,j,_e){return this.a.fromBufferAttribute(o,a),this.b.fromBufferAttribute(o,j),this.c.fromBufferAttribute(o,_e),this}clone(){return new this.constructor().copy(this)}copy(o){return this.a.copy(o.a),this.b.copy(o.b),this.c.copy(o.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(o){return o.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(o){return Triangle.getNormal(this.a,this.b,this.c,o)}getPlane(o){return o.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(o,a){return Triangle.getBarycoord(o,this.a,this.b,this.c,a)}getUV(o,a,j,_e,et){return Triangle.getUV(o,this.a,this.b,this.c,a,j,_e,et)}containsPoint(o){return Triangle.containsPoint(o,this.a,this.b,this.c)}isFrontFacing(o){return Triangle.isFrontFacing(this.a,this.b,this.c,o)}intersectsBox(o){return o.intersectsTriangle(this)}closestPointToPoint(o,a){const j=this.a,_e=this.b,et=this.c;let tt,rt;_vab.subVectors(_e,j),_vac.subVectors(et,j),_vap.subVectors(o,j);const nt=_vab.dot(_vap),it=_vac.dot(_vap);if(nt<=0&&it<=0)return a.copy(j);_vbp.subVectors(o,_e);const ot=_vab.dot(_vbp),st=_vac.dot(_vbp);if(ot>=0&&st<=ot)return a.copy(_e);const ct=nt*st-ot*it;if(ct<=0&&nt>=0&&ot<=0)return tt=nt/(nt-ot),a.copy(j).addScaledVector(_vab,tt);_vcp.subVectors(o,et);const ut=_vab.dot(_vcp),dt=_vac.dot(_vcp);if(dt>=0&&ut<=dt)return a.copy(et);const ft=ut*it-nt*dt;if(ft<=0&&it>=0&&dt<=0)return rt=it/(it-dt),a.copy(j).addScaledVector(_vac,rt);const ht=ot*dt-ut*st;if(ht<=0&&st-ot>=0&&ut-dt>=0)return _vbc.subVectors(et,_e),rt=(st-ot)/(st-ot+(ut-dt)),a.copy(_e).addScaledVector(_vbc,rt);const pt=1/(ht+ft+ct);return tt=ft*pt,rt=ct*pt,a.copy(j).addScaledVector(_vab,tt).addScaledVector(_vac,rt)}equals(o){return o.a.equals(this.a)&&o.b.equals(this.b)&&o.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(o){this._alphaTest>0!=o>0&&this.version++,this._alphaTest=o}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(o){if(o!==void 0)for(const a in o){const j=o[a];if(j===void 0){console.warn("THREE.Material: '"+a+"' parameter is undefined.");continue}const _e=this[a];if(_e===void 0){console.warn("THREE."+this.type+": '"+a+"' is not a property of this material.");continue}_e&&_e.isColor?_e.set(j):_e&&_e.isVector3&&j&&j.isVector3?_e.copy(j):this[a]=j}}toJSON(o){const a=o===void 0||typeof o=="string";a&&(o={textures:{},images:{}});const j={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};j.uuid=this.uuid,j.type=this.type,this.name!==""&&(j.name=this.name),this.color&&this.color.isColor&&(j.color=this.color.getHex()),this.roughness!==void 0&&(j.roughness=this.roughness),this.metalness!==void 0&&(j.metalness=this.metalness),this.sheen!==void 0&&(j.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(j.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(j.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(j.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(j.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(j.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(j.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(j.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(j.shininess=this.shininess),this.clearcoat!==void 0&&(j.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(j.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(j.clearcoatMap=this.clearcoatMap.toJSON(o).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(j.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(o).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(j.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(o).uuid,j.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(j.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(j.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(j.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(j.iridescenceMap=this.iridescenceMap.toJSON(o).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(j.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(o).uuid),this.map&&this.map.isTexture&&(j.map=this.map.toJSON(o).uuid),this.matcap&&this.matcap.isTexture&&(j.matcap=this.matcap.toJSON(o).uuid),this.alphaMap&&this.alphaMap.isTexture&&(j.alphaMap=this.alphaMap.toJSON(o).uuid),this.lightMap&&this.lightMap.isTexture&&(j.lightMap=this.lightMap.toJSON(o).uuid,j.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(j.aoMap=this.aoMap.toJSON(o).uuid,j.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(j.bumpMap=this.bumpMap.toJSON(o).uuid,j.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(j.normalMap=this.normalMap.toJSON(o).uuid,j.normalMapType=this.normalMapType,j.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(j.displacementMap=this.displacementMap.toJSON(o).uuid,j.displacementScale=this.displacementScale,j.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(j.roughnessMap=this.roughnessMap.toJSON(o).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(j.metalnessMap=this.metalnessMap.toJSON(o).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(j.emissiveMap=this.emissiveMap.toJSON(o).uuid),this.specularMap&&this.specularMap.isTexture&&(j.specularMap=this.specularMap.toJSON(o).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(j.specularIntensityMap=this.specularIntensityMap.toJSON(o).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(j.specularColorMap=this.specularColorMap.toJSON(o).uuid),this.envMap&&this.envMap.isTexture&&(j.envMap=this.envMap.toJSON(o).uuid,this.combine!==void 0&&(j.combine=this.combine)),this.envMapIntensity!==void 0&&(j.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(j.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(j.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(j.gradientMap=this.gradientMap.toJSON(o).uuid),this.transmission!==void 0&&(j.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(j.transmissionMap=this.transmissionMap.toJSON(o).uuid),this.thickness!==void 0&&(j.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(j.thicknessMap=this.thicknessMap.toJSON(o).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(j.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(j.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(j.size=this.size),this.shadowSide!==null&&(j.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(j.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(j.blending=this.blending),this.side!==FrontSide&&(j.side=this.side),this.vertexColors&&(j.vertexColors=!0),this.opacity<1&&(j.opacity=this.opacity),this.transparent===!0&&(j.transparent=this.transparent),j.depthFunc=this.depthFunc,j.depthTest=this.depthTest,j.depthWrite=this.depthWrite,j.colorWrite=this.colorWrite,j.stencilWrite=this.stencilWrite,j.stencilWriteMask=this.stencilWriteMask,j.stencilFunc=this.stencilFunc,j.stencilRef=this.stencilRef,j.stencilFuncMask=this.stencilFuncMask,j.stencilFail=this.stencilFail,j.stencilZFail=this.stencilZFail,j.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(j.rotation=this.rotation),this.polygonOffset===!0&&(j.polygonOffset=!0),this.polygonOffsetFactor!==0&&(j.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(j.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(j.linewidth=this.linewidth),this.dashSize!==void 0&&(j.dashSize=this.dashSize),this.gapSize!==void 0&&(j.gapSize=this.gapSize),this.scale!==void 0&&(j.scale=this.scale),this.dithering===!0&&(j.dithering=!0),this.alphaTest>0&&(j.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(j.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(j.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(j.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(j.wireframe=this.wireframe),this.wireframeLinewidth>1&&(j.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(j.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(j.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(j.flatShading=this.flatShading),this.visible===!1&&(j.visible=!1),this.toneMapped===!1&&(j.toneMapped=!1),this.fog===!1&&(j.fog=!1),Object.keys(this.userData).length>0&&(j.userData=this.userData);function _e(et){const tt=[];for(const rt in et){const nt=et[rt];delete nt.metadata,tt.push(nt)}return tt}if(a){const et=_e(o.textures),tt=_e(o.images);et.length>0&&(j.textures=et),tt.length>0&&(j.images=tt)}return j}clone(){return new this.constructor().copy(this)}copy(o){this.name=o.name,this.blending=o.blending,this.side=o.side,this.vertexColors=o.vertexColors,this.opacity=o.opacity,this.transparent=o.transparent,this.blendSrc=o.blendSrc,this.blendDst=o.blendDst,this.blendEquation=o.blendEquation,this.blendSrcAlpha=o.blendSrcAlpha,this.blendDstAlpha=o.blendDstAlpha,this.blendEquationAlpha=o.blendEquationAlpha,this.depthFunc=o.depthFunc,this.depthTest=o.depthTest,this.depthWrite=o.depthWrite,this.stencilWriteMask=o.stencilWriteMask,this.stencilFunc=o.stencilFunc,this.stencilRef=o.stencilRef,this.stencilFuncMask=o.stencilFuncMask,this.stencilFail=o.stencilFail,this.stencilZFail=o.stencilZFail,this.stencilZPass=o.stencilZPass,this.stencilWrite=o.stencilWrite;const a=o.clippingPlanes;let j=null;if(a!==null){const _e=a.length;j=new Array(_e);for(let et=0;et!==_e;++et)j[et]=a[et].clone()}return this.clippingPlanes=j,this.clipIntersection=o.clipIntersection,this.clipShadows=o.clipShadows,this.shadowSide=o.shadowSide,this.colorWrite=o.colorWrite,this.precision=o.precision,this.polygonOffset=o.polygonOffset,this.polygonOffsetFactor=o.polygonOffsetFactor,this.polygonOffsetUnits=o.polygonOffsetUnits,this.dithering=o.dithering,this.alphaTest=o.alphaTest,this.alphaToCoverage=o.alphaToCoverage,this.premultipliedAlpha=o.premultipliedAlpha,this.forceSinglePass=o.forceSinglePass,this.visible=o.visible,this.toneMapped=o.toneMapped,this.userData=JSON.parse(JSON.stringify(o.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(o){o===!0&&this.version++}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb($,o,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?$+(o-$)*6*a:a<1/2?o:a<2/3?$+(o-$)*6*(2/3-a):$}class Color{constructor(o,a,j){return this.isColor=!0,this.r=1,this.g=1,this.b=1,a===void 0&&j===void 0?this.set(o):this.setRGB(o,a,j)}set(o){return o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o),this}setScalar(o){return this.r=o,this.g=o,this.b=o,this}setHex(o,a=SRGBColorSpace){return o=Math.floor(o),this.r=(o>>16&255)/255,this.g=(o>>8&255)/255,this.b=(o&255)/255,ColorManagement.toWorkingColorSpace(this,a),this}setRGB(o,a,j,_e=ColorManagement.workingColorSpace){return this.r=o,this.g=a,this.b=j,ColorManagement.toWorkingColorSpace(this,_e),this}setHSL(o,a,j,_e=ColorManagement.workingColorSpace){if(o=euclideanModulo(o,1),a=clamp(a,0,1),j=clamp(j,0,1),a===0)this.r=this.g=this.b=j;else{const et=j<=.5?j*(1+a):j+a-j*a,tt=2*j-et;this.r=hue2rgb(tt,et,o+1/3),this.g=hue2rgb(tt,et,o),this.b=hue2rgb(tt,et,o-1/3)}return ColorManagement.toWorkingColorSpace(this,_e),this}setStyle(o,a=SRGBColorSpace){function j(et){et!==void 0&&parseFloat(et)<1&&console.warn("THREE.Color: Alpha component of "+o+" will be ignored.")}let _e;if(_e=/^(\w+)\(([^\)]*)\)/.exec(o)){let et;const tt=_e[1],rt=_e[2];switch(tt){case"rgb":case"rgba":if(et=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(rt))return this.r=Math.min(255,parseInt(et[1],10))/255,this.g=Math.min(255,parseInt(et[2],10))/255,this.b=Math.min(255,parseInt(et[3],10))/255,ColorManagement.toWorkingColorSpace(this,a),j(et[4]),this;if(et=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(rt))return this.r=Math.min(100,parseInt(et[1],10))/100,this.g=Math.min(100,parseInt(et[2],10))/100,this.b=Math.min(100,parseInt(et[3],10))/100,ColorManagement.toWorkingColorSpace(this,a),j(et[4]),this;break;case"hsl":case"hsla":if(et=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(rt)){const nt=parseFloat(et[1])/360,it=parseFloat(et[2])/100,ot=parseFloat(et[3])/100;return j(et[4]),this.setHSL(nt,it,ot,a)}break;default:console.warn("THREE.Color: Unknown color model "+o)}}else if(_e=/^\#([A-Fa-f\d]+)$/.exec(o)){const et=_e[1],tt=et.length;if(tt===3)return this.r=parseInt(et.charAt(0)+et.charAt(0),16)/255,this.g=parseInt(et.charAt(1)+et.charAt(1),16)/255,this.b=parseInt(et.charAt(2)+et.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,a),this;if(tt===6)return this.r=parseInt(et.charAt(0)+et.charAt(1),16)/255,this.g=parseInt(et.charAt(2)+et.charAt(3),16)/255,this.b=parseInt(et.charAt(4)+et.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,a),this;console.warn("THREE.Color: Invalid hex color "+o)}else if(o&&o.length>0)return this.setColorName(o,a);return this}setColorName(o,a=SRGBColorSpace){const j=_colorKeywords[o.toLowerCase()];return j!==void 0?this.setHex(j,a):console.warn("THREE.Color: Unknown color "+o),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(o){return this.r=o.r,this.g=o.g,this.b=o.b,this}copySRGBToLinear(o){return this.r=SRGBToLinear(o.r),this.g=SRGBToLinear(o.g),this.b=SRGBToLinear(o.b),this}copyLinearToSRGB(o){return this.r=LinearToSRGB(o.r),this.g=LinearToSRGB(o.g),this.b=LinearToSRGB(o.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(o=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),o),clamp(_color.r*255,0,255)<<16^clamp(_color.g*255,0,255)<<8^clamp(_color.b*255,0,255)<<0}getHexString(o=SRGBColorSpace){return("000000"+this.getHex(o).toString(16)).slice(-6)}getHSL(o,a=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),a);const j=_color.r,_e=_color.g,et=_color.b,tt=Math.max(j,_e,et),rt=Math.min(j,_e,et);let nt,it;const ot=(rt+tt)/2;if(rt===tt)nt=0,it=0;else{const st=tt-rt;switch(it=ot<=.5?st/(tt+rt):st/(2-tt-rt),tt){case j:nt=(_e-et)/st+(_e<et?6:0);break;case _e:nt=(et-j)/st+2;break;case et:nt=(j-_e)/st+4;break}nt/=6}return o.h=nt,o.s=it,o.l=ot,o}getRGB(o,a=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),a),o.r=_color.r,o.g=_color.g,o.b=_color.b,o}getStyle(o=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),o);const a=_color.r,j=_color.g,_e=_color.b;return o!==SRGBColorSpace?`color(${o} ${a.toFixed(3)} ${j.toFixed(3)} ${_e.toFixed(3)})`:`rgb(${a*255|0},${j*255|0},${_e*255|0})`}offsetHSL(o,a,j){return this.getHSL(_hslA),_hslA.h+=o,_hslA.s+=a,_hslA.l+=j,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(o){return this.r+=o.r,this.g+=o.g,this.b+=o.b,this}addColors(o,a){return this.r=o.r+a.r,this.g=o.g+a.g,this.b=o.b+a.b,this}addScalar(o){return this.r+=o,this.g+=o,this.b+=o,this}sub(o){return this.r=Math.max(0,this.r-o.r),this.g=Math.max(0,this.g-o.g),this.b=Math.max(0,this.b-o.b),this}multiply(o){return this.r*=o.r,this.g*=o.g,this.b*=o.b,this}multiplyScalar(o){return this.r*=o,this.g*=o,this.b*=o,this}lerp(o,a){return this.r+=(o.r-this.r)*a,this.g+=(o.g-this.g)*a,this.b+=(o.b-this.b)*a,this}lerpColors(o,a,j){return this.r=o.r+(a.r-o.r)*j,this.g=o.g+(a.g-o.g)*j,this.b=o.b+(a.b-o.b)*j,this}lerpHSL(o,a){this.getHSL(_hslA),o.getHSL(_hslB);const j=lerp(_hslA.h,_hslB.h,a),_e=lerp(_hslA.s,_hslB.s,a),et=lerp(_hslA.l,_hslB.l,a);return this.setHSL(j,_e,et),this}equals(o){return o.r===this.r&&o.g===this.g&&o.b===this.b}fromArray(o,a=0){return this.r=o[a],this.g=o[a+1],this.b=o[a+2],this}toArray(o=[],a=0){return o[a]=this.r,o[a+1]=this.g,o[a+2]=this.b,o}fromBufferAttribute(o,a){return this.r=o.getX(a),this.g=o.getY(a),this.b=o.getZ(a),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;class MeshBasicMaterial extends Material{constructor(o){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.fog=o.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(o,a,j=!1){if(Array.isArray(o))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=o,this.itemSize=a,this.count=o!==void 0?o.length/a:0,this.normalized=j,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(o){o===!0&&this.version++}setUsage(o){return this.usage=o,this}copy(o){return this.name=o.name,this.array=new o.array.constructor(o.array),this.itemSize=o.itemSize,this.count=o.count,this.normalized=o.normalized,this.usage=o.usage,this}copyAt(o,a,j){o*=this.itemSize,j*=a.itemSize;for(let _e=0,et=this.itemSize;_e<et;_e++)this.array[o+_e]=a.array[j+_e];return this}copyArray(o){return this.array.set(o),this}applyMatrix3(o){if(this.itemSize===2)for(let a=0,j=this.count;a<j;a++)_vector2$1.fromBufferAttribute(this,a),_vector2$1.applyMatrix3(o),this.setXY(a,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let a=0,j=this.count;a<j;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.applyMatrix3(o),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(o){for(let a=0,j=this.count;a<j;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.applyMatrix4(o),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(o){for(let a=0,j=this.count;a<j;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.applyNormalMatrix(o),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(o){for(let a=0,j=this.count;a<j;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.transformDirection(o),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(o,a=0){return this.array.set(o,a),this}getX(o){let a=this.array[o*this.itemSize];return this.normalized&&(a=denormalize(a,this.array)),a}setX(o,a){return this.normalized&&(a=normalize(a,this.array)),this.array[o*this.itemSize]=a,this}getY(o){let a=this.array[o*this.itemSize+1];return this.normalized&&(a=denormalize(a,this.array)),a}setY(o,a){return this.normalized&&(a=normalize(a,this.array)),this.array[o*this.itemSize+1]=a,this}getZ(o){let a=this.array[o*this.itemSize+2];return this.normalized&&(a=denormalize(a,this.array)),a}setZ(o,a){return this.normalized&&(a=normalize(a,this.array)),this.array[o*this.itemSize+2]=a,this}getW(o){let a=this.array[o*this.itemSize+3];return this.normalized&&(a=denormalize(a,this.array)),a}setW(o,a){return this.normalized&&(a=normalize(a,this.array)),this.array[o*this.itemSize+3]=a,this}setXY(o,a,j){return o*=this.itemSize,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array)),this.array[o+0]=a,this.array[o+1]=j,this}setXYZ(o,a,j,_e){return o*=this.itemSize,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array),_e=normalize(_e,this.array)),this.array[o+0]=a,this.array[o+1]=j,this.array[o+2]=_e,this}setXYZW(o,a,j,_e,et){return o*=this.itemSize,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array),_e=normalize(_e,this.array),et=normalize(et,this.array)),this.array[o+0]=a,this.array[o+1]=j,this.array[o+2]=_e,this.array[o+3]=et,this}onUpload(o){return this.onUploadCallback=o,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const o={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(o.name=this.name),this.usage!==StaticDrawUsage&&(o.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(o.updateRange=this.updateRange),o}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Int8Array(o),a,j)}}class Uint8BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint8Array(o),a,j)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint8ClampedArray(o),a,j)}}class Int16BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Int16Array(o),a,j)}}class Uint16BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint16Array(o),a,j)}}class Int32BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Int32Array(o),a,j)}}class Uint32BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint32Array(o),a,j)}}class Float16BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint16Array(o),a,j),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Float32Array(o),a,j)}}class Float64BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Float64Array(o),a,j)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(o){return Array.isArray(o)?this.index=new(arrayNeedsUint32(o)?Uint32BufferAttribute:Uint16BufferAttribute)(o,1):this.index=o,this}getAttribute(o){return this.attributes[o]}setAttribute(o,a){return this.attributes[o]=a,this}deleteAttribute(o){return delete this.attributes[o],this}hasAttribute(o){return this.attributes[o]!==void 0}addGroup(o,a,j=0){this.groups.push({start:o,count:a,materialIndex:j})}clearGroups(){this.groups=[]}setDrawRange(o,a){this.drawRange.start=o,this.drawRange.count=a}applyMatrix4(o){const a=this.attributes.position;a!==void 0&&(a.applyMatrix4(o),a.needsUpdate=!0);const j=this.attributes.normal;if(j!==void 0){const et=new Matrix3().getNormalMatrix(o);j.applyNormalMatrix(et),j.needsUpdate=!0}const _e=this.attributes.tangent;return _e!==void 0&&(_e.transformDirection(o),_e.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(o){return _m1.makeRotationFromQuaternion(o),this.applyMatrix4(_m1),this}rotateX(o){return _m1.makeRotationX(o),this.applyMatrix4(_m1),this}rotateY(o){return _m1.makeRotationY(o),this.applyMatrix4(_m1),this}rotateZ(o){return _m1.makeRotationZ(o),this.applyMatrix4(_m1),this}translate(o,a,j){return _m1.makeTranslation(o,a,j),this.applyMatrix4(_m1),this}scale(o,a,j){return _m1.makeScale(o,a,j),this.applyMatrix4(_m1),this}lookAt(o){return _obj.lookAt(o),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(o){const a=[];for(let j=0,_e=o.length;j<_e;j++){const et=o[j];a.push(et.x,et.y,et.z||0)}return this.setAttribute("position",new Float32BufferAttribute(a,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const o=this.attributes.position,a=this.morphAttributes.position;if(o&&o.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(o!==void 0){if(this.boundingBox.setFromBufferAttribute(o),a)for(let j=0,_e=a.length;j<_e;j++){const et=a[j];_box$1.setFromBufferAttribute(et),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const o=this.attributes.position,a=this.morphAttributes.position;if(o&&o.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(o){const j=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(o),a)for(let et=0,tt=a.length;et<tt;et++){const rt=a[et];_boxMorphTargets.setFromBufferAttribute(rt),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(j);let _e=0;for(let et=0,tt=o.count;et<tt;et++)_vector$8.fromBufferAttribute(o,et),_e=Math.max(_e,j.distanceToSquared(_vector$8));if(a)for(let et=0,tt=a.length;et<tt;et++){const rt=a[et],nt=this.morphTargetsRelative;for(let it=0,ot=rt.count;it<ot;it++)_vector$8.fromBufferAttribute(rt,it),nt&&(_offset.fromBufferAttribute(o,it),_vector$8.add(_offset)),_e=Math.max(_e,j.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(_e),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const o=this.index,a=this.attributes;if(o===null||a.position===void 0||a.normal===void 0||a.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const j=o.array,_e=a.position.array,et=a.normal.array,tt=a.uv.array,rt=_e.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*rt),4));const nt=this.getAttribute("tangent").array,it=[],ot=[];for(let Ut=0;Ut<rt;Ut++)it[Ut]=new Vector3,ot[Ut]=new Vector3;const st=new Vector3,ct=new Vector3,ut=new Vector3,dt=new Vector2,ft=new Vector2,ht=new Vector2,pt=new Vector3,yt=new Vector3;function gt(Ut,jt,Xt){st.fromArray(_e,Ut*3),ct.fromArray(_e,jt*3),ut.fromArray(_e,Xt*3),dt.fromArray(tt,Ut*2),ft.fromArray(tt,jt*2),ht.fromArray(tt,Xt*2),ct.sub(st),ut.sub(st),ft.sub(dt),ht.sub(dt);const kt=1/(ft.x*ht.y-ht.x*ft.y);isFinite(kt)&&(pt.copy(ct).multiplyScalar(ht.y).addScaledVector(ut,-ft.y).multiplyScalar(kt),yt.copy(ut).multiplyScalar(ft.x).addScaledVector(ct,-ht.x).multiplyScalar(kt),it[Ut].add(pt),it[jt].add(pt),it[Xt].add(pt),ot[Ut].add(yt),ot[jt].add(yt),ot[Xt].add(yt))}let xt=this.groups;xt.length===0&&(xt=[{start:0,count:j.length}]);for(let Ut=0,jt=xt.length;Ut<jt;++Ut){const Xt=xt[Ut],kt=Xt.start,vt=Xt.count;for(let Et=kt,Lt=kt+vt;Et<Lt;Et+=3)gt(j[Et+0],j[Et+1],j[Et+2])}const wt=new Vector3,Mt=new Vector3,It=new Vector3,Tt=new Vector3;function Dt(Ut){It.fromArray(et,Ut*3),Tt.copy(It);const jt=it[Ut];wt.copy(jt),wt.sub(It.multiplyScalar(It.dot(jt))).normalize(),Mt.crossVectors(Tt,jt);const kt=Mt.dot(ot[Ut])<0?-1:1;nt[Ut*4]=wt.x,nt[Ut*4+1]=wt.y,nt[Ut*4+2]=wt.z,nt[Ut*4+3]=kt}for(let Ut=0,jt=xt.length;Ut<jt;++Ut){const Xt=xt[Ut],kt=Xt.start,vt=Xt.count;for(let Et=kt,Lt=kt+vt;Et<Lt;Et+=3)Dt(j[Et+0]),Dt(j[Et+1]),Dt(j[Et+2])}}computeVertexNormals(){const o=this.index,a=this.getAttribute("position");if(a!==void 0){let j=this.getAttribute("normal");if(j===void 0)j=new BufferAttribute(new Float32Array(a.count*3),3),this.setAttribute("normal",j);else for(let ct=0,ut=j.count;ct<ut;ct++)j.setXYZ(ct,0,0,0);const _e=new Vector3,et=new Vector3,tt=new Vector3,rt=new Vector3,nt=new Vector3,it=new Vector3,ot=new Vector3,st=new Vector3;if(o)for(let ct=0,ut=o.count;ct<ut;ct+=3){const dt=o.getX(ct+0),ft=o.getX(ct+1),ht=o.getX(ct+2);_e.fromBufferAttribute(a,dt),et.fromBufferAttribute(a,ft),tt.fromBufferAttribute(a,ht),ot.subVectors(tt,et),st.subVectors(_e,et),ot.cross(st),rt.fromBufferAttribute(j,dt),nt.fromBufferAttribute(j,ft),it.fromBufferAttribute(j,ht),rt.add(ot),nt.add(ot),it.add(ot),j.setXYZ(dt,rt.x,rt.y,rt.z),j.setXYZ(ft,nt.x,nt.y,nt.z),j.setXYZ(ht,it.x,it.y,it.z)}else for(let ct=0,ut=a.count;ct<ut;ct+=3)_e.fromBufferAttribute(a,ct+0),et.fromBufferAttribute(a,ct+1),tt.fromBufferAttribute(a,ct+2),ot.subVectors(tt,et),st.subVectors(_e,et),ot.cross(st),j.setXYZ(ct+0,ot.x,ot.y,ot.z),j.setXYZ(ct+1,ot.x,ot.y,ot.z),j.setXYZ(ct+2,ot.x,ot.y,ot.z);this.normalizeNormals(),j.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const o=this.attributes.normal;for(let a=0,j=o.count;a<j;a++)_vector$8.fromBufferAttribute(o,a),_vector$8.normalize(),o.setXYZ(a,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function o(rt,nt){const it=rt.array,ot=rt.itemSize,st=rt.normalized,ct=new it.constructor(nt.length*ot);let ut=0,dt=0;for(let ft=0,ht=nt.length;ft<ht;ft++){rt.isInterleavedBufferAttribute?ut=nt[ft]*rt.data.stride+rt.offset:ut=nt[ft]*ot;for(let pt=0;pt<ot;pt++)ct[dt++]=it[ut++]}return new BufferAttribute(ct,ot,st)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const a=new BufferGeometry,j=this.index.array,_e=this.attributes;for(const rt in _e){const nt=_e[rt],it=o(nt,j);a.setAttribute(rt,it)}const et=this.morphAttributes;for(const rt in et){const nt=[],it=et[rt];for(let ot=0,st=it.length;ot<st;ot++){const ct=it[ot],ut=o(ct,j);nt.push(ut)}a.morphAttributes[rt]=nt}a.morphTargetsRelative=this.morphTargetsRelative;const tt=this.groups;for(let rt=0,nt=tt.length;rt<nt;rt++){const it=tt[rt];a.addGroup(it.start,it.count,it.materialIndex)}return a}toJSON(){const o={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),Object.keys(this.userData).length>0&&(o.userData=this.userData),this.parameters!==void 0){const nt=this.parameters;for(const it in nt)nt[it]!==void 0&&(o[it]=nt[it]);return o}o.data={attributes:{}};const a=this.index;a!==null&&(o.data.index={type:a.array.constructor.name,array:Array.prototype.slice.call(a.array)});const j=this.attributes;for(const nt in j){const it=j[nt];o.data.attributes[nt]=it.toJSON(o.data)}const _e={};let et=!1;for(const nt in this.morphAttributes){const it=this.morphAttributes[nt],ot=[];for(let st=0,ct=it.length;st<ct;st++){const ut=it[st];ot.push(ut.toJSON(o.data))}ot.length>0&&(_e[nt]=ot,et=!0)}et&&(o.data.morphAttributes=_e,o.data.morphTargetsRelative=this.morphTargetsRelative);const tt=this.groups;tt.length>0&&(o.data.groups=JSON.parse(JSON.stringify(tt)));const rt=this.boundingSphere;return rt!==null&&(o.data.boundingSphere={center:rt.center.toArray(),radius:rt.radius}),o}clone(){return new this.constructor().copy(this)}copy(o){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const a={};this.name=o.name;const j=o.index;j!==null&&this.setIndex(j.clone(a));const _e=o.attributes;for(const it in _e){const ot=_e[it];this.setAttribute(it,ot.clone(a))}const et=o.morphAttributes;for(const it in et){const ot=[],st=et[it];for(let ct=0,ut=st.length;ct<ut;ct++)ot.push(st[ct].clone(a));this.morphAttributes[it]=ot}this.morphTargetsRelative=o.morphTargetsRelative;const tt=o.groups;for(let it=0,ot=tt.length;it<ot;it++){const st=tt[it];this.addGroup(st.start,st.count,st.materialIndex)}const rt=o.boundingBox;rt!==null&&(this.boundingBox=rt.clone());const nt=o.boundingSphere;return nt!==null&&(this.boundingSphere=nt.clone()),this.drawRange.start=o.drawRange.start,this.drawRange.count=o.drawRange.count,this.userData=o.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(o=new BufferGeometry,a=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=o,this.material=a,this.updateMorphTargets()}copy(o,a){return super.copy(o,a),o.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=o.morphTargetInfluences.slice()),o.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},o.morphTargetDictionary)),this.material=o.material,this.geometry=o.geometry,this}updateMorphTargets(){const a=this.geometry.morphAttributes,j=Object.keys(a);if(j.length>0){const _e=a[j[0]];if(_e!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let et=0,tt=_e.length;et<tt;et++){const rt=_e[et].name||String(et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[rt]=et}}}}getVertexPosition(o,a){const j=this.geometry,_e=j.attributes.position,et=j.morphAttributes.position,tt=j.morphTargetsRelative;a.fromBufferAttribute(_e,o);const rt=this.morphTargetInfluences;if(et&&rt){_morphA.set(0,0,0);for(let nt=0,it=et.length;nt<it;nt++){const ot=rt[nt],st=et[nt];ot!==0&&(_tempA.fromBufferAttribute(st,o),tt?_morphA.addScaledVector(_tempA,ot):_morphA.addScaledVector(_tempA.sub(a),ot))}a.add(_morphA)}return this.isSkinnedMesh&&this.boneTransform(o,a),a}raycast(o,a){const j=this.geometry,_e=this.material,et=this.matrixWorld;if(_e===void 0||(j.boundingSphere===null&&j.computeBoundingSphere(),_sphere$3.copy(j.boundingSphere),_sphere$3.applyMatrix4(et),_ray$2.copy(o.ray).recast(o.near),_sphere$3.containsPoint(_ray$2.origin)===!1&&(_ray$2.intersectSphere(_sphere$3,_sphereHitAt)===null||_ray$2.origin.distanceToSquared(_sphereHitAt)>(o.far-o.near)**2))||(_inverseMatrix$2.copy(et).invert(),_ray$2.copy(o.ray).applyMatrix4(_inverseMatrix$2),j.boundingBox!==null&&_ray$2.intersectsBox(j.boundingBox)===!1))return;let tt;const rt=j.index,nt=j.attributes.position,it=j.attributes.uv,ot=j.attributes.uv2,st=j.groups,ct=j.drawRange;if(rt!==null)if(Array.isArray(_e))for(let ut=0,dt=st.length;ut<dt;ut++){const ft=st[ut],ht=_e[ft.materialIndex],pt=Math.max(ft.start,ct.start),yt=Math.min(rt.count,Math.min(ft.start+ft.count,ct.start+ct.count));for(let gt=pt,xt=yt;gt<xt;gt+=3){const wt=rt.getX(gt),Mt=rt.getX(gt+1),It=rt.getX(gt+2);tt=checkBufferGeometryIntersection(this,ht,o,_ray$2,it,ot,wt,Mt,It),tt&&(tt.faceIndex=Math.floor(gt/3),tt.face.materialIndex=ft.materialIndex,a.push(tt))}}else{const ut=Math.max(0,ct.start),dt=Math.min(rt.count,ct.start+ct.count);for(let ft=ut,ht=dt;ft<ht;ft+=3){const pt=rt.getX(ft),yt=rt.getX(ft+1),gt=rt.getX(ft+2);tt=checkBufferGeometryIntersection(this,_e,o,_ray$2,it,ot,pt,yt,gt),tt&&(tt.faceIndex=Math.floor(ft/3),a.push(tt))}}else if(nt!==void 0)if(Array.isArray(_e))for(let ut=0,dt=st.length;ut<dt;ut++){const ft=st[ut],ht=_e[ft.materialIndex],pt=Math.max(ft.start,ct.start),yt=Math.min(nt.count,Math.min(ft.start+ft.count,ct.start+ct.count));for(let gt=pt,xt=yt;gt<xt;gt+=3){const wt=gt,Mt=gt+1,It=gt+2;tt=checkBufferGeometryIntersection(this,ht,o,_ray$2,it,ot,wt,Mt,It),tt&&(tt.faceIndex=Math.floor(gt/3),tt.face.materialIndex=ft.materialIndex,a.push(tt))}}else{const ut=Math.max(0,ct.start),dt=Math.min(nt.count,ct.start+ct.count);for(let ft=ut,ht=dt;ft<ht;ft+=3){const pt=ft,yt=ft+1,gt=ft+2;tt=checkBufferGeometryIntersection(this,_e,o,_ray$2,it,ot,pt,yt,gt),tt&&(tt.faceIndex=Math.floor(ft/3),a.push(tt))}}}}function checkIntersection($,o,a,j,_e,et,tt,rt){let nt;if(o.side===BackSide?nt=j.intersectTriangle(tt,et,_e,!0,rt):nt=j.intersectTriangle(_e,et,tt,o.side===FrontSide,rt),nt===null)return null;_intersectionPointWorld.copy(rt),_intersectionPointWorld.applyMatrix4($.matrixWorld);const it=a.ray.origin.distanceTo(_intersectionPointWorld);return it<a.near||it>a.far?null:{distance:it,point:_intersectionPointWorld.clone(),object:$}}function checkBufferGeometryIntersection($,o,a,j,_e,et,tt,rt,nt){$.getVertexPosition(tt,_vA$1),$.getVertexPosition(rt,_vB$1),$.getVertexPosition(nt,_vC$1);const it=checkIntersection($,o,a,j,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(it){_e&&(_uvA$1.fromBufferAttribute(_e,tt),_uvB$1.fromBufferAttribute(_e,rt),_uvC$1.fromBufferAttribute(_e,nt),it.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),et&&(_uvA$1.fromBufferAttribute(et,tt),_uvB$1.fromBufferAttribute(et,rt),_uvC$1.fromBufferAttribute(et,nt),it.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const ot={a:tt,b:rt,c:nt,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ot.normal),it.face=ot}return it}class BoxGeometry extends BufferGeometry{constructor(o=1,a=1,j=1,_e=1,et=1,tt=1){super(),this.type="BoxGeometry",this.parameters={width:o,height:a,depth:j,widthSegments:_e,heightSegments:et,depthSegments:tt};const rt=this;_e=Math.floor(_e),et=Math.floor(et),tt=Math.floor(tt);const nt=[],it=[],ot=[],st=[];let ct=0,ut=0;dt("z","y","x",-1,-1,j,a,o,tt,et,0),dt("z","y","x",1,-1,j,a,-o,tt,et,1),dt("x","z","y",1,1,o,j,a,_e,tt,2),dt("x","z","y",1,-1,o,j,-a,_e,tt,3),dt("x","y","z",1,-1,o,a,j,_e,et,4),dt("x","y","z",-1,-1,o,a,-j,_e,et,5),this.setIndex(nt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2));function dt(ft,ht,pt,yt,gt,xt,wt,Mt,It,Tt,Dt){const Ut=xt/It,jt=wt/Tt,Xt=xt/2,kt=wt/2,vt=Mt/2,Et=It+1,Lt=Tt+1;let Ot=0,Pt=0;const zt=new Vector3;for(let Vt=0;Vt<Lt;Vt++){const $t=Vt*jt-kt;for(let At=0;At<Et;At++){const Ht=At*Ut-Xt;zt[ft]=Ht*yt,zt[ht]=$t*gt,zt[pt]=vt,it.push(zt.x,zt.y,zt.z),zt[ft]=0,zt[ht]=0,zt[pt]=Mt>0?1:-1,ot.push(zt.x,zt.y,zt.z),st.push(At/It),st.push(1-Vt/Tt),Ot+=1}}for(let Vt=0;Vt<Tt;Vt++)for(let $t=0;$t<It;$t++){const At=ct+$t+Et*Vt,Ht=ct+$t+Et*(Vt+1),ar=ct+($t+1)+Et*(Vt+1),Rt=ct+($t+1)+Et*Vt;nt.push(At,Ht,Rt),nt.push(Ht,ar,Rt),Pt+=6}rt.addGroup(ut,Pt,Dt),ut+=Pt,ct+=Ot}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new BoxGeometry(o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments)}}function cloneUniforms($){const o={};for(const a in $){o[a]={};for(const j in $[a]){const _e=$[a][j];_e&&(_e.isColor||_e.isMatrix3||_e.isMatrix4||_e.isVector2||_e.isVector3||_e.isVector4||_e.isTexture||_e.isQuaternion)?o[a][j]=_e.clone():Array.isArray(_e)?o[a][j]=_e.slice():o[a][j]=_e}}return o}function mergeUniforms($){const o={};for(let a=0;a<$.length;a++){const j=cloneUniforms($[a]);for(const _e in j)o[_e]=j[_e]}return o}function cloneUniformsGroups($){const o=[];for(let a=0;a<$.length;a++)o.push($[a].clone());return o}function getUnlitUniformColorSpace($){return $.getRenderTarget()===null&&$.outputEncoding===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(o){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,o!==void 0&&this.setValues(o)}copy(o){return super.copy(o),this.fragmentShader=o.fragmentShader,this.vertexShader=o.vertexShader,this.uniforms=cloneUniforms(o.uniforms),this.uniformsGroups=cloneUniformsGroups(o.uniformsGroups),this.defines=Object.assign({},o.defines),this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.fog=o.fog,this.lights=o.lights,this.clipping=o.clipping,this.extensions=Object.assign({},o.extensions),this.glslVersion=o.glslVersion,this}toJSON(o){const a=super.toJSON(o);a.glslVersion=this.glslVersion,a.uniforms={};for(const _e in this.uniforms){const tt=this.uniforms[_e].value;tt&&tt.isTexture?a.uniforms[_e]={type:"t",value:tt.toJSON(o).uuid}:tt&&tt.isColor?a.uniforms[_e]={type:"c",value:tt.getHex()}:tt&&tt.isVector2?a.uniforms[_e]={type:"v2",value:tt.toArray()}:tt&&tt.isVector3?a.uniforms[_e]={type:"v3",value:tt.toArray()}:tt&&tt.isVector4?a.uniforms[_e]={type:"v4",value:tt.toArray()}:tt&&tt.isMatrix3?a.uniforms[_e]={type:"m3",value:tt.toArray()}:tt&&tt.isMatrix4?a.uniforms[_e]={type:"m4",value:tt.toArray()}:a.uniforms[_e]={value:tt}}Object.keys(this.defines).length>0&&(a.defines=this.defines),a.vertexShader=this.vertexShader,a.fragmentShader=this.fragmentShader;const j={};for(const _e in this.extensions)this.extensions[_e]===!0&&(j[_e]=!0);return Object.keys(j).length>0&&(a.extensions=j),a}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(o,a){return super.copy(o,a),this.matrixWorldInverse.copy(o.matrixWorldInverse),this.projectionMatrix.copy(o.projectionMatrix),this.projectionMatrixInverse.copy(o.projectionMatrixInverse),this}getWorldDirection(o){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return o.set(-a[8],-a[9],-a[10]).normalize()}updateMatrixWorld(o){super.updateMatrixWorld(o),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(o,a){super.updateWorldMatrix(o,a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(o=50,a=1,j=.1,_e=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=o,this.zoom=1,this.near=j,this.far=_e,this.focus=10,this.aspect=a,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(o,a){return super.copy(o,a),this.fov=o.fov,this.zoom=o.zoom,this.near=o.near,this.far=o.far,this.focus=o.focus,this.aspect=o.aspect,this.view=o.view===null?null:Object.assign({},o.view),this.filmGauge=o.filmGauge,this.filmOffset=o.filmOffset,this}setFocalLength(o){const a=.5*this.getFilmHeight()/o;this.fov=RAD2DEG*2*Math.atan(a),this.updateProjectionMatrix()}getFocalLength(){const o=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/o}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(o,a,j,_e,et,tt){this.aspect=o/a,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=a,this.view.offsetX=j,this.view.offsetY=_e,this.view.width=et,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const o=this.near;let a=o*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,j=2*a,_e=this.aspect*j,et=-.5*_e;const tt=this.view;if(this.view!==null&&this.view.enabled){const nt=tt.fullWidth,it=tt.fullHeight;et+=tt.offsetX*_e/nt,a-=tt.offsetY*j/it,_e*=tt.width/nt,j*=tt.height/it}const rt=this.filmOffset;rt!==0&&(et+=o*rt/this.getFilmWidth()),this.projectionMatrix.makePerspective(et,et+_e,a,a-j,o,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(o){const a=super.toJSON(o);return a.object.fov=this.fov,a.object.zoom=this.zoom,a.object.near=this.near,a.object.far=this.far,a.object.focus=this.focus,a.object.aspect=this.aspect,this.view!==null&&(a.object.view=Object.assign({},this.view)),a.object.filmGauge=this.filmGauge,a.object.filmOffset=this.filmOffset,a}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(o,a,j){super(),this.type="CubeCamera",this.renderTarget=j;const _e=new PerspectiveCamera(fov,aspect,o,a);_e.layers=this.layers,_e.up.set(0,1,0),_e.lookAt(1,0,0),this.add(_e);const et=new PerspectiveCamera(fov,aspect,o,a);et.layers=this.layers,et.up.set(0,1,0),et.lookAt(-1,0,0),this.add(et);const tt=new PerspectiveCamera(fov,aspect,o,a);tt.layers=this.layers,tt.up.set(0,0,-1),tt.lookAt(0,1,0),this.add(tt);const rt=new PerspectiveCamera(fov,aspect,o,a);rt.layers=this.layers,rt.up.set(0,0,1),rt.lookAt(0,-1,0),this.add(rt);const nt=new PerspectiveCamera(fov,aspect,o,a);nt.layers=this.layers,nt.up.set(0,1,0),nt.lookAt(0,0,1),this.add(nt);const it=new PerspectiveCamera(fov,aspect,o,a);it.layers=this.layers,it.up.set(0,1,0),it.lookAt(0,0,-1),this.add(it)}update(o,a){this.parent===null&&this.updateMatrixWorld();const j=this.renderTarget,[_e,et,tt,rt,nt,it]=this.children,ot=o.getRenderTarget(),st=o.toneMapping,ct=o.xr.enabled;o.toneMapping=NoToneMapping,o.xr.enabled=!1;const ut=j.texture.generateMipmaps;j.texture.generateMipmaps=!1,o.setRenderTarget(j,0),o.render(a,_e),o.setRenderTarget(j,1),o.render(a,et),o.setRenderTarget(j,2),o.render(a,tt),o.setRenderTarget(j,3),o.render(a,rt),o.setRenderTarget(j,4),o.render(a,nt),j.texture.generateMipmaps=ut,o.setRenderTarget(j,5),o.render(a,it),o.setRenderTarget(ot),o.toneMapping=st,o.xr.enabled=ct,j.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(o,a,j,_e,et,tt,rt,nt,it,ot){o=o!==void 0?o:[],a=a!==void 0?a:CubeReflectionMapping,super(o,a,j,_e,et,tt,rt,nt,it,ot),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(o){this.image=o}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(o=1,a={}){super(o,o,a),this.isWebGLCubeRenderTarget=!0;const j={width:o,height:o,depth:1},_e=[j,j,j,j,j,j];this.texture=new CubeTexture(_e,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=a.generateMipmaps!==void 0?a.generateMipmaps:!1,this.texture.minFilter=a.minFilter!==void 0?a.minFilter:LinearFilter}fromEquirectangularTexture(o,a){this.texture.type=a.type,this.texture.encoding=a.encoding,this.texture.generateMipmaps=a.generateMipmaps,this.texture.minFilter=a.minFilter,this.texture.magFilter=a.magFilter;const j={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},_e=new BoxGeometry(5,5,5),et=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(j.uniforms),vertexShader:j.vertexShader,fragmentShader:j.fragmentShader,side:BackSide,blending:NoBlending});et.uniforms.tEquirect.value=a;const tt=new Mesh(_e,et),rt=a.minFilter;return a.minFilter===LinearMipmapLinearFilter&&(a.minFilter=LinearFilter),new CubeCamera(1,10,this).update(o,tt),a.minFilter=rt,tt.geometry.dispose(),tt.material.dispose(),this}clear(o,a,j,_e){const et=o.getRenderTarget();for(let tt=0;tt<6;tt++)o.setRenderTarget(this,tt),o.clear(a,j,_e);o.setRenderTarget(et)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(o=new Vector3(1,0,0),a=0){this.isPlane=!0,this.normal=o,this.constant=a}set(o,a){return this.normal.copy(o),this.constant=a,this}setComponents(o,a,j,_e){return this.normal.set(o,a,j),this.constant=_e,this}setFromNormalAndCoplanarPoint(o,a){return this.normal.copy(o),this.constant=-a.dot(this.normal),this}setFromCoplanarPoints(o,a,j){const _e=_vector1.subVectors(j,a).cross(_vector2.subVectors(o,a)).normalize();return this.setFromNormalAndCoplanarPoint(_e,o),this}copy(o){return this.normal.copy(o.normal),this.constant=o.constant,this}normalize(){const o=1/this.normal.length();return this.normal.multiplyScalar(o),this.constant*=o,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(o){return this.normal.dot(o)+this.constant}distanceToSphere(o){return this.distanceToPoint(o.center)-o.radius}projectPoint(o,a){return a.copy(o).addScaledVector(this.normal,-this.distanceToPoint(o))}intersectLine(o,a){const j=o.delta(_vector1),_e=this.normal.dot(j);if(_e===0)return this.distanceToPoint(o.start)===0?a.copy(o.start):null;const et=-(o.start.dot(this.normal)+this.constant)/_e;return et<0||et>1?null:a.copy(o.start).addScaledVector(j,et)}intersectsLine(o){const a=this.distanceToPoint(o.start),j=this.distanceToPoint(o.end);return a<0&&j>0||j<0&&a>0}intersectsBox(o){return o.intersectsPlane(this)}intersectsSphere(o){return o.intersectsPlane(this)}coplanarPoint(o){return o.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(o,a){const j=a||_normalMatrix.getNormalMatrix(o),_e=this.coplanarPoint(_vector1).applyMatrix4(o),et=this.normal.applyMatrix3(j).normalize();return this.constant=-_e.dot(et),this}translate(o){return this.constant-=o.dot(this.normal),this}equals(o){return o.normal.equals(this.normal)&&o.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(o=new Plane,a=new Plane,j=new Plane,_e=new Plane,et=new Plane,tt=new Plane){this.planes=[o,a,j,_e,et,tt]}set(o,a,j,_e,et,tt){const rt=this.planes;return rt[0].copy(o),rt[1].copy(a),rt[2].copy(j),rt[3].copy(_e),rt[4].copy(et),rt[5].copy(tt),this}copy(o){const a=this.planes;for(let j=0;j<6;j++)a[j].copy(o.planes[j]);return this}setFromProjectionMatrix(o){const a=this.planes,j=o.elements,_e=j[0],et=j[1],tt=j[2],rt=j[3],nt=j[4],it=j[5],ot=j[6],st=j[7],ct=j[8],ut=j[9],dt=j[10],ft=j[11],ht=j[12],pt=j[13],yt=j[14],gt=j[15];return a[0].setComponents(rt-_e,st-nt,ft-ct,gt-ht).normalize(),a[1].setComponents(rt+_e,st+nt,ft+ct,gt+ht).normalize(),a[2].setComponents(rt+et,st+it,ft+ut,gt+pt).normalize(),a[3].setComponents(rt-et,st-it,ft-ut,gt-pt).normalize(),a[4].setComponents(rt-tt,st-ot,ft-dt,gt-yt).normalize(),a[5].setComponents(rt+tt,st+ot,ft+dt,gt+yt).normalize(),this}intersectsObject(o){const a=o.geometry;return a.boundingSphere===null&&a.computeBoundingSphere(),_sphere$2.copy(a.boundingSphere).applyMatrix4(o.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(o){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(o.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(o){const a=this.planes,j=o.center,_e=-o.radius;for(let et=0;et<6;et++)if(a[et].distanceToPoint(j)<_e)return!1;return!0}intersectsBox(o){const a=this.planes;for(let j=0;j<6;j++){const _e=a[j];if(_vector$7.x=_e.normal.x>0?o.max.x:o.min.x,_vector$7.y=_e.normal.y>0?o.max.y:o.min.y,_vector$7.z=_e.normal.z>0?o.max.z:o.min.z,_e.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(o){const a=this.planes;for(let j=0;j<6;j++)if(a[j].distanceToPoint(o)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let $=null,o=!1,a=null,j=null;function _e(et,tt){a(et,tt),j=$.requestAnimationFrame(_e)}return{start:function(){o!==!0&&a!==null&&(j=$.requestAnimationFrame(_e),o=!0)},stop:function(){$.cancelAnimationFrame(j),o=!1},setAnimationLoop:function(et){a=et},setContext:function(et){$=et}}}function WebGLAttributes($,o){const a=o.isWebGL2,j=new WeakMap;function _e(it,ot){const st=it.array,ct=it.usage,ut=$.createBuffer();$.bindBuffer(ot,ut),$.bufferData(ot,st,ct),it.onUploadCallback();let dt;if(st instanceof Float32Array)dt=5126;else if(st instanceof Uint16Array)if(it.isFloat16BufferAttribute)if(a)dt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else dt=5123;else if(st instanceof Int16Array)dt=5122;else if(st instanceof Uint32Array)dt=5125;else if(st instanceof Int32Array)dt=5124;else if(st instanceof Int8Array)dt=5120;else if(st instanceof Uint8Array)dt=5121;else if(st instanceof Uint8ClampedArray)dt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+st);return{buffer:ut,type:dt,bytesPerElement:st.BYTES_PER_ELEMENT,version:it.version}}function et(it,ot,st){const ct=ot.array,ut=ot.updateRange;$.bindBuffer(st,it),ut.count===-1?$.bufferSubData(st,0,ct):(a?$.bufferSubData(st,ut.offset*ct.BYTES_PER_ELEMENT,ct,ut.offset,ut.count):$.bufferSubData(st,ut.offset*ct.BYTES_PER_ELEMENT,ct.subarray(ut.offset,ut.offset+ut.count)),ut.count=-1),ot.onUploadCallback()}function tt(it){return it.isInterleavedBufferAttribute&&(it=it.data),j.get(it)}function rt(it){it.isInterleavedBufferAttribute&&(it=it.data);const ot=j.get(it);ot&&($.deleteBuffer(ot.buffer),j.delete(it))}function nt(it,ot){if(it.isGLBufferAttribute){const ct=j.get(it);(!ct||ct.version<it.version)&&j.set(it,{buffer:it.buffer,type:it.type,bytesPerElement:it.elementSize,version:it.version});return}it.isInterleavedBufferAttribute&&(it=it.data);const st=j.get(it);st===void 0?j.set(it,_e(it,ot)):st.version<it.version&&(et(st.buffer,it,ot),st.version=it.version)}return{get:tt,remove:rt,update:nt}}class PlaneGeometry extends BufferGeometry{constructor(o=1,a=1,j=1,_e=1){super(),this.type="PlaneGeometry",this.parameters={width:o,height:a,widthSegments:j,heightSegments:_e};const et=o/2,tt=a/2,rt=Math.floor(j),nt=Math.floor(_e),it=rt+1,ot=nt+1,st=o/rt,ct=a/nt,ut=[],dt=[],ft=[],ht=[];for(let pt=0;pt<ot;pt++){const yt=pt*ct-tt;for(let gt=0;gt<it;gt++){const xt=gt*st-et;dt.push(xt,-yt,0),ft.push(0,0,1),ht.push(gt/rt),ht.push(1-pt/nt)}}for(let pt=0;pt<nt;pt++)for(let yt=0;yt<rt;yt++){const gt=yt+it*pt,xt=yt+it*(pt+1),wt=yt+1+it*(pt+1),Mt=yt+1+it*pt;ut.push(gt,xt,Mt),ut.push(xt,wt,Mt)}this.setIndex(ut),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new PlaneGeometry(o.width,o.height,o.widthSegments,o.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground($,o,a,j,_e,et,tt){const rt=new Color(0);let nt=et===!0?0:1,it,ot,st=null,ct=0,ut=null;function dt(ht,pt){let yt=!1,gt=pt.isScene===!0?pt.background:null;gt&&gt.isTexture&&(gt=(pt.backgroundBlurriness>0?a:o).get(gt));const xt=$.xr,wt=xt.getSession&&xt.getSession();wt&&wt.environmentBlendMode==="additive"&&(gt=null),gt===null?ft(rt,nt):gt&&gt.isColor&&(ft(gt,1),yt=!0),($.autoClear||yt)&&$.clear($.autoClearColor,$.autoClearDepth,$.autoClearStencil),gt&&(gt.isCubeTexture||gt.mapping===CubeUVReflectionMapping)?(ot===void 0&&(ot=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ot.geometry.deleteAttribute("normal"),ot.geometry.deleteAttribute("uv"),ot.onBeforeRender=function(Mt,It,Tt){this.matrixWorld.copyPosition(Tt.matrixWorld)},Object.defineProperty(ot.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),_e.update(ot)),ot.material.uniforms.envMap.value=gt,ot.material.uniforms.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1,ot.material.uniforms.backgroundBlurriness.value=pt.backgroundBlurriness,ot.material.uniforms.backgroundIntensity.value=pt.backgroundIntensity,ot.material.toneMapped=gt.encoding!==sRGBEncoding,(st!==gt||ct!==gt.version||ut!==$.toneMapping)&&(ot.material.needsUpdate=!0,st=gt,ct=gt.version,ut=$.toneMapping),ot.layers.enableAll(),ht.unshift(ot,ot.geometry,ot.material,0,0,null)):gt&&gt.isTexture&&(it===void 0&&(it=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),it.geometry.deleteAttribute("normal"),Object.defineProperty(it.material,"map",{get:function(){return this.uniforms.t2D.value}}),_e.update(it)),it.material.uniforms.t2D.value=gt,it.material.uniforms.backgroundIntensity.value=pt.backgroundIntensity,it.material.toneMapped=gt.encoding!==sRGBEncoding,gt.matrixAutoUpdate===!0&&gt.updateMatrix(),it.material.uniforms.uvTransform.value.copy(gt.matrix),(st!==gt||ct!==gt.version||ut!==$.toneMapping)&&(it.material.needsUpdate=!0,st=gt,ct=gt.version,ut=$.toneMapping),it.layers.enableAll(),ht.unshift(it,it.geometry,it.material,0,0,null))}function ft(ht,pt){ht.getRGB(_rgb,getUnlitUniformColorSpace($)),j.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,pt,tt)}return{getClearColor:function(){return rt},setClearColor:function(ht,pt=1){rt.set(ht),nt=pt,ft(rt,nt)},getClearAlpha:function(){return nt},setClearAlpha:function(ht){nt=ht,ft(rt,nt)},render:dt}}function WebGLBindingStates($,o,a,j){const _e=$.getParameter(34921),et=j.isWebGL2?null:o.get("OES_vertex_array_object"),tt=j.isWebGL2||et!==null,rt={},nt=ht(null);let it=nt,ot=!1;function st(vt,Et,Lt,Ot,Pt){let zt=!1;if(tt){const Vt=ft(Ot,Lt,Et);it!==Vt&&(it=Vt,ut(it.object)),zt=pt(vt,Ot,Lt,Pt),zt&&yt(vt,Ot,Lt,Pt)}else{const Vt=Et.wireframe===!0;(it.geometry!==Ot.id||it.program!==Lt.id||it.wireframe!==Vt)&&(it.geometry=Ot.id,it.program=Lt.id,it.wireframe=Vt,zt=!0)}Pt!==null&&a.update(Pt,34963),(zt||ot)&&(ot=!1,Tt(vt,Et,Lt,Ot),Pt!==null&&$.bindBuffer(34963,a.get(Pt).buffer))}function ct(){return j.isWebGL2?$.createVertexArray():et.createVertexArrayOES()}function ut(vt){return j.isWebGL2?$.bindVertexArray(vt):et.bindVertexArrayOES(vt)}function dt(vt){return j.isWebGL2?$.deleteVertexArray(vt):et.deleteVertexArrayOES(vt)}function ft(vt,Et,Lt){const Ot=Lt.wireframe===!0;let Pt=rt[vt.id];Pt===void 0&&(Pt={},rt[vt.id]=Pt);let zt=Pt[Et.id];zt===void 0&&(zt={},Pt[Et.id]=zt);let Vt=zt[Ot];return Vt===void 0&&(Vt=ht(ct()),zt[Ot]=Vt),Vt}function ht(vt){const Et=[],Lt=[],Ot=[];for(let Pt=0;Pt<_e;Pt++)Et[Pt]=0,Lt[Pt]=0,Ot[Pt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Et,enabledAttributes:Lt,attributeDivisors:Ot,object:vt,attributes:{},index:null}}function pt(vt,Et,Lt,Ot){const Pt=it.attributes,zt=Et.attributes;let Vt=0;const $t=Lt.getAttributes();for(const At in $t)if($t[At].location>=0){const ar=Pt[At];let Rt=zt[At];if(Rt===void 0&&(At==="instanceMatrix"&&vt.instanceMatrix&&(Rt=vt.instanceMatrix),At==="instanceColor"&&vt.instanceColor&&(Rt=vt.instanceColor)),ar===void 0||ar.attribute!==Rt||Rt&&ar.data!==Rt.data)return!0;Vt++}return it.attributesNum!==Vt||it.index!==Ot}function yt(vt,Et,Lt,Ot){const Pt={},zt=Et.attributes;let Vt=0;const $t=Lt.getAttributes();for(const At in $t)if($t[At].location>=0){let ar=zt[At];ar===void 0&&(At==="instanceMatrix"&&vt.instanceMatrix&&(ar=vt.instanceMatrix),At==="instanceColor"&&vt.instanceColor&&(ar=vt.instanceColor));const Rt={};Rt.attribute=ar,ar&&ar.data&&(Rt.data=ar.data),Pt[At]=Rt,Vt++}it.attributes=Pt,it.attributesNum=Vt,it.index=Ot}function gt(){const vt=it.newAttributes;for(let Et=0,Lt=vt.length;Et<Lt;Et++)vt[Et]=0}function xt(vt){wt(vt,0)}function wt(vt,Et){const Lt=it.newAttributes,Ot=it.enabledAttributes,Pt=it.attributeDivisors;Lt[vt]=1,Ot[vt]===0&&($.enableVertexAttribArray(vt),Ot[vt]=1),Pt[vt]!==Et&&((j.isWebGL2?$:o.get("ANGLE_instanced_arrays"))[j.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](vt,Et),Pt[vt]=Et)}function Mt(){const vt=it.newAttributes,Et=it.enabledAttributes;for(let Lt=0,Ot=Et.length;Lt<Ot;Lt++)Et[Lt]!==vt[Lt]&&($.disableVertexAttribArray(Lt),Et[Lt]=0)}function It(vt,Et,Lt,Ot,Pt,zt){j.isWebGL2===!0&&(Lt===5124||Lt===5125)?$.vertexAttribIPointer(vt,Et,Lt,Pt,zt):$.vertexAttribPointer(vt,Et,Lt,Ot,Pt,zt)}function Tt(vt,Et,Lt,Ot){if(j.isWebGL2===!1&&(vt.isInstancedMesh||Ot.isInstancedBufferGeometry)&&o.get("ANGLE_instanced_arrays")===null)return;gt();const Pt=Ot.attributes,zt=Lt.getAttributes(),Vt=Et.defaultAttributeValues;for(const $t in zt){const At=zt[$t];if(At.location>=0){let Ht=Pt[$t];if(Ht===void 0&&($t==="instanceMatrix"&&vt.instanceMatrix&&(Ht=vt.instanceMatrix),$t==="instanceColor"&&vt.instanceColor&&(Ht=vt.instanceColor)),Ht!==void 0){const ar=Ht.normalized,Rt=Ht.itemSize,Zt=a.get(Ht);if(Zt===void 0)continue;const ir=Zt.buffer,sr=Zt.type,pr=Zt.bytesPerElement;if(Ht.isInterleavedBufferAttribute){const _r=Ht.data,fr=_r.stride,nr=Ht.offset;if(_r.isInstancedInterleavedBuffer){for(let lr=0;lr<At.locationSize;lr++)wt(At.location+lr,_r.meshPerAttribute);vt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=_r.meshPerAttribute*_r.count)}else for(let lr=0;lr<At.locationSize;lr++)xt(At.location+lr);$.bindBuffer(34962,ir);for(let lr=0;lr<At.locationSize;lr++)It(At.location+lr,Rt/At.locationSize,sr,ar,fr*pr,(nr+Rt/At.locationSize*lr)*pr)}else{if(Ht.isInstancedBufferAttribute){for(let _r=0;_r<At.locationSize;_r++)wt(At.location+_r,Ht.meshPerAttribute);vt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=Ht.meshPerAttribute*Ht.count)}else for(let _r=0;_r<At.locationSize;_r++)xt(At.location+_r);$.bindBuffer(34962,ir);for(let _r=0;_r<At.locationSize;_r++)It(At.location+_r,Rt/At.locationSize,sr,ar,Rt*pr,Rt/At.locationSize*_r*pr)}}else if(Vt!==void 0){const ar=Vt[$t];if(ar!==void 0)switch(ar.length){case 2:$.vertexAttrib2fv(At.location,ar);break;case 3:$.vertexAttrib3fv(At.location,ar);break;case 4:$.vertexAttrib4fv(At.location,ar);break;default:$.vertexAttrib1fv(At.location,ar)}}}}Mt()}function Dt(){Xt();for(const vt in rt){const Et=rt[vt];for(const Lt in Et){const Ot=Et[Lt];for(const Pt in Ot)dt(Ot[Pt].object),delete Ot[Pt];delete Et[Lt]}delete rt[vt]}}function Ut(vt){if(rt[vt.id]===void 0)return;const Et=rt[vt.id];for(const Lt in Et){const Ot=Et[Lt];for(const Pt in Ot)dt(Ot[Pt].object),delete Ot[Pt];delete Et[Lt]}delete rt[vt.id]}function jt(vt){for(const Et in rt){const Lt=rt[Et];if(Lt[vt.id]===void 0)continue;const Ot=Lt[vt.id];for(const Pt in Ot)dt(Ot[Pt].object),delete Ot[Pt];delete Lt[vt.id]}}function Xt(){kt(),ot=!0,it!==nt&&(it=nt,ut(it.object))}function kt(){nt.geometry=null,nt.program=null,nt.wireframe=!1}return{setup:st,reset:Xt,resetDefaultState:kt,dispose:Dt,releaseStatesOfGeometry:Ut,releaseStatesOfProgram:jt,initAttributes:gt,enableAttribute:xt,disableUnusedAttributes:Mt}}function WebGLBufferRenderer($,o,a,j){const _e=j.isWebGL2;let et;function tt(it){et=it}function rt(it,ot){$.drawArrays(et,it,ot),a.update(ot,et,1)}function nt(it,ot,st){if(st===0)return;let ct,ut;if(_e)ct=$,ut="drawArraysInstanced";else if(ct=o.get("ANGLE_instanced_arrays"),ut="drawArraysInstancedANGLE",ct===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ct[ut](et,it,ot,st),a.update(ot,et,st)}this.setMode=tt,this.render=rt,this.renderInstances=nt}function WebGLCapabilities($,o,a){let j;function _e(){if(j!==void 0)return j;if(o.has("EXT_texture_filter_anisotropic")===!0){const It=o.get("EXT_texture_filter_anisotropic");j=$.getParameter(It.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else j=0;return j}function et(It){if(It==="highp"){if($.getShaderPrecisionFormat(35633,36338).precision>0&&$.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";It="mediump"}return It==="mediump"&&$.getShaderPrecisionFormat(35633,36337).precision>0&&$.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const tt=typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext;let rt=a.precision!==void 0?a.precision:"highp";const nt=et(rt);nt!==rt&&(console.warn("THREE.WebGLRenderer:",rt,"not supported, using",nt,"instead."),rt=nt);const it=tt||o.has("WEBGL_draw_buffers"),ot=a.logarithmicDepthBuffer===!0,st=$.getParameter(34930),ct=$.getParameter(35660),ut=$.getParameter(3379),dt=$.getParameter(34076),ft=$.getParameter(34921),ht=$.getParameter(36347),pt=$.getParameter(36348),yt=$.getParameter(36349),gt=ct>0,xt=tt||o.has("OES_texture_float"),wt=gt&&xt,Mt=tt?$.getParameter(36183):0;return{isWebGL2:tt,drawBuffers:it,getMaxAnisotropy:_e,getMaxPrecision:et,precision:rt,logarithmicDepthBuffer:ot,maxTextures:st,maxVertexTextures:ct,maxTextureSize:ut,maxCubemapSize:dt,maxAttributes:ft,maxVertexUniforms:ht,maxVaryings:pt,maxFragmentUniforms:yt,vertexTextures:gt,floatFragmentTextures:xt,floatVertexTextures:wt,maxSamples:Mt}}function WebGLClipping($){const o=this;let a=null,j=0,_e=!1,et=!1;const tt=new Plane,rt=new Matrix3,nt={value:null,needsUpdate:!1};this.uniform=nt,this.numPlanes=0,this.numIntersection=0,this.init=function(st,ct){const ut=st.length!==0||ct||j!==0||_e;return _e=ct,j=st.length,ut},this.beginShadows=function(){et=!0,ot(null)},this.endShadows=function(){et=!1},this.setGlobalState=function(st,ct){a=ot(st,ct,0)},this.setState=function(st,ct,ut){const dt=st.clippingPlanes,ft=st.clipIntersection,ht=st.clipShadows,pt=$.get(st);if(!_e||dt===null||dt.length===0||et&&!ht)et?ot(null):it();else{const yt=et?0:j,gt=yt*4;let xt=pt.clippingState||null;nt.value=xt,xt=ot(dt,ct,gt,ut);for(let wt=0;wt!==gt;++wt)xt[wt]=a[wt];pt.clippingState=xt,this.numIntersection=ft?this.numPlanes:0,this.numPlanes+=yt}};function it(){nt.value!==a&&(nt.value=a,nt.needsUpdate=j>0),o.numPlanes=j,o.numIntersection=0}function ot(st,ct,ut,dt){const ft=st!==null?st.length:0;let ht=null;if(ft!==0){if(ht=nt.value,dt!==!0||ht===null){const pt=ut+ft*4,yt=ct.matrixWorldInverse;rt.getNormalMatrix(yt),(ht===null||ht.length<pt)&&(ht=new Float32Array(pt));for(let gt=0,xt=ut;gt!==ft;++gt,xt+=4)tt.copy(st[gt]).applyMatrix4(yt,rt),tt.normal.toArray(ht,xt),ht[xt+3]=tt.constant}nt.value=ht,nt.needsUpdate=!0}return o.numPlanes=ft,o.numIntersection=0,ht}}function WebGLCubeMaps($){let o=new WeakMap;function a(tt,rt){return rt===EquirectangularReflectionMapping?tt.mapping=CubeReflectionMapping:rt===EquirectangularRefractionMapping&&(tt.mapping=CubeRefractionMapping),tt}function j(tt){if(tt&&tt.isTexture&&tt.isRenderTargetTexture===!1){const rt=tt.mapping;if(rt===EquirectangularReflectionMapping||rt===EquirectangularRefractionMapping)if(o.has(tt)){const nt=o.get(tt).texture;return a(nt,tt.mapping)}else{const nt=tt.image;if(nt&&nt.height>0){const it=new WebGLCubeRenderTarget(nt.height/2);return it.fromEquirectangularTexture($,tt),o.set(tt,it),tt.addEventListener("dispose",_e),a(it.texture,tt.mapping)}else return null}}return tt}function _e(tt){const rt=tt.target;rt.removeEventListener("dispose",_e);const nt=o.get(rt);nt!==void 0&&(o.delete(rt),nt.dispose())}function et(){o=new WeakMap}return{get:j,dispose:et}}class OrthographicCamera extends Camera{constructor(o=-1,a=1,j=1,_e=-1,et=.1,tt=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=o,this.right=a,this.top=j,this.bottom=_e,this.near=et,this.far=tt,this.updateProjectionMatrix()}copy(o,a){return super.copy(o,a),this.left=o.left,this.right=o.right,this.top=o.top,this.bottom=o.bottom,this.near=o.near,this.far=o.far,this.zoom=o.zoom,this.view=o.view===null?null:Object.assign({},o.view),this}setViewOffset(o,a,j,_e,et,tt){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=a,this.view.offsetX=j,this.view.offsetY=_e,this.view.width=et,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const o=(this.right-this.left)/(2*this.zoom),a=(this.top-this.bottom)/(2*this.zoom),j=(this.right+this.left)/2,_e=(this.top+this.bottom)/2;let et=j-o,tt=j+o,rt=_e+a,nt=_e-a;if(this.view!==null&&this.view.enabled){const it=(this.right-this.left)/this.view.fullWidth/this.zoom,ot=(this.top-this.bottom)/this.view.fullHeight/this.zoom;et+=it*this.view.offsetX,tt=et+it*this.view.width,rt-=ot*this.view.offsetY,nt=rt-ot*this.view.height}this.projectionMatrix.makeOrthographic(et,tt,rt,nt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(o){const a=super.toJSON(o);return a.object.zoom=this.zoom,a.object.left=this.left,a.object.right=this.right,a.object.top=this.top,a.object.bottom=this.bottom,a.object.near=this.near,a.object.far=this.far,this.view!==null&&(a.object.view=Object.assign({},this.view)),a}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(o){this._renderer=o,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(o,a=0,j=.1,_e=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const et=this._allocateTargets();return et.depthBuffer=!0,this._sceneToCubeUV(o,j,_e,et),a>0&&this._blur(et,0,0,a),this._applyPMREM(et),this._cleanup(et),et}fromEquirectangular(o,a=null){return this._fromTexture(o,a)}fromCubemap(o,a=null){return this._fromTexture(o,a)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(o){this._lodMax=Math.floor(Math.log2(o)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let o=0;o<this._lodPlanes.length;o++)this._lodPlanes[o].dispose()}_cleanup(o){this._renderer.setRenderTarget(_oldTarget),o.scissorTest=!1,_setViewport(o,0,0,o.width,o.height)}_fromTexture(o,a){o.mapping===CubeReflectionMapping||o.mapping===CubeRefractionMapping?this._setSize(o.image.length===0?16:o.image[0].width||o.image[0].image.width):this._setSize(o.image.width/4),_oldTarget=this._renderer.getRenderTarget();const j=a||this._allocateTargets();return this._textureToCubeUV(o,j),this._applyPMREM(j),this._cleanup(j),j}_allocateTargets(){const o=3*Math.max(this._cubeSize,112),a=4*this._cubeSize,j={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},_e=_createRenderTarget(o,a,j);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==o||this._pingPongRenderTarget.height!==a){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(o,a,j);const{_lodMax:et}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(et)),this._blurMaterial=_getBlurShader(et,o,a)}return _e}_compileMaterial(o){const a=new Mesh(this._lodPlanes[0],o);this._renderer.compile(a,_flatCamera)}_sceneToCubeUV(o,a,j,_e){const rt=new PerspectiveCamera(90,1,a,j),nt=[1,-1,1,1,1,1],it=[1,1,1,-1,-1,-1],ot=this._renderer,st=ot.autoClear,ct=ot.toneMapping;ot.getClearColor(_clearColor),ot.toneMapping=NoToneMapping,ot.autoClear=!1;const ut=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),dt=new Mesh(new BoxGeometry,ut);let ft=!1;const ht=o.background;ht?ht.isColor&&(ut.color.copy(ht),o.background=null,ft=!0):(ut.color.copy(_clearColor),ft=!0);for(let pt=0;pt<6;pt++){const yt=pt%3;yt===0?(rt.up.set(0,nt[pt],0),rt.lookAt(it[pt],0,0)):yt===1?(rt.up.set(0,0,nt[pt]),rt.lookAt(0,it[pt],0)):(rt.up.set(0,nt[pt],0),rt.lookAt(0,0,it[pt]));const gt=this._cubeSize;_setViewport(_e,yt*gt,pt>2?gt:0,gt,gt),ot.setRenderTarget(_e),ft&&ot.render(dt,rt),ot.render(o,rt)}dt.geometry.dispose(),dt.material.dispose(),ot.toneMapping=ct,ot.autoClear=st,o.background=ht}_textureToCubeUV(o,a){const j=this._renderer,_e=o.mapping===CubeReflectionMapping||o.mapping===CubeRefractionMapping;_e?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=o.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const et=_e?this._cubemapMaterial:this._equirectMaterial,tt=new Mesh(this._lodPlanes[0],et),rt=et.uniforms;rt.envMap.value=o;const nt=this._cubeSize;_setViewport(a,0,0,3*nt,2*nt),j.setRenderTarget(a),j.render(tt,_flatCamera)}_applyPMREM(o){const a=this._renderer,j=a.autoClear;a.autoClear=!1;for(let _e=1;_e<this._lodPlanes.length;_e++){const et=Math.sqrt(this._sigmas[_e]*this._sigmas[_e]-this._sigmas[_e-1]*this._sigmas[_e-1]),tt=_axisDirections[(_e-1)%_axisDirections.length];this._blur(o,_e-1,_e,et,tt)}a.autoClear=j}_blur(o,a,j,_e,et){const tt=this._pingPongRenderTarget;this._halfBlur(o,tt,a,j,_e,"latitudinal",et),this._halfBlur(tt,o,j,j,_e,"longitudinal",et)}_halfBlur(o,a,j,_e,et,tt,rt){const nt=this._renderer,it=this._blurMaterial;tt!=="latitudinal"&&tt!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ot=3,st=new Mesh(this._lodPlanes[_e],it),ct=it.uniforms,ut=this._sizeLods[j]-1,dt=isFinite(et)?Math.PI/(2*ut):2*Math.PI/(2*MAX_SAMPLES-1),ft=et/dt,ht=isFinite(et)?1+Math.floor(ot*ft):MAX_SAMPLES;ht>MAX_SAMPLES&&console.warn(`sigmaRadians, ${et}, is too large and will clip, as it requested ${ht} samples when the maximum is set to ${MAX_SAMPLES}`);const pt=[];let yt=0;for(let It=0;It<MAX_SAMPLES;++It){const Tt=It/ft,Dt=Math.exp(-Tt*Tt/2);pt.push(Dt),It===0?yt+=Dt:It<ht&&(yt+=2*Dt)}for(let It=0;It<pt.length;It++)pt[It]=pt[It]/yt;ct.envMap.value=o.texture,ct.samples.value=ht,ct.weights.value=pt,ct.latitudinal.value=tt==="latitudinal",rt&&(ct.poleAxis.value=rt);const{_lodMax:gt}=this;ct.dTheta.value=dt,ct.mipInt.value=gt-j;const xt=this._sizeLods[_e],wt=3*xt*(_e>gt-LOD_MIN?_e-gt+LOD_MIN:0),Mt=4*(this._cubeSize-xt);_setViewport(a,wt,Mt,3*xt,2*xt),nt.setRenderTarget(a),nt.render(st,_flatCamera)}}function _createPlanes($){const o=[],a=[],j=[];let _e=$;const et=$-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let tt=0;tt<et;tt++){const rt=Math.pow(2,_e);a.push(rt);let nt=1/rt;tt>$-LOD_MIN?nt=EXTRA_LOD_SIGMA[tt-$+LOD_MIN-1]:tt===0&&(nt=0),j.push(nt);const it=1/(rt-2),ot=-it,st=1+it,ct=[ot,ot,st,ot,st,st,ot,ot,st,st,ot,st],ut=6,dt=6,ft=3,ht=2,pt=1,yt=new Float32Array(ft*dt*ut),gt=new Float32Array(ht*dt*ut),xt=new Float32Array(pt*dt*ut);for(let Mt=0;Mt<ut;Mt++){const It=Mt%3*2/3-1,Tt=Mt>2?0:-1,Dt=[It,Tt,0,It+2/3,Tt,0,It+2/3,Tt+1,0,It,Tt,0,It+2/3,Tt+1,0,It,Tt+1,0];yt.set(Dt,ft*dt*Mt),gt.set(ct,ht*dt*Mt);const Ut=[Mt,Mt,Mt,Mt,Mt,Mt];xt.set(Ut,pt*dt*Mt)}const wt=new BufferGeometry;wt.setAttribute("position",new BufferAttribute(yt,ft)),wt.setAttribute("uv",new BufferAttribute(gt,ht)),wt.setAttribute("faceIndex",new BufferAttribute(xt,pt)),o.push(wt),_e>LOD_MIN&&_e--}return{lodPlanes:o,sizeLods:a,sigmas:j}}function _createRenderTarget($,o,a){const j=new WebGLRenderTarget($,o,a);return j.texture.mapping=CubeUVReflectionMapping,j.texture.name="PMREM.cubeUv",j.scissorTest=!0,j}function _setViewport($,o,a,j,_e){$.viewport.set(o,a,j,_e),$.scissor.set(o,a,j,_e)}function _getBlurShader($,o,a){const j=new Float32Array(MAX_SAMPLES),_e=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/o,CUBEUV_TEXEL_HEIGHT:1/a,CUBEUV_MAX_MIP:`${$}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:j},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:_e}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps($){let o=new WeakMap,a=null;function j(rt){if(rt&&rt.isTexture){const nt=rt.mapping,it=nt===EquirectangularReflectionMapping||nt===EquirectangularRefractionMapping,ot=nt===CubeReflectionMapping||nt===CubeRefractionMapping;if(it||ot)if(rt.isRenderTargetTexture&&rt.needsPMREMUpdate===!0){rt.needsPMREMUpdate=!1;let st=o.get(rt);return a===null&&(a=new PMREMGenerator($)),st=it?a.fromEquirectangular(rt,st):a.fromCubemap(rt,st),o.set(rt,st),st.texture}else{if(o.has(rt))return o.get(rt).texture;{const st=rt.image;if(it&&st&&st.height>0||ot&&st&&_e(st)){a===null&&(a=new PMREMGenerator($));const ct=it?a.fromEquirectangular(rt):a.fromCubemap(rt);return o.set(rt,ct),rt.addEventListener("dispose",et),ct.texture}else return null}}}return rt}function _e(rt){let nt=0;const it=6;for(let ot=0;ot<it;ot++)rt[ot]!==void 0&&nt++;return nt===it}function et(rt){const nt=rt.target;nt.removeEventListener("dispose",et);const it=o.get(nt);it!==void 0&&(o.delete(nt),it.dispose())}function tt(){o=new WeakMap,a!==null&&(a.dispose(),a=null)}return{get:j,dispose:tt}}function WebGLExtensions($){const o={};function a(j){if(o[j]!==void 0)return o[j];let _e;switch(j){case"WEBGL_depth_texture":_e=$.getExtension("WEBGL_depth_texture")||$.getExtension("MOZ_WEBGL_depth_texture")||$.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":_e=$.getExtension("EXT_texture_filter_anisotropic")||$.getExtension("MOZ_EXT_texture_filter_anisotropic")||$.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":_e=$.getExtension("WEBGL_compressed_texture_s3tc")||$.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||$.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":_e=$.getExtension("WEBGL_compressed_texture_pvrtc")||$.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:_e=$.getExtension(j)}return o[j]=_e,_e}return{has:function(j){return a(j)!==null},init:function(j){j.isWebGL2?a("EXT_color_buffer_float"):(a("WEBGL_depth_texture"),a("OES_texture_float"),a("OES_texture_half_float"),a("OES_texture_half_float_linear"),a("OES_standard_derivatives"),a("OES_element_index_uint"),a("OES_vertex_array_object"),a("ANGLE_instanced_arrays")),a("OES_texture_float_linear"),a("EXT_color_buffer_half_float"),a("WEBGL_multisampled_render_to_texture")},get:function(j){const _e=a(j);return _e===null&&console.warn("THREE.WebGLRenderer: "+j+" extension not supported."),_e}}}function WebGLGeometries($,o,a,j){const _e={},et=new WeakMap;function tt(st){const ct=st.target;ct.index!==null&&o.remove(ct.index);for(const dt in ct.attributes)o.remove(ct.attributes[dt]);ct.removeEventListener("dispose",tt),delete _e[ct.id];const ut=et.get(ct);ut&&(o.remove(ut),et.delete(ct)),j.releaseStatesOfGeometry(ct),ct.isInstancedBufferGeometry===!0&&delete ct._maxInstanceCount,a.memory.geometries--}function rt(st,ct){return _e[ct.id]===!0||(ct.addEventListener("dispose",tt),_e[ct.id]=!0,a.memory.geometries++),ct}function nt(st){const ct=st.attributes;for(const dt in ct)o.update(ct[dt],34962);const ut=st.morphAttributes;for(const dt in ut){const ft=ut[dt];for(let ht=0,pt=ft.length;ht<pt;ht++)o.update(ft[ht],34962)}}function it(st){const ct=[],ut=st.index,dt=st.attributes.position;let ft=0;if(ut!==null){const yt=ut.array;ft=ut.version;for(let gt=0,xt=yt.length;gt<xt;gt+=3){const wt=yt[gt+0],Mt=yt[gt+1],It=yt[gt+2];ct.push(wt,Mt,Mt,It,It,wt)}}else{const yt=dt.array;ft=dt.version;for(let gt=0,xt=yt.length/3-1;gt<xt;gt+=3){const wt=gt+0,Mt=gt+1,It=gt+2;ct.push(wt,Mt,Mt,It,It,wt)}}const ht=new(arrayNeedsUint32(ct)?Uint32BufferAttribute:Uint16BufferAttribute)(ct,1);ht.version=ft;const pt=et.get(st);pt&&o.remove(pt),et.set(st,ht)}function ot(st){const ct=et.get(st);if(ct){const ut=st.index;ut!==null&&ct.version<ut.version&&it(st)}else it(st);return et.get(st)}return{get:rt,update:nt,getWireframeAttribute:ot}}function WebGLIndexedBufferRenderer($,o,a,j){const _e=j.isWebGL2;let et;function tt(ct){et=ct}let rt,nt;function it(ct){rt=ct.type,nt=ct.bytesPerElement}function ot(ct,ut){$.drawElements(et,ut,rt,ct*nt),a.update(ut,et,1)}function st(ct,ut,dt){if(dt===0)return;let ft,ht;if(_e)ft=$,ht="drawElementsInstanced";else if(ft=o.get("ANGLE_instanced_arrays"),ht="drawElementsInstancedANGLE",ft===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ft[ht](et,ut,rt,ct*nt,dt),a.update(ut,et,dt)}this.setMode=tt,this.setIndex=it,this.render=ot,this.renderInstances=st}function WebGLInfo($){const o={geometries:0,textures:0},a={frame:0,calls:0,triangles:0,points:0,lines:0};function j(et,tt,rt){switch(a.calls++,tt){case 4:a.triangles+=rt*(et/3);break;case 1:a.lines+=rt*(et/2);break;case 3:a.lines+=rt*(et-1);break;case 2:a.lines+=rt*et;break;case 0:a.points+=rt*et;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",tt);break}}function _e(){a.frame++,a.calls=0,a.triangles=0,a.points=0,a.lines=0}return{memory:o,render:a,programs:null,autoReset:!0,reset:_e,update:j}}function numericalSort($,o){return $[0]-o[0]}function absNumericalSort($,o){return Math.abs(o[1])-Math.abs($[1])}function WebGLMorphtargets($,o,a){const j={},_e=new Float32Array(8),et=new WeakMap,tt=new Vector4,rt=[];for(let it=0;it<8;it++)rt[it]=[it,0];function nt(it,ot,st){const ct=it.morphTargetInfluences;if(o.isWebGL2===!0){const dt=ot.morphAttributes.position||ot.morphAttributes.normal||ot.morphAttributes.color,ft=dt!==void 0?dt.length:0;let ht=et.get(ot);if(ht===void 0||ht.count!==ft){let Et=function(){kt.dispose(),et.delete(ot),ot.removeEventListener("dispose",Et)};var ut=Et;ht!==void 0&&ht.texture.dispose();const gt=ot.morphAttributes.position!==void 0,xt=ot.morphAttributes.normal!==void 0,wt=ot.morphAttributes.color!==void 0,Mt=ot.morphAttributes.position||[],It=ot.morphAttributes.normal||[],Tt=ot.morphAttributes.color||[];let Dt=0;gt===!0&&(Dt=1),xt===!0&&(Dt=2),wt===!0&&(Dt=3);let Ut=ot.attributes.position.count*Dt,jt=1;Ut>o.maxTextureSize&&(jt=Math.ceil(Ut/o.maxTextureSize),Ut=o.maxTextureSize);const Xt=new Float32Array(Ut*jt*4*ft),kt=new DataArrayTexture(Xt,Ut,jt,ft);kt.type=FloatType,kt.needsUpdate=!0;const vt=Dt*4;for(let Lt=0;Lt<ft;Lt++){const Ot=Mt[Lt],Pt=It[Lt],zt=Tt[Lt],Vt=Ut*jt*4*Lt;for(let $t=0;$t<Ot.count;$t++){const At=$t*vt;gt===!0&&(tt.fromBufferAttribute(Ot,$t),Xt[Vt+At+0]=tt.x,Xt[Vt+At+1]=tt.y,Xt[Vt+At+2]=tt.z,Xt[Vt+At+3]=0),xt===!0&&(tt.fromBufferAttribute(Pt,$t),Xt[Vt+At+4]=tt.x,Xt[Vt+At+5]=tt.y,Xt[Vt+At+6]=tt.z,Xt[Vt+At+7]=0),wt===!0&&(tt.fromBufferAttribute(zt,$t),Xt[Vt+At+8]=tt.x,Xt[Vt+At+9]=tt.y,Xt[Vt+At+10]=tt.z,Xt[Vt+At+11]=zt.itemSize===4?tt.w:1)}}ht={count:ft,texture:kt,size:new Vector2(Ut,jt)},et.set(ot,ht),ot.addEventListener("dispose",Et)}let pt=0;for(let gt=0;gt<ct.length;gt++)pt+=ct[gt];const yt=ot.morphTargetsRelative?1:1-pt;st.getUniforms().setValue($,"morphTargetBaseInfluence",yt),st.getUniforms().setValue($,"morphTargetInfluences",ct),st.getUniforms().setValue($,"morphTargetsTexture",ht.texture,a),st.getUniforms().setValue($,"morphTargetsTextureSize",ht.size)}else{const dt=ct===void 0?0:ct.length;let ft=j[ot.id];if(ft===void 0||ft.length!==dt){ft=[];for(let xt=0;xt<dt;xt++)ft[xt]=[xt,0];j[ot.id]=ft}for(let xt=0;xt<dt;xt++){const wt=ft[xt];wt[0]=xt,wt[1]=ct[xt]}ft.sort(absNumericalSort);for(let xt=0;xt<8;xt++)xt<dt&&ft[xt][1]?(rt[xt][0]=ft[xt][0],rt[xt][1]=ft[xt][1]):(rt[xt][0]=Number.MAX_SAFE_INTEGER,rt[xt][1]=0);rt.sort(numericalSort);const ht=ot.morphAttributes.position,pt=ot.morphAttributes.normal;let yt=0;for(let xt=0;xt<8;xt++){const wt=rt[xt],Mt=wt[0],It=wt[1];Mt!==Number.MAX_SAFE_INTEGER&&It?(ht&&ot.getAttribute("morphTarget"+xt)!==ht[Mt]&&ot.setAttribute("morphTarget"+xt,ht[Mt]),pt&&ot.getAttribute("morphNormal"+xt)!==pt[Mt]&&ot.setAttribute("morphNormal"+xt,pt[Mt]),_e[xt]=It,yt+=It):(ht&&ot.hasAttribute("morphTarget"+xt)===!0&&ot.deleteAttribute("morphTarget"+xt),pt&&ot.hasAttribute("morphNormal"+xt)===!0&&ot.deleteAttribute("morphNormal"+xt),_e[xt]=0)}const gt=ot.morphTargetsRelative?1:1-yt;st.getUniforms().setValue($,"morphTargetBaseInfluence",gt),st.getUniforms().setValue($,"morphTargetInfluences",_e)}}return{update:nt}}function WebGLObjects($,o,a,j){let _e=new WeakMap;function et(nt){const it=j.render.frame,ot=nt.geometry,st=o.get(nt,ot);return _e.get(st)!==it&&(o.update(st),_e.set(st,it)),nt.isInstancedMesh&&(nt.hasEventListener("dispose",rt)===!1&&nt.addEventListener("dispose",rt),a.update(nt.instanceMatrix,34962),nt.instanceColor!==null&&a.update(nt.instanceColor,34962)),st}function tt(){_e=new WeakMap}function rt(nt){const it=nt.target;it.removeEventListener("dispose",rt),a.remove(it.instanceMatrix),it.instanceColor!==null&&a.remove(it.instanceColor)}return{update:et,dispose:tt}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten($,o,a){const j=$[0];if(j<=0||j>0)return $;const _e=o*a;let et=arrayCacheF32[_e];if(et===void 0&&(et=new Float32Array(_e),arrayCacheF32[_e]=et),o!==0){j.toArray(et,0);for(let tt=1,rt=0;tt!==o;++tt)rt+=a,$[tt].toArray(et,rt)}return et}function arraysEqual($,o){if($.length!==o.length)return!1;for(let a=0,j=$.length;a<j;a++)if($[a]!==o[a])return!1;return!0}function copyArray($,o){for(let a=0,j=o.length;a<j;a++)$[a]=o[a]}function allocTexUnits($,o){let a=arrayCacheI32[o];a===void 0&&(a=new Int32Array(o),arrayCacheI32[o]=a);for(let j=0;j!==o;++j)a[j]=$.allocateTextureUnit();return a}function setValueV1f($,o){const a=this.cache;a[0]!==o&&($.uniform1f(this.addr,o),a[0]=o)}function setValueV2f($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y)&&($.uniform2f(this.addr,o.x,o.y),a[0]=o.x,a[1]=o.y);else{if(arraysEqual(a,o))return;$.uniform2fv(this.addr,o),copyArray(a,o)}}function setValueV3f($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z)&&($.uniform3f(this.addr,o.x,o.y,o.z),a[0]=o.x,a[1]=o.y,a[2]=o.z);else if(o.r!==void 0)(a[0]!==o.r||a[1]!==o.g||a[2]!==o.b)&&($.uniform3f(this.addr,o.r,o.g,o.b),a[0]=o.r,a[1]=o.g,a[2]=o.b);else{if(arraysEqual(a,o))return;$.uniform3fv(this.addr,o),copyArray(a,o)}}function setValueV4f($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z||a[3]!==o.w)&&($.uniform4f(this.addr,o.x,o.y,o.z,o.w),a[0]=o.x,a[1]=o.y,a[2]=o.z,a[3]=o.w);else{if(arraysEqual(a,o))return;$.uniform4fv(this.addr,o),copyArray(a,o)}}function setValueM2($,o){const a=this.cache,j=o.elements;if(j===void 0){if(arraysEqual(a,o))return;$.uniformMatrix2fv(this.addr,!1,o),copyArray(a,o)}else{if(arraysEqual(a,j))return;mat2array.set(j),$.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(a,j)}}function setValueM3($,o){const a=this.cache,j=o.elements;if(j===void 0){if(arraysEqual(a,o))return;$.uniformMatrix3fv(this.addr,!1,o),copyArray(a,o)}else{if(arraysEqual(a,j))return;mat3array.set(j),$.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(a,j)}}function setValueM4($,o){const a=this.cache,j=o.elements;if(j===void 0){if(arraysEqual(a,o))return;$.uniformMatrix4fv(this.addr,!1,o),copyArray(a,o)}else{if(arraysEqual(a,j))return;mat4array.set(j),$.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(a,j)}}function setValueV1i($,o){const a=this.cache;a[0]!==o&&($.uniform1i(this.addr,o),a[0]=o)}function setValueV2i($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y)&&($.uniform2i(this.addr,o.x,o.y),a[0]=o.x,a[1]=o.y);else{if(arraysEqual(a,o))return;$.uniform2iv(this.addr,o),copyArray(a,o)}}function setValueV3i($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z)&&($.uniform3i(this.addr,o.x,o.y,o.z),a[0]=o.x,a[1]=o.y,a[2]=o.z);else{if(arraysEqual(a,o))return;$.uniform3iv(this.addr,o),copyArray(a,o)}}function setValueV4i($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z||a[3]!==o.w)&&($.uniform4i(this.addr,o.x,o.y,o.z,o.w),a[0]=o.x,a[1]=o.y,a[2]=o.z,a[3]=o.w);else{if(arraysEqual(a,o))return;$.uniform4iv(this.addr,o),copyArray(a,o)}}function setValueV1ui($,o){const a=this.cache;a[0]!==o&&($.uniform1ui(this.addr,o),a[0]=o)}function setValueV2ui($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y)&&($.uniform2ui(this.addr,o.x,o.y),a[0]=o.x,a[1]=o.y);else{if(arraysEqual(a,o))return;$.uniform2uiv(this.addr,o),copyArray(a,o)}}function setValueV3ui($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z)&&($.uniform3ui(this.addr,o.x,o.y,o.z),a[0]=o.x,a[1]=o.y,a[2]=o.z);else{if(arraysEqual(a,o))return;$.uniform3uiv(this.addr,o),copyArray(a,o)}}function setValueV4ui($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z||a[3]!==o.w)&&($.uniform4ui(this.addr,o.x,o.y,o.z,o.w),a[0]=o.x,a[1]=o.y,a[2]=o.z,a[3]=o.w);else{if(arraysEqual(a,o))return;$.uniform4uiv(this.addr,o),copyArray(a,o)}}function setValueT1($,o,a){const j=this.cache,_e=a.allocateTextureUnit();j[0]!==_e&&($.uniform1i(this.addr,_e),j[0]=_e),a.setTexture2D(o||emptyTexture,_e)}function setValueT3D1($,o,a){const j=this.cache,_e=a.allocateTextureUnit();j[0]!==_e&&($.uniform1i(this.addr,_e),j[0]=_e),a.setTexture3D(o||empty3dTexture,_e)}function setValueT6($,o,a){const j=this.cache,_e=a.allocateTextureUnit();j[0]!==_e&&($.uniform1i(this.addr,_e),j[0]=_e),a.setTextureCube(o||emptyCubeTexture,_e)}function setValueT2DArray1($,o,a){const j=this.cache,_e=a.allocateTextureUnit();j[0]!==_e&&($.uniform1i(this.addr,_e),j[0]=_e),a.setTexture2DArray(o||emptyArrayTexture,_e)}function getSingularSetter($){switch($){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray($,o){$.uniform1fv(this.addr,o)}function setValueV2fArray($,o){const a=flatten(o,this.size,2);$.uniform2fv(this.addr,a)}function setValueV3fArray($,o){const a=flatten(o,this.size,3);$.uniform3fv(this.addr,a)}function setValueV4fArray($,o){const a=flatten(o,this.size,4);$.uniform4fv(this.addr,a)}function setValueM2Array($,o){const a=flatten(o,this.size,4);$.uniformMatrix2fv(this.addr,!1,a)}function setValueM3Array($,o){const a=flatten(o,this.size,9);$.uniformMatrix3fv(this.addr,!1,a)}function setValueM4Array($,o){const a=flatten(o,this.size,16);$.uniformMatrix4fv(this.addr,!1,a)}function setValueV1iArray($,o){$.uniform1iv(this.addr,o)}function setValueV2iArray($,o){$.uniform2iv(this.addr,o)}function setValueV3iArray($,o){$.uniform3iv(this.addr,o)}function setValueV4iArray($,o){$.uniform4iv(this.addr,o)}function setValueV1uiArray($,o){$.uniform1uiv(this.addr,o)}function setValueV2uiArray($,o){$.uniform2uiv(this.addr,o)}function setValueV3uiArray($,o){$.uniform3uiv(this.addr,o)}function setValueV4uiArray($,o){$.uniform4uiv(this.addr,o)}function setValueT1Array($,o,a){const j=this.cache,_e=o.length,et=allocTexUnits(a,_e);arraysEqual(j,et)||($.uniform1iv(this.addr,et),copyArray(j,et));for(let tt=0;tt!==_e;++tt)a.setTexture2D(o[tt]||emptyTexture,et[tt])}function setValueT3DArray($,o,a){const j=this.cache,_e=o.length,et=allocTexUnits(a,_e);arraysEqual(j,et)||($.uniform1iv(this.addr,et),copyArray(j,et));for(let tt=0;tt!==_e;++tt)a.setTexture3D(o[tt]||empty3dTexture,et[tt])}function setValueT6Array($,o,a){const j=this.cache,_e=o.length,et=allocTexUnits(a,_e);arraysEqual(j,et)||($.uniform1iv(this.addr,et),copyArray(j,et));for(let tt=0;tt!==_e;++tt)a.setTextureCube(o[tt]||emptyCubeTexture,et[tt])}function setValueT2DArrayArray($,o,a){const j=this.cache,_e=o.length,et=allocTexUnits(a,_e);arraysEqual(j,et)||($.uniform1iv(this.addr,et),copyArray(j,et));for(let tt=0;tt!==_e;++tt)a.setTexture2DArray(o[tt]||emptyArrayTexture,et[tt])}function getPureArraySetter($){switch($){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(o,a,j){this.id=o,this.addr=j,this.cache=[],this.setValue=getSingularSetter(a.type)}}class PureArrayUniform{constructor(o,a,j){this.id=o,this.addr=j,this.cache=[],this.size=a.size,this.setValue=getPureArraySetter(a.type)}}class StructuredUniform{constructor(o){this.id=o,this.seq=[],this.map={}}setValue(o,a,j){const _e=this.seq;for(let et=0,tt=_e.length;et!==tt;++et){const rt=_e[et];rt.setValue(o,a[rt.id],j)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform($,o){$.seq.push(o),$.map[o.id]=o}function parseUniform($,o,a){const j=$.name,_e=j.length;for(RePathPart.lastIndex=0;;){const et=RePathPart.exec(j),tt=RePathPart.lastIndex;let rt=et[1];const nt=et[2]==="]",it=et[3];if(nt&&(rt=rt|0),it===void 0||it==="["&&tt+2===_e){addUniform(a,it===void 0?new SingleUniform(rt,$,o):new PureArrayUniform(rt,$,o));break}else{let st=a.map[rt];st===void 0&&(st=new StructuredUniform(rt),addUniform(a,st)),a=st}}}class WebGLUniforms{constructor(o,a){this.seq=[],this.map={};const j=o.getProgramParameter(a,35718);for(let _e=0;_e<j;++_e){const et=o.getActiveUniform(a,_e),tt=o.getUniformLocation(a,et.name);parseUniform(et,tt,this)}}setValue(o,a,j,_e){const et=this.map[a];et!==void 0&&et.setValue(o,j,_e)}setOptional(o,a,j){const _e=a[j];_e!==void 0&&this.setValue(o,j,_e)}static upload(o,a,j,_e){for(let et=0,tt=a.length;et!==tt;++et){const rt=a[et],nt=j[rt.id];nt.needsUpdate!==!1&&rt.setValue(o,nt.value,_e)}}static seqWithValue(o,a){const j=[];for(let _e=0,et=o.length;_e!==et;++_e){const tt=o[_e];tt.id in a&&j.push(tt)}return j}}function WebGLShader($,o,a){const j=$.createShader(o);return $.shaderSource(j,a),$.compileShader(j),j}let programIdCount=0;function handleSource($,o){const a=$.split(`
`),j=[],_e=Math.max(o-6,0),et=Math.min(o+6,a.length);for(let tt=_e;tt<et;tt++){const rt=tt+1;j.push(`${rt===o?">":" "} ${rt}: ${a[tt]}`)}return j.join(`
`)}function getEncodingComponents($){switch($){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",$),["Linear","( value )"]}}function getShaderErrors($,o,a){const j=$.getShaderParameter(o,35713),_e=$.getShaderInfoLog(o).trim();if(j&&_e==="")return"";const et=/ERROR: 0:(\d+)/.exec(_e);if(et){const tt=parseInt(et[1]);return a.toUpperCase()+`

`+_e+`

`+handleSource($.getShaderSource(o),tt)}else return _e}function getTexelEncodingFunction($,o){const a=getEncodingComponents(o);return"vec4 "+$+"( vec4 value ) { return LinearTo"+a[0]+a[1]+"; }"}function getToneMappingFunction($,o){let a;switch(o){case LinearToneMapping:a="Linear";break;case ReinhardToneMapping:a="Reinhard";break;case CineonToneMapping:a="OptimizedCineon";break;case ACESFilmicToneMapping:a="ACESFilmic";break;case CustomToneMapping:a="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",o),a="Linear"}return"vec3 "+$+"( vec3 color ) { return "+a+"ToneMapping( color ); }"}function generateExtensions($){return[$.extensionDerivatives||$.envMapCubeUVHeight||$.bumpMap||$.tangentSpaceNormalMap||$.clearcoatNormalMap||$.flatShading||$.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",($.extensionFragDepth||$.logarithmicDepthBuffer)&&$.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",$.extensionDrawBuffers&&$.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",($.extensionShaderTextureLOD||$.envMap||$.transmission)&&$.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines($){const o=[];for(const a in $){const j=$[a];j!==!1&&o.push("#define "+a+" "+j)}return o.join(`
`)}function fetchAttributeLocations($,o){const a={},j=$.getProgramParameter(o,35721);for(let _e=0;_e<j;_e++){const et=$.getActiveAttrib(o,_e),tt=et.name;let rt=1;et.type===35674&&(rt=2),et.type===35675&&(rt=3),et.type===35676&&(rt=4),a[tt]={type:et.type,location:$.getAttribLocation(o,tt),locationSize:rt}}return a}function filterEmptyLine($){return $!==""}function replaceLightNums($,o){const a=o.numSpotLightShadows+o.numSpotLightMaps-o.numSpotLightShadowsWithMaps;return $.replace(/NUM_DIR_LIGHTS/g,o.numDirLights).replace(/NUM_SPOT_LIGHTS/g,o.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,o.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,a).replace(/NUM_RECT_AREA_LIGHTS/g,o.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,o.numPointLights).replace(/NUM_HEMI_LIGHTS/g,o.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,o.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,o.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,o.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,o.numPointLightShadows)}function replaceClippingPlaneNums($,o){return $.replace(/NUM_CLIPPING_PLANES/g,o.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,o.numClippingPlanes-o.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes($){return $.replace(includePattern,includeReplacer)}function includeReplacer($,o){const a=ShaderChunk[o];if(a===void 0)throw new Error("Can not resolve #include <"+o+">");return resolveIncludes(a)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops($){return $.replace(unrollLoopPattern,loopReplacer)}function loopReplacer($,o,a,j){let _e="";for(let et=parseInt(o);et<parseInt(a);et++)_e+=j.replace(/\[\s*i\s*\]/g,"[ "+et+" ]").replace(/UNROLLED_LOOP_INDEX/g,et);return _e}function generatePrecision($){let o="precision "+$.precision+` float;
precision `+$.precision+" int;";return $.precision==="highp"?o+=`
#define HIGH_PRECISION`:$.precision==="mediump"?o+=`
#define MEDIUM_PRECISION`:$.precision==="lowp"&&(o+=`
#define LOW_PRECISION`),o}function generateShadowMapTypeDefine($){let o="SHADOWMAP_TYPE_BASIC";return $.shadowMapType===PCFShadowMap?o="SHADOWMAP_TYPE_PCF":$.shadowMapType===PCFSoftShadowMap?o="SHADOWMAP_TYPE_PCF_SOFT":$.shadowMapType===VSMShadowMap&&(o="SHADOWMAP_TYPE_VSM"),o}function generateEnvMapTypeDefine($){let o="ENVMAP_TYPE_CUBE";if($.envMap)switch($.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:o="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:o="ENVMAP_TYPE_CUBE_UV";break}return o}function generateEnvMapModeDefine($){let o="ENVMAP_MODE_REFLECTION";if($.envMap)switch($.envMapMode){case CubeRefractionMapping:o="ENVMAP_MODE_REFRACTION";break}return o}function generateEnvMapBlendingDefine($){let o="ENVMAP_BLENDING_NONE";if($.envMap)switch($.combine){case MultiplyOperation:o="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:o="ENVMAP_BLENDING_MIX";break;case AddOperation:o="ENVMAP_BLENDING_ADD";break}return o}function generateCubeUVSize($){const o=$.envMapCubeUVHeight;if(o===null)return null;const a=Math.log2(o)-2,j=1/o;return{texelWidth:1/(3*Math.max(Math.pow(2,a),7*16)),texelHeight:j,maxMip:a}}function WebGLProgram($,o,a,j){const _e=$.getContext(),et=a.defines;let tt=a.vertexShader,rt=a.fragmentShader;const nt=generateShadowMapTypeDefine(a),it=generateEnvMapTypeDefine(a),ot=generateEnvMapModeDefine(a),st=generateEnvMapBlendingDefine(a),ct=generateCubeUVSize(a),ut=a.isWebGL2?"":generateExtensions(a),dt=generateDefines(et),ft=_e.createProgram();let ht,pt,yt=a.glslVersion?"#version "+a.glslVersion+`
`:"";a.isRawShaderMaterial?(ht=[dt].filter(filterEmptyLine).join(`
`),ht.length>0&&(ht+=`
`),pt=[ut,dt].filter(filterEmptyLine).join(`
`),pt.length>0&&(pt+=`
`)):(ht=[generatePrecision(a),"#define SHADER_NAME "+a.shaderName,dt,a.instancing?"#define USE_INSTANCING":"",a.instancingColor?"#define USE_INSTANCING_COLOR":"",a.supportsVertexTextures?"#define VERTEX_TEXTURES":"",a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+ot:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&a.flatShading===!1?"#define USE_MORPHNORMALS":"",a.morphColors&&a.isWebGL2?"#define USE_MORPHCOLORS":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+a.morphTextureStride:"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_COUNT "+a.morphTargetsCount:"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+nt:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),pt=[ut,generatePrecision(a),"#define SHADER_NAME "+a.shaderName,dt,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+it:"",a.envMap?"#define "+ot:"",a.envMap?"#define "+st:"",ct?"#define CUBEUV_TEXEL_WIDTH "+ct.texelWidth:"",ct?"#define CUBEUV_TEXEL_HEIGHT "+ct.texelHeight:"",ct?"#define CUBEUV_MAX_MIP "+ct.maxMip+".0":"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoat?"#define USE_CLEARCOAT":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescence?"#define USE_IRIDESCENCE":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaTest?"#define USE_ALPHATEST":"",a.sheen?"#define USE_SHEEN":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors||a.instancingColor?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+nt:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.useLegacyLights?"#define LEGACY_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",a.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",a.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",a.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",a.outputEncoding),a.useDepthPacking?"#define DEPTH_PACKING "+a.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),tt=resolveIncludes(tt),tt=replaceLightNums(tt,a),tt=replaceClippingPlaneNums(tt,a),rt=resolveIncludes(rt),rt=replaceLightNums(rt,a),rt=replaceClippingPlaneNums(rt,a),tt=unrollLoops(tt),rt=unrollLoops(rt),a.isWebGL2&&a.isRawShaderMaterial!==!0&&(yt=`#version 300 es
`,ht=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ht,pt=["#define varying in",a.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",a.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+pt);const gt=yt+ht+tt,xt=yt+pt+rt,wt=WebGLShader(_e,35633,gt),Mt=WebGLShader(_e,35632,xt);if(_e.attachShader(ft,wt),_e.attachShader(ft,Mt),a.index0AttributeName!==void 0?_e.bindAttribLocation(ft,0,a.index0AttributeName):a.morphTargets===!0&&_e.bindAttribLocation(ft,0,"position"),_e.linkProgram(ft),$.debug.checkShaderErrors){const Dt=_e.getProgramInfoLog(ft).trim(),Ut=_e.getShaderInfoLog(wt).trim(),jt=_e.getShaderInfoLog(Mt).trim();let Xt=!0,kt=!0;if(_e.getProgramParameter(ft,35714)===!1){Xt=!1;const vt=getShaderErrors(_e,wt,"vertex"),Et=getShaderErrors(_e,Mt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+_e.getError()+" - VALIDATE_STATUS "+_e.getProgramParameter(ft,35715)+`

Program Info Log: `+Dt+`
`+vt+`
`+Et)}else Dt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Dt):(Ut===""||jt==="")&&(kt=!1);kt&&(this.diagnostics={runnable:Xt,programLog:Dt,vertexShader:{log:Ut,prefix:ht},fragmentShader:{log:jt,prefix:pt}})}_e.deleteShader(wt),_e.deleteShader(Mt);let It;this.getUniforms=function(){return It===void 0&&(It=new WebGLUniforms(_e,ft)),It};let Tt;return this.getAttributes=function(){return Tt===void 0&&(Tt=fetchAttributeLocations(_e,ft)),Tt},this.destroy=function(){j.releaseStatesOfProgram(this),_e.deleteProgram(ft),this.program=void 0},this.name=a.shaderName,this.id=programIdCount++,this.cacheKey=o,this.usedTimes=1,this.program=ft,this.vertexShader=wt,this.fragmentShader=Mt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(o){const a=o.vertexShader,j=o.fragmentShader,_e=this._getShaderStage(a),et=this._getShaderStage(j),tt=this._getShaderCacheForMaterial(o);return tt.has(_e)===!1&&(tt.add(_e),_e.usedTimes++),tt.has(et)===!1&&(tt.add(et),et.usedTimes++),this}remove(o){const a=this.materialCache.get(o);for(const j of a)j.usedTimes--,j.usedTimes===0&&this.shaderCache.delete(j.code);return this.materialCache.delete(o),this}getVertexShaderID(o){return this._getShaderStage(o.vertexShader).id}getFragmentShaderID(o){return this._getShaderStage(o.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(o){const a=this.materialCache;let j=a.get(o);return j===void 0&&(j=new Set,a.set(o,j)),j}_getShaderStage(o){const a=this.shaderCache;let j=a.get(o);return j===void 0&&(j=new WebGLShaderStage(o),a.set(o,j)),j}}class WebGLShaderStage{constructor(o){this.id=_id++,this.code=o,this.usedTimes=0}}function WebGLPrograms($,o,a,j,_e,et,tt){const rt=new Layers,nt=new WebGLShaderCache,it=[],ot=_e.isWebGL2,st=_e.logarithmicDepthBuffer,ct=_e.vertexTextures;let ut=_e.precision;const dt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ft(Tt,Dt,Ut,jt,Xt){const kt=jt.fog,vt=Xt.geometry,Et=Tt.isMeshStandardMaterial?jt.environment:null,Lt=(Tt.isMeshStandardMaterial?a:o).get(Tt.envMap||Et),Ot=Lt&&Lt.mapping===CubeUVReflectionMapping?Lt.image.height:null,Pt=dt[Tt.type];Tt.precision!==null&&(ut=_e.getMaxPrecision(Tt.precision),ut!==Tt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Tt.precision,"not supported, using",ut,"instead."));const zt=vt.morphAttributes.position||vt.morphAttributes.normal||vt.morphAttributes.color,Vt=zt!==void 0?zt.length:0;let $t=0;vt.morphAttributes.position!==void 0&&($t=1),vt.morphAttributes.normal!==void 0&&($t=2),vt.morphAttributes.color!==void 0&&($t=3);let At,Ht,ar,Rt;if(Pt){const fr=ShaderLib[Pt];At=fr.vertexShader,Ht=fr.fragmentShader}else At=Tt.vertexShader,Ht=Tt.fragmentShader,nt.update(Tt),ar=nt.getVertexShaderID(Tt),Rt=nt.getFragmentShaderID(Tt);const Zt=$.getRenderTarget(),ir=Tt.alphaTest>0,sr=Tt.clearcoat>0,pr=Tt.iridescence>0;return{isWebGL2:ot,shaderID:Pt,shaderName:Tt.type,vertexShader:At,fragmentShader:Ht,defines:Tt.defines,customVertexShaderID:ar,customFragmentShaderID:Rt,isRawShaderMaterial:Tt.isRawShaderMaterial===!0,glslVersion:Tt.glslVersion,precision:ut,instancing:Xt.isInstancedMesh===!0,instancingColor:Xt.isInstancedMesh===!0&&Xt.instanceColor!==null,supportsVertexTextures:ct,outputEncoding:Zt===null?$.outputEncoding:Zt.isXRRenderTarget===!0?Zt.texture.encoding:LinearEncoding,map:!!Tt.map,matcap:!!Tt.matcap,envMap:!!Lt,envMapMode:Lt&&Lt.mapping,envMapCubeUVHeight:Ot,lightMap:!!Tt.lightMap,aoMap:!!Tt.aoMap,emissiveMap:!!Tt.emissiveMap,bumpMap:!!Tt.bumpMap,normalMap:!!Tt.normalMap,objectSpaceNormalMap:Tt.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:Tt.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!Tt.map&&Tt.map.isVideoTexture===!0&&Tt.map.encoding===sRGBEncoding,clearcoat:sr,clearcoatMap:sr&&!!Tt.clearcoatMap,clearcoatRoughnessMap:sr&&!!Tt.clearcoatRoughnessMap,clearcoatNormalMap:sr&&!!Tt.clearcoatNormalMap,iridescence:pr,iridescenceMap:pr&&!!Tt.iridescenceMap,iridescenceThicknessMap:pr&&!!Tt.iridescenceThicknessMap,displacementMap:!!Tt.displacementMap,roughnessMap:!!Tt.roughnessMap,metalnessMap:!!Tt.metalnessMap,specularMap:!!Tt.specularMap,specularIntensityMap:!!Tt.specularIntensityMap,specularColorMap:!!Tt.specularColorMap,opaque:Tt.transparent===!1&&Tt.blending===NormalBlending,alphaMap:!!Tt.alphaMap,alphaTest:ir,gradientMap:!!Tt.gradientMap,sheen:Tt.sheen>0,sheenColorMap:!!Tt.sheenColorMap,sheenRoughnessMap:!!Tt.sheenRoughnessMap,transmission:Tt.transmission>0,transmissionMap:!!Tt.transmissionMap,thicknessMap:!!Tt.thicknessMap,combine:Tt.combine,vertexTangents:!!Tt.normalMap&&!!vt.attributes.tangent,vertexColors:Tt.vertexColors,vertexAlphas:Tt.vertexColors===!0&&!!vt.attributes.color&&vt.attributes.color.itemSize===4,vertexUvs:!!Tt.map||!!Tt.bumpMap||!!Tt.normalMap||!!Tt.specularMap||!!Tt.alphaMap||!!Tt.emissiveMap||!!Tt.roughnessMap||!!Tt.metalnessMap||!!Tt.clearcoatMap||!!Tt.clearcoatRoughnessMap||!!Tt.clearcoatNormalMap||!!Tt.iridescenceMap||!!Tt.iridescenceThicknessMap||!!Tt.displacementMap||!!Tt.transmissionMap||!!Tt.thicknessMap||!!Tt.specularIntensityMap||!!Tt.specularColorMap||!!Tt.sheenColorMap||!!Tt.sheenRoughnessMap,uvsVertexOnly:!(Tt.map||Tt.bumpMap||Tt.normalMap||Tt.specularMap||Tt.alphaMap||Tt.emissiveMap||Tt.roughnessMap||Tt.metalnessMap||Tt.clearcoatNormalMap||Tt.iridescenceMap||Tt.iridescenceThicknessMap||Tt.transmission>0||Tt.transmissionMap||Tt.thicknessMap||Tt.specularIntensityMap||Tt.specularColorMap||Tt.sheen>0||Tt.sheenColorMap||Tt.sheenRoughnessMap)&&!!Tt.displacementMap,fog:!!kt,useFog:Tt.fog===!0,fogExp2:kt&&kt.isFogExp2,flatShading:!!Tt.flatShading,sizeAttenuation:Tt.sizeAttenuation,logarithmicDepthBuffer:st,skinning:Xt.isSkinnedMesh===!0,morphTargets:vt.morphAttributes.position!==void 0,morphNormals:vt.morphAttributes.normal!==void 0,morphColors:vt.morphAttributes.color!==void 0,morphTargetsCount:Vt,morphTextureStride:$t,numDirLights:Dt.directional.length,numPointLights:Dt.point.length,numSpotLights:Dt.spot.length,numSpotLightMaps:Dt.spotLightMap.length,numRectAreaLights:Dt.rectArea.length,numHemiLights:Dt.hemi.length,numDirLightShadows:Dt.directionalShadowMap.length,numPointLightShadows:Dt.pointShadowMap.length,numSpotLightShadows:Dt.spotShadowMap.length,numSpotLightShadowsWithMaps:Dt.numSpotLightShadowsWithMaps,numClippingPlanes:tt.numPlanes,numClipIntersection:tt.numIntersection,dithering:Tt.dithering,shadowMapEnabled:$.shadowMap.enabled&&Ut.length>0,shadowMapType:$.shadowMap.type,toneMapping:Tt.toneMapped?$.toneMapping:NoToneMapping,useLegacyLights:$.useLegacyLights,premultipliedAlpha:Tt.premultipliedAlpha,doubleSided:Tt.side===DoubleSide,flipSided:Tt.side===BackSide,useDepthPacking:!!Tt.depthPacking,depthPacking:Tt.depthPacking||0,index0AttributeName:Tt.index0AttributeName,extensionDerivatives:Tt.extensions&&Tt.extensions.derivatives,extensionFragDepth:Tt.extensions&&Tt.extensions.fragDepth,extensionDrawBuffers:Tt.extensions&&Tt.extensions.drawBuffers,extensionShaderTextureLOD:Tt.extensions&&Tt.extensions.shaderTextureLOD,rendererExtensionFragDepth:ot||j.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ot||j.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ot||j.has("EXT_shader_texture_lod"),customProgramCacheKey:Tt.customProgramCacheKey()}}function ht(Tt){const Dt=[];if(Tt.shaderID?Dt.push(Tt.shaderID):(Dt.push(Tt.customVertexShaderID),Dt.push(Tt.customFragmentShaderID)),Tt.defines!==void 0)for(const Ut in Tt.defines)Dt.push(Ut),Dt.push(Tt.defines[Ut]);return Tt.isRawShaderMaterial===!1&&(pt(Dt,Tt),yt(Dt,Tt),Dt.push($.outputEncoding)),Dt.push(Tt.customProgramCacheKey),Dt.join()}function pt(Tt,Dt){Tt.push(Dt.precision),Tt.push(Dt.outputEncoding),Tt.push(Dt.envMapMode),Tt.push(Dt.envMapCubeUVHeight),Tt.push(Dt.combine),Tt.push(Dt.vertexUvs),Tt.push(Dt.fogExp2),Tt.push(Dt.sizeAttenuation),Tt.push(Dt.morphTargetsCount),Tt.push(Dt.morphAttributeCount),Tt.push(Dt.numDirLights),Tt.push(Dt.numPointLights),Tt.push(Dt.numSpotLights),Tt.push(Dt.numSpotLightMaps),Tt.push(Dt.numHemiLights),Tt.push(Dt.numRectAreaLights),Tt.push(Dt.numDirLightShadows),Tt.push(Dt.numPointLightShadows),Tt.push(Dt.numSpotLightShadows),Tt.push(Dt.numSpotLightShadowsWithMaps),Tt.push(Dt.shadowMapType),Tt.push(Dt.toneMapping),Tt.push(Dt.numClippingPlanes),Tt.push(Dt.numClipIntersection),Tt.push(Dt.depthPacking)}function yt(Tt,Dt){rt.disableAll(),Dt.isWebGL2&&rt.enable(0),Dt.supportsVertexTextures&&rt.enable(1),Dt.instancing&&rt.enable(2),Dt.instancingColor&&rt.enable(3),Dt.map&&rt.enable(4),Dt.matcap&&rt.enable(5),Dt.envMap&&rt.enable(6),Dt.lightMap&&rt.enable(7),Dt.aoMap&&rt.enable(8),Dt.emissiveMap&&rt.enable(9),Dt.bumpMap&&rt.enable(10),Dt.normalMap&&rt.enable(11),Dt.objectSpaceNormalMap&&rt.enable(12),Dt.tangentSpaceNormalMap&&rt.enable(13),Dt.clearcoat&&rt.enable(14),Dt.clearcoatMap&&rt.enable(15),Dt.clearcoatRoughnessMap&&rt.enable(16),Dt.clearcoatNormalMap&&rt.enable(17),Dt.iridescence&&rt.enable(18),Dt.iridescenceMap&&rt.enable(19),Dt.iridescenceThicknessMap&&rt.enable(20),Dt.displacementMap&&rt.enable(21),Dt.specularMap&&rt.enable(22),Dt.roughnessMap&&rt.enable(23),Dt.metalnessMap&&rt.enable(24),Dt.gradientMap&&rt.enable(25),Dt.alphaMap&&rt.enable(26),Dt.alphaTest&&rt.enable(27),Dt.vertexColors&&rt.enable(28),Dt.vertexAlphas&&rt.enable(29),Dt.vertexUvs&&rt.enable(30),Dt.vertexTangents&&rt.enable(31),Dt.uvsVertexOnly&&rt.enable(32),Tt.push(rt.mask),rt.disableAll(),Dt.fog&&rt.enable(0),Dt.useFog&&rt.enable(1),Dt.flatShading&&rt.enable(2),Dt.logarithmicDepthBuffer&&rt.enable(3),Dt.skinning&&rt.enable(4),Dt.morphTargets&&rt.enable(5),Dt.morphNormals&&rt.enable(6),Dt.morphColors&&rt.enable(7),Dt.premultipliedAlpha&&rt.enable(8),Dt.shadowMapEnabled&&rt.enable(9),Dt.useLegacyLights&&rt.enable(10),Dt.doubleSided&&rt.enable(11),Dt.flipSided&&rt.enable(12),Dt.useDepthPacking&&rt.enable(13),Dt.dithering&&rt.enable(14),Dt.specularIntensityMap&&rt.enable(15),Dt.specularColorMap&&rt.enable(16),Dt.transmission&&rt.enable(17),Dt.transmissionMap&&rt.enable(18),Dt.thicknessMap&&rt.enable(19),Dt.sheen&&rt.enable(20),Dt.sheenColorMap&&rt.enable(21),Dt.sheenRoughnessMap&&rt.enable(22),Dt.decodeVideoTexture&&rt.enable(23),Dt.opaque&&rt.enable(24),Tt.push(rt.mask)}function gt(Tt){const Dt=dt[Tt.type];let Ut;if(Dt){const jt=ShaderLib[Dt];Ut=UniformsUtils.clone(jt.uniforms)}else Ut=Tt.uniforms;return Ut}function xt(Tt,Dt){let Ut;for(let jt=0,Xt=it.length;jt<Xt;jt++){const kt=it[jt];if(kt.cacheKey===Dt){Ut=kt,++Ut.usedTimes;break}}return Ut===void 0&&(Ut=new WebGLProgram($,Dt,Tt,et),it.push(Ut)),Ut}function wt(Tt){if(--Tt.usedTimes===0){const Dt=it.indexOf(Tt);it[Dt]=it[it.length-1],it.pop(),Tt.destroy()}}function Mt(Tt){nt.remove(Tt)}function It(){nt.dispose()}return{getParameters:ft,getProgramCacheKey:ht,getUniforms:gt,acquireProgram:xt,releaseProgram:wt,releaseShaderCache:Mt,programs:it,dispose:It}}function WebGLProperties(){let $=new WeakMap;function o(et){let tt=$.get(et);return tt===void 0&&(tt={},$.set(et,tt)),tt}function a(et){$.delete(et)}function j(et,tt,rt){$.get(et)[tt]=rt}function _e(){$=new WeakMap}return{get:o,remove:a,update:j,dispose:_e}}function painterSortStable($,o){return $.groupOrder!==o.groupOrder?$.groupOrder-o.groupOrder:$.renderOrder!==o.renderOrder?$.renderOrder-o.renderOrder:$.material.id!==o.material.id?$.material.id-o.material.id:$.z!==o.z?$.z-o.z:$.id-o.id}function reversePainterSortStable($,o){return $.groupOrder!==o.groupOrder?$.groupOrder-o.groupOrder:$.renderOrder!==o.renderOrder?$.renderOrder-o.renderOrder:$.z!==o.z?o.z-$.z:$.id-o.id}function WebGLRenderList(){const $=[];let o=0;const a=[],j=[],_e=[];function et(){o=0,a.length=0,j.length=0,_e.length=0}function tt(st,ct,ut,dt,ft,ht){let pt=$[o];return pt===void 0?(pt={id:st.id,object:st,geometry:ct,material:ut,groupOrder:dt,renderOrder:st.renderOrder,z:ft,group:ht},$[o]=pt):(pt.id=st.id,pt.object=st,pt.geometry=ct,pt.material=ut,pt.groupOrder=dt,pt.renderOrder=st.renderOrder,pt.z=ft,pt.group=ht),o++,pt}function rt(st,ct,ut,dt,ft,ht){const pt=tt(st,ct,ut,dt,ft,ht);ut.transmission>0?j.push(pt):ut.transparent===!0?_e.push(pt):a.push(pt)}function nt(st,ct,ut,dt,ft,ht){const pt=tt(st,ct,ut,dt,ft,ht);ut.transmission>0?j.unshift(pt):ut.transparent===!0?_e.unshift(pt):a.unshift(pt)}function it(st,ct){a.length>1&&a.sort(st||painterSortStable),j.length>1&&j.sort(ct||reversePainterSortStable),_e.length>1&&_e.sort(ct||reversePainterSortStable)}function ot(){for(let st=o,ct=$.length;st<ct;st++){const ut=$[st];if(ut.id===null)break;ut.id=null,ut.object=null,ut.geometry=null,ut.material=null,ut.group=null}}return{opaque:a,transmissive:j,transparent:_e,init:et,push:rt,unshift:nt,finish:ot,sort:it}}function WebGLRenderLists(){let $=new WeakMap;function o(j,_e){const et=$.get(j);let tt;return et===void 0?(tt=new WebGLRenderList,$.set(j,[tt])):_e>=et.length?(tt=new WebGLRenderList,et.push(tt)):tt=et[_e],tt}function a(){$=new WeakMap}return{get:o,dispose:a}}function UniformsCache(){const $={};return{get:function(o){if($[o.id]!==void 0)return $[o.id];let a;switch(o.type){case"DirectionalLight":a={direction:new Vector3,color:new Color};break;case"SpotLight":a={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":a={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":a={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":a={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return $[o.id]=a,a}}}function ShadowUniformsCache(){const $={};return{get:function(o){if($[o.id]!==void 0)return $[o.id];let a;switch(o.type){case"DirectionalLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return $[o.id]=a,a}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst($,o){return(o.castShadow?2:0)-($.castShadow?2:0)+(o.map?1:0)-($.map?1:0)}function WebGLLights($,o){const a=new UniformsCache,j=ShadowUniformsCache(),_e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let ot=0;ot<9;ot++)_e.probe.push(new Vector3);const et=new Vector3,tt=new Matrix4,rt=new Matrix4;function nt(ot,st){let ct=0,ut=0,dt=0;for(let jt=0;jt<9;jt++)_e.probe[jt].set(0,0,0);let ft=0,ht=0,pt=0,yt=0,gt=0,xt=0,wt=0,Mt=0,It=0,Tt=0;ot.sort(shadowCastingAndTexturingLightsFirst);const Dt=st===!0?Math.PI:1;for(let jt=0,Xt=ot.length;jt<Xt;jt++){const kt=ot[jt],vt=kt.color,Et=kt.intensity,Lt=kt.distance,Ot=kt.shadow&&kt.shadow.map?kt.shadow.map.texture:null;if(kt.isAmbientLight)ct+=vt.r*Et*Dt,ut+=vt.g*Et*Dt,dt+=vt.b*Et*Dt;else if(kt.isLightProbe)for(let Pt=0;Pt<9;Pt++)_e.probe[Pt].addScaledVector(kt.sh.coefficients[Pt],Et);else if(kt.isDirectionalLight){const Pt=a.get(kt);if(Pt.color.copy(kt.color).multiplyScalar(kt.intensity*Dt),kt.castShadow){const zt=kt.shadow,Vt=j.get(kt);Vt.shadowBias=zt.bias,Vt.shadowNormalBias=zt.normalBias,Vt.shadowRadius=zt.radius,Vt.shadowMapSize=zt.mapSize,_e.directionalShadow[ft]=Vt,_e.directionalShadowMap[ft]=Ot,_e.directionalShadowMatrix[ft]=kt.shadow.matrix,xt++}_e.directional[ft]=Pt,ft++}else if(kt.isSpotLight){const Pt=a.get(kt);Pt.position.setFromMatrixPosition(kt.matrixWorld),Pt.color.copy(vt).multiplyScalar(Et*Dt),Pt.distance=Lt,Pt.coneCos=Math.cos(kt.angle),Pt.penumbraCos=Math.cos(kt.angle*(1-kt.penumbra)),Pt.decay=kt.decay,_e.spot[pt]=Pt;const zt=kt.shadow;if(kt.map&&(_e.spotLightMap[It]=kt.map,It++,zt.updateMatrices(kt),kt.castShadow&&Tt++),_e.spotLightMatrix[pt]=zt.matrix,kt.castShadow){const Vt=j.get(kt);Vt.shadowBias=zt.bias,Vt.shadowNormalBias=zt.normalBias,Vt.shadowRadius=zt.radius,Vt.shadowMapSize=zt.mapSize,_e.spotShadow[pt]=Vt,_e.spotShadowMap[pt]=Ot,Mt++}pt++}else if(kt.isRectAreaLight){const Pt=a.get(kt);Pt.color.copy(vt).multiplyScalar(Et),Pt.halfWidth.set(kt.width*.5,0,0),Pt.halfHeight.set(0,kt.height*.5,0),_e.rectArea[yt]=Pt,yt++}else if(kt.isPointLight){const Pt=a.get(kt);if(Pt.color.copy(kt.color).multiplyScalar(kt.intensity*Dt),Pt.distance=kt.distance,Pt.decay=kt.decay,kt.castShadow){const zt=kt.shadow,Vt=j.get(kt);Vt.shadowBias=zt.bias,Vt.shadowNormalBias=zt.normalBias,Vt.shadowRadius=zt.radius,Vt.shadowMapSize=zt.mapSize,Vt.shadowCameraNear=zt.camera.near,Vt.shadowCameraFar=zt.camera.far,_e.pointShadow[ht]=Vt,_e.pointShadowMap[ht]=Ot,_e.pointShadowMatrix[ht]=kt.shadow.matrix,wt++}_e.point[ht]=Pt,ht++}else if(kt.isHemisphereLight){const Pt=a.get(kt);Pt.skyColor.copy(kt.color).multiplyScalar(Et*Dt),Pt.groundColor.copy(kt.groundColor).multiplyScalar(Et*Dt),_e.hemi[gt]=Pt,gt++}}yt>0&&(o.isWebGL2||$.has("OES_texture_float_linear")===!0?(_e.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,_e.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):$.has("OES_texture_half_float_linear")===!0?(_e.rectAreaLTC1=UniformsLib.LTC_HALF_1,_e.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),_e.ambient[0]=ct,_e.ambient[1]=ut,_e.ambient[2]=dt;const Ut=_e.hash;(Ut.directionalLength!==ft||Ut.pointLength!==ht||Ut.spotLength!==pt||Ut.rectAreaLength!==yt||Ut.hemiLength!==gt||Ut.numDirectionalShadows!==xt||Ut.numPointShadows!==wt||Ut.numSpotShadows!==Mt||Ut.numSpotMaps!==It)&&(_e.directional.length=ft,_e.spot.length=pt,_e.rectArea.length=yt,_e.point.length=ht,_e.hemi.length=gt,_e.directionalShadow.length=xt,_e.directionalShadowMap.length=xt,_e.pointShadow.length=wt,_e.pointShadowMap.length=wt,_e.spotShadow.length=Mt,_e.spotShadowMap.length=Mt,_e.directionalShadowMatrix.length=xt,_e.pointShadowMatrix.length=wt,_e.spotLightMatrix.length=Mt+It-Tt,_e.spotLightMap.length=It,_e.numSpotLightShadowsWithMaps=Tt,Ut.directionalLength=ft,Ut.pointLength=ht,Ut.spotLength=pt,Ut.rectAreaLength=yt,Ut.hemiLength=gt,Ut.numDirectionalShadows=xt,Ut.numPointShadows=wt,Ut.numSpotShadows=Mt,Ut.numSpotMaps=It,_e.version=nextVersion++)}function it(ot,st){let ct=0,ut=0,dt=0,ft=0,ht=0;const pt=st.matrixWorldInverse;for(let yt=0,gt=ot.length;yt<gt;yt++){const xt=ot[yt];if(xt.isDirectionalLight){const wt=_e.directional[ct];wt.direction.setFromMatrixPosition(xt.matrixWorld),et.setFromMatrixPosition(xt.target.matrixWorld),wt.direction.sub(et),wt.direction.transformDirection(pt),ct++}else if(xt.isSpotLight){const wt=_e.spot[dt];wt.position.setFromMatrixPosition(xt.matrixWorld),wt.position.applyMatrix4(pt),wt.direction.setFromMatrixPosition(xt.matrixWorld),et.setFromMatrixPosition(xt.target.matrixWorld),wt.direction.sub(et),wt.direction.transformDirection(pt),dt++}else if(xt.isRectAreaLight){const wt=_e.rectArea[ft];wt.position.setFromMatrixPosition(xt.matrixWorld),wt.position.applyMatrix4(pt),rt.identity(),tt.copy(xt.matrixWorld),tt.premultiply(pt),rt.extractRotation(tt),wt.halfWidth.set(xt.width*.5,0,0),wt.halfHeight.set(0,xt.height*.5,0),wt.halfWidth.applyMatrix4(rt),wt.halfHeight.applyMatrix4(rt),ft++}else if(xt.isPointLight){const wt=_e.point[ut];wt.position.setFromMatrixPosition(xt.matrixWorld),wt.position.applyMatrix4(pt),ut++}else if(xt.isHemisphereLight){const wt=_e.hemi[ht];wt.direction.setFromMatrixPosition(xt.matrixWorld),wt.direction.transformDirection(pt),ht++}}}return{setup:nt,setupView:it,state:_e}}function WebGLRenderState($,o){const a=new WebGLLights($,o),j=[],_e=[];function et(){j.length=0,_e.length=0}function tt(st){j.push(st)}function rt(st){_e.push(st)}function nt(st){a.setup(j,st)}function it(st){a.setupView(j,st)}return{init:et,state:{lightsArray:j,shadowsArray:_e,lights:a},setupLights:nt,setupLightsView:it,pushLight:tt,pushShadow:rt}}function WebGLRenderStates($,o){let a=new WeakMap;function j(et,tt=0){const rt=a.get(et);let nt;return rt===void 0?(nt=new WebGLRenderState($,o),a.set(et,[nt])):tt>=rt.length?(nt=new WebGLRenderState($,o),rt.push(nt)):nt=rt[tt],nt}function _e(){a=new WeakMap}return{get:j,dispose:_e}}class MeshDepthMaterial extends Material{constructor(o){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(o)}copy(o){return super.copy(o),this.depthPacking=o.depthPacking,this.map=o.map,this.alphaMap=o.alphaMap,this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(o){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(o)}copy(o){return super.copy(o),this.referencePosition.copy(o.referencePosition),this.nearDistance=o.nearDistance,this.farDistance=o.farDistance,this.map=o.map,this.alphaMap=o.alphaMap,this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap($,o,a){let j=new Frustum;const _e=new Vector2,et=new Vector2,tt=new Vector4,rt=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),nt=new MeshDistanceMaterial,it={},ot=a.maxTextureSize,st={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ct=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ut=ct.clone();ut.defines.HORIZONTAL_PASS=1;const dt=new BufferGeometry;dt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ft=new Mesh(dt,ct),ht=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(xt,wt,Mt){if(ht.enabled===!1||ht.autoUpdate===!1&&ht.needsUpdate===!1||xt.length===0)return;const It=$.getRenderTarget(),Tt=$.getActiveCubeFace(),Dt=$.getActiveMipmapLevel(),Ut=$.state;Ut.setBlending(NoBlending),Ut.buffers.color.setClear(1,1,1,1),Ut.buffers.depth.setTest(!0),Ut.setScissorTest(!1);for(let jt=0,Xt=xt.length;jt<Xt;jt++){const kt=xt[jt],vt=kt.shadow;if(vt===void 0){console.warn("THREE.WebGLShadowMap:",kt,"has no shadow.");continue}if(vt.autoUpdate===!1&&vt.needsUpdate===!1)continue;_e.copy(vt.mapSize);const Et=vt.getFrameExtents();if(_e.multiply(Et),et.copy(vt.mapSize),(_e.x>ot||_e.y>ot)&&(_e.x>ot&&(et.x=Math.floor(ot/Et.x),_e.x=et.x*Et.x,vt.mapSize.x=et.x),_e.y>ot&&(et.y=Math.floor(ot/Et.y),_e.y=et.y*Et.y,vt.mapSize.y=et.y)),vt.map===null){const Ot=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};vt.map=new WebGLRenderTarget(_e.x,_e.y,Ot),vt.map.texture.name=kt.name+".shadowMap",vt.camera.updateProjectionMatrix()}$.setRenderTarget(vt.map),$.clear();const Lt=vt.getViewportCount();for(let Ot=0;Ot<Lt;Ot++){const Pt=vt.getViewport(Ot);tt.set(et.x*Pt.x,et.y*Pt.y,et.x*Pt.z,et.y*Pt.w),Ut.viewport(tt),vt.updateMatrices(kt,Ot),j=vt.getFrustum(),gt(wt,Mt,vt.camera,kt,this.type)}vt.isPointLightShadow!==!0&&this.type===VSMShadowMap&&pt(vt,Mt),vt.needsUpdate=!1}ht.needsUpdate=!1,$.setRenderTarget(It,Tt,Dt)};function pt(xt,wt){const Mt=o.update(ft);ct.defines.VSM_SAMPLES!==xt.blurSamples&&(ct.defines.VSM_SAMPLES=xt.blurSamples,ut.defines.VSM_SAMPLES=xt.blurSamples,ct.needsUpdate=!0,ut.needsUpdate=!0),xt.mapPass===null&&(xt.mapPass=new WebGLRenderTarget(_e.x,_e.y)),ct.uniforms.shadow_pass.value=xt.map.texture,ct.uniforms.resolution.value=xt.mapSize,ct.uniforms.radius.value=xt.radius,$.setRenderTarget(xt.mapPass),$.clear(),$.renderBufferDirect(wt,null,Mt,ct,ft,null),ut.uniforms.shadow_pass.value=xt.mapPass.texture,ut.uniforms.resolution.value=xt.mapSize,ut.uniforms.radius.value=xt.radius,$.setRenderTarget(xt.map),$.clear(),$.renderBufferDirect(wt,null,Mt,ut,ft,null)}function yt(xt,wt,Mt,It,Tt,Dt){let Ut=null;const jt=Mt.isPointLight===!0?xt.customDistanceMaterial:xt.customDepthMaterial;if(jt!==void 0)Ut=jt;else if(Ut=Mt.isPointLight===!0?nt:rt,$.localClippingEnabled&&wt.clipShadows===!0&&Array.isArray(wt.clippingPlanes)&&wt.clippingPlanes.length!==0||wt.displacementMap&&wt.displacementScale!==0||wt.alphaMap&&wt.alphaTest>0||wt.map&&wt.alphaTest>0){const Xt=Ut.uuid,kt=wt.uuid;let vt=it[Xt];vt===void 0&&(vt={},it[Xt]=vt);let Et=vt[kt];Et===void 0&&(Et=Ut.clone(),vt[kt]=Et),Ut=Et}return Ut.visible=wt.visible,Ut.wireframe=wt.wireframe,Dt===VSMShadowMap?Ut.side=wt.shadowSide!==null?wt.shadowSide:wt.side:Ut.side=wt.shadowSide!==null?wt.shadowSide:st[wt.side],Ut.alphaMap=wt.alphaMap,Ut.alphaTest=wt.alphaTest,Ut.map=wt.map,Ut.clipShadows=wt.clipShadows,Ut.clippingPlanes=wt.clippingPlanes,Ut.clipIntersection=wt.clipIntersection,Ut.displacementMap=wt.displacementMap,Ut.displacementScale=wt.displacementScale,Ut.displacementBias=wt.displacementBias,Ut.wireframeLinewidth=wt.wireframeLinewidth,Ut.linewidth=wt.linewidth,Mt.isPointLight===!0&&Ut.isMeshDistanceMaterial===!0&&(Ut.referencePosition.setFromMatrixPosition(Mt.matrixWorld),Ut.nearDistance=It,Ut.farDistance=Tt),Ut}function gt(xt,wt,Mt,It,Tt){if(xt.visible===!1)return;if(xt.layers.test(wt.layers)&&(xt.isMesh||xt.isLine||xt.isPoints)&&(xt.castShadow||xt.receiveShadow&&Tt===VSMShadowMap)&&(!xt.frustumCulled||j.intersectsObject(xt))){xt.modelViewMatrix.multiplyMatrices(Mt.matrixWorldInverse,xt.matrixWorld);const jt=o.update(xt),Xt=xt.material;if(Array.isArray(Xt)){const kt=jt.groups;for(let vt=0,Et=kt.length;vt<Et;vt++){const Lt=kt[vt],Ot=Xt[Lt.materialIndex];if(Ot&&Ot.visible){const Pt=yt(xt,Ot,It,Mt.near,Mt.far,Tt);$.renderBufferDirect(Mt,null,jt,Pt,xt,Lt)}}}else if(Xt.visible){const kt=yt(xt,Xt,It,Mt.near,Mt.far,Tt);$.renderBufferDirect(Mt,null,jt,kt,xt,null)}}const Ut=xt.children;for(let jt=0,Xt=Ut.length;jt<Xt;jt++)gt(Ut[jt],wt,Mt,It,Tt)}}function WebGLState($,o,a){const j=a.isWebGL2;function _e(){let tr=!1;const xr=new Vector4;let Er=null;const Ir=new Vector4(0,0,0,0);return{setMask:function(Hr){Er!==Hr&&!tr&&($.colorMask(Hr,Hr,Hr,Hr),Er=Hr)},setLocked:function(Hr){tr=Hr},setClear:function(Hr,Xr,qr,dn,rn){rn===!0&&(Hr*=dn,Xr*=dn,qr*=dn),xr.set(Hr,Xr,qr,dn),Ir.equals(xr)===!1&&($.clearColor(Hr,Xr,qr,dn),Ir.copy(xr))},reset:function(){tr=!1,Er=null,Ir.set(-1,0,0,0)}}}function et(){let tr=!1,xr=null,Er=null,Ir=null;return{setTest:function(Hr){Hr?ir(2929):sr(2929)},setMask:function(Hr){xr!==Hr&&!tr&&($.depthMask(Hr),xr=Hr)},setFunc:function(Hr){if(Er!==Hr){switch(Hr){case NeverDepth:$.depthFunc(512);break;case AlwaysDepth:$.depthFunc(519);break;case LessDepth:$.depthFunc(513);break;case LessEqualDepth:$.depthFunc(515);break;case EqualDepth:$.depthFunc(514);break;case GreaterEqualDepth:$.depthFunc(518);break;case GreaterDepth:$.depthFunc(516);break;case NotEqualDepth:$.depthFunc(517);break;default:$.depthFunc(515)}Er=Hr}},setLocked:function(Hr){tr=Hr},setClear:function(Hr){Ir!==Hr&&($.clearDepth(Hr),Ir=Hr)},reset:function(){tr=!1,xr=null,Er=null,Ir=null}}}function tt(){let tr=!1,xr=null,Er=null,Ir=null,Hr=null,Xr=null,qr=null,dn=null,rn=null;return{setTest:function(Qr){tr||(Qr?ir(2960):sr(2960))},setMask:function(Qr){xr!==Qr&&!tr&&($.stencilMask(Qr),xr=Qr)},setFunc:function(Qr,_n,on){(Er!==Qr||Ir!==_n||Hr!==on)&&($.stencilFunc(Qr,_n,on),Er=Qr,Ir=_n,Hr=on)},setOp:function(Qr,_n,on){(Xr!==Qr||qr!==_n||dn!==on)&&($.stencilOp(Qr,_n,on),Xr=Qr,qr=_n,dn=on)},setLocked:function(Qr){tr=Qr},setClear:function(Qr){rn!==Qr&&($.clearStencil(Qr),rn=Qr)},reset:function(){tr=!1,xr=null,Er=null,Ir=null,Hr=null,Xr=null,qr=null,dn=null,rn=null}}}const rt=new _e,nt=new et,it=new tt,ot=new WeakMap,st=new WeakMap;let ct={},ut={},dt=new WeakMap,ft=[],ht=null,pt=!1,yt=null,gt=null,xt=null,wt=null,Mt=null,It=null,Tt=null,Dt=!1,Ut=null,jt=null,Xt=null,kt=null,vt=null;const Et=$.getParameter(35661);let Lt=!1,Ot=0;const Pt=$.getParameter(7938);Pt.indexOf("WebGL")!==-1?(Ot=parseFloat(/^WebGL (\d)/.exec(Pt)[1]),Lt=Ot>=1):Pt.indexOf("OpenGL ES")!==-1&&(Ot=parseFloat(/^OpenGL ES (\d)/.exec(Pt)[1]),Lt=Ot>=2);let zt=null,Vt={};const $t=$.getParameter(3088),At=$.getParameter(2978),Ht=new Vector4().fromArray($t),ar=new Vector4().fromArray(At);function Rt(tr,xr,Er){const Ir=new Uint8Array(4),Hr=$.createTexture();$.bindTexture(tr,Hr),$.texParameteri(tr,10241,9728),$.texParameteri(tr,10240,9728);for(let Xr=0;Xr<Er;Xr++)$.texImage2D(xr+Xr,0,6408,1,1,0,6408,5121,Ir);return Hr}const Zt={};Zt[3553]=Rt(3553,3553,1),Zt[34067]=Rt(34067,34069,6),rt.setClear(0,0,0,1),nt.setClear(1),it.setClear(0),ir(2929),nt.setFunc(LessEqualDepth),kr(!1),Dr(CullFaceBack),ir(2884),cr(NoBlending);function ir(tr){ct[tr]!==!0&&($.enable(tr),ct[tr]=!0)}function sr(tr){ct[tr]!==!1&&($.disable(tr),ct[tr]=!1)}function pr(tr,xr){return ut[tr]!==xr?($.bindFramebuffer(tr,xr),ut[tr]=xr,j&&(tr===36009&&(ut[36160]=xr),tr===36160&&(ut[36009]=xr)),!0):!1}function _r(tr,xr){let Er=ft,Ir=!1;if(tr)if(Er=dt.get(xr),Er===void 0&&(Er=[],dt.set(xr,Er)),tr.isWebGLMultipleRenderTargets){const Hr=tr.texture;if(Er.length!==Hr.length||Er[0]!==36064){for(let Xr=0,qr=Hr.length;Xr<qr;Xr++)Er[Xr]=36064+Xr;Er.length=Hr.length,Ir=!0}}else Er[0]!==36064&&(Er[0]=36064,Ir=!0);else Er[0]!==1029&&(Er[0]=1029,Ir=!0);Ir&&(a.isWebGL2?$.drawBuffers(Er):o.get("WEBGL_draw_buffers").drawBuffersWEBGL(Er))}function fr(tr){return ht!==tr?($.useProgram(tr),ht=tr,!0):!1}const nr={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(j)nr[MinEquation]=32775,nr[MaxEquation]=32776;else{const tr=o.get("EXT_blend_minmax");tr!==null&&(nr[MinEquation]=tr.MIN_EXT,nr[MaxEquation]=tr.MAX_EXT)}const lr={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function cr(tr,xr,Er,Ir,Hr,Xr,qr,dn){if(tr===NoBlending){pt===!0&&(sr(3042),pt=!1);return}if(pt===!1&&(ir(3042),pt=!0),tr!==CustomBlending){if(tr!==yt||dn!==Dt){if((gt!==AddEquation||Mt!==AddEquation)&&($.blendEquation(32774),gt=AddEquation,Mt=AddEquation),dn)switch(tr){case NormalBlending:$.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:$.blendFunc(1,1);break;case SubtractiveBlending:$.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:$.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",tr);break}else switch(tr){case NormalBlending:$.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:$.blendFunc(770,1);break;case SubtractiveBlending:$.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:$.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",tr);break}xt=null,wt=null,It=null,Tt=null,yt=tr,Dt=dn}return}Hr=Hr||xr,Xr=Xr||Er,qr=qr||Ir,(xr!==gt||Hr!==Mt)&&($.blendEquationSeparate(nr[xr],nr[Hr]),gt=xr,Mt=Hr),(Er!==xt||Ir!==wt||Xr!==It||qr!==Tt)&&($.blendFuncSeparate(lr[Er],lr[Ir],lr[Xr],lr[qr]),xt=Er,wt=Ir,It=Xr,Tt=qr),yt=tr,Dt=!1}function Ar(tr,xr){tr.side===DoubleSide?sr(2884):ir(2884);let Er=tr.side===BackSide;xr&&(Er=!Er),kr(Er),tr.blending===NormalBlending&&tr.transparent===!1?cr(NoBlending):cr(tr.blending,tr.blendEquation,tr.blendSrc,tr.blendDst,tr.blendEquationAlpha,tr.blendSrcAlpha,tr.blendDstAlpha,tr.premultipliedAlpha),nt.setFunc(tr.depthFunc),nt.setTest(tr.depthTest),nt.setMask(tr.depthWrite),rt.setMask(tr.colorWrite);const Ir=tr.stencilWrite;it.setTest(Ir),Ir&&(it.setMask(tr.stencilWriteMask),it.setFunc(tr.stencilFunc,tr.stencilRef,tr.stencilFuncMask),it.setOp(tr.stencilFail,tr.stencilZFail,tr.stencilZPass)),Ur(tr.polygonOffset,tr.polygonOffsetFactor,tr.polygonOffsetUnits),tr.alphaToCoverage===!0?ir(32926):sr(32926)}function kr(tr){Ut!==tr&&(tr?$.frontFace(2304):$.frontFace(2305),Ut=tr)}function Dr(tr){tr!==CullFaceNone?(ir(2884),tr!==jt&&(tr===CullFaceBack?$.cullFace(1029):tr===CullFaceFront?$.cullFace(1028):$.cullFace(1032))):sr(2884),jt=tr}function Lr(tr){tr!==Xt&&(Lt&&$.lineWidth(tr),Xt=tr)}function Ur(tr,xr,Er){tr?(ir(32823),(kt!==xr||vt!==Er)&&($.polygonOffset(xr,Er),kt=xr,vt=Er)):sr(32823)}function Or(tr){tr?ir(3089):sr(3089)}function Nr(tr){tr===void 0&&(tr=33984+Et-1),zt!==tr&&($.activeTexture(tr),zt=tr)}function Jt(tr,xr,Er){Er===void 0&&(zt===null?Er=33984+Et-1:Er=zt);let Ir=Vt[Er];Ir===void 0&&(Ir={type:void 0,texture:void 0},Vt[Er]=Ir),(Ir.type!==tr||Ir.texture!==xr)&&(zt!==Er&&($.activeTexture(Er),zt=Er),$.bindTexture(tr,xr||Zt[tr]),Ir.type=tr,Ir.texture=xr)}function Wt(){const tr=Vt[zt];tr!==void 0&&tr.type!==void 0&&($.bindTexture(tr.type,null),tr.type=void 0,tr.texture=void 0)}function ur(){try{$.compressedTexImage2D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function Pr(){try{$.compressedTexImage3D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function Tr(){try{$.texSubImage2D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function Ft(){try{$.texSubImage3D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function St(){try{$.compressedTexSubImage2D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function Ct(){try{$.compressedTexSubImage3D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function Gt(){try{$.texStorage2D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function Qt(){try{$.texStorage3D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function rr(){try{$.texImage2D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function er(){try{$.texImage3D.apply($,arguments)}catch(tr){console.error("THREE.WebGLState:",tr)}}function Cr(tr){Ht.equals(tr)===!1&&($.scissor(tr.x,tr.y,tr.z,tr.w),Ht.copy(tr))}function Br(tr){ar.equals(tr)===!1&&($.viewport(tr.x,tr.y,tr.z,tr.w),ar.copy(tr))}function Yt(tr,xr){let Er=st.get(xr);Er===void 0&&(Er=new WeakMap,st.set(xr,Er));let Ir=Er.get(tr);Ir===void 0&&(Ir=$.getUniformBlockIndex(xr,tr.name),Er.set(tr,Ir))}function br(tr,xr){const Ir=st.get(xr).get(tr);ot.get(xr)!==Ir&&($.uniformBlockBinding(xr,Ir,tr.__bindingPointIndex),ot.set(xr,Ir))}function Rr(){$.disable(3042),$.disable(2884),$.disable(2929),$.disable(32823),$.disable(3089),$.disable(2960),$.disable(32926),$.blendEquation(32774),$.blendFunc(1,0),$.blendFuncSeparate(1,0,1,0),$.colorMask(!0,!0,!0,!0),$.clearColor(0,0,0,0),$.depthMask(!0),$.depthFunc(513),$.clearDepth(1),$.stencilMask(4294967295),$.stencilFunc(519,0,4294967295),$.stencilOp(7680,7680,7680),$.clearStencil(0),$.cullFace(1029),$.frontFace(2305),$.polygonOffset(0,0),$.activeTexture(33984),$.bindFramebuffer(36160,null),j===!0&&($.bindFramebuffer(36009,null),$.bindFramebuffer(36008,null)),$.useProgram(null),$.lineWidth(1),$.scissor(0,0,$.canvas.width,$.canvas.height),$.viewport(0,0,$.canvas.width,$.canvas.height),ct={},zt=null,Vt={},ut={},dt=new WeakMap,ft=[],ht=null,pt=!1,yt=null,gt=null,xt=null,wt=null,Mt=null,It=null,Tt=null,Dt=!1,Ut=null,jt=null,Xt=null,kt=null,vt=null,Ht.set(0,0,$.canvas.width,$.canvas.height),ar.set(0,0,$.canvas.width,$.canvas.height),rt.reset(),nt.reset(),it.reset()}return{buffers:{color:rt,depth:nt,stencil:it},enable:ir,disable:sr,bindFramebuffer:pr,drawBuffers:_r,useProgram:fr,setBlending:cr,setMaterial:Ar,setFlipSided:kr,setCullFace:Dr,setLineWidth:Lr,setPolygonOffset:Ur,setScissorTest:Or,activeTexture:Nr,bindTexture:Jt,unbindTexture:Wt,compressedTexImage2D:ur,compressedTexImage3D:Pr,texImage2D:rr,texImage3D:er,updateUBOMapping:Yt,uniformBlockBinding:br,texStorage2D:Gt,texStorage3D:Qt,texSubImage2D:Tr,texSubImage3D:Ft,compressedTexSubImage2D:St,compressedTexSubImage3D:Ct,scissor:Cr,viewport:Br,reset:Rr}}function WebGLTextures($,o,a,j,_e,et,tt){const rt=_e.isWebGL2,nt=_e.maxTextures,it=_e.maxCubemapSize,ot=_e.maxTextureSize,st=_e.maxSamples,ct=o.has("WEBGL_multisampled_render_to_texture")?o.get("WEBGL_multisampled_render_to_texture"):null,ut=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),dt=new WeakMap;let ft;const ht=new WeakMap;let pt=!1;try{pt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function yt(Jt,Wt){return pt?new OffscreenCanvas(Jt,Wt):createElementNS("canvas")}function gt(Jt,Wt,ur,Pr){let Tr=1;if((Jt.width>Pr||Jt.height>Pr)&&(Tr=Pr/Math.max(Jt.width,Jt.height)),Tr<1||Wt===!0)if(typeof HTMLImageElement<"u"&&Jt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Jt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Jt instanceof ImageBitmap){const Ft=Wt?floorPowerOfTwo:Math.floor,St=Ft(Tr*Jt.width),Ct=Ft(Tr*Jt.height);ft===void 0&&(ft=yt(St,Ct));const Gt=ur?yt(St,Ct):ft;return Gt.width=St,Gt.height=Ct,Gt.getContext("2d").drawImage(Jt,0,0,St,Ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Jt.width+"x"+Jt.height+") to ("+St+"x"+Ct+")."),Gt}else return"data"in Jt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Jt.width+"x"+Jt.height+")."),Jt;return Jt}function xt(Jt){return isPowerOfTwo(Jt.width)&&isPowerOfTwo(Jt.height)}function wt(Jt){return rt?!1:Jt.wrapS!==ClampToEdgeWrapping||Jt.wrapT!==ClampToEdgeWrapping||Jt.minFilter!==NearestFilter&&Jt.minFilter!==LinearFilter}function Mt(Jt,Wt){return Jt.generateMipmaps&&Wt&&Jt.minFilter!==NearestFilter&&Jt.minFilter!==LinearFilter}function It(Jt){$.generateMipmap(Jt)}function Tt(Jt,Wt,ur,Pr,Tr=!1){if(rt===!1)return Wt;if(Jt!==null){if($[Jt]!==void 0)return $[Jt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Jt+"'")}let Ft=Wt;return Wt===6403&&(ur===5126&&(Ft=33326),ur===5131&&(Ft=33325),ur===5121&&(Ft=33321)),Wt===33319&&(ur===5126&&(Ft=33328),ur===5131&&(Ft=33327),ur===5121&&(Ft=33323)),Wt===6408&&(ur===5126&&(Ft=34836),ur===5131&&(Ft=34842),ur===5121&&(Ft=Pr===sRGBEncoding&&Tr===!1?35907:32856),ur===32819&&(Ft=32854),ur===32820&&(Ft=32855)),(Ft===33325||Ft===33326||Ft===33327||Ft===33328||Ft===34842||Ft===34836)&&o.get("EXT_color_buffer_float"),Ft}function Dt(Jt,Wt,ur){return Mt(Jt,ur)===!0||Jt.isFramebufferTexture&&Jt.minFilter!==NearestFilter&&Jt.minFilter!==LinearFilter?Math.log2(Math.max(Wt.width,Wt.height))+1:Jt.mipmaps!==void 0&&Jt.mipmaps.length>0?Jt.mipmaps.length:Jt.isCompressedTexture&&Array.isArray(Jt.image)?Wt.mipmaps.length:1}function Ut(Jt){return Jt===NearestFilter||Jt===NearestMipmapNearestFilter||Jt===NearestMipmapLinearFilter?9728:9729}function jt(Jt){const Wt=Jt.target;Wt.removeEventListener("dispose",jt),kt(Wt),Wt.isVideoTexture&&dt.delete(Wt)}function Xt(Jt){const Wt=Jt.target;Wt.removeEventListener("dispose",Xt),Et(Wt)}function kt(Jt){const Wt=j.get(Jt);if(Wt.__webglInit===void 0)return;const ur=Jt.source,Pr=ht.get(ur);if(Pr){const Tr=Pr[Wt.__cacheKey];Tr.usedTimes--,Tr.usedTimes===0&&vt(Jt),Object.keys(Pr).length===0&&ht.delete(ur)}j.remove(Jt)}function vt(Jt){const Wt=j.get(Jt);$.deleteTexture(Wt.__webglTexture);const ur=Jt.source,Pr=ht.get(ur);delete Pr[Wt.__cacheKey],tt.memory.textures--}function Et(Jt){const Wt=Jt.texture,ur=j.get(Jt),Pr=j.get(Wt);if(Pr.__webglTexture!==void 0&&($.deleteTexture(Pr.__webglTexture),tt.memory.textures--),Jt.depthTexture&&Jt.depthTexture.dispose(),Jt.isWebGLCubeRenderTarget)for(let Tr=0;Tr<6;Tr++)$.deleteFramebuffer(ur.__webglFramebuffer[Tr]),ur.__webglDepthbuffer&&$.deleteRenderbuffer(ur.__webglDepthbuffer[Tr]);else{if($.deleteFramebuffer(ur.__webglFramebuffer),ur.__webglDepthbuffer&&$.deleteRenderbuffer(ur.__webglDepthbuffer),ur.__webglMultisampledFramebuffer&&$.deleteFramebuffer(ur.__webglMultisampledFramebuffer),ur.__webglColorRenderbuffer)for(let Tr=0;Tr<ur.__webglColorRenderbuffer.length;Tr++)ur.__webglColorRenderbuffer[Tr]&&$.deleteRenderbuffer(ur.__webglColorRenderbuffer[Tr]);ur.__webglDepthRenderbuffer&&$.deleteRenderbuffer(ur.__webglDepthRenderbuffer)}if(Jt.isWebGLMultipleRenderTargets)for(let Tr=0,Ft=Wt.length;Tr<Ft;Tr++){const St=j.get(Wt[Tr]);St.__webglTexture&&($.deleteTexture(St.__webglTexture),tt.memory.textures--),j.remove(Wt[Tr])}j.remove(Wt),j.remove(Jt)}let Lt=0;function Ot(){Lt=0}function Pt(){const Jt=Lt;return Jt>=nt&&console.warn("THREE.WebGLTextures: Trying to use "+Jt+" texture units while this GPU supports only "+nt),Lt+=1,Jt}function zt(Jt){const Wt=[];return Wt.push(Jt.wrapS),Wt.push(Jt.wrapT),Wt.push(Jt.wrapR||0),Wt.push(Jt.magFilter),Wt.push(Jt.minFilter),Wt.push(Jt.anisotropy),Wt.push(Jt.internalFormat),Wt.push(Jt.format),Wt.push(Jt.type),Wt.push(Jt.generateMipmaps),Wt.push(Jt.premultiplyAlpha),Wt.push(Jt.flipY),Wt.push(Jt.unpackAlignment),Wt.push(Jt.encoding),Wt.join()}function Vt(Jt,Wt){const ur=j.get(Jt);if(Jt.isVideoTexture&&Or(Jt),Jt.isRenderTargetTexture===!1&&Jt.version>0&&ur.__version!==Jt.version){const Pr=Jt.image;if(Pr===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Pr.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{sr(ur,Jt,Wt);return}}a.bindTexture(3553,ur.__webglTexture,33984+Wt)}function $t(Jt,Wt){const ur=j.get(Jt);if(Jt.version>0&&ur.__version!==Jt.version){sr(ur,Jt,Wt);return}a.bindTexture(35866,ur.__webglTexture,33984+Wt)}function At(Jt,Wt){const ur=j.get(Jt);if(Jt.version>0&&ur.__version!==Jt.version){sr(ur,Jt,Wt);return}a.bindTexture(32879,ur.__webglTexture,33984+Wt)}function Ht(Jt,Wt){const ur=j.get(Jt);if(Jt.version>0&&ur.__version!==Jt.version){pr(ur,Jt,Wt);return}a.bindTexture(34067,ur.__webglTexture,33984+Wt)}const ar={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},Rt={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Zt(Jt,Wt,ur){if(ur?($.texParameteri(Jt,10242,ar[Wt.wrapS]),$.texParameteri(Jt,10243,ar[Wt.wrapT]),(Jt===32879||Jt===35866)&&$.texParameteri(Jt,32882,ar[Wt.wrapR]),$.texParameteri(Jt,10240,Rt[Wt.magFilter]),$.texParameteri(Jt,10241,Rt[Wt.minFilter])):($.texParameteri(Jt,10242,33071),$.texParameteri(Jt,10243,33071),(Jt===32879||Jt===35866)&&$.texParameteri(Jt,32882,33071),(Wt.wrapS!==ClampToEdgeWrapping||Wt.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),$.texParameteri(Jt,10240,Ut(Wt.magFilter)),$.texParameteri(Jt,10241,Ut(Wt.minFilter)),Wt.minFilter!==NearestFilter&&Wt.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.has("EXT_texture_filter_anisotropic")===!0){const Pr=o.get("EXT_texture_filter_anisotropic");if(Wt.magFilter===NearestFilter||Wt.minFilter!==NearestMipmapLinearFilter&&Wt.minFilter!==LinearMipmapLinearFilter||Wt.type===FloatType&&o.has("OES_texture_float_linear")===!1||rt===!1&&Wt.type===HalfFloatType&&o.has("OES_texture_half_float_linear")===!1)return;(Wt.anisotropy>1||j.get(Wt).__currentAnisotropy)&&($.texParameterf(Jt,Pr.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Wt.anisotropy,_e.getMaxAnisotropy())),j.get(Wt).__currentAnisotropy=Wt.anisotropy)}}function ir(Jt,Wt){let ur=!1;Jt.__webglInit===void 0&&(Jt.__webglInit=!0,Wt.addEventListener("dispose",jt));const Pr=Wt.source;let Tr=ht.get(Pr);Tr===void 0&&(Tr={},ht.set(Pr,Tr));const Ft=zt(Wt);if(Ft!==Jt.__cacheKey){Tr[Ft]===void 0&&(Tr[Ft]={texture:$.createTexture(),usedTimes:0},tt.memory.textures++,ur=!0),Tr[Ft].usedTimes++;const St=Tr[Jt.__cacheKey];St!==void 0&&(Tr[Jt.__cacheKey].usedTimes--,St.usedTimes===0&&vt(Wt)),Jt.__cacheKey=Ft,Jt.__webglTexture=Tr[Ft].texture}return ur}function sr(Jt,Wt,ur){let Pr=3553;(Wt.isDataArrayTexture||Wt.isCompressedArrayTexture)&&(Pr=35866),Wt.isData3DTexture&&(Pr=32879);const Tr=ir(Jt,Wt),Ft=Wt.source;a.bindTexture(Pr,Jt.__webglTexture,33984+ur);const St=j.get(Ft);if(Ft.version!==St.__version||Tr===!0){a.activeTexture(33984+ur),$.pixelStorei(37440,Wt.flipY),$.pixelStorei(37441,Wt.premultiplyAlpha),$.pixelStorei(3317,Wt.unpackAlignment),$.pixelStorei(37443,0);const Ct=wt(Wt)&&xt(Wt.image)===!1;let Gt=gt(Wt.image,Ct,!1,ot);Gt=Nr(Wt,Gt);const Qt=xt(Gt)||rt,rr=et.convert(Wt.format,Wt.encoding);let er=et.convert(Wt.type),Cr=Tt(Wt.internalFormat,rr,er,Wt.encoding,Wt.isVideoTexture);Zt(Pr,Wt,Qt);let Br;const Yt=Wt.mipmaps,br=rt&&Wt.isVideoTexture!==!0,Rr=St.__version===void 0||Tr===!0,tr=Dt(Wt,Gt,Qt);if(Wt.isDepthTexture)Cr=6402,rt?Wt.type===FloatType?Cr=36012:Wt.type===UnsignedIntType?Cr=33190:Wt.type===UnsignedInt248Type?Cr=35056:Cr=33189:Wt.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Wt.format===DepthFormat&&Cr===6402&&Wt.type!==UnsignedShortType&&Wt.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Wt.type=UnsignedIntType,er=et.convert(Wt.type)),Wt.format===DepthStencilFormat&&Cr===6402&&(Cr=34041,Wt.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Wt.type=UnsignedInt248Type,er=et.convert(Wt.type))),Rr&&(br?a.texStorage2D(3553,1,Cr,Gt.width,Gt.height):a.texImage2D(3553,0,Cr,Gt.width,Gt.height,0,rr,er,null));else if(Wt.isDataTexture)if(Yt.length>0&&Qt){br&&Rr&&a.texStorage2D(3553,tr,Cr,Yt[0].width,Yt[0].height);for(let xr=0,Er=Yt.length;xr<Er;xr++)Br=Yt[xr],br?a.texSubImage2D(3553,xr,0,0,Br.width,Br.height,rr,er,Br.data):a.texImage2D(3553,xr,Cr,Br.width,Br.height,0,rr,er,Br.data);Wt.generateMipmaps=!1}else br?(Rr&&a.texStorage2D(3553,tr,Cr,Gt.width,Gt.height),a.texSubImage2D(3553,0,0,0,Gt.width,Gt.height,rr,er,Gt.data)):a.texImage2D(3553,0,Cr,Gt.width,Gt.height,0,rr,er,Gt.data);else if(Wt.isCompressedTexture)if(Wt.isCompressedArrayTexture){br&&Rr&&a.texStorage3D(35866,tr,Cr,Yt[0].width,Yt[0].height,Gt.depth);for(let xr=0,Er=Yt.length;xr<Er;xr++)Br=Yt[xr],Wt.format!==RGBAFormat?rr!==null?br?a.compressedTexSubImage3D(35866,xr,0,0,0,Br.width,Br.height,Gt.depth,rr,Br.data,0,0):a.compressedTexImage3D(35866,xr,Cr,Br.width,Br.height,Gt.depth,0,Br.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):br?a.texSubImage3D(35866,xr,0,0,0,Br.width,Br.height,Gt.depth,rr,er,Br.data):a.texImage3D(35866,xr,Cr,Br.width,Br.height,Gt.depth,0,rr,er,Br.data)}else{br&&Rr&&a.texStorage2D(3553,tr,Cr,Yt[0].width,Yt[0].height);for(let xr=0,Er=Yt.length;xr<Er;xr++)Br=Yt[xr],Wt.format!==RGBAFormat?rr!==null?br?a.compressedTexSubImage2D(3553,xr,0,0,Br.width,Br.height,rr,Br.data):a.compressedTexImage2D(3553,xr,Cr,Br.width,Br.height,0,Br.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):br?a.texSubImage2D(3553,xr,0,0,Br.width,Br.height,rr,er,Br.data):a.texImage2D(3553,xr,Cr,Br.width,Br.height,0,rr,er,Br.data)}else if(Wt.isDataArrayTexture)br?(Rr&&a.texStorage3D(35866,tr,Cr,Gt.width,Gt.height,Gt.depth),a.texSubImage3D(35866,0,0,0,0,Gt.width,Gt.height,Gt.depth,rr,er,Gt.data)):a.texImage3D(35866,0,Cr,Gt.width,Gt.height,Gt.depth,0,rr,er,Gt.data);else if(Wt.isData3DTexture)br?(Rr&&a.texStorage3D(32879,tr,Cr,Gt.width,Gt.height,Gt.depth),a.texSubImage3D(32879,0,0,0,0,Gt.width,Gt.height,Gt.depth,rr,er,Gt.data)):a.texImage3D(32879,0,Cr,Gt.width,Gt.height,Gt.depth,0,rr,er,Gt.data);else if(Wt.isFramebufferTexture){if(Rr)if(br)a.texStorage2D(3553,tr,Cr,Gt.width,Gt.height);else{let xr=Gt.width,Er=Gt.height;for(let Ir=0;Ir<tr;Ir++)a.texImage2D(3553,Ir,Cr,xr,Er,0,rr,er,null),xr>>=1,Er>>=1}}else if(Yt.length>0&&Qt){br&&Rr&&a.texStorage2D(3553,tr,Cr,Yt[0].width,Yt[0].height);for(let xr=0,Er=Yt.length;xr<Er;xr++)Br=Yt[xr],br?a.texSubImage2D(3553,xr,0,0,rr,er,Br):a.texImage2D(3553,xr,Cr,rr,er,Br);Wt.generateMipmaps=!1}else br?(Rr&&a.texStorage2D(3553,tr,Cr,Gt.width,Gt.height),a.texSubImage2D(3553,0,0,0,rr,er,Gt)):a.texImage2D(3553,0,Cr,rr,er,Gt);Mt(Wt,Qt)&&It(Pr),St.__version=Ft.version,Wt.onUpdate&&Wt.onUpdate(Wt)}Jt.__version=Wt.version}function pr(Jt,Wt,ur){if(Wt.image.length!==6)return;const Pr=ir(Jt,Wt),Tr=Wt.source;a.bindTexture(34067,Jt.__webglTexture,33984+ur);const Ft=j.get(Tr);if(Tr.version!==Ft.__version||Pr===!0){a.activeTexture(33984+ur),$.pixelStorei(37440,Wt.flipY),$.pixelStorei(37441,Wt.premultiplyAlpha),$.pixelStorei(3317,Wt.unpackAlignment),$.pixelStorei(37443,0);const St=Wt.isCompressedTexture||Wt.image[0].isCompressedTexture,Ct=Wt.image[0]&&Wt.image[0].isDataTexture,Gt=[];for(let xr=0;xr<6;xr++)!St&&!Ct?Gt[xr]=gt(Wt.image[xr],!1,!0,it):Gt[xr]=Ct?Wt.image[xr].image:Wt.image[xr],Gt[xr]=Nr(Wt,Gt[xr]);const Qt=Gt[0],rr=xt(Qt)||rt,er=et.convert(Wt.format,Wt.encoding),Cr=et.convert(Wt.type),Br=Tt(Wt.internalFormat,er,Cr,Wt.encoding),Yt=rt&&Wt.isVideoTexture!==!0,br=Ft.__version===void 0||Pr===!0;let Rr=Dt(Wt,Qt,rr);Zt(34067,Wt,rr);let tr;if(St){Yt&&br&&a.texStorage2D(34067,Rr,Br,Qt.width,Qt.height);for(let xr=0;xr<6;xr++){tr=Gt[xr].mipmaps;for(let Er=0;Er<tr.length;Er++){const Ir=tr[Er];Wt.format!==RGBAFormat?er!==null?Yt?a.compressedTexSubImage2D(34069+xr,Er,0,0,Ir.width,Ir.height,er,Ir.data):a.compressedTexImage2D(34069+xr,Er,Br,Ir.width,Ir.height,0,Ir.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Yt?a.texSubImage2D(34069+xr,Er,0,0,Ir.width,Ir.height,er,Cr,Ir.data):a.texImage2D(34069+xr,Er,Br,Ir.width,Ir.height,0,er,Cr,Ir.data)}}}else{tr=Wt.mipmaps,Yt&&br&&(tr.length>0&&Rr++,a.texStorage2D(34067,Rr,Br,Gt[0].width,Gt[0].height));for(let xr=0;xr<6;xr++)if(Ct){Yt?a.texSubImage2D(34069+xr,0,0,0,Gt[xr].width,Gt[xr].height,er,Cr,Gt[xr].data):a.texImage2D(34069+xr,0,Br,Gt[xr].width,Gt[xr].height,0,er,Cr,Gt[xr].data);for(let Er=0;Er<tr.length;Er++){const Hr=tr[Er].image[xr].image;Yt?a.texSubImage2D(34069+xr,Er+1,0,0,Hr.width,Hr.height,er,Cr,Hr.data):a.texImage2D(34069+xr,Er+1,Br,Hr.width,Hr.height,0,er,Cr,Hr.data)}}else{Yt?a.texSubImage2D(34069+xr,0,0,0,er,Cr,Gt[xr]):a.texImage2D(34069+xr,0,Br,er,Cr,Gt[xr]);for(let Er=0;Er<tr.length;Er++){const Ir=tr[Er];Yt?a.texSubImage2D(34069+xr,Er+1,0,0,er,Cr,Ir.image[xr]):a.texImage2D(34069+xr,Er+1,Br,er,Cr,Ir.image[xr])}}}Mt(Wt,rr)&&It(34067),Ft.__version=Tr.version,Wt.onUpdate&&Wt.onUpdate(Wt)}Jt.__version=Wt.version}function _r(Jt,Wt,ur,Pr,Tr){const Ft=et.convert(ur.format,ur.encoding),St=et.convert(ur.type),Ct=Tt(ur.internalFormat,Ft,St,ur.encoding);j.get(Wt).__hasExternalTextures||(Tr===32879||Tr===35866?a.texImage3D(Tr,0,Ct,Wt.width,Wt.height,Wt.depth,0,Ft,St,null):a.texImage2D(Tr,0,Ct,Wt.width,Wt.height,0,Ft,St,null)),a.bindFramebuffer(36160,Jt),Ur(Wt)?ct.framebufferTexture2DMultisampleEXT(36160,Pr,Tr,j.get(ur).__webglTexture,0,Lr(Wt)):(Tr===3553||Tr>=34069&&Tr<=34074)&&$.framebufferTexture2D(36160,Pr,Tr,j.get(ur).__webglTexture,0),a.bindFramebuffer(36160,null)}function fr(Jt,Wt,ur){if($.bindRenderbuffer(36161,Jt),Wt.depthBuffer&&!Wt.stencilBuffer){let Pr=33189;if(ur||Ur(Wt)){const Tr=Wt.depthTexture;Tr&&Tr.isDepthTexture&&(Tr.type===FloatType?Pr=36012:Tr.type===UnsignedIntType&&(Pr=33190));const Ft=Lr(Wt);Ur(Wt)?ct.renderbufferStorageMultisampleEXT(36161,Ft,Pr,Wt.width,Wt.height):$.renderbufferStorageMultisample(36161,Ft,Pr,Wt.width,Wt.height)}else $.renderbufferStorage(36161,Pr,Wt.width,Wt.height);$.framebufferRenderbuffer(36160,36096,36161,Jt)}else if(Wt.depthBuffer&&Wt.stencilBuffer){const Pr=Lr(Wt);ur&&Ur(Wt)===!1?$.renderbufferStorageMultisample(36161,Pr,35056,Wt.width,Wt.height):Ur(Wt)?ct.renderbufferStorageMultisampleEXT(36161,Pr,35056,Wt.width,Wt.height):$.renderbufferStorage(36161,34041,Wt.width,Wt.height),$.framebufferRenderbuffer(36160,33306,36161,Jt)}else{const Pr=Wt.isWebGLMultipleRenderTargets===!0?Wt.texture:[Wt.texture];for(let Tr=0;Tr<Pr.length;Tr++){const Ft=Pr[Tr],St=et.convert(Ft.format,Ft.encoding),Ct=et.convert(Ft.type),Gt=Tt(Ft.internalFormat,St,Ct,Ft.encoding),Qt=Lr(Wt);ur&&Ur(Wt)===!1?$.renderbufferStorageMultisample(36161,Qt,Gt,Wt.width,Wt.height):Ur(Wt)?ct.renderbufferStorageMultisampleEXT(36161,Qt,Gt,Wt.width,Wt.height):$.renderbufferStorage(36161,Gt,Wt.width,Wt.height)}}$.bindRenderbuffer(36161,null)}function nr(Jt,Wt){if(Wt&&Wt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(a.bindFramebuffer(36160,Jt),!(Wt.depthTexture&&Wt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!j.get(Wt.depthTexture).__webglTexture||Wt.depthTexture.image.width!==Wt.width||Wt.depthTexture.image.height!==Wt.height)&&(Wt.depthTexture.image.width=Wt.width,Wt.depthTexture.image.height=Wt.height,Wt.depthTexture.needsUpdate=!0),Vt(Wt.depthTexture,0);const Pr=j.get(Wt.depthTexture).__webglTexture,Tr=Lr(Wt);if(Wt.depthTexture.format===DepthFormat)Ur(Wt)?ct.framebufferTexture2DMultisampleEXT(36160,36096,3553,Pr,0,Tr):$.framebufferTexture2D(36160,36096,3553,Pr,0);else if(Wt.depthTexture.format===DepthStencilFormat)Ur(Wt)?ct.framebufferTexture2DMultisampleEXT(36160,33306,3553,Pr,0,Tr):$.framebufferTexture2D(36160,33306,3553,Pr,0);else throw new Error("Unknown depthTexture format")}function lr(Jt){const Wt=j.get(Jt),ur=Jt.isWebGLCubeRenderTarget===!0;if(Jt.depthTexture&&!Wt.__autoAllocateDepthBuffer){if(ur)throw new Error("target.depthTexture not supported in Cube render targets");nr(Wt.__webglFramebuffer,Jt)}else if(ur){Wt.__webglDepthbuffer=[];for(let Pr=0;Pr<6;Pr++)a.bindFramebuffer(36160,Wt.__webglFramebuffer[Pr]),Wt.__webglDepthbuffer[Pr]=$.createRenderbuffer(),fr(Wt.__webglDepthbuffer[Pr],Jt,!1)}else a.bindFramebuffer(36160,Wt.__webglFramebuffer),Wt.__webglDepthbuffer=$.createRenderbuffer(),fr(Wt.__webglDepthbuffer,Jt,!1);a.bindFramebuffer(36160,null)}function cr(Jt,Wt,ur){const Pr=j.get(Jt);Wt!==void 0&&_r(Pr.__webglFramebuffer,Jt,Jt.texture,36064,3553),ur!==void 0&&lr(Jt)}function Ar(Jt){const Wt=Jt.texture,ur=j.get(Jt),Pr=j.get(Wt);Jt.addEventListener("dispose",Xt),Jt.isWebGLMultipleRenderTargets!==!0&&(Pr.__webglTexture===void 0&&(Pr.__webglTexture=$.createTexture()),Pr.__version=Wt.version,tt.memory.textures++);const Tr=Jt.isWebGLCubeRenderTarget===!0,Ft=Jt.isWebGLMultipleRenderTargets===!0,St=xt(Jt)||rt;if(Tr){ur.__webglFramebuffer=[];for(let Ct=0;Ct<6;Ct++)ur.__webglFramebuffer[Ct]=$.createFramebuffer()}else{if(ur.__webglFramebuffer=$.createFramebuffer(),Ft)if(_e.drawBuffers){const Ct=Jt.texture;for(let Gt=0,Qt=Ct.length;Gt<Qt;Gt++){const rr=j.get(Ct[Gt]);rr.__webglTexture===void 0&&(rr.__webglTexture=$.createTexture(),tt.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(rt&&Jt.samples>0&&Ur(Jt)===!1){const Ct=Ft?Wt:[Wt];ur.__webglMultisampledFramebuffer=$.createFramebuffer(),ur.__webglColorRenderbuffer=[],a.bindFramebuffer(36160,ur.__webglMultisampledFramebuffer);for(let Gt=0;Gt<Ct.length;Gt++){const Qt=Ct[Gt];ur.__webglColorRenderbuffer[Gt]=$.createRenderbuffer(),$.bindRenderbuffer(36161,ur.__webglColorRenderbuffer[Gt]);const rr=et.convert(Qt.format,Qt.encoding),er=et.convert(Qt.type),Cr=Tt(Qt.internalFormat,rr,er,Qt.encoding,Jt.isXRRenderTarget===!0),Br=Lr(Jt);$.renderbufferStorageMultisample(36161,Br,Cr,Jt.width,Jt.height),$.framebufferRenderbuffer(36160,36064+Gt,36161,ur.__webglColorRenderbuffer[Gt])}$.bindRenderbuffer(36161,null),Jt.depthBuffer&&(ur.__webglDepthRenderbuffer=$.createRenderbuffer(),fr(ur.__webglDepthRenderbuffer,Jt,!0)),a.bindFramebuffer(36160,null)}}if(Tr){a.bindTexture(34067,Pr.__webglTexture),Zt(34067,Wt,St);for(let Ct=0;Ct<6;Ct++)_r(ur.__webglFramebuffer[Ct],Jt,Wt,36064,34069+Ct);Mt(Wt,St)&&It(34067),a.unbindTexture()}else if(Ft){const Ct=Jt.texture;for(let Gt=0,Qt=Ct.length;Gt<Qt;Gt++){const rr=Ct[Gt],er=j.get(rr);a.bindTexture(3553,er.__webglTexture),Zt(3553,rr,St),_r(ur.__webglFramebuffer,Jt,rr,36064+Gt,3553),Mt(rr,St)&&It(3553)}a.unbindTexture()}else{let Ct=3553;(Jt.isWebGL3DRenderTarget||Jt.isWebGLArrayRenderTarget)&&(rt?Ct=Jt.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),a.bindTexture(Ct,Pr.__webglTexture),Zt(Ct,Wt,St),_r(ur.__webglFramebuffer,Jt,Wt,36064,Ct),Mt(Wt,St)&&It(Ct),a.unbindTexture()}Jt.depthBuffer&&lr(Jt)}function kr(Jt){const Wt=xt(Jt)||rt,ur=Jt.isWebGLMultipleRenderTargets===!0?Jt.texture:[Jt.texture];for(let Pr=0,Tr=ur.length;Pr<Tr;Pr++){const Ft=ur[Pr];if(Mt(Ft,Wt)){const St=Jt.isWebGLCubeRenderTarget?34067:3553,Ct=j.get(Ft).__webglTexture;a.bindTexture(St,Ct),It(St),a.unbindTexture()}}}function Dr(Jt){if(rt&&Jt.samples>0&&Ur(Jt)===!1){const Wt=Jt.isWebGLMultipleRenderTargets?Jt.texture:[Jt.texture],ur=Jt.width,Pr=Jt.height;let Tr=16384;const Ft=[],St=Jt.stencilBuffer?33306:36096,Ct=j.get(Jt),Gt=Jt.isWebGLMultipleRenderTargets===!0;if(Gt)for(let Qt=0;Qt<Wt.length;Qt++)a.bindFramebuffer(36160,Ct.__webglMultisampledFramebuffer),$.framebufferRenderbuffer(36160,36064+Qt,36161,null),a.bindFramebuffer(36160,Ct.__webglFramebuffer),$.framebufferTexture2D(36009,36064+Qt,3553,null,0);a.bindFramebuffer(36008,Ct.__webglMultisampledFramebuffer),a.bindFramebuffer(36009,Ct.__webglFramebuffer);for(let Qt=0;Qt<Wt.length;Qt++){Ft.push(36064+Qt),Jt.depthBuffer&&Ft.push(St);const rr=Ct.__ignoreDepthValues!==void 0?Ct.__ignoreDepthValues:!1;if(rr===!1&&(Jt.depthBuffer&&(Tr|=256),Jt.stencilBuffer&&(Tr|=1024)),Gt&&$.framebufferRenderbuffer(36008,36064,36161,Ct.__webglColorRenderbuffer[Qt]),rr===!0&&($.invalidateFramebuffer(36008,[St]),$.invalidateFramebuffer(36009,[St])),Gt){const er=j.get(Wt[Qt]).__webglTexture;$.framebufferTexture2D(36009,36064,3553,er,0)}$.blitFramebuffer(0,0,ur,Pr,0,0,ur,Pr,Tr,9728),ut&&$.invalidateFramebuffer(36008,Ft)}if(a.bindFramebuffer(36008,null),a.bindFramebuffer(36009,null),Gt)for(let Qt=0;Qt<Wt.length;Qt++){a.bindFramebuffer(36160,Ct.__webglMultisampledFramebuffer),$.framebufferRenderbuffer(36160,36064+Qt,36161,Ct.__webglColorRenderbuffer[Qt]);const rr=j.get(Wt[Qt]).__webglTexture;a.bindFramebuffer(36160,Ct.__webglFramebuffer),$.framebufferTexture2D(36009,36064+Qt,3553,rr,0)}a.bindFramebuffer(36009,Ct.__webglMultisampledFramebuffer)}}function Lr(Jt){return Math.min(st,Jt.samples)}function Ur(Jt){const Wt=j.get(Jt);return rt&&Jt.samples>0&&o.has("WEBGL_multisampled_render_to_texture")===!0&&Wt.__useRenderToTexture!==!1}function Or(Jt){const Wt=tt.render.frame;dt.get(Jt)!==Wt&&(dt.set(Jt,Wt),Jt.update())}function Nr(Jt,Wt){const ur=Jt.encoding,Pr=Jt.format,Tr=Jt.type;return Jt.isCompressedTexture===!0||Jt.isVideoTexture===!0||Jt.format===_SRGBAFormat||ur!==LinearEncoding&&(ur===sRGBEncoding?rt===!1?o.has("EXT_sRGB")===!0&&Pr===RGBAFormat?(Jt.format=_SRGBAFormat,Jt.minFilter=LinearFilter,Jt.generateMipmaps=!1):Wt=ImageUtils.sRGBToLinear(Wt):(Pr!==RGBAFormat||Tr!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ur)),Wt}this.allocateTextureUnit=Pt,this.resetTextureUnits=Ot,this.setTexture2D=Vt,this.setTexture2DArray=$t,this.setTexture3D=At,this.setTextureCube=Ht,this.rebindTextures=cr,this.setupRenderTarget=Ar,this.updateRenderTargetMipmap=kr,this.updateMultisampleRenderTarget=Dr,this.setupDepthRenderbuffer=lr,this.setupFrameBufferTexture=_r,this.useMultisampledRTT=Ur}function WebGLUtils($,o,a){const j=a.isWebGL2;function _e(et,tt=null){let rt;if(et===UnsignedByteType)return 5121;if(et===UnsignedShort4444Type)return 32819;if(et===UnsignedShort5551Type)return 32820;if(et===ByteType)return 5120;if(et===ShortType)return 5122;if(et===UnsignedShortType)return 5123;if(et===IntType)return 5124;if(et===UnsignedIntType)return 5125;if(et===FloatType)return 5126;if(et===HalfFloatType)return j?5131:(rt=o.get("OES_texture_half_float"),rt!==null?rt.HALF_FLOAT_OES:null);if(et===AlphaFormat)return 6406;if(et===RGBAFormat)return 6408;if(et===LuminanceFormat)return 6409;if(et===LuminanceAlphaFormat)return 6410;if(et===DepthFormat)return 6402;if(et===DepthStencilFormat)return 34041;if(et===_SRGBAFormat)return rt=o.get("EXT_sRGB"),rt!==null?rt.SRGB_ALPHA_EXT:null;if(et===RedFormat)return 6403;if(et===RedIntegerFormat)return 36244;if(et===RGFormat)return 33319;if(et===RGIntegerFormat)return 33320;if(et===RGBAIntegerFormat)return 36249;if(et===RGB_S3TC_DXT1_Format||et===RGBA_S3TC_DXT1_Format||et===RGBA_S3TC_DXT3_Format||et===RGBA_S3TC_DXT5_Format)if(tt===sRGBEncoding)if(rt=o.get("WEBGL_compressed_texture_s3tc_srgb"),rt!==null){if(et===RGB_S3TC_DXT1_Format)return rt.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT1_Format)return rt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT3_Format)return rt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(et===RGBA_S3TC_DXT5_Format)return rt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(rt=o.get("WEBGL_compressed_texture_s3tc"),rt!==null){if(et===RGB_S3TC_DXT1_Format)return rt.COMPRESSED_RGB_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT1_Format)return rt.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT3_Format)return rt.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(et===RGBA_S3TC_DXT5_Format)return rt.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(et===RGB_PVRTC_4BPPV1_Format||et===RGB_PVRTC_2BPPV1_Format||et===RGBA_PVRTC_4BPPV1_Format||et===RGBA_PVRTC_2BPPV1_Format)if(rt=o.get("WEBGL_compressed_texture_pvrtc"),rt!==null){if(et===RGB_PVRTC_4BPPV1_Format)return rt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(et===RGB_PVRTC_2BPPV1_Format)return rt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(et===RGBA_PVRTC_4BPPV1_Format)return rt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(et===RGBA_PVRTC_2BPPV1_Format)return rt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(et===RGB_ETC1_Format)return rt=o.get("WEBGL_compressed_texture_etc1"),rt!==null?rt.COMPRESSED_RGB_ETC1_WEBGL:null;if(et===RGB_ETC2_Format||et===RGBA_ETC2_EAC_Format)if(rt=o.get("WEBGL_compressed_texture_etc"),rt!==null){if(et===RGB_ETC2_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ETC2:rt.COMPRESSED_RGB8_ETC2;if(et===RGBA_ETC2_EAC_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:rt.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(et===RGBA_ASTC_4x4_Format||et===RGBA_ASTC_5x4_Format||et===RGBA_ASTC_5x5_Format||et===RGBA_ASTC_6x5_Format||et===RGBA_ASTC_6x6_Format||et===RGBA_ASTC_8x5_Format||et===RGBA_ASTC_8x6_Format||et===RGBA_ASTC_8x8_Format||et===RGBA_ASTC_10x5_Format||et===RGBA_ASTC_10x6_Format||et===RGBA_ASTC_10x8_Format||et===RGBA_ASTC_10x10_Format||et===RGBA_ASTC_12x10_Format||et===RGBA_ASTC_12x12_Format)if(rt=o.get("WEBGL_compressed_texture_astc"),rt!==null){if(et===RGBA_ASTC_4x4_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:rt.COMPRESSED_RGBA_ASTC_4x4_KHR;if(et===RGBA_ASTC_5x4_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:rt.COMPRESSED_RGBA_ASTC_5x4_KHR;if(et===RGBA_ASTC_5x5_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:rt.COMPRESSED_RGBA_ASTC_5x5_KHR;if(et===RGBA_ASTC_6x5_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:rt.COMPRESSED_RGBA_ASTC_6x5_KHR;if(et===RGBA_ASTC_6x6_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:rt.COMPRESSED_RGBA_ASTC_6x6_KHR;if(et===RGBA_ASTC_8x5_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:rt.COMPRESSED_RGBA_ASTC_8x5_KHR;if(et===RGBA_ASTC_8x6_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:rt.COMPRESSED_RGBA_ASTC_8x6_KHR;if(et===RGBA_ASTC_8x8_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:rt.COMPRESSED_RGBA_ASTC_8x8_KHR;if(et===RGBA_ASTC_10x5_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:rt.COMPRESSED_RGBA_ASTC_10x5_KHR;if(et===RGBA_ASTC_10x6_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:rt.COMPRESSED_RGBA_ASTC_10x6_KHR;if(et===RGBA_ASTC_10x8_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:rt.COMPRESSED_RGBA_ASTC_10x8_KHR;if(et===RGBA_ASTC_10x10_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:rt.COMPRESSED_RGBA_ASTC_10x10_KHR;if(et===RGBA_ASTC_12x10_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:rt.COMPRESSED_RGBA_ASTC_12x10_KHR;if(et===RGBA_ASTC_12x12_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:rt.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(et===RGBA_BPTC_Format)if(rt=o.get("EXT_texture_compression_bptc"),rt!==null){if(et===RGBA_BPTC_Format)return tt===sRGBEncoding?rt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:rt.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(et===RED_RGTC1_Format||et===SIGNED_RED_RGTC1_Format||et===RED_GREEN_RGTC2_Format||et===SIGNED_RED_GREEN_RGTC2_Format)if(rt=o.get("EXT_texture_compression_rgtc"),rt!==null){if(et===RGBA_BPTC_Format)return rt.COMPRESSED_RED_RGTC1_EXT;if(et===SIGNED_RED_RGTC1_Format)return rt.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(et===RED_GREEN_RGTC2_Format)return rt.COMPRESSED_RED_GREEN_RGTC2_EXT;if(et===SIGNED_RED_GREEN_RGTC2_Format)return rt.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return et===UnsignedInt248Type?j?34042:(rt=o.get("WEBGL_depth_texture"),rt!==null?rt.UNSIGNED_INT_24_8_WEBGL:null):$[et]!==void 0?$[et]:null}return{convert:_e}}class ArrayCamera extends PerspectiveCamera{constructor(o=[]){super(),this.isArrayCamera=!0,this.cameras=o}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(o){return this._targetRay!==null&&this._targetRay.dispatchEvent(o),this._grip!==null&&this._grip.dispatchEvent(o),this._hand!==null&&this._hand.dispatchEvent(o),this}connect(o){if(o&&o.hand){const a=this._hand;if(a)for(const j of o.hand.values())this._getHandJoint(a,j)}return this.dispatchEvent({type:"connected",data:o}),this}disconnect(o){return this.dispatchEvent({type:"disconnected",data:o}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(o,a,j){let _e=null,et=null,tt=null;const rt=this._targetRay,nt=this._grip,it=this._hand;if(o&&a.session.visibilityState!=="visible-blurred"){if(it&&o.hand){tt=!0;for(const ft of o.hand.values()){const ht=a.getJointPose(ft,j),pt=this._getHandJoint(it,ft);ht!==null&&(pt.matrix.fromArray(ht.transform.matrix),pt.matrix.decompose(pt.position,pt.rotation,pt.scale),pt.jointRadius=ht.radius),pt.visible=ht!==null}const ot=it.joints["index-finger-tip"],st=it.joints["thumb-tip"],ct=ot.position.distanceTo(st.position),ut=.02,dt=.005;it.inputState.pinching&&ct>ut+dt?(it.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:o.handedness,target:this})):!it.inputState.pinching&&ct<=ut-dt&&(it.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:o.handedness,target:this}))}else nt!==null&&o.gripSpace&&(et=a.getPose(o.gripSpace,j),et!==null&&(nt.matrix.fromArray(et.transform.matrix),nt.matrix.decompose(nt.position,nt.rotation,nt.scale),et.linearVelocity?(nt.hasLinearVelocity=!0,nt.linearVelocity.copy(et.linearVelocity)):nt.hasLinearVelocity=!1,et.angularVelocity?(nt.hasAngularVelocity=!0,nt.angularVelocity.copy(et.angularVelocity)):nt.hasAngularVelocity=!1));rt!==null&&(_e=a.getPose(o.targetRaySpace,j),_e===null&&et!==null&&(_e=et),_e!==null&&(rt.matrix.fromArray(_e.transform.matrix),rt.matrix.decompose(rt.position,rt.rotation,rt.scale),_e.linearVelocity?(rt.hasLinearVelocity=!0,rt.linearVelocity.copy(_e.linearVelocity)):rt.hasLinearVelocity=!1,_e.angularVelocity?(rt.hasAngularVelocity=!0,rt.angularVelocity.copy(_e.angularVelocity)):rt.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return rt!==null&&(rt.visible=_e!==null),nt!==null&&(nt.visible=et!==null),it!==null&&(it.visible=tt!==null),this}_getHandJoint(o,a){if(o.joints[a.jointName]===void 0){const j=new Group;j.matrixAutoUpdate=!1,j.visible=!1,o.joints[a.jointName]=j,o.add(j)}return o.joints[a.jointName]}}class DepthTexture extends Texture{constructor(o,a,j,_e,et,tt,rt,nt,it,ot){if(ot=ot!==void 0?ot:DepthFormat,ot!==DepthFormat&&ot!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");j===void 0&&ot===DepthFormat&&(j=UnsignedIntType),j===void 0&&ot===DepthStencilFormat&&(j=UnsignedInt248Type),super(null,_e,et,tt,rt,nt,ot,j,it),this.isDepthTexture=!0,this.image={width:o,height:a},this.magFilter=rt!==void 0?rt:NearestFilter,this.minFilter=nt!==void 0?nt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(o,a){super();const j=this;let _e=null,et=1,tt=null,rt="local-floor",nt=1,it=null,ot=null,st=null,ct=null,ut=null,dt=null;const ft=a.getContextAttributes();let ht=null,pt=null;const yt=[],gt=[],xt=new Set,wt=new Map,Mt=new PerspectiveCamera;Mt.layers.enable(1),Mt.viewport=new Vector4;const It=new PerspectiveCamera;It.layers.enable(2),It.viewport=new Vector4;const Tt=[Mt,It],Dt=new ArrayCamera;Dt.layers.enable(1),Dt.layers.enable(2);let Ut=null,jt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(At){let Ht=yt[At];return Ht===void 0&&(Ht=new WebXRController,yt[At]=Ht),Ht.getTargetRaySpace()},this.getControllerGrip=function(At){let Ht=yt[At];return Ht===void 0&&(Ht=new WebXRController,yt[At]=Ht),Ht.getGripSpace()},this.getHand=function(At){let Ht=yt[At];return Ht===void 0&&(Ht=new WebXRController,yt[At]=Ht),Ht.getHandSpace()};function Xt(At){const Ht=gt.indexOf(At.inputSource);if(Ht===-1)return;const ar=yt[Ht];ar!==void 0&&ar.dispatchEvent({type:At.type,data:At.inputSource})}function kt(){_e.removeEventListener("select",Xt),_e.removeEventListener("selectstart",Xt),_e.removeEventListener("selectend",Xt),_e.removeEventListener("squeeze",Xt),_e.removeEventListener("squeezestart",Xt),_e.removeEventListener("squeezeend",Xt),_e.removeEventListener("end",kt),_e.removeEventListener("inputsourceschange",vt);for(let At=0;At<yt.length;At++){const Ht=gt[At];Ht!==null&&(gt[At]=null,yt[At].disconnect(Ht))}Ut=null,jt=null,o.setRenderTarget(ht),ut=null,ct=null,st=null,_e=null,pt=null,$t.stop(),j.isPresenting=!1,j.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(At){et=At,j.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(At){rt=At,j.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return it||tt},this.setReferenceSpace=function(At){it=At},this.getBaseLayer=function(){return ct!==null?ct:ut},this.getBinding=function(){return st},this.getFrame=function(){return dt},this.getSession=function(){return _e},this.setSession=async function(At){if(_e=At,_e!==null){if(ht=o.getRenderTarget(),_e.addEventListener("select",Xt),_e.addEventListener("selectstart",Xt),_e.addEventListener("selectend",Xt),_e.addEventListener("squeeze",Xt),_e.addEventListener("squeezestart",Xt),_e.addEventListener("squeezeend",Xt),_e.addEventListener("end",kt),_e.addEventListener("inputsourceschange",vt),ft.xrCompatible!==!0&&await a.makeXRCompatible(),_e.renderState.layers===void 0||o.capabilities.isWebGL2===!1){const Ht={antialias:_e.renderState.layers===void 0?ft.antialias:!0,alpha:ft.alpha,depth:ft.depth,stencil:ft.stencil,framebufferScaleFactor:et};ut=new XRWebGLLayer(_e,a,Ht),_e.updateRenderState({baseLayer:ut}),pt=new WebGLRenderTarget(ut.framebufferWidth,ut.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:o.outputEncoding,stencilBuffer:ft.stencil})}else{let Ht=null,ar=null,Rt=null;ft.depth&&(Rt=ft.stencil?35056:33190,Ht=ft.stencil?DepthStencilFormat:DepthFormat,ar=ft.stencil?UnsignedInt248Type:UnsignedIntType);const Zt={colorFormat:32856,depthFormat:Rt,scaleFactor:et};st=new XRWebGLBinding(_e,a),ct=st.createProjectionLayer(Zt),_e.updateRenderState({layers:[ct]}),pt=new WebGLRenderTarget(ct.textureWidth,ct.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ct.textureWidth,ct.textureHeight,ar,void 0,void 0,void 0,void 0,void 0,void 0,Ht),stencilBuffer:ft.stencil,encoding:o.outputEncoding,samples:ft.antialias?4:0});const ir=o.properties.get(pt);ir.__ignoreDepthValues=ct.ignoreDepthValues}pt.isXRRenderTarget=!0,this.setFoveation(nt),it=null,tt=await _e.requestReferenceSpace(rt),$t.setContext(_e),$t.start(),j.isPresenting=!0,j.dispatchEvent({type:"sessionstart"})}};function vt(At){for(let Ht=0;Ht<At.removed.length;Ht++){const ar=At.removed[Ht],Rt=gt.indexOf(ar);Rt>=0&&(gt[Rt]=null,yt[Rt].disconnect(ar))}for(let Ht=0;Ht<At.added.length;Ht++){const ar=At.added[Ht];let Rt=gt.indexOf(ar);if(Rt===-1){for(let ir=0;ir<yt.length;ir++)if(ir>=gt.length){gt.push(ar),Rt=ir;break}else if(gt[ir]===null){gt[ir]=ar,Rt=ir;break}if(Rt===-1)break}const Zt=yt[Rt];Zt&&Zt.connect(ar)}}const Et=new Vector3,Lt=new Vector3;function Ot(At,Ht,ar){Et.setFromMatrixPosition(Ht.matrixWorld),Lt.setFromMatrixPosition(ar.matrixWorld);const Rt=Et.distanceTo(Lt),Zt=Ht.projectionMatrix.elements,ir=ar.projectionMatrix.elements,sr=Zt[14]/(Zt[10]-1),pr=Zt[14]/(Zt[10]+1),_r=(Zt[9]+1)/Zt[5],fr=(Zt[9]-1)/Zt[5],nr=(Zt[8]-1)/Zt[0],lr=(ir[8]+1)/ir[0],cr=sr*nr,Ar=sr*lr,kr=Rt/(-nr+lr),Dr=kr*-nr;Ht.matrixWorld.decompose(At.position,At.quaternion,At.scale),At.translateX(Dr),At.translateZ(kr),At.matrixWorld.compose(At.position,At.quaternion,At.scale),At.matrixWorldInverse.copy(At.matrixWorld).invert();const Lr=sr+kr,Ur=pr+kr,Or=cr-Dr,Nr=Ar+(Rt-Dr),Jt=_r*pr/Ur*Lr,Wt=fr*pr/Ur*Lr;At.projectionMatrix.makePerspective(Or,Nr,Jt,Wt,Lr,Ur)}function Pt(At,Ht){Ht===null?At.matrixWorld.copy(At.matrix):At.matrixWorld.multiplyMatrices(Ht.matrixWorld,At.matrix),At.matrixWorldInverse.copy(At.matrixWorld).invert()}this.updateCamera=function(At){if(_e===null)return;Dt.near=It.near=Mt.near=At.near,Dt.far=It.far=Mt.far=At.far,(Ut!==Dt.near||jt!==Dt.far)&&(_e.updateRenderState({depthNear:Dt.near,depthFar:Dt.far}),Ut=Dt.near,jt=Dt.far);const Ht=At.parent,ar=Dt.cameras;Pt(Dt,Ht);for(let Zt=0;Zt<ar.length;Zt++)Pt(ar[Zt],Ht);Dt.matrixWorld.decompose(Dt.position,Dt.quaternion,Dt.scale),At.matrix.copy(Dt.matrix),At.matrix.decompose(At.position,At.quaternion,At.scale);const Rt=At.children;for(let Zt=0,ir=Rt.length;Zt<ir;Zt++)Rt[Zt].updateMatrixWorld(!0);ar.length===2?Ot(Dt,Mt,It):Dt.projectionMatrix.copy(Mt.projectionMatrix)},this.getCamera=function(){return Dt},this.getFoveation=function(){if(!(ct===null&&ut===null))return nt},this.setFoveation=function(At){nt=At,ct!==null&&(ct.fixedFoveation=At),ut!==null&&ut.fixedFoveation!==void 0&&(ut.fixedFoveation=At)},this.getPlanes=function(){return xt};let zt=null;function Vt(At,Ht){if(ot=Ht.getViewerPose(it||tt),dt=Ht,ot!==null){const ar=ot.views;ut!==null&&(o.setRenderTargetFramebuffer(pt,ut.framebuffer),o.setRenderTarget(pt));let Rt=!1;ar.length!==Dt.cameras.length&&(Dt.cameras.length=0,Rt=!0);for(let Zt=0;Zt<ar.length;Zt++){const ir=ar[Zt];let sr=null;if(ut!==null)sr=ut.getViewport(ir);else{const _r=st.getViewSubImage(ct,ir);sr=_r.viewport,Zt===0&&(o.setRenderTargetTextures(pt,_r.colorTexture,ct.ignoreDepthValues?void 0:_r.depthStencilTexture),o.setRenderTarget(pt))}let pr=Tt[Zt];pr===void 0&&(pr=new PerspectiveCamera,pr.layers.enable(Zt),pr.viewport=new Vector4,Tt[Zt]=pr),pr.matrix.fromArray(ir.transform.matrix),pr.projectionMatrix.fromArray(ir.projectionMatrix),pr.viewport.set(sr.x,sr.y,sr.width,sr.height),Zt===0&&Dt.matrix.copy(pr.matrix),Rt===!0&&Dt.cameras.push(pr)}}for(let ar=0;ar<yt.length;ar++){const Rt=gt[ar],Zt=yt[ar];Rt!==null&&Zt!==void 0&&Zt.update(Rt,Ht,it||tt)}if(zt&&zt(At,Ht),Ht.detectedPlanes){j.dispatchEvent({type:"planesdetected",data:Ht.detectedPlanes});let ar=null;for(const Rt of xt)Ht.detectedPlanes.has(Rt)||(ar===null&&(ar=[]),ar.push(Rt));if(ar!==null)for(const Rt of ar)xt.delete(Rt),wt.delete(Rt),j.dispatchEvent({type:"planeremoved",data:Rt});for(const Rt of Ht.detectedPlanes)if(!xt.has(Rt))xt.add(Rt),wt.set(Rt,Ht.lastChangedTime),j.dispatchEvent({type:"planeadded",data:Rt});else{const Zt=wt.get(Rt);Rt.lastChangedTime>Zt&&(wt.set(Rt,Rt.lastChangedTime),j.dispatchEvent({type:"planechanged",data:Rt}))}}dt=null}const $t=new WebGLAnimation;$t.setAnimationLoop(Vt),this.setAnimationLoop=function(At){zt=At},this.dispose=function(){}}}function WebGLMaterials($,o){function a(ft,ht){ht.color.getRGB(ft.fogColor.value,getUnlitUniformColorSpace($)),ht.isFog?(ft.fogNear.value=ht.near,ft.fogFar.value=ht.far):ht.isFogExp2&&(ft.fogDensity.value=ht.density)}function j(ft,ht,pt,yt,gt){ht.isMeshBasicMaterial||ht.isMeshLambertMaterial?_e(ft,ht):ht.isMeshToonMaterial?(_e(ft,ht),ot(ft,ht)):ht.isMeshPhongMaterial?(_e(ft,ht),it(ft,ht)):ht.isMeshStandardMaterial?(_e(ft,ht),st(ft,ht),ht.isMeshPhysicalMaterial&&ct(ft,ht,gt)):ht.isMeshMatcapMaterial?(_e(ft,ht),ut(ft,ht)):ht.isMeshDepthMaterial?_e(ft,ht):ht.isMeshDistanceMaterial?(_e(ft,ht),dt(ft,ht)):ht.isMeshNormalMaterial?_e(ft,ht):ht.isLineBasicMaterial?(et(ft,ht),ht.isLineDashedMaterial&&tt(ft,ht)):ht.isPointsMaterial?rt(ft,ht,pt,yt):ht.isSpriteMaterial?nt(ft,ht):ht.isShadowMaterial?(ft.color.value.copy(ht.color),ft.opacity.value=ht.opacity):ht.isShaderMaterial&&(ht.uniformsNeedUpdate=!1)}function _e(ft,ht){ft.opacity.value=ht.opacity,ht.color&&ft.diffuse.value.copy(ht.color),ht.emissive&&ft.emissive.value.copy(ht.emissive).multiplyScalar(ht.emissiveIntensity),ht.map&&(ft.map.value=ht.map),ht.alphaMap&&(ft.alphaMap.value=ht.alphaMap),ht.bumpMap&&(ft.bumpMap.value=ht.bumpMap,ft.bumpScale.value=ht.bumpScale,ht.side===BackSide&&(ft.bumpScale.value*=-1)),ht.displacementMap&&(ft.displacementMap.value=ht.displacementMap,ft.displacementScale.value=ht.displacementScale,ft.displacementBias.value=ht.displacementBias),ht.emissiveMap&&(ft.emissiveMap.value=ht.emissiveMap),ht.normalMap&&(ft.normalMap.value=ht.normalMap,ft.normalScale.value.copy(ht.normalScale),ht.side===BackSide&&ft.normalScale.value.negate()),ht.specularMap&&(ft.specularMap.value=ht.specularMap),ht.alphaTest>0&&(ft.alphaTest.value=ht.alphaTest);const pt=o.get(ht).envMap;if(pt&&(ft.envMap.value=pt,ft.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1,ft.reflectivity.value=ht.reflectivity,ft.ior.value=ht.ior,ft.refractionRatio.value=ht.refractionRatio),ht.lightMap){ft.lightMap.value=ht.lightMap;const xt=$.useLegacyLights===!0?Math.PI:1;ft.lightMapIntensity.value=ht.lightMapIntensity*xt}ht.aoMap&&(ft.aoMap.value=ht.aoMap,ft.aoMapIntensity.value=ht.aoMapIntensity);let yt;ht.map?yt=ht.map:ht.specularMap?yt=ht.specularMap:ht.displacementMap?yt=ht.displacementMap:ht.normalMap?yt=ht.normalMap:ht.bumpMap?yt=ht.bumpMap:ht.roughnessMap?yt=ht.roughnessMap:ht.metalnessMap?yt=ht.metalnessMap:ht.alphaMap?yt=ht.alphaMap:ht.emissiveMap?yt=ht.emissiveMap:ht.clearcoatMap?yt=ht.clearcoatMap:ht.clearcoatNormalMap?yt=ht.clearcoatNormalMap:ht.clearcoatRoughnessMap?yt=ht.clearcoatRoughnessMap:ht.iridescenceMap?yt=ht.iridescenceMap:ht.iridescenceThicknessMap?yt=ht.iridescenceThicknessMap:ht.specularIntensityMap?yt=ht.specularIntensityMap:ht.specularColorMap?yt=ht.specularColorMap:ht.transmissionMap?yt=ht.transmissionMap:ht.thicknessMap?yt=ht.thicknessMap:ht.sheenColorMap?yt=ht.sheenColorMap:ht.sheenRoughnessMap&&(yt=ht.sheenRoughnessMap),yt!==void 0&&(yt.isWebGLRenderTarget&&(yt=yt.texture),yt.matrixAutoUpdate===!0&&yt.updateMatrix(),ft.uvTransform.value.copy(yt.matrix));let gt;ht.aoMap?gt=ht.aoMap:ht.lightMap&&(gt=ht.lightMap),gt!==void 0&&(gt.isWebGLRenderTarget&&(gt=gt.texture),gt.matrixAutoUpdate===!0&&gt.updateMatrix(),ft.uv2Transform.value.copy(gt.matrix))}function et(ft,ht){ft.diffuse.value.copy(ht.color),ft.opacity.value=ht.opacity}function tt(ft,ht){ft.dashSize.value=ht.dashSize,ft.totalSize.value=ht.dashSize+ht.gapSize,ft.scale.value=ht.scale}function rt(ft,ht,pt,yt){ft.diffuse.value.copy(ht.color),ft.opacity.value=ht.opacity,ft.size.value=ht.size*pt,ft.scale.value=yt*.5,ht.map&&(ft.map.value=ht.map),ht.alphaMap&&(ft.alphaMap.value=ht.alphaMap),ht.alphaTest>0&&(ft.alphaTest.value=ht.alphaTest);let gt;ht.map?gt=ht.map:ht.alphaMap&&(gt=ht.alphaMap),gt!==void 0&&(gt.matrixAutoUpdate===!0&&gt.updateMatrix(),ft.uvTransform.value.copy(gt.matrix))}function nt(ft,ht){ft.diffuse.value.copy(ht.color),ft.opacity.value=ht.opacity,ft.rotation.value=ht.rotation,ht.map&&(ft.map.value=ht.map),ht.alphaMap&&(ft.alphaMap.value=ht.alphaMap),ht.alphaTest>0&&(ft.alphaTest.value=ht.alphaTest);let pt;ht.map?pt=ht.map:ht.alphaMap&&(pt=ht.alphaMap),pt!==void 0&&(pt.matrixAutoUpdate===!0&&pt.updateMatrix(),ft.uvTransform.value.copy(pt.matrix))}function it(ft,ht){ft.specular.value.copy(ht.specular),ft.shininess.value=Math.max(ht.shininess,1e-4)}function ot(ft,ht){ht.gradientMap&&(ft.gradientMap.value=ht.gradientMap)}function st(ft,ht){ft.roughness.value=ht.roughness,ft.metalness.value=ht.metalness,ht.roughnessMap&&(ft.roughnessMap.value=ht.roughnessMap),ht.metalnessMap&&(ft.metalnessMap.value=ht.metalnessMap),o.get(ht).envMap&&(ft.envMapIntensity.value=ht.envMapIntensity)}function ct(ft,ht,pt){ft.ior.value=ht.ior,ht.sheen>0&&(ft.sheenColor.value.copy(ht.sheenColor).multiplyScalar(ht.sheen),ft.sheenRoughness.value=ht.sheenRoughness,ht.sheenColorMap&&(ft.sheenColorMap.value=ht.sheenColorMap),ht.sheenRoughnessMap&&(ft.sheenRoughnessMap.value=ht.sheenRoughnessMap)),ht.clearcoat>0&&(ft.clearcoat.value=ht.clearcoat,ft.clearcoatRoughness.value=ht.clearcoatRoughness,ht.clearcoatMap&&(ft.clearcoatMap.value=ht.clearcoatMap),ht.clearcoatRoughnessMap&&(ft.clearcoatRoughnessMap.value=ht.clearcoatRoughnessMap),ht.clearcoatNormalMap&&(ft.clearcoatNormalScale.value.copy(ht.clearcoatNormalScale),ft.clearcoatNormalMap.value=ht.clearcoatNormalMap,ht.side===BackSide&&ft.clearcoatNormalScale.value.negate())),ht.iridescence>0&&(ft.iridescence.value=ht.iridescence,ft.iridescenceIOR.value=ht.iridescenceIOR,ft.iridescenceThicknessMinimum.value=ht.iridescenceThicknessRange[0],ft.iridescenceThicknessMaximum.value=ht.iridescenceThicknessRange[1],ht.iridescenceMap&&(ft.iridescenceMap.value=ht.iridescenceMap),ht.iridescenceThicknessMap&&(ft.iridescenceThicknessMap.value=ht.iridescenceThicknessMap)),ht.transmission>0&&(ft.transmission.value=ht.transmission,ft.transmissionSamplerMap.value=pt.texture,ft.transmissionSamplerSize.value.set(pt.width,pt.height),ht.transmissionMap&&(ft.transmissionMap.value=ht.transmissionMap),ft.thickness.value=ht.thickness,ht.thicknessMap&&(ft.thicknessMap.value=ht.thicknessMap),ft.attenuationDistance.value=ht.attenuationDistance,ft.attenuationColor.value.copy(ht.attenuationColor)),ft.specularIntensity.value=ht.specularIntensity,ft.specularColor.value.copy(ht.specularColor),ht.specularIntensityMap&&(ft.specularIntensityMap.value=ht.specularIntensityMap),ht.specularColorMap&&(ft.specularColorMap.value=ht.specularColorMap)}function ut(ft,ht){ht.matcap&&(ft.matcap.value=ht.matcap)}function dt(ft,ht){ft.referencePosition.value.copy(ht.referencePosition),ft.nearDistance.value=ht.nearDistance,ft.farDistance.value=ht.farDistance}return{refreshFogUniforms:a,refreshMaterialUniforms:j}}function WebGLUniformsGroups($,o,a,j){let _e={},et={},tt=[];const rt=a.isWebGL2?$.getParameter(35375):0;function nt(yt,gt){const xt=gt.program;j.uniformBlockBinding(yt,xt)}function it(yt,gt){let xt=_e[yt.id];xt===void 0&&(dt(yt),xt=ot(yt),_e[yt.id]=xt,yt.addEventListener("dispose",ht));const wt=gt.program;j.updateUBOMapping(yt,wt);const Mt=o.render.frame;et[yt.id]!==Mt&&(ct(yt),et[yt.id]=Mt)}function ot(yt){const gt=st();yt.__bindingPointIndex=gt;const xt=$.createBuffer(),wt=yt.__size,Mt=yt.usage;return $.bindBuffer(35345,xt),$.bufferData(35345,wt,Mt),$.bindBuffer(35345,null),$.bindBufferBase(35345,gt,xt),xt}function st(){for(let yt=0;yt<rt;yt++)if(tt.indexOf(yt)===-1)return tt.push(yt),yt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ct(yt){const gt=_e[yt.id],xt=yt.uniforms,wt=yt.__cache;$.bindBuffer(35345,gt);for(let Mt=0,It=xt.length;Mt<It;Mt++){const Tt=xt[Mt];if(ut(Tt,Mt,wt)===!0){const Dt=Tt.__offset,Ut=Array.isArray(Tt.value)?Tt.value:[Tt.value];let jt=0;for(let Xt=0;Xt<Ut.length;Xt++){const kt=Ut[Xt],vt=ft(kt);typeof kt=="number"?(Tt.__data[0]=kt,$.bufferSubData(35345,Dt+jt,Tt.__data)):kt.isMatrix3?(Tt.__data[0]=kt.elements[0],Tt.__data[1]=kt.elements[1],Tt.__data[2]=kt.elements[2],Tt.__data[3]=kt.elements[0],Tt.__data[4]=kt.elements[3],Tt.__data[5]=kt.elements[4],Tt.__data[6]=kt.elements[5],Tt.__data[7]=kt.elements[0],Tt.__data[8]=kt.elements[6],Tt.__data[9]=kt.elements[7],Tt.__data[10]=kt.elements[8],Tt.__data[11]=kt.elements[0]):(kt.toArray(Tt.__data,jt),jt+=vt.storage/Float32Array.BYTES_PER_ELEMENT)}$.bufferSubData(35345,Dt,Tt.__data)}}$.bindBuffer(35345,null)}function ut(yt,gt,xt){const wt=yt.value;if(xt[gt]===void 0){if(typeof wt=="number")xt[gt]=wt;else{const Mt=Array.isArray(wt)?wt:[wt],It=[];for(let Tt=0;Tt<Mt.length;Tt++)It.push(Mt[Tt].clone());xt[gt]=It}return!0}else if(typeof wt=="number"){if(xt[gt]!==wt)return xt[gt]=wt,!0}else{const Mt=Array.isArray(xt[gt])?xt[gt]:[xt[gt]],It=Array.isArray(wt)?wt:[wt];for(let Tt=0;Tt<Mt.length;Tt++){const Dt=Mt[Tt];if(Dt.equals(It[Tt])===!1)return Dt.copy(It[Tt]),!0}}return!1}function dt(yt){const gt=yt.uniforms;let xt=0;const wt=16;let Mt=0;for(let It=0,Tt=gt.length;It<Tt;It++){const Dt=gt[It],Ut={boundary:0,storage:0},jt=Array.isArray(Dt.value)?Dt.value:[Dt.value];for(let Xt=0,kt=jt.length;Xt<kt;Xt++){const vt=jt[Xt],Et=ft(vt);Ut.boundary+=Et.boundary,Ut.storage+=Et.storage}if(Dt.__data=new Float32Array(Ut.storage/Float32Array.BYTES_PER_ELEMENT),Dt.__offset=xt,It>0){Mt=xt%wt;const Xt=wt-Mt;Mt!==0&&Xt-Ut.boundary<0&&(xt+=wt-Mt,Dt.__offset=xt)}xt+=Ut.storage}return Mt=xt%wt,Mt>0&&(xt+=wt-Mt),yt.__size=xt,yt.__cache={},this}function ft(yt){const gt={boundary:0,storage:0};return typeof yt=="number"?(gt.boundary=4,gt.storage=4):yt.isVector2?(gt.boundary=8,gt.storage=8):yt.isVector3||yt.isColor?(gt.boundary=16,gt.storage=12):yt.isVector4?(gt.boundary=16,gt.storage=16):yt.isMatrix3?(gt.boundary=48,gt.storage=48):yt.isMatrix4?(gt.boundary=64,gt.storage=64):yt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",yt),gt}function ht(yt){const gt=yt.target;gt.removeEventListener("dispose",ht);const xt=tt.indexOf(gt.__bindingPointIndex);tt.splice(xt,1),$.deleteBuffer(_e[gt.id]),delete _e[gt.id],delete et[gt.id]}function pt(){for(const yt in _e)$.deleteBuffer(_e[yt]);tt=[],_e={},et={}}return{bind:nt,update:it,dispose:pt}}function createCanvasElement(){const $=createElementNS("canvas");return $.style.display="block",$}function WebGLRenderer($={}){this.isWebGLRenderer=!0;const o=$.canvas!==void 0?$.canvas:createCanvasElement(),a=$.context!==void 0?$.context:null,j=$.depth!==void 0?$.depth:!0,_e=$.stencil!==void 0?$.stencil:!0,et=$.antialias!==void 0?$.antialias:!1,tt=$.premultipliedAlpha!==void 0?$.premultipliedAlpha:!0,rt=$.preserveDrawingBuffer!==void 0?$.preserveDrawingBuffer:!1,nt=$.powerPreference!==void 0?$.powerPreference:"default",it=$.failIfMajorPerformanceCaveat!==void 0?$.failIfMajorPerformanceCaveat:!1;let ot;a!==null?ot=a.getContextAttributes().alpha:ot=$.alpha!==void 0?$.alpha:!1;let st=null,ct=null;const ut=[],dt=[];this.domElement=o,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.useLegacyLights=!0,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const ft=this;let ht=!1,pt=0,yt=0,gt=null,xt=-1,wt=null;const Mt=new Vector4,It=new Vector4;let Tt=null,Dt=o.width,Ut=o.height,jt=1,Xt=null,kt=null;const vt=new Vector4(0,0,Dt,Ut),Et=new Vector4(0,0,Dt,Ut);let Lt=!1;const Ot=new Frustum;let Pt=!1,zt=!1,Vt=null;const $t=new Matrix4,At=new Vector3,Ht={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ar(){return gt===null?jt:1}let Rt=a;function Zt(Kt,gr){for(let yr=0;yr<Kt.length;yr++){const hr=Kt[yr],Mr=o.getContext(hr,gr);if(Mr!==null)return Mr}return null}try{const Kt={alpha:!0,depth:j,stencil:_e,antialias:et,premultipliedAlpha:tt,preserveDrawingBuffer:rt,powerPreference:nt,failIfMajorPerformanceCaveat:it};if("setAttribute"in o&&o.setAttribute("data-engine",`three.js r${REVISION}`),o.addEventListener("webglcontextlost",er,!1),o.addEventListener("webglcontextrestored",Cr,!1),o.addEventListener("webglcontextcreationerror",Br,!1),Rt===null){const gr=["webgl2","webgl","experimental-webgl"];if(ft.isWebGL1Renderer===!0&&gr.shift(),Rt=Zt(gr,Kt),Rt===null)throw Zt(gr)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Rt.getShaderPrecisionFormat===void 0&&(Rt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Kt){throw console.error("THREE.WebGLRenderer: "+Kt.message),Kt}let ir,sr,pr,_r,fr,nr,lr,cr,Ar,kr,Dr,Lr,Ur,Or,Nr,Jt,Wt,ur,Pr,Tr,Ft,St,Ct,Gt;function Qt(){ir=new WebGLExtensions(Rt),sr=new WebGLCapabilities(Rt,ir,$),ir.init(sr),St=new WebGLUtils(Rt,ir,sr),pr=new WebGLState(Rt,ir,sr),_r=new WebGLInfo,fr=new WebGLProperties,nr=new WebGLTextures(Rt,ir,pr,fr,sr,St,_r),lr=new WebGLCubeMaps(ft),cr=new WebGLCubeUVMaps(ft),Ar=new WebGLAttributes(Rt,sr),Ct=new WebGLBindingStates(Rt,ir,Ar,sr),kr=new WebGLGeometries(Rt,Ar,_r,Ct),Dr=new WebGLObjects(Rt,kr,Ar,_r),Pr=new WebGLMorphtargets(Rt,sr,nr),Jt=new WebGLClipping(fr),Lr=new WebGLPrograms(ft,lr,cr,ir,sr,Ct,Jt),Ur=new WebGLMaterials(ft,fr),Or=new WebGLRenderLists,Nr=new WebGLRenderStates(ir,sr),ur=new WebGLBackground(ft,lr,cr,pr,Dr,ot,tt),Wt=new WebGLShadowMap(ft,Dr,sr),Gt=new WebGLUniformsGroups(Rt,_r,sr,pr),Tr=new WebGLBufferRenderer(Rt,ir,_r,sr),Ft=new WebGLIndexedBufferRenderer(Rt,ir,_r,sr),_r.programs=Lr.programs,ft.capabilities=sr,ft.extensions=ir,ft.properties=fr,ft.renderLists=Or,ft.shadowMap=Wt,ft.state=pr,ft.info=_r}Qt();const rr=new WebXRManager(ft,Rt);this.xr=rr,this.getContext=function(){return Rt},this.getContextAttributes=function(){return Rt.getContextAttributes()},this.forceContextLoss=function(){const Kt=ir.get("WEBGL_lose_context");Kt&&Kt.loseContext()},this.forceContextRestore=function(){const Kt=ir.get("WEBGL_lose_context");Kt&&Kt.restoreContext()},this.getPixelRatio=function(){return jt},this.setPixelRatio=function(Kt){Kt!==void 0&&(jt=Kt,this.setSize(Dt,Ut,!1))},this.getSize=function(Kt){return Kt.set(Dt,Ut)},this.setSize=function(Kt,gr,yr=!0){if(rr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Dt=Kt,Ut=gr,o.width=Math.floor(Kt*jt),o.height=Math.floor(gr*jt),yr===!0&&(o.style.width=Kt+"px",o.style.height=gr+"px"),this.setViewport(0,0,Kt,gr)},this.getDrawingBufferSize=function(Kt){return Kt.set(Dt*jt,Ut*jt).floor()},this.setDrawingBufferSize=function(Kt,gr,yr){Dt=Kt,Ut=gr,jt=yr,o.width=Math.floor(Kt*yr),o.height=Math.floor(gr*yr),this.setViewport(0,0,Kt,gr)},this.getCurrentViewport=function(Kt){return Kt.copy(Mt)},this.getViewport=function(Kt){return Kt.copy(vt)},this.setViewport=function(Kt,gr,yr,hr){Kt.isVector4?vt.set(Kt.x,Kt.y,Kt.z,Kt.w):vt.set(Kt,gr,yr,hr),pr.viewport(Mt.copy(vt).multiplyScalar(jt).floor())},this.getScissor=function(Kt){return Kt.copy(Et)},this.setScissor=function(Kt,gr,yr,hr){Kt.isVector4?Et.set(Kt.x,Kt.y,Kt.z,Kt.w):Et.set(Kt,gr,yr,hr),pr.scissor(It.copy(Et).multiplyScalar(jt).floor())},this.getScissorTest=function(){return Lt},this.setScissorTest=function(Kt){pr.setScissorTest(Lt=Kt)},this.setOpaqueSort=function(Kt){Xt=Kt},this.setTransparentSort=function(Kt){kt=Kt},this.getClearColor=function(Kt){return Kt.copy(ur.getClearColor())},this.setClearColor=function(){ur.setClearColor.apply(ur,arguments)},this.getClearAlpha=function(){return ur.getClearAlpha()},this.setClearAlpha=function(){ur.setClearAlpha.apply(ur,arguments)},this.clear=function(Kt=!0,gr=!0,yr=!0){let hr=0;Kt&&(hr|=16384),gr&&(hr|=256),yr&&(hr|=1024),Rt.clear(hr)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){o.removeEventListener("webglcontextlost",er,!1),o.removeEventListener("webglcontextrestored",Cr,!1),o.removeEventListener("webglcontextcreationerror",Br,!1),Or.dispose(),Nr.dispose(),fr.dispose(),lr.dispose(),cr.dispose(),Dr.dispose(),Ct.dispose(),Gt.dispose(),Lr.dispose(),rr.dispose(),rr.removeEventListener("sessionstart",Er),rr.removeEventListener("sessionend",Ir),Vt&&(Vt.dispose(),Vt=null),Hr.stop()};function er(Kt){Kt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ht=!0}function Cr(){console.log("THREE.WebGLRenderer: Context Restored."),ht=!1;const Kt=_r.autoReset,gr=Wt.enabled,yr=Wt.autoUpdate,hr=Wt.needsUpdate,Mr=Wt.type;Qt(),_r.autoReset=Kt,Wt.enabled=gr,Wt.autoUpdate=yr,Wt.needsUpdate=hr,Wt.type=Mr}function Br(Kt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Kt.statusMessage)}function Yt(Kt){const gr=Kt.target;gr.removeEventListener("dispose",Yt),br(gr)}function br(Kt){Rr(Kt),fr.remove(Kt)}function Rr(Kt){const gr=fr.get(Kt).programs;gr!==void 0&&(gr.forEach(function(yr){Lr.releaseProgram(yr)}),Kt.isShaderMaterial&&Lr.releaseShaderCache(Kt))}this.renderBufferDirect=function(Kt,gr,yr,hr,Mr,$r){gr===null&&(gr=Ht);const Vr=Mr.isMesh&&Mr.matrixWorld.determinant()<0,en=xn(Kt,gr,yr,hr,Mr);pr.setMaterial(hr,Vr);let Wr=yr.index,Kr=1;hr.wireframe===!0&&(Wr=kr.getWireframeAttribute(yr),Kr=2);const tn=yr.drawRange,nn=yr.attributes.position;let yn=tn.start*Kr,Mn=(tn.start+tn.count)*Kr;$r!==null&&(yn=Math.max(yn,$r.start*Kr),Mn=Math.min(Mn,($r.start+$r.count)*Kr)),Wr!==null?(yn=Math.max(yn,0),Mn=Math.min(Mn,Wr.count)):nn!=null&&(yn=Math.max(yn,0),Mn=Math.min(Mn,nn.count));const Dn=Mn-yn;if(Dn<0||Dn===1/0)return;Ct.setup(Mr,hr,en,yr,Wr);let _i,En=Tr;if(Wr!==null&&(_i=Ar.get(Wr),En=Ft,En.setIndex(_i)),Mr.isMesh)hr.wireframe===!0?(pr.setLineWidth(hr.wireframeLinewidth*ar()),En.setMode(1)):En.setMode(4);else if(Mr.isLine){let ln=hr.linewidth;ln===void 0&&(ln=1),pr.setLineWidth(ln*ar()),Mr.isLineSegments?En.setMode(1):Mr.isLineLoop?En.setMode(2):En.setMode(3)}else Mr.isPoints?En.setMode(0):Mr.isSprite&&En.setMode(4);if(Mr.isInstancedMesh)En.renderInstances(yn,Dn,Mr.count);else if(yr.isInstancedBufferGeometry){const ln=yr._maxInstanceCount!==void 0?yr._maxInstanceCount:1/0,eo=Math.min(yr.instanceCount,ln);En.renderInstances(yn,Dn,eo)}else En.render(yn,Dn)},this.compile=function(Kt,gr){function yr(hr,Mr,$r){hr.transparent===!0&&hr.side===DoubleSide&&hr.forceSinglePass===!1?(hr.side=BackSide,hr.needsUpdate=!0,_n(hr,Mr,$r),hr.side=FrontSide,hr.needsUpdate=!0,_n(hr,Mr,$r),hr.side=DoubleSide):_n(hr,Mr,$r)}ct=Nr.get(Kt),ct.init(),dt.push(ct),Kt.traverseVisible(function(hr){hr.isLight&&hr.layers.test(gr.layers)&&(ct.pushLight(hr),hr.castShadow&&ct.pushShadow(hr))}),ct.setupLights(ft.useLegacyLights),Kt.traverse(function(hr){const Mr=hr.material;if(Mr)if(Array.isArray(Mr))for(let $r=0;$r<Mr.length;$r++){const Vr=Mr[$r];yr(Vr,Kt,hr)}else yr(Mr,Kt,hr)}),dt.pop(),ct=null};let tr=null;function xr(Kt){tr&&tr(Kt)}function Er(){Hr.stop()}function Ir(){Hr.start()}const Hr=new WebGLAnimation;Hr.setAnimationLoop(xr),typeof self<"u"&&Hr.setContext(self),this.setAnimationLoop=function(Kt){tr=Kt,rr.setAnimationLoop(Kt),Kt===null?Hr.stop():Hr.start()},rr.addEventListener("sessionstart",Er),rr.addEventListener("sessionend",Ir),this.render=function(Kt,gr){if(gr!==void 0&&gr.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(ht===!0)return;Kt.matrixWorldAutoUpdate===!0&&Kt.updateMatrixWorld(),gr.parent===null&&gr.matrixWorldAutoUpdate===!0&&gr.updateMatrixWorld(),rr.enabled===!0&&rr.isPresenting===!0&&(rr.cameraAutoUpdate===!0&&rr.updateCamera(gr),gr=rr.getCamera()),Kt.isScene===!0&&Kt.onBeforeRender(ft,Kt,gr,gt),ct=Nr.get(Kt,dt.length),ct.init(),dt.push(ct),$t.multiplyMatrices(gr.projectionMatrix,gr.matrixWorldInverse),Ot.setFromProjectionMatrix($t),zt=this.localClippingEnabled,Pt=Jt.init(this.clippingPlanes,zt),st=Or.get(Kt,ut.length),st.init(),ut.push(st),Xr(Kt,gr,0,ft.sortObjects),st.finish(),ft.sortObjects===!0&&st.sort(Xt,kt),Pt===!0&&Jt.beginShadows();const yr=ct.state.shadowsArray;if(Wt.render(yr,Kt,gr),Pt===!0&&Jt.endShadows(),this.info.autoReset===!0&&this.info.reset(),ur.render(st,Kt),ct.setupLights(ft.useLegacyLights),gr.isArrayCamera){const hr=gr.cameras;for(let Mr=0,$r=hr.length;Mr<$r;Mr++){const Vr=hr[Mr];qr(st,Kt,Vr,Vr.viewport)}}else qr(st,Kt,gr);gt!==null&&(nr.updateMultisampleRenderTarget(gt),nr.updateRenderTargetMipmap(gt)),Kt.isScene===!0&&Kt.onAfterRender(ft,Kt,gr),Ct.resetDefaultState(),xt=-1,wt=null,dt.pop(),dt.length>0?ct=dt[dt.length-1]:ct=null,ut.pop(),ut.length>0?st=ut[ut.length-1]:st=null};function Xr(Kt,gr,yr,hr){if(Kt.visible===!1)return;if(Kt.layers.test(gr.layers)){if(Kt.isGroup)yr=Kt.renderOrder;else if(Kt.isLOD)Kt.autoUpdate===!0&&Kt.update(gr);else if(Kt.isLight)ct.pushLight(Kt),Kt.castShadow&&ct.pushShadow(Kt);else if(Kt.isSprite){if(!Kt.frustumCulled||Ot.intersectsSprite(Kt)){hr&&At.setFromMatrixPosition(Kt.matrixWorld).applyMatrix4($t);const Vr=Dr.update(Kt),en=Kt.material;en.visible&&st.push(Kt,Vr,en,yr,At.z,null)}}else if((Kt.isMesh||Kt.isLine||Kt.isPoints)&&(Kt.isSkinnedMesh&&Kt.skeleton.frame!==_r.render.frame&&(Kt.skeleton.update(),Kt.skeleton.frame=_r.render.frame),!Kt.frustumCulled||Ot.intersectsObject(Kt))){hr&&At.setFromMatrixPosition(Kt.matrixWorld).applyMatrix4($t);const Vr=Dr.update(Kt),en=Kt.material;if(Array.isArray(en)){const Wr=Vr.groups;for(let Kr=0,tn=Wr.length;Kr<tn;Kr++){const nn=Wr[Kr],yn=en[nn.materialIndex];yn&&yn.visible&&st.push(Kt,Vr,yn,yr,At.z,nn)}}else en.visible&&st.push(Kt,Vr,en,yr,At.z,null)}}const $r=Kt.children;for(let Vr=0,en=$r.length;Vr<en;Vr++)Xr($r[Vr],gr,yr,hr)}function qr(Kt,gr,yr,hr){const Mr=Kt.opaque,$r=Kt.transmissive,Vr=Kt.transparent;ct.setupLightsView(yr),Pt===!0&&Jt.setGlobalState(ft.clippingPlanes,yr),$r.length>0&&dn(Mr,gr,yr),hr&&pr.viewport(Mt.copy(hr)),Mr.length>0&&rn(Mr,gr,yr),$r.length>0&&rn($r,gr,yr),Vr.length>0&&rn(Vr,gr,yr),pr.buffers.depth.setTest(!0),pr.buffers.depth.setMask(!0),pr.buffers.color.setMask(!0),pr.setPolygonOffset(!1)}function dn(Kt,gr,yr){const hr=sr.isWebGL2;Vt===null&&(Vt=new WebGLRenderTarget(1024,1024,{generateMipmaps:!0,type:ir.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:hr&&et===!0?4:0}));const Mr=ft.getRenderTarget();ft.setRenderTarget(Vt),ft.clear();const $r=ft.toneMapping;ft.toneMapping=NoToneMapping,rn(Kt,gr,yr),ft.toneMapping=$r,nr.updateMultisampleRenderTarget(Vt),nr.updateRenderTargetMipmap(Vt),ft.setRenderTarget(Mr)}function rn(Kt,gr,yr){const hr=gr.isScene===!0?gr.overrideMaterial:null;for(let Mr=0,$r=Kt.length;Mr<$r;Mr++){const Vr=Kt[Mr],en=Vr.object,Wr=Vr.geometry,Kr=hr===null?Vr.material:hr,tn=Vr.group;en.layers.test(yr.layers)&&Qr(en,gr,yr,Wr,Kr,tn)}}function Qr(Kt,gr,yr,hr,Mr,$r){Kt.onBeforeRender(ft,gr,yr,hr,Mr,$r),Kt.modelViewMatrix.multiplyMatrices(yr.matrixWorldInverse,Kt.matrixWorld),Kt.normalMatrix.getNormalMatrix(Kt.modelViewMatrix),Mr.onBeforeRender(ft,gr,yr,hr,Kt,$r),Mr.transparent===!0&&Mr.side===DoubleSide&&Mr.forceSinglePass===!1?(Mr.side=BackSide,Mr.needsUpdate=!0,ft.renderBufferDirect(yr,gr,hr,Mr,Kt,$r),Mr.side=FrontSide,Mr.needsUpdate=!0,ft.renderBufferDirect(yr,gr,hr,Mr,Kt,$r),Mr.side=DoubleSide):ft.renderBufferDirect(yr,gr,hr,Mr,Kt,$r),Kt.onAfterRender(ft,gr,yr,hr,Mr,$r)}function _n(Kt,gr,yr){gr.isScene!==!0&&(gr=Ht);const hr=fr.get(Kt),Mr=ct.state.lights,$r=ct.state.shadowsArray,Vr=Mr.state.version,en=Lr.getParameters(Kt,Mr.state,$r,gr,yr),Wr=Lr.getProgramCacheKey(en);let Kr=hr.programs;hr.environment=Kt.isMeshStandardMaterial?gr.environment:null,hr.fog=gr.fog,hr.envMap=(Kt.isMeshStandardMaterial?cr:lr).get(Kt.envMap||hr.environment),Kr===void 0&&(Kt.addEventListener("dispose",Yt),Kr=new Map,hr.programs=Kr);let tn=Kr.get(Wr);if(tn!==void 0){if(hr.currentProgram===tn&&hr.lightsStateVersion===Vr)return on(Kt,en),tn}else en.uniforms=Lr.getUniforms(Kt),Kt.onBuild(yr,en,ft),Kt.onBeforeCompile(en,ft),tn=Lr.acquireProgram(en,Wr),Kr.set(Wr,tn),hr.uniforms=en.uniforms;const nn=hr.uniforms;(!Kt.isShaderMaterial&&!Kt.isRawShaderMaterial||Kt.clipping===!0)&&(nn.clippingPlanes=Jt.uniform),on(Kt,en),hr.needsLights=vn(Kt),hr.lightsStateVersion=Vr,hr.needsLights&&(nn.ambientLightColor.value=Mr.state.ambient,nn.lightProbe.value=Mr.state.probe,nn.directionalLights.value=Mr.state.directional,nn.directionalLightShadows.value=Mr.state.directionalShadow,nn.spotLights.value=Mr.state.spot,nn.spotLightShadows.value=Mr.state.spotShadow,nn.rectAreaLights.value=Mr.state.rectArea,nn.ltc_1.value=Mr.state.rectAreaLTC1,nn.ltc_2.value=Mr.state.rectAreaLTC2,nn.pointLights.value=Mr.state.point,nn.pointLightShadows.value=Mr.state.pointShadow,nn.hemisphereLights.value=Mr.state.hemi,nn.directionalShadowMap.value=Mr.state.directionalShadowMap,nn.directionalShadowMatrix.value=Mr.state.directionalShadowMatrix,nn.spotShadowMap.value=Mr.state.spotShadowMap,nn.spotLightMatrix.value=Mr.state.spotLightMatrix,nn.spotLightMap.value=Mr.state.spotLightMap,nn.pointShadowMap.value=Mr.state.pointShadowMap,nn.pointShadowMatrix.value=Mr.state.pointShadowMatrix);const yn=tn.getUniforms(),Mn=WebGLUniforms.seqWithValue(yn.seq,nn);return hr.currentProgram=tn,hr.uniformsList=Mn,tn}function on(Kt,gr){const yr=fr.get(Kt);yr.outputEncoding=gr.outputEncoding,yr.instancing=gr.instancing,yr.skinning=gr.skinning,yr.morphTargets=gr.morphTargets,yr.morphNormals=gr.morphNormals,yr.morphColors=gr.morphColors,yr.morphTargetsCount=gr.morphTargetsCount,yr.numClippingPlanes=gr.numClippingPlanes,yr.numIntersection=gr.numClipIntersection,yr.vertexAlphas=gr.vertexAlphas,yr.vertexTangents=gr.vertexTangents,yr.toneMapping=gr.toneMapping}function xn(Kt,gr,yr,hr,Mr){gr.isScene!==!0&&(gr=Ht),nr.resetTextureUnits();const $r=gr.fog,Vr=hr.isMeshStandardMaterial?gr.environment:null,en=gt===null?ft.outputEncoding:gt.isXRRenderTarget===!0?gt.texture.encoding:LinearEncoding,Wr=(hr.isMeshStandardMaterial?cr:lr).get(hr.envMap||Vr),Kr=hr.vertexColors===!0&&!!yr.attributes.color&&yr.attributes.color.itemSize===4,tn=!!hr.normalMap&&!!yr.attributes.tangent,nn=!!yr.morphAttributes.position,yn=!!yr.morphAttributes.normal,Mn=!!yr.morphAttributes.color,Dn=hr.toneMapped?ft.toneMapping:NoToneMapping,_i=yr.morphAttributes.position||yr.morphAttributes.normal||yr.morphAttributes.color,En=_i!==void 0?_i.length:0,ln=fr.get(hr),eo=ct.state.lights;if(Pt===!0&&(zt===!0||Kt!==wt)){const Cn=Kt===wt&&hr.id===xt;Jt.setState(hr,Kt,Cn)}let Sn=!1;hr.version===ln.__version?(ln.needsLights&&ln.lightsStateVersion!==eo.state.version||ln.outputEncoding!==en||Mr.isInstancedMesh&&ln.instancing===!1||!Mr.isInstancedMesh&&ln.instancing===!0||Mr.isSkinnedMesh&&ln.skinning===!1||!Mr.isSkinnedMesh&&ln.skinning===!0||ln.envMap!==Wr||hr.fog===!0&&ln.fog!==$r||ln.numClippingPlanes!==void 0&&(ln.numClippingPlanes!==Jt.numPlanes||ln.numIntersection!==Jt.numIntersection)||ln.vertexAlphas!==Kr||ln.vertexTangents!==tn||ln.morphTargets!==nn||ln.morphNormals!==yn||ln.morphColors!==Mn||ln.toneMapping!==Dn||sr.isWebGL2===!0&&ln.morphTargetsCount!==En)&&(Sn=!0):(Sn=!0,ln.__version=hr.version);let jn=ln.currentProgram;Sn===!0&&(jn=_n(hr,gr,Mr));let Do=!1,to=!1,Xn=!1;const An=jn.getUniforms(),fn=ln.uniforms;if(pr.useProgram(jn.program)&&(Do=!0,to=!0,Xn=!0),hr.id!==xt&&(xt=hr.id,to=!0),Do||wt!==Kt){if(An.setValue(Rt,"projectionMatrix",Kt.projectionMatrix),sr.logarithmicDepthBuffer&&An.setValue(Rt,"logDepthBufFC",2/(Math.log(Kt.far+1)/Math.LN2)),wt!==Kt&&(wt=Kt,to=!0,Xn=!0),hr.isShaderMaterial||hr.isMeshPhongMaterial||hr.isMeshToonMaterial||hr.isMeshStandardMaterial||hr.envMap){const Cn=An.map.cameraPosition;Cn!==void 0&&Cn.setValue(Rt,At.setFromMatrixPosition(Kt.matrixWorld))}(hr.isMeshPhongMaterial||hr.isMeshToonMaterial||hr.isMeshLambertMaterial||hr.isMeshBasicMaterial||hr.isMeshStandardMaterial||hr.isShaderMaterial)&&An.setValue(Rt,"isOrthographic",Kt.isOrthographicCamera===!0),(hr.isMeshPhongMaterial||hr.isMeshToonMaterial||hr.isMeshLambertMaterial||hr.isMeshBasicMaterial||hr.isMeshStandardMaterial||hr.isShaderMaterial||hr.isShadowMaterial||Mr.isSkinnedMesh)&&An.setValue(Rt,"viewMatrix",Kt.matrixWorldInverse)}if(Mr.isSkinnedMesh){An.setOptional(Rt,Mr,"bindMatrix"),An.setOptional(Rt,Mr,"bindMatrixInverse");const Cn=Mr.skeleton;Cn&&(sr.floatVertexTextures?(Cn.boneTexture===null&&Cn.computeBoneTexture(),An.setValue(Rt,"boneTexture",Cn.boneTexture,nr),An.setValue(Rt,"boneTextureSize",Cn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const hn=yr.morphAttributes;if((hn.position!==void 0||hn.normal!==void 0||hn.color!==void 0&&sr.isWebGL2===!0)&&Pr.update(Mr,yr,jn),(to||ln.receiveShadow!==Mr.receiveShadow)&&(ln.receiveShadow=Mr.receiveShadow,An.setValue(Rt,"receiveShadow",Mr.receiveShadow)),hr.isMeshGouraudMaterial&&hr.envMap!==null&&(fn.envMap.value=Wr,fn.flipEnvMap.value=Wr.isCubeTexture&&Wr.isRenderTargetTexture===!1?-1:1),to&&(An.setValue(Rt,"toneMappingExposure",ft.toneMappingExposure),ln.needsLights&&mo(fn,Xn),$r&&hr.fog===!0&&Ur.refreshFogUniforms(fn,$r),Ur.refreshMaterialUniforms(fn,hr,jt,Ut,Vt),WebGLUniforms.upload(Rt,ln.uniformsList,fn,nr)),hr.isShaderMaterial&&hr.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Rt,ln.uniformsList,fn,nr),hr.uniformsNeedUpdate=!1),hr.isSpriteMaterial&&An.setValue(Rt,"center",Mr.center),An.setValue(Rt,"modelViewMatrix",Mr.modelViewMatrix),An.setValue(Rt,"normalMatrix",Mr.normalMatrix),An.setValue(Rt,"modelMatrix",Mr.matrixWorld),hr.isShaderMaterial||hr.isRawShaderMaterial){const Cn=hr.uniformsGroups;for(let Tn=0,Gn=Cn.length;Tn<Gn;Tn++)if(sr.isWebGL2){const _o=Cn[Tn];Gt.update(_o,jn),Gt.bind(_o,jn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return jn}function mo(Kt,gr){Kt.ambientLightColor.needsUpdate=gr,Kt.lightProbe.needsUpdate=gr,Kt.directionalLights.needsUpdate=gr,Kt.directionalLightShadows.needsUpdate=gr,Kt.pointLights.needsUpdate=gr,Kt.pointLightShadows.needsUpdate=gr,Kt.spotLights.needsUpdate=gr,Kt.spotLightShadows.needsUpdate=gr,Kt.rectAreaLights.needsUpdate=gr,Kt.hemisphereLights.needsUpdate=gr}function vn(Kt){return Kt.isMeshLambertMaterial||Kt.isMeshToonMaterial||Kt.isMeshPhongMaterial||Kt.isMeshStandardMaterial||Kt.isShadowMaterial||Kt.isShaderMaterial&&Kt.lights===!0}this.getActiveCubeFace=function(){return pt},this.getActiveMipmapLevel=function(){return yt},this.getRenderTarget=function(){return gt},this.setRenderTargetTextures=function(Kt,gr,yr){fr.get(Kt.texture).__webglTexture=gr,fr.get(Kt.depthTexture).__webglTexture=yr;const hr=fr.get(Kt);hr.__hasExternalTextures=!0,hr.__hasExternalTextures&&(hr.__autoAllocateDepthBuffer=yr===void 0,hr.__autoAllocateDepthBuffer||ir.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),hr.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Kt,gr){const yr=fr.get(Kt);yr.__webglFramebuffer=gr,yr.__useDefaultFramebuffer=gr===void 0},this.setRenderTarget=function(Kt,gr=0,yr=0){gt=Kt,pt=gr,yt=yr;let hr=!0,Mr=null,$r=!1,Vr=!1;if(Kt){const Wr=fr.get(Kt);Wr.__useDefaultFramebuffer!==void 0?(pr.bindFramebuffer(36160,null),hr=!1):Wr.__webglFramebuffer===void 0?nr.setupRenderTarget(Kt):Wr.__hasExternalTextures&&nr.rebindTextures(Kt,fr.get(Kt.texture).__webglTexture,fr.get(Kt.depthTexture).__webglTexture);const Kr=Kt.texture;(Kr.isData3DTexture||Kr.isDataArrayTexture||Kr.isCompressedArrayTexture)&&(Vr=!0);const tn=fr.get(Kt).__webglFramebuffer;Kt.isWebGLCubeRenderTarget?(Mr=tn[gr],$r=!0):sr.isWebGL2&&Kt.samples>0&&nr.useMultisampledRTT(Kt)===!1?Mr=fr.get(Kt).__webglMultisampledFramebuffer:Mr=tn,Mt.copy(Kt.viewport),It.copy(Kt.scissor),Tt=Kt.scissorTest}else Mt.copy(vt).multiplyScalar(jt).floor(),It.copy(Et).multiplyScalar(jt).floor(),Tt=Lt;if(pr.bindFramebuffer(36160,Mr)&&sr.drawBuffers&&hr&&pr.drawBuffers(Kt,Mr),pr.viewport(Mt),pr.scissor(It),pr.setScissorTest(Tt),$r){const Wr=fr.get(Kt.texture);Rt.framebufferTexture2D(36160,36064,34069+gr,Wr.__webglTexture,yr)}else if(Vr){const Wr=fr.get(Kt.texture),Kr=gr||0;Rt.framebufferTextureLayer(36160,36064,Wr.__webglTexture,yr||0,Kr)}xt=-1},this.readRenderTargetPixels=function(Kt,gr,yr,hr,Mr,$r,Vr){if(!(Kt&&Kt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let en=fr.get(Kt).__webglFramebuffer;if(Kt.isWebGLCubeRenderTarget&&Vr!==void 0&&(en=en[Vr]),en){pr.bindFramebuffer(36160,en);try{const Wr=Kt.texture,Kr=Wr.format,tn=Wr.type;if(Kr!==RGBAFormat&&St.convert(Kr)!==Rt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const nn=tn===HalfFloatType&&(ir.has("EXT_color_buffer_half_float")||sr.isWebGL2&&ir.has("EXT_color_buffer_float"));if(tn!==UnsignedByteType&&St.convert(tn)!==Rt.getParameter(35738)&&!(tn===FloatType&&(sr.isWebGL2||ir.has("OES_texture_float")||ir.has("WEBGL_color_buffer_float")))&&!nn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}gr>=0&&gr<=Kt.width-hr&&yr>=0&&yr<=Kt.height-Mr&&Rt.readPixels(gr,yr,hr,Mr,St.convert(Kr),St.convert(tn),$r)}finally{const Wr=gt!==null?fr.get(gt).__webglFramebuffer:null;pr.bindFramebuffer(36160,Wr)}}},this.copyFramebufferToTexture=function(Kt,gr,yr=0){const hr=Math.pow(2,-yr),Mr=Math.floor(gr.image.width*hr),$r=Math.floor(gr.image.height*hr);nr.setTexture2D(gr,0),Rt.copyTexSubImage2D(3553,yr,0,0,Kt.x,Kt.y,Mr,$r),pr.unbindTexture()},this.copyTextureToTexture=function(Kt,gr,yr,hr=0){const Mr=gr.image.width,$r=gr.image.height,Vr=St.convert(yr.format),en=St.convert(yr.type);nr.setTexture2D(yr,0),Rt.pixelStorei(37440,yr.flipY),Rt.pixelStorei(37441,yr.premultiplyAlpha),Rt.pixelStorei(3317,yr.unpackAlignment),gr.isDataTexture?Rt.texSubImage2D(3553,hr,Kt.x,Kt.y,Mr,$r,Vr,en,gr.image.data):gr.isCompressedTexture?Rt.compressedTexSubImage2D(3553,hr,Kt.x,Kt.y,gr.mipmaps[0].width,gr.mipmaps[0].height,Vr,gr.mipmaps[0].data):Rt.texSubImage2D(3553,hr,Kt.x,Kt.y,Vr,en,gr.image),hr===0&&yr.generateMipmaps&&Rt.generateMipmap(3553),pr.unbindTexture()},this.copyTextureToTexture3D=function(Kt,gr,yr,hr,Mr=0){if(ft.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $r=Kt.max.x-Kt.min.x+1,Vr=Kt.max.y-Kt.min.y+1,en=Kt.max.z-Kt.min.z+1,Wr=St.convert(hr.format),Kr=St.convert(hr.type);let tn;if(hr.isData3DTexture)nr.setTexture3D(hr,0),tn=32879;else if(hr.isDataArrayTexture)nr.setTexture2DArray(hr,0),tn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Rt.pixelStorei(37440,hr.flipY),Rt.pixelStorei(37441,hr.premultiplyAlpha),Rt.pixelStorei(3317,hr.unpackAlignment);const nn=Rt.getParameter(3314),yn=Rt.getParameter(32878),Mn=Rt.getParameter(3316),Dn=Rt.getParameter(3315),_i=Rt.getParameter(32877),En=yr.isCompressedTexture?yr.mipmaps[0]:yr.image;Rt.pixelStorei(3314,En.width),Rt.pixelStorei(32878,En.height),Rt.pixelStorei(3316,Kt.min.x),Rt.pixelStorei(3315,Kt.min.y),Rt.pixelStorei(32877,Kt.min.z),yr.isDataTexture||yr.isData3DTexture?Rt.texSubImage3D(tn,Mr,gr.x,gr.y,gr.z,$r,Vr,en,Wr,Kr,En.data):yr.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Rt.compressedTexSubImage3D(tn,Mr,gr.x,gr.y,gr.z,$r,Vr,en,Wr,En.data)):Rt.texSubImage3D(tn,Mr,gr.x,gr.y,gr.z,$r,Vr,en,Wr,Kr,En),Rt.pixelStorei(3314,nn),Rt.pixelStorei(32878,yn),Rt.pixelStorei(3316,Mn),Rt.pixelStorei(3315,Dn),Rt.pixelStorei(32877,_i),Mr===0&&hr.generateMipmaps&&Rt.generateMipmap(tn),pr.unbindTexture()},this.initTexture=function(Kt){Kt.isCubeTexture?nr.setTextureCube(Kt,0):Kt.isData3DTexture?nr.setTexture3D(Kt,0):Kt.isDataArrayTexture||Kt.isCompressedArrayTexture?nr.setTexture2DArray(Kt,0):nr.setTexture2D(Kt,0),pr.unbindTexture()},this.resetState=function(){pt=0,yt=0,gt=null,pr.reset(),Ct.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(WebGLRenderer.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function($){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!$}}});class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(o,a=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(o),this.density=a}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor(o,a=1,j=1e3){this.isFog=!0,this.name="",this.color=new Color(o),this.near=a,this.far=j}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(o,a){return super.copy(o,a),o.background!==null&&(this.background=o.background.clone()),o.environment!==null&&(this.environment=o.environment.clone()),o.fog!==null&&(this.fog=o.fog.clone()),this.backgroundBlurriness=o.backgroundBlurriness,this.backgroundIntensity=o.backgroundIntensity,o.overrideMaterial!==null&&(this.overrideMaterial=o.overrideMaterial.clone()),this.matrixAutoUpdate=o.matrixAutoUpdate,this}toJSON(o){const a=super.toJSON(o);return this.fog!==null&&(a.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(a.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(a.object.backgroundIntensity=this.backgroundIntensity),a}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(o){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=o}}class InterleavedBuffer{constructor(o,a){this.isInterleavedBuffer=!0,this.array=o,this.stride=a,this.count=o!==void 0?o.length/a:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(o){o===!0&&this.version++}setUsage(o){return this.usage=o,this}copy(o){return this.array=new o.array.constructor(o.array),this.count=o.count,this.stride=o.stride,this.usage=o.usage,this}copyAt(o,a,j){o*=this.stride,j*=a.stride;for(let _e=0,et=this.stride;_e<et;_e++)this.array[o+_e]=a.array[j+_e];return this}set(o,a=0){return this.array.set(o,a),this}clone(o){o.arrayBuffers===void 0&&(o.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),o.arrayBuffers[this.array.buffer._uuid]===void 0&&(o.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const a=new this.array.constructor(o.arrayBuffers[this.array.buffer._uuid]),j=new this.constructor(a,this.stride);return j.setUsage(this.usage),j}onUpload(o){return this.onUploadCallback=o,this}toJSON(o){return o.arrayBuffers===void 0&&(o.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),o.arrayBuffers[this.array.buffer._uuid]===void 0&&(o.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(o,a,j,_e=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=o,this.itemSize=a,this.offset=j,this.normalized=_e}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(o){this.data.needsUpdate=o}applyMatrix4(o){for(let a=0,j=this.data.count;a<j;a++)_vector$6.fromBufferAttribute(this,a),_vector$6.applyMatrix4(o),this.setXYZ(a,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(o){for(let a=0,j=this.count;a<j;a++)_vector$6.fromBufferAttribute(this,a),_vector$6.applyNormalMatrix(o),this.setXYZ(a,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(o){for(let a=0,j=this.count;a<j;a++)_vector$6.fromBufferAttribute(this,a),_vector$6.transformDirection(o),this.setXYZ(a,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(o,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[o*this.data.stride+this.offset]=a,this}setY(o,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[o*this.data.stride+this.offset+1]=a,this}setZ(o,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[o*this.data.stride+this.offset+2]=a,this}setW(o,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[o*this.data.stride+this.offset+3]=a,this}getX(o){let a=this.data.array[o*this.data.stride+this.offset];return this.normalized&&(a=denormalize(a,this.array)),a}getY(o){let a=this.data.array[o*this.data.stride+this.offset+1];return this.normalized&&(a=denormalize(a,this.array)),a}getZ(o){let a=this.data.array[o*this.data.stride+this.offset+2];return this.normalized&&(a=denormalize(a,this.array)),a}getW(o){let a=this.data.array[o*this.data.stride+this.offset+3];return this.normalized&&(a=denormalize(a,this.array)),a}setXY(o,a,j){return o=o*this.data.stride+this.offset,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array)),this.data.array[o+0]=a,this.data.array[o+1]=j,this}setXYZ(o,a,j,_e){return o=o*this.data.stride+this.offset,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array),_e=normalize(_e,this.array)),this.data.array[o+0]=a,this.data.array[o+1]=j,this.data.array[o+2]=_e,this}setXYZW(o,a,j,_e,et){return o=o*this.data.stride+this.offset,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array),_e=normalize(_e,this.array),et=normalize(et,this.array)),this.data.array[o+0]=a,this.data.array[o+1]=j,this.data.array[o+2]=_e,this.data.array[o+3]=et,this}clone(o){if(o===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const a=[];for(let j=0;j<this.count;j++){const _e=j*this.data.stride+this.offset;for(let et=0;et<this.itemSize;et++)a.push(this.data.array[_e+et])}return new BufferAttribute(new this.array.constructor(a),this.itemSize,this.normalized)}else return o.interleavedBuffers===void 0&&(o.interleavedBuffers={}),o.interleavedBuffers[this.data.uuid]===void 0&&(o.interleavedBuffers[this.data.uuid]=this.data.clone(o)),new InterleavedBufferAttribute(o.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(o){if(o===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const a=[];for(let j=0;j<this.count;j++){const _e=j*this.data.stride+this.offset;for(let et=0;et<this.itemSize;et++)a.push(this.data.array[_e+et])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}else return o.interleavedBuffers===void 0&&(o.interleavedBuffers={}),o.interleavedBuffers[this.data.uuid]===void 0&&(o.interleavedBuffers[this.data.uuid]=this.data.toJSON(o)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(o){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.alphaMap=o.alphaMap,this.rotation=o.rotation,this.sizeAttenuation=o.sizeAttenuation,this.fog=o.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(o){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const a=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),j=new InterleavedBuffer(a,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(j,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(j,2,3,!1))}this.geometry=_geometry,this.material=o!==void 0?o:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(o,a){o.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(o.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(o.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),o.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const j=this.material.rotation;let _e,et;j!==0&&(et=Math.cos(j),_e=Math.sin(j));const tt=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,tt,_worldScale,_e,et),transformVertex(_vB.set(.5,-.5,0),_mvPosition,tt,_worldScale,_e,et),transformVertex(_vC.set(.5,.5,0),_mvPosition,tt,_worldScale,_e,et),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let rt=o.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(rt===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,tt,_worldScale,_e,et),_uvB.set(0,1),rt=o.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),rt===null))return;const nt=o.ray.origin.distanceTo(_intersectPoint);nt<o.near||nt>o.far||a.push({distance:nt,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(o,a){return super.copy(o,a),o.center!==void 0&&this.center.copy(o.center),this.material=o.material,this}}function transformVertex($,o,a,j,_e,et){_alignedPosition.subVectors($,a).addScalar(.5).multiply(j),_e!==void 0?(_rotatedPosition.x=et*_alignedPosition.x-_e*_alignedPosition.y,_rotatedPosition.y=_e*_alignedPosition.x+et*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),$.copy(o),$.x+=_rotatedPosition.x,$.y+=_rotatedPosition.y,$.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(o){super.copy(o,!1);const a=o.levels;for(let j=0,_e=a.length;j<_e;j++){const et=a[j];this.addLevel(et.object.clone(),et.distance,et.hysteresis)}return this.autoUpdate=o.autoUpdate,this}addLevel(o,a=0,j=0){a=Math.abs(a);const _e=this.levels;let et;for(et=0;et<_e.length&&!(a<_e[et].distance);et++);return _e.splice(et,0,{distance:a,hysteresis:j,object:o}),this.add(o),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(o){const a=this.levels;if(a.length>0){let j,_e;for(j=1,_e=a.length;j<_e;j++){let et=a[j].distance;if(a[j].object.visible&&(et-=et*a[j].hysteresis),o<et)break}return a[j-1].object}return null}raycast(o,a){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const _e=o.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(_e).raycast(o,a)}}update(o){const a=this.levels;if(a.length>1){_v1$2.setFromMatrixPosition(o.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const j=_v1$2.distanceTo(_v2$1)/o.zoom;a[0].object.visible=!0;let _e,et;for(_e=1,et=a.length;_e<et;_e++){let tt=a[_e].distance;if(a[_e].object.visible&&(tt-=tt*a[_e].hysteresis),j>=tt)a[_e-1].object.visible=!1,a[_e].object.visible=!0;else break}for(this._currentLevel=_e-1;_e<et;_e++)a[_e].object.visible=!1}}toJSON(o){const a=super.toJSON(o);this.autoUpdate===!1&&(a.object.autoUpdate=!1),a.object.levels=[];const j=this.levels;for(let _e=0,et=j.length;_e<et;_e++){const tt=j[_e];a.object.levels.push({object:tt.object.uuid,distance:tt.distance,hysteresis:tt.hysteresis})}return a}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(o,a){super(o,a),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(o,a){return super.copy(o,a),this.bindMode=o.bindMode,this.bindMatrix.copy(o.bindMatrix),this.bindMatrixInverse.copy(o.bindMatrixInverse),this.skeleton=o.skeleton,this}bind(o,a){this.skeleton=o,a===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),a=this.matrixWorld),this.bindMatrix.copy(a),this.bindMatrixInverse.copy(a).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const o=new Vector4,a=this.geometry.attributes.skinWeight;for(let j=0,_e=a.count;j<_e;j++){o.fromBufferAttribute(a,j);const et=1/o.manhattanLength();et!==1/0?o.multiplyScalar(et):o.set(1,0,0,0),a.setXYZW(j,o.x,o.y,o.z,o.w)}}updateMatrixWorld(o){super.updateMatrixWorld(o),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(o,a){const j=this.skeleton,_e=this.geometry;_skinIndex.fromBufferAttribute(_e.attributes.skinIndex,o),_skinWeight.fromBufferAttribute(_e.attributes.skinWeight,o),_basePosition.copy(a).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let et=0;et<4;et++){const tt=_skinWeight.getComponent(et);if(tt!==0){const rt=_skinIndex.getComponent(et);_matrix.multiplyMatrices(j.bones[rt].matrixWorld,j.boneInverses[rt]),a.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),tt)}}return a.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(o=null,a=1,j=1,_e,et,tt,rt,nt,it=NearestFilter,ot=NearestFilter,st,ct){super(null,tt,rt,nt,it,ot,_e,et,st,ct),this.isDataTexture=!0,this.image={data:o,width:a,height:j},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(o=[],a=[]){this.uuid=generateUUID(),this.bones=o.slice(0),this.boneInverses=a,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const o=this.bones,a=this.boneInverses;if(this.boneMatrices=new Float32Array(o.length*16),a.length===0)this.calculateInverses();else if(o.length!==a.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let j=0,_e=this.bones.length;j<_e;j++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let o=0,a=this.bones.length;o<a;o++){const j=new Matrix4;this.bones[o]&&j.copy(this.bones[o].matrixWorld).invert(),this.boneInverses.push(j)}}pose(){for(let o=0,a=this.bones.length;o<a;o++){const j=this.bones[o];j&&j.matrixWorld.copy(this.boneInverses[o]).invert()}for(let o=0,a=this.bones.length;o<a;o++){const j=this.bones[o];j&&(j.parent&&j.parent.isBone?(j.matrix.copy(j.parent.matrixWorld).invert(),j.matrix.multiply(j.matrixWorld)):j.matrix.copy(j.matrixWorld),j.matrix.decompose(j.position,j.quaternion,j.scale))}}update(){const o=this.bones,a=this.boneInverses,j=this.boneMatrices,_e=this.boneTexture;for(let et=0,tt=o.length;et<tt;et++){const rt=o[et]?o[et].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(rt,a[et]),_offsetMatrix.toArray(j,et*16)}_e!==null&&(_e.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let o=Math.sqrt(this.bones.length*4);o=ceilPowerOfTwo(o),o=Math.max(o,4);const a=new Float32Array(o*o*4);a.set(this.boneMatrices);const j=new DataTexture(a,o,o,RGBAFormat,FloatType);return j.needsUpdate=!0,this.boneMatrices=a,this.boneTexture=j,this.boneTextureSize=o,this}getBoneByName(o){for(let a=0,j=this.bones.length;a<j;a++){const _e=this.bones[a];if(_e.name===o)return _e}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(o,a){this.uuid=o.uuid;for(let j=0,_e=o.bones.length;j<_e;j++){const et=o.bones[j];let tt=a[et];tt===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",et),tt=new Bone),this.bones.push(tt),this.boneInverses.push(new Matrix4().fromArray(o.boneInverses[j]))}return this.init(),this}toJSON(){const o={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};o.uuid=this.uuid;const a=this.bones,j=this.boneInverses;for(let _e=0,et=a.length;_e<et;_e++){const tt=a[_e];o.bones.push(tt.uuid);const rt=j[_e];o.boneInverses.push(rt.toArray())}return o}}class InstancedBufferAttribute extends BufferAttribute{constructor(o,a,j,_e=1){super(o,a,j),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=_e}copy(o){return super.copy(o),this.meshPerAttribute=o.meshPerAttribute,this}toJSON(){const o=super.toJSON();return o.meshPerAttribute=this.meshPerAttribute,o.isInstancedBufferAttribute=!0,o}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_identity=new Matrix4,_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(o,a,j){super(o,a),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(j*16),16),this.instanceColor=null,this.count=j,this.frustumCulled=!1;for(let _e=0;_e<j;_e++)this.setMatrixAt(_e,_identity)}copy(o,a){return super.copy(o,a),this.instanceMatrix.copy(o.instanceMatrix),o.instanceColor!==null&&(this.instanceColor=o.instanceColor.clone()),this.count=o.count,this}getColorAt(o,a){a.fromArray(this.instanceColor.array,o*3)}getMatrixAt(o,a){a.fromArray(this.instanceMatrix.array,o*16)}raycast(o,a){const j=this.matrixWorld,_e=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let et=0;et<_e;et++){this.getMatrixAt(et,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(j,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(o,_instanceIntersects);for(let tt=0,rt=_instanceIntersects.length;tt<rt;tt++){const nt=_instanceIntersects[tt];nt.instanceId=et,nt.object=this,a.push(nt)}_instanceIntersects.length=0}}setColorAt(o,a){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),a.toArray(this.instanceColor.array,o*3)}setMatrixAt(o,a){a.toArray(this.instanceMatrix.array,o*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(o){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.linewidth=o.linewidth,this.linecap=o.linecap,this.linejoin=o.linejoin,this.fog=o.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(o=new BufferGeometry,a=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=o,this.material=a,this.updateMorphTargets()}copy(o,a){return super.copy(o,a),this.material=o.material,this.geometry=o.geometry,this}computeLineDistances(){const o=this.geometry;if(o.index===null){const a=o.attributes.position,j=[0];for(let _e=1,et=a.count;_e<et;_e++)_start$1.fromBufferAttribute(a,_e-1),_end$1.fromBufferAttribute(a,_e),j[_e]=j[_e-1],j[_e]+=_start$1.distanceTo(_end$1);o.setAttribute("lineDistance",new Float32BufferAttribute(j,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(o,a){const j=this.geometry,_e=this.matrixWorld,et=o.params.Line.threshold,tt=j.drawRange;if(j.boundingSphere===null&&j.computeBoundingSphere(),_sphere$1.copy(j.boundingSphere),_sphere$1.applyMatrix4(_e),_sphere$1.radius+=et,o.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(_e).invert(),_ray$1.copy(o.ray).applyMatrix4(_inverseMatrix$1);const rt=et/((this.scale.x+this.scale.y+this.scale.z)/3),nt=rt*rt,it=new Vector3,ot=new Vector3,st=new Vector3,ct=new Vector3,ut=this.isLineSegments?2:1,dt=j.index,ht=j.attributes.position;if(dt!==null){const pt=Math.max(0,tt.start),yt=Math.min(dt.count,tt.start+tt.count);for(let gt=pt,xt=yt-1;gt<xt;gt+=ut){const wt=dt.getX(gt),Mt=dt.getX(gt+1);if(it.fromBufferAttribute(ht,wt),ot.fromBufferAttribute(ht,Mt),_ray$1.distanceSqToSegment(it,ot,ct,st)>nt)continue;ct.applyMatrix4(this.matrixWorld);const Tt=o.ray.origin.distanceTo(ct);Tt<o.near||Tt>o.far||a.push({distance:Tt,point:st.clone().applyMatrix4(this.matrixWorld),index:gt,face:null,faceIndex:null,object:this})}}else{const pt=Math.max(0,tt.start),yt=Math.min(ht.count,tt.start+tt.count);for(let gt=pt,xt=yt-1;gt<xt;gt+=ut){if(it.fromBufferAttribute(ht,gt),ot.fromBufferAttribute(ht,gt+1),_ray$1.distanceSqToSegment(it,ot,ct,st)>nt)continue;ct.applyMatrix4(this.matrixWorld);const Mt=o.ray.origin.distanceTo(ct);Mt<o.near||Mt>o.far||a.push({distance:Mt,point:st.clone().applyMatrix4(this.matrixWorld),index:gt,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const a=this.geometry.morphAttributes,j=Object.keys(a);if(j.length>0){const _e=a[j[0]];if(_e!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let et=0,tt=_e.length;et<tt;et++){const rt=_e[et].name||String(et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[rt]=et}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(o,a){super(o,a),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const o=this.geometry;if(o.index===null){const a=o.attributes.position,j=[];for(let _e=0,et=a.count;_e<et;_e+=2)_start.fromBufferAttribute(a,_e),_end.fromBufferAttribute(a,_e+1),j[_e]=_e===0?0:j[_e-1],j[_e+1]=j[_e]+_start.distanceTo(_end);o.setAttribute("lineDistance",new Float32BufferAttribute(j,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(o,a){super(o,a),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(o){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.alphaMap=o.alphaMap,this.size=o.size,this.sizeAttenuation=o.sizeAttenuation,this.fog=o.fog,this}}const _inverseMatrix=new Matrix4,_ray$3=new Ray,_sphere=new Sphere,_position$2=new Vector3;let Points$1=class extends Object3D{constructor(o=new BufferGeometry,a=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=o,this.material=a,this.updateMorphTargets()}copy(o,a){return super.copy(o,a),this.material=o.material,this.geometry=o.geometry,this}raycast(o,a){const j=this.geometry,_e=this.matrixWorld,et=o.params.Points.threshold,tt=j.drawRange;if(j.boundingSphere===null&&j.computeBoundingSphere(),_sphere.copy(j.boundingSphere),_sphere.applyMatrix4(_e),_sphere.radius+=et,o.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(_e).invert(),_ray$3.copy(o.ray).applyMatrix4(_inverseMatrix);const rt=et/((this.scale.x+this.scale.y+this.scale.z)/3),nt=rt*rt,it=j.index,st=j.attributes.position;if(it!==null){const ct=Math.max(0,tt.start),ut=Math.min(it.count,tt.start+tt.count);for(let dt=ct,ft=ut;dt<ft;dt++){const ht=it.getX(dt);_position$2.fromBufferAttribute(st,ht),testPoint(_position$2,ht,nt,_e,o,a,this)}}else{const ct=Math.max(0,tt.start),ut=Math.min(st.count,tt.start+tt.count);for(let dt=ct,ft=ut;dt<ft;dt++)_position$2.fromBufferAttribute(st,dt),testPoint(_position$2,dt,nt,_e,o,a,this)}}updateMorphTargets(){const a=this.geometry.morphAttributes,j=Object.keys(a);if(j.length>0){const _e=a[j[0]];if(_e!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let et=0,tt=_e.length;et<tt;et++){const rt=_e[et].name||String(et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[rt]=et}}}}};function testPoint($,o,a,j,_e,et,tt){const rt=_ray$3.distanceSqToPoint($);if(rt<a){const nt=new Vector3;_ray$3.closestPointToPoint($,nt),nt.applyMatrix4(j);const it=_e.ray.origin.distanceTo(nt);if(it<_e.near||it>_e.far)return;et.push({distance:it,distanceToRay:Math.sqrt(rt),point:nt,index:o,face:null,object:tt})}}class VideoTexture extends Texture{constructor(o,a,j,_e,et,tt,rt,nt,it){super(o,a,j,_e,et,tt,rt,nt,it),this.isVideoTexture=!0,this.minFilter=tt!==void 0?tt:LinearFilter,this.magFilter=et!==void 0?et:LinearFilter,this.generateMipmaps=!1;const ot=this;function st(){ot.needsUpdate=!0,o.requestVideoFrameCallback(st)}"requestVideoFrameCallback"in o&&o.requestVideoFrameCallback(st)}clone(){return new this.constructor(this.image).copy(this)}update(){const o=this.image;"requestVideoFrameCallback"in o===!1&&o.readyState>=o.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(o,a,j){super({width:o,height:a}),this.isFramebufferTexture=!0,this.format=j,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(o,a,j,_e,et,tt,rt,nt,it,ot,st,ct){super(null,tt,rt,nt,it,ot,_e,et,st,ct),this.isCompressedTexture=!0,this.image={width:a,height:j},this.mipmaps=o,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(o,a,j,_e,et,tt){super(o,a,j,et,tt),this.isCompressedArrayTexture=!0,this.image.depth=_e,this.wrapR=ClampToEdgeWrapping}}class CanvasTexture extends Texture{constructor(o,a,j,_e,et,tt,rt,nt,it){super(o,a,j,_e,et,tt,rt,nt,it),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(o,a){const j=this.getUtoTmapping(o);return this.getPoint(j,a)}getPoints(o=5){const a=[];for(let j=0;j<=o;j++)a.push(this.getPoint(j/o));return a}getSpacedPoints(o=5){const a=[];for(let j=0;j<=o;j++)a.push(this.getPointAt(j/o));return a}getLength(){const o=this.getLengths();return o[o.length-1]}getLengths(o=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const a=[];let j,_e=this.getPoint(0),et=0;a.push(0);for(let tt=1;tt<=o;tt++)j=this.getPoint(tt/o),et+=j.distanceTo(_e),a.push(et),_e=j;return this.cacheArcLengths=a,a}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(o,a){const j=this.getLengths();let _e=0;const et=j.length;let tt;a?tt=a:tt=o*j[et-1];let rt=0,nt=et-1,it;for(;rt<=nt;)if(_e=Math.floor(rt+(nt-rt)/2),it=j[_e]-tt,it<0)rt=_e+1;else if(it>0)nt=_e-1;else{nt=_e;break}if(_e=nt,j[_e]===tt)return _e/(et-1);const ot=j[_e],ct=j[_e+1]-ot,ut=(tt-ot)/ct;return(_e+ut)/(et-1)}getTangent(o,a){let _e=o-1e-4,et=o+1e-4;_e<0&&(_e=0),et>1&&(et=1);const tt=this.getPoint(_e),rt=this.getPoint(et),nt=a||(tt.isVector2?new Vector2:new Vector3);return nt.copy(rt).sub(tt).normalize(),nt}getTangentAt(o,a){const j=this.getUtoTmapping(o);return this.getTangent(j,a)}computeFrenetFrames(o,a){const j=new Vector3,_e=[],et=[],tt=[],rt=new Vector3,nt=new Matrix4;for(let ut=0;ut<=o;ut++){const dt=ut/o;_e[ut]=this.getTangentAt(dt,new Vector3)}et[0]=new Vector3,tt[0]=new Vector3;let it=Number.MAX_VALUE;const ot=Math.abs(_e[0].x),st=Math.abs(_e[0].y),ct=Math.abs(_e[0].z);ot<=it&&(it=ot,j.set(1,0,0)),st<=it&&(it=st,j.set(0,1,0)),ct<=it&&j.set(0,0,1),rt.crossVectors(_e[0],j).normalize(),et[0].crossVectors(_e[0],rt),tt[0].crossVectors(_e[0],et[0]);for(let ut=1;ut<=o;ut++){if(et[ut]=et[ut-1].clone(),tt[ut]=tt[ut-1].clone(),rt.crossVectors(_e[ut-1],_e[ut]),rt.length()>Number.EPSILON){rt.normalize();const dt=Math.acos(clamp(_e[ut-1].dot(_e[ut]),-1,1));et[ut].applyMatrix4(nt.makeRotationAxis(rt,dt))}tt[ut].crossVectors(_e[ut],et[ut])}if(a===!0){let ut=Math.acos(clamp(et[0].dot(et[o]),-1,1));ut/=o,_e[0].dot(rt.crossVectors(et[0],et[o]))>0&&(ut=-ut);for(let dt=1;dt<=o;dt++)et[dt].applyMatrix4(nt.makeRotationAxis(_e[dt],ut*dt)),tt[dt].crossVectors(_e[dt],et[dt])}return{tangents:_e,normals:et,binormals:tt}}clone(){return new this.constructor().copy(this)}copy(o){return this.arcLengthDivisions=o.arcLengthDivisions,this}toJSON(){const o={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return o.arcLengthDivisions=this.arcLengthDivisions,o.type=this.type,o}fromJSON(o){return this.arcLengthDivisions=o.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(o=0,a=0,j=1,_e=1,et=0,tt=Math.PI*2,rt=!1,nt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=o,this.aY=a,this.xRadius=j,this.yRadius=_e,this.aStartAngle=et,this.aEndAngle=tt,this.aClockwise=rt,this.aRotation=nt}getPoint(o,a){const j=a||new Vector2,_e=Math.PI*2;let et=this.aEndAngle-this.aStartAngle;const tt=Math.abs(et)<Number.EPSILON;for(;et<0;)et+=_e;for(;et>_e;)et-=_e;et<Number.EPSILON&&(tt?et=0:et=_e),this.aClockwise===!0&&!tt&&(et===_e?et=-_e:et=et-_e);const rt=this.aStartAngle+o*et;let nt=this.aX+this.xRadius*Math.cos(rt),it=this.aY+this.yRadius*Math.sin(rt);if(this.aRotation!==0){const ot=Math.cos(this.aRotation),st=Math.sin(this.aRotation),ct=nt-this.aX,ut=it-this.aY;nt=ct*ot-ut*st+this.aX,it=ct*st+ut*ot+this.aY}return j.set(nt,it)}copy(o){return super.copy(o),this.aX=o.aX,this.aY=o.aY,this.xRadius=o.xRadius,this.yRadius=o.yRadius,this.aStartAngle=o.aStartAngle,this.aEndAngle=o.aEndAngle,this.aClockwise=o.aClockwise,this.aRotation=o.aRotation,this}toJSON(){const o=super.toJSON();return o.aX=this.aX,o.aY=this.aY,o.xRadius=this.xRadius,o.yRadius=this.yRadius,o.aStartAngle=this.aStartAngle,o.aEndAngle=this.aEndAngle,o.aClockwise=this.aClockwise,o.aRotation=this.aRotation,o}fromJSON(o){return super.fromJSON(o),this.aX=o.aX,this.aY=o.aY,this.xRadius=o.xRadius,this.yRadius=o.yRadius,this.aStartAngle=o.aStartAngle,this.aEndAngle=o.aEndAngle,this.aClockwise=o.aClockwise,this.aRotation=o.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(o,a,j,_e,et,tt){super(o,a,j,j,_e,et,tt),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let $=0,o=0,a=0,j=0;function _e(et,tt,rt,nt){$=et,o=rt,a=-3*et+3*tt-2*rt-nt,j=2*et-2*tt+rt+nt}return{initCatmullRom:function(et,tt,rt,nt,it){_e(tt,rt,it*(rt-et),it*(nt-tt))},initNonuniformCatmullRom:function(et,tt,rt,nt,it,ot,st){let ct=(tt-et)/it-(rt-et)/(it+ot)+(rt-tt)/ot,ut=(rt-tt)/ot-(nt-tt)/(ot+st)+(nt-rt)/st;ct*=ot,ut*=ot,_e(tt,rt,ct,ut)},calc:function(et){const tt=et*et,rt=tt*et;return $+o*et+a*tt+j*rt}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(o=[],a=!1,j="centripetal",_e=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=o,this.closed=a,this.curveType=j,this.tension=_e}getPoint(o,a=new Vector3){const j=a,_e=this.points,et=_e.length,tt=(et-(this.closed?0:1))*o;let rt=Math.floor(tt),nt=tt-rt;this.closed?rt+=rt>0?0:(Math.floor(Math.abs(rt)/et)+1)*et:nt===0&&rt===et-1&&(rt=et-2,nt=1);let it,ot;this.closed||rt>0?it=_e[(rt-1)%et]:(tmp.subVectors(_e[0],_e[1]).add(_e[0]),it=tmp);const st=_e[rt%et],ct=_e[(rt+1)%et];if(this.closed||rt+2<et?ot=_e[(rt+2)%et]:(tmp.subVectors(_e[et-1],_e[et-2]).add(_e[et-1]),ot=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ut=this.curveType==="chordal"?.5:.25;let dt=Math.pow(it.distanceToSquared(st),ut),ft=Math.pow(st.distanceToSquared(ct),ut),ht=Math.pow(ct.distanceToSquared(ot),ut);ft<1e-4&&(ft=1),dt<1e-4&&(dt=ft),ht<1e-4&&(ht=ft),px.initNonuniformCatmullRom(it.x,st.x,ct.x,ot.x,dt,ft,ht),py.initNonuniformCatmullRom(it.y,st.y,ct.y,ot.y,dt,ft,ht),pz.initNonuniformCatmullRom(it.z,st.z,ct.z,ot.z,dt,ft,ht)}else this.curveType==="catmullrom"&&(px.initCatmullRom(it.x,st.x,ct.x,ot.x,this.tension),py.initCatmullRom(it.y,st.y,ct.y,ot.y,this.tension),pz.initCatmullRom(it.z,st.z,ct.z,ot.z,this.tension));return j.set(px.calc(nt),py.calc(nt),pz.calc(nt)),j}copy(o){super.copy(o),this.points=[];for(let a=0,j=o.points.length;a<j;a++){const _e=o.points[a];this.points.push(_e.clone())}return this.closed=o.closed,this.curveType=o.curveType,this.tension=o.tension,this}toJSON(){const o=super.toJSON();o.points=[];for(let a=0,j=this.points.length;a<j;a++){const _e=this.points[a];o.points.push(_e.toArray())}return o.closed=this.closed,o.curveType=this.curveType,o.tension=this.tension,o}fromJSON(o){super.fromJSON(o),this.points=[];for(let a=0,j=o.points.length;a<j;a++){const _e=o.points[a];this.points.push(new Vector3().fromArray(_e))}return this.closed=o.closed,this.curveType=o.curveType,this.tension=o.tension,this}}function CatmullRom($,o,a,j,_e){const et=(j-o)*.5,tt=(_e-a)*.5,rt=$*$,nt=$*rt;return(2*a-2*j+et+tt)*nt+(-3*a+3*j-2*et-tt)*rt+et*$+a}function QuadraticBezierP0($,o){const a=1-$;return a*a*o}function QuadraticBezierP1($,o){return 2*(1-$)*$*o}function QuadraticBezierP2($,o){return $*$*o}function QuadraticBezier($,o,a,j){return QuadraticBezierP0($,o)+QuadraticBezierP1($,a)+QuadraticBezierP2($,j)}function CubicBezierP0($,o){const a=1-$;return a*a*a*o}function CubicBezierP1($,o){const a=1-$;return 3*a*a*$*o}function CubicBezierP2($,o){return 3*(1-$)*$*$*o}function CubicBezierP3($,o){return $*$*$*o}function CubicBezier($,o,a,j,_e){return CubicBezierP0($,o)+CubicBezierP1($,a)+CubicBezierP2($,j)+CubicBezierP3($,_e)}class CubicBezierCurve extends Curve{constructor(o=new Vector2,a=new Vector2,j=new Vector2,_e=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=o,this.v1=a,this.v2=j,this.v3=_e}getPoint(o,a=new Vector2){const j=a,_e=this.v0,et=this.v1,tt=this.v2,rt=this.v3;return j.set(CubicBezier(o,_e.x,et.x,tt.x,rt.x),CubicBezier(o,_e.y,et.y,tt.y,rt.y)),j}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this.v3.copy(o.v3),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o.v3=this.v3.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this.v3.fromArray(o.v3),this}}class CubicBezierCurve3 extends Curve{constructor(o=new Vector3,a=new Vector3,j=new Vector3,_e=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=o,this.v1=a,this.v2=j,this.v3=_e}getPoint(o,a=new Vector3){const j=a,_e=this.v0,et=this.v1,tt=this.v2,rt=this.v3;return j.set(CubicBezier(o,_e.x,et.x,tt.x,rt.x),CubicBezier(o,_e.y,et.y,tt.y,rt.y),CubicBezier(o,_e.z,et.z,tt.z,rt.z)),j}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this.v3.copy(o.v3),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o.v3=this.v3.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this.v3.fromArray(o.v3),this}}class LineCurve extends Curve{constructor(o=new Vector2,a=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=o,this.v2=a}getPoint(o,a=new Vector2){const j=a;return o===1?j.copy(this.v2):(j.copy(this.v2).sub(this.v1),j.multiplyScalar(o).add(this.v1)),j}getPointAt(o,a){return this.getPoint(o,a)}getTangent(o,a=new Vector2){return a.subVectors(this.v2,this.v1).normalize()}getTangentAt(o,a){return this.getTangent(o,a)}copy(o){return super.copy(o),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class LineCurve3 extends Curve{constructor(o=new Vector3,a=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=o,this.v2=a}getPoint(o,a=new Vector3){const j=a;return o===1?j.copy(this.v2):(j.copy(this.v2).sub(this.v1),j.multiplyScalar(o).add(this.v1)),j}getPointAt(o,a){return this.getPoint(o,a)}getTangent(o,a=new Vector3){return a.subVectors(this.v2,this.v1).normalize()}getTangentAt(o,a){return this.getTangent(o,a)}copy(o){return super.copy(o),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class QuadraticBezierCurve extends Curve{constructor(o=new Vector2,a=new Vector2,j=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=o,this.v1=a,this.v2=j}getPoint(o,a=new Vector2){const j=a,_e=this.v0,et=this.v1,tt=this.v2;return j.set(QuadraticBezier(o,_e.x,et.x,tt.x),QuadraticBezier(o,_e.y,et.y,tt.y)),j}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(o=new Vector3,a=new Vector3,j=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=o,this.v1=a,this.v2=j}getPoint(o,a=new Vector3){const j=a,_e=this.v0,et=this.v1,tt=this.v2;return j.set(QuadraticBezier(o,_e.x,et.x,tt.x),QuadraticBezier(o,_e.y,et.y,tt.y),QuadraticBezier(o,_e.z,et.z,tt.z)),j}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class SplineCurve extends Curve{constructor(o=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=o}getPoint(o,a=new Vector2){const j=a,_e=this.points,et=(_e.length-1)*o,tt=Math.floor(et),rt=et-tt,nt=_e[tt===0?tt:tt-1],it=_e[tt],ot=_e[tt>_e.length-2?_e.length-1:tt+1],st=_e[tt>_e.length-3?_e.length-1:tt+2];return j.set(CatmullRom(rt,nt.x,it.x,ot.x,st.x),CatmullRom(rt,nt.y,it.y,ot.y,st.y)),j}copy(o){super.copy(o),this.points=[];for(let a=0,j=o.points.length;a<j;a++){const _e=o.points[a];this.points.push(_e.clone())}return this}toJSON(){const o=super.toJSON();o.points=[];for(let a=0,j=this.points.length;a<j;a++){const _e=this.points[a];o.points.push(_e.toArray())}return o}fromJSON(o){super.fromJSON(o),this.points=[];for(let a=0,j=o.points.length;a<j;a++){const _e=o.points[a];this.points.push(new Vector2().fromArray(_e))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(o){this.curves.push(o)}closePath(){const o=this.curves[0].getPoint(0),a=this.curves[this.curves.length-1].getPoint(1);o.equals(a)||this.curves.push(new LineCurve(a,o))}getPoint(o,a){const j=o*this.getLength(),_e=this.getCurveLengths();let et=0;for(;et<_e.length;){if(_e[et]>=j){const tt=_e[et]-j,rt=this.curves[et],nt=rt.getLength(),it=nt===0?0:1-tt/nt;return rt.getPointAt(it,a)}et++}return null}getLength(){const o=this.getCurveLengths();return o[o.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const o=[];let a=0;for(let j=0,_e=this.curves.length;j<_e;j++)a+=this.curves[j].getLength(),o.push(a);return this.cacheLengths=o,o}getSpacedPoints(o=40){const a=[];for(let j=0;j<=o;j++)a.push(this.getPoint(j/o));return this.autoClose&&a.push(a[0]),a}getPoints(o=12){const a=[];let j;for(let _e=0,et=this.curves;_e<et.length;_e++){const tt=et[_e],rt=tt.isEllipseCurve?o*2:tt.isLineCurve||tt.isLineCurve3?1:tt.isSplineCurve?o*tt.points.length:o,nt=tt.getPoints(rt);for(let it=0;it<nt.length;it++){const ot=nt[it];j&&j.equals(ot)||(a.push(ot),j=ot)}}return this.autoClose&&a.length>1&&!a[a.length-1].equals(a[0])&&a.push(a[0]),a}copy(o){super.copy(o),this.curves=[];for(let a=0,j=o.curves.length;a<j;a++){const _e=o.curves[a];this.curves.push(_e.clone())}return this.autoClose=o.autoClose,this}toJSON(){const o=super.toJSON();o.autoClose=this.autoClose,o.curves=[];for(let a=0,j=this.curves.length;a<j;a++){const _e=this.curves[a];o.curves.push(_e.toJSON())}return o}fromJSON(o){super.fromJSON(o),this.autoClose=o.autoClose,this.curves=[];for(let a=0,j=o.curves.length;a<j;a++){const _e=o.curves[a];this.curves.push(new Curves[_e.type]().fromJSON(_e))}return this}}class Path extends CurvePath{constructor(o){super(),this.type="Path",this.currentPoint=new Vector2,o&&this.setFromPoints(o)}setFromPoints(o){this.moveTo(o[0].x,o[0].y);for(let a=1,j=o.length;a<j;a++)this.lineTo(o[a].x,o[a].y);return this}moveTo(o,a){return this.currentPoint.set(o,a),this}lineTo(o,a){const j=new LineCurve(this.currentPoint.clone(),new Vector2(o,a));return this.curves.push(j),this.currentPoint.set(o,a),this}quadraticCurveTo(o,a,j,_e){const et=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(o,a),new Vector2(j,_e));return this.curves.push(et),this.currentPoint.set(j,_e),this}bezierCurveTo(o,a,j,_e,et,tt){const rt=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(o,a),new Vector2(j,_e),new Vector2(et,tt));return this.curves.push(rt),this.currentPoint.set(et,tt),this}splineThru(o){const a=[this.currentPoint.clone()].concat(o),j=new SplineCurve(a);return this.curves.push(j),this.currentPoint.copy(o[o.length-1]),this}arc(o,a,j,_e,et,tt){const rt=this.currentPoint.x,nt=this.currentPoint.y;return this.absarc(o+rt,a+nt,j,_e,et,tt),this}absarc(o,a,j,_e,et,tt){return this.absellipse(o,a,j,j,_e,et,tt),this}ellipse(o,a,j,_e,et,tt,rt,nt){const it=this.currentPoint.x,ot=this.currentPoint.y;return this.absellipse(o+it,a+ot,j,_e,et,tt,rt,nt),this}absellipse(o,a,j,_e,et,tt,rt,nt){const it=new EllipseCurve(o,a,j,_e,et,tt,rt,nt);if(this.curves.length>0){const st=it.getPoint(0);st.equals(this.currentPoint)||this.lineTo(st.x,st.y)}this.curves.push(it);const ot=it.getPoint(1);return this.currentPoint.copy(ot),this}copy(o){return super.copy(o),this.currentPoint.copy(o.currentPoint),this}toJSON(){const o=super.toJSON();return o.currentPoint=this.currentPoint.toArray(),o}fromJSON(o){return super.fromJSON(o),this.currentPoint.fromArray(o.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(o=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],a=12,j=0,_e=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:o,segments:a,phiStart:j,phiLength:_e},a=Math.floor(a),_e=clamp(_e,0,Math.PI*2);const et=[],tt=[],rt=[],nt=[],it=[],ot=1/a,st=new Vector3,ct=new Vector2,ut=new Vector3,dt=new Vector3,ft=new Vector3;let ht=0,pt=0;for(let yt=0;yt<=o.length-1;yt++)switch(yt){case 0:ht=o[yt+1].x-o[yt].x,pt=o[yt+1].y-o[yt].y,ut.x=pt*1,ut.y=-ht,ut.z=pt*0,ft.copy(ut),ut.normalize(),nt.push(ut.x,ut.y,ut.z);break;case o.length-1:nt.push(ft.x,ft.y,ft.z);break;default:ht=o[yt+1].x-o[yt].x,pt=o[yt+1].y-o[yt].y,ut.x=pt*1,ut.y=-ht,ut.z=pt*0,dt.copy(ut),ut.x+=ft.x,ut.y+=ft.y,ut.z+=ft.z,ut.normalize(),nt.push(ut.x,ut.y,ut.z),ft.copy(dt)}for(let yt=0;yt<=a;yt++){const gt=j+yt*ot*_e,xt=Math.sin(gt),wt=Math.cos(gt);for(let Mt=0;Mt<=o.length-1;Mt++){st.x=o[Mt].x*xt,st.y=o[Mt].y,st.z=o[Mt].x*wt,tt.push(st.x,st.y,st.z),ct.x=yt/a,ct.y=Mt/(o.length-1),rt.push(ct.x,ct.y);const It=nt[3*Mt+0]*xt,Tt=nt[3*Mt+1],Dt=nt[3*Mt+0]*wt;it.push(It,Tt,Dt)}}for(let yt=0;yt<a;yt++)for(let gt=0;gt<o.length-1;gt++){const xt=gt+yt*o.length,wt=xt,Mt=xt+o.length,It=xt+o.length+1,Tt=xt+1;et.push(wt,Mt,Tt),et.push(It,Tt,Mt)}this.setIndex(et),this.setAttribute("position",new Float32BufferAttribute(tt,3)),this.setAttribute("uv",new Float32BufferAttribute(rt,2)),this.setAttribute("normal",new Float32BufferAttribute(it,3))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new LatheGeometry(o.points,o.segments,o.phiStart,o.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(o=1,a=1,j=4,_e=8){const et=new Path;et.absarc(0,-a/2,o,Math.PI*1.5,0),et.absarc(0,a/2,o,0,Math.PI*.5),super(et.getPoints(j),_e),this.type="CapsuleGeometry",this.parameters={radius:o,height:a,capSegments:j,radialSegments:_e}}static fromJSON(o){return new CapsuleGeometry(o.radius,o.length,o.capSegments,o.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(o=1,a=32,j=0,_e=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:o,segments:a,thetaStart:j,thetaLength:_e},a=Math.max(3,a);const et=[],tt=[],rt=[],nt=[],it=new Vector3,ot=new Vector2;tt.push(0,0,0),rt.push(0,0,1),nt.push(.5,.5);for(let st=0,ct=3;st<=a;st++,ct+=3){const ut=j+st/a*_e;it.x=o*Math.cos(ut),it.y=o*Math.sin(ut),tt.push(it.x,it.y,it.z),rt.push(0,0,1),ot.x=(tt[ct]/o+1)/2,ot.y=(tt[ct+1]/o+1)/2,nt.push(ot.x,ot.y)}for(let st=1;st<=a;st++)et.push(st,st+1,0);this.setIndex(et),this.setAttribute("position",new Float32BufferAttribute(tt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(nt,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new CircleGeometry(o.radius,o.segments,o.thetaStart,o.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(o=1,a=1,j=1,_e=32,et=1,tt=!1,rt=0,nt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:o,radiusBottom:a,height:j,radialSegments:_e,heightSegments:et,openEnded:tt,thetaStart:rt,thetaLength:nt};const it=this;_e=Math.floor(_e),et=Math.floor(et);const ot=[],st=[],ct=[],ut=[];let dt=0;const ft=[],ht=j/2;let pt=0;yt(),tt===!1&&(o>0&&gt(!0),a>0&&gt(!1)),this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function yt(){const xt=new Vector3,wt=new Vector3;let Mt=0;const It=(a-o)/j;for(let Tt=0;Tt<=et;Tt++){const Dt=[],Ut=Tt/et,jt=Ut*(a-o)+o;for(let Xt=0;Xt<=_e;Xt++){const kt=Xt/_e,vt=kt*nt+rt,Et=Math.sin(vt),Lt=Math.cos(vt);wt.x=jt*Et,wt.y=-Ut*j+ht,wt.z=jt*Lt,st.push(wt.x,wt.y,wt.z),xt.set(Et,It,Lt).normalize(),ct.push(xt.x,xt.y,xt.z),ut.push(kt,1-Ut),Dt.push(dt++)}ft.push(Dt)}for(let Tt=0;Tt<_e;Tt++)for(let Dt=0;Dt<et;Dt++){const Ut=ft[Dt][Tt],jt=ft[Dt+1][Tt],Xt=ft[Dt+1][Tt+1],kt=ft[Dt][Tt+1];ot.push(Ut,jt,kt),ot.push(jt,Xt,kt),Mt+=6}it.addGroup(pt,Mt,0),pt+=Mt}function gt(xt){const wt=dt,Mt=new Vector2,It=new Vector3;let Tt=0;const Dt=xt===!0?o:a,Ut=xt===!0?1:-1;for(let Xt=1;Xt<=_e;Xt++)st.push(0,ht*Ut,0),ct.push(0,Ut,0),ut.push(.5,.5),dt++;const jt=dt;for(let Xt=0;Xt<=_e;Xt++){const vt=Xt/_e*nt+rt,Et=Math.cos(vt),Lt=Math.sin(vt);It.x=Dt*Lt,It.y=ht*Ut,It.z=Dt*Et,st.push(It.x,It.y,It.z),ct.push(0,Ut,0),Mt.x=Et*.5+.5,Mt.y=Lt*.5*Ut+.5,ut.push(Mt.x,Mt.y),dt++}for(let Xt=0;Xt<_e;Xt++){const kt=wt+Xt,vt=jt+Xt;xt===!0?ot.push(vt,vt+1,kt):ot.push(vt+1,vt,kt),Tt+=3}it.addGroup(pt,Tt,xt===!0?1:2),pt+=Tt}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new CylinderGeometry(o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(o=1,a=1,j=32,_e=1,et=!1,tt=0,rt=Math.PI*2){super(0,o,a,j,_e,et,tt,rt),this.type="ConeGeometry",this.parameters={radius:o,height:a,radialSegments:j,heightSegments:_e,openEnded:et,thetaStart:tt,thetaLength:rt}}static fromJSON(o){return new ConeGeometry(o.radius,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(o=[],a=[],j=1,_e=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:o,indices:a,radius:j,detail:_e};const et=[],tt=[];rt(_e),it(j),ot(),this.setAttribute("position",new Float32BufferAttribute(et,3)),this.setAttribute("normal",new Float32BufferAttribute(et.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(tt,2)),_e===0?this.computeVertexNormals():this.normalizeNormals();function rt(yt){const gt=new Vector3,xt=new Vector3,wt=new Vector3;for(let Mt=0;Mt<a.length;Mt+=3)ut(a[Mt+0],gt),ut(a[Mt+1],xt),ut(a[Mt+2],wt),nt(gt,xt,wt,yt)}function nt(yt,gt,xt,wt){const Mt=wt+1,It=[];for(let Tt=0;Tt<=Mt;Tt++){It[Tt]=[];const Dt=yt.clone().lerp(xt,Tt/Mt),Ut=gt.clone().lerp(xt,Tt/Mt),jt=Mt-Tt;for(let Xt=0;Xt<=jt;Xt++)Xt===0&&Tt===Mt?It[Tt][Xt]=Dt:It[Tt][Xt]=Dt.clone().lerp(Ut,Xt/jt)}for(let Tt=0;Tt<Mt;Tt++)for(let Dt=0;Dt<2*(Mt-Tt)-1;Dt++){const Ut=Math.floor(Dt/2);Dt%2===0?(ct(It[Tt][Ut+1]),ct(It[Tt+1][Ut]),ct(It[Tt][Ut])):(ct(It[Tt][Ut+1]),ct(It[Tt+1][Ut+1]),ct(It[Tt+1][Ut]))}}function it(yt){const gt=new Vector3;for(let xt=0;xt<et.length;xt+=3)gt.x=et[xt+0],gt.y=et[xt+1],gt.z=et[xt+2],gt.normalize().multiplyScalar(yt),et[xt+0]=gt.x,et[xt+1]=gt.y,et[xt+2]=gt.z}function ot(){const yt=new Vector3;for(let gt=0;gt<et.length;gt+=3){yt.x=et[gt+0],yt.y=et[gt+1],yt.z=et[gt+2];const xt=ht(yt)/2/Math.PI+.5,wt=pt(yt)/Math.PI+.5;tt.push(xt,1-wt)}dt(),st()}function st(){for(let yt=0;yt<tt.length;yt+=6){const gt=tt[yt+0],xt=tt[yt+2],wt=tt[yt+4],Mt=Math.max(gt,xt,wt),It=Math.min(gt,xt,wt);Mt>.9&&It<.1&&(gt<.2&&(tt[yt+0]+=1),xt<.2&&(tt[yt+2]+=1),wt<.2&&(tt[yt+4]+=1))}}function ct(yt){et.push(yt.x,yt.y,yt.z)}function ut(yt,gt){const xt=yt*3;gt.x=o[xt+0],gt.y=o[xt+1],gt.z=o[xt+2]}function dt(){const yt=new Vector3,gt=new Vector3,xt=new Vector3,wt=new Vector3,Mt=new Vector2,It=new Vector2,Tt=new Vector2;for(let Dt=0,Ut=0;Dt<et.length;Dt+=9,Ut+=6){yt.set(et[Dt+0],et[Dt+1],et[Dt+2]),gt.set(et[Dt+3],et[Dt+4],et[Dt+5]),xt.set(et[Dt+6],et[Dt+7],et[Dt+8]),Mt.set(tt[Ut+0],tt[Ut+1]),It.set(tt[Ut+2],tt[Ut+3]),Tt.set(tt[Ut+4],tt[Ut+5]),wt.copy(yt).add(gt).add(xt).divideScalar(3);const jt=ht(wt);ft(Mt,Ut+0,yt,jt),ft(It,Ut+2,gt,jt),ft(Tt,Ut+4,xt,jt)}}function ft(yt,gt,xt,wt){wt<0&&yt.x===1&&(tt[gt]=yt.x-1),xt.x===0&&xt.z===0&&(tt[gt]=wt/2/Math.PI+.5)}function ht(yt){return Math.atan2(yt.z,-yt.x)}function pt(yt){return Math.atan2(-yt.y,Math.sqrt(yt.x*yt.x+yt.z*yt.z))}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new PolyhedronGeometry(o.vertices,o.indices,o.radius,o.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(o=1,a=0){const j=(1+Math.sqrt(5))/2,_e=1/j,et=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-_e,-j,0,-_e,j,0,_e,-j,0,_e,j,-_e,-j,0,-_e,j,0,_e,-j,0,_e,j,0,-j,0,-_e,j,0,-_e,-j,0,_e,j,0,_e],tt=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(et,tt,o,a),this.type="DodecahedronGeometry",this.parameters={radius:o,detail:a}}static fromJSON(o){return new DodecahedronGeometry(o.radius,o.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(o=null,a=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:o,thresholdAngle:a},o!==null){const _e=Math.pow(10,4),et=Math.cos(DEG2RAD*a),tt=o.getIndex(),rt=o.getAttribute("position"),nt=tt?tt.count:rt.count,it=[0,0,0],ot=["a","b","c"],st=new Array(3),ct={},ut=[];for(let dt=0;dt<nt;dt+=3){tt?(it[0]=tt.getX(dt),it[1]=tt.getX(dt+1),it[2]=tt.getX(dt+2)):(it[0]=dt,it[1]=dt+1,it[2]=dt+2);const{a:ft,b:ht,c:pt}=_triangle;if(ft.fromBufferAttribute(rt,it[0]),ht.fromBufferAttribute(rt,it[1]),pt.fromBufferAttribute(rt,it[2]),_triangle.getNormal(_normal),st[0]=`${Math.round(ft.x*_e)},${Math.round(ft.y*_e)},${Math.round(ft.z*_e)}`,st[1]=`${Math.round(ht.x*_e)},${Math.round(ht.y*_e)},${Math.round(ht.z*_e)}`,st[2]=`${Math.round(pt.x*_e)},${Math.round(pt.y*_e)},${Math.round(pt.z*_e)}`,!(st[0]===st[1]||st[1]===st[2]||st[2]===st[0]))for(let yt=0;yt<3;yt++){const gt=(yt+1)%3,xt=st[yt],wt=st[gt],Mt=_triangle[ot[yt]],It=_triangle[ot[gt]],Tt=`${xt}_${wt}`,Dt=`${wt}_${xt}`;Dt in ct&&ct[Dt]?(_normal.dot(ct[Dt].normal)<=et&&(ut.push(Mt.x,Mt.y,Mt.z),ut.push(It.x,It.y,It.z)),ct[Dt]=null):Tt in ct||(ct[Tt]={index0:it[yt],index1:it[gt],normal:_normal.clone()})}}for(const dt in ct)if(ct[dt]){const{index0:ft,index1:ht}=ct[dt];_v0.fromBufferAttribute(rt,ft),_v1$1.fromBufferAttribute(rt,ht),ut.push(_v0.x,_v0.y,_v0.z),ut.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(ut,3))}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}}class Shape extends Path{constructor(o){super(o),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(o){const a=[];for(let j=0,_e=this.holes.length;j<_e;j++)a[j]=this.holes[j].getPoints(o);return a}extractPoints(o){return{shape:this.getPoints(o),holes:this.getPointsHoles(o)}}copy(o){super.copy(o),this.holes=[];for(let a=0,j=o.holes.length;a<j;a++){const _e=o.holes[a];this.holes.push(_e.clone())}return this}toJSON(){const o=super.toJSON();o.uuid=this.uuid,o.holes=[];for(let a=0,j=this.holes.length;a<j;a++){const _e=this.holes[a];o.holes.push(_e.toJSON())}return o}fromJSON(o){super.fromJSON(o),this.uuid=o.uuid,this.holes=[];for(let a=0,j=o.holes.length;a<j;a++){const _e=o.holes[a];this.holes.push(new Path().fromJSON(_e))}return this}}const Earcut={triangulate:function($,o,a=2){const j=o&&o.length,_e=j?o[0]*a:$.length;let et=linkedList($,0,_e,a,!0);const tt=[];if(!et||et.next===et.prev)return tt;let rt,nt,it,ot,st,ct,ut;if(j&&(et=eliminateHoles($,o,et,a)),$.length>80*a){rt=it=$[0],nt=ot=$[1];for(let dt=a;dt<_e;dt+=a)st=$[dt],ct=$[dt+1],st<rt&&(rt=st),ct<nt&&(nt=ct),st>it&&(it=st),ct>ot&&(ot=ct);ut=Math.max(it-rt,ot-nt),ut=ut!==0?32767/ut:0}return earcutLinked(et,tt,a,rt,nt,ut,0),tt}};function linkedList($,o,a,j,_e){let et,tt;if(_e===signedArea($,o,a,j)>0)for(et=o;et<a;et+=j)tt=insertNode(et,$[et],$[et+1],tt);else for(et=a-j;et>=o;et-=j)tt=insertNode(et,$[et],$[et+1],tt);return tt&&equals(tt,tt.next)&&(removeNode(tt),tt=tt.next),tt}function filterPoints($,o){if(!$)return $;o||(o=$);let a=$,j;do if(j=!1,!a.steiner&&(equals(a,a.next)||area(a.prev,a,a.next)===0)){if(removeNode(a),a=o=a.prev,a===a.next)break;j=!0}else a=a.next;while(j||a!==o);return o}function earcutLinked($,o,a,j,_e,et,tt){if(!$)return;!tt&&et&&indexCurve($,j,_e,et);let rt=$,nt,it;for(;$.prev!==$.next;){if(nt=$.prev,it=$.next,et?isEarHashed($,j,_e,et):isEar($)){o.push(nt.i/a|0),o.push($.i/a|0),o.push(it.i/a|0),removeNode($),$=it.next,rt=it.next;continue}if($=it,$===rt){tt?tt===1?($=cureLocalIntersections(filterPoints($),o,a),earcutLinked($,o,a,j,_e,et,2)):tt===2&&splitEarcut($,o,a,j,_e,et):earcutLinked(filterPoints($),o,a,j,_e,et,1);break}}}function isEar($){const o=$.prev,a=$,j=$.next;if(area(o,a,j)>=0)return!1;const _e=o.x,et=a.x,tt=j.x,rt=o.y,nt=a.y,it=j.y,ot=_e<et?_e<tt?_e:tt:et<tt?et:tt,st=rt<nt?rt<it?rt:it:nt<it?nt:it,ct=_e>et?_e>tt?_e:tt:et>tt?et:tt,ut=rt>nt?rt>it?rt:it:nt>it?nt:it;let dt=j.next;for(;dt!==o;){if(dt.x>=ot&&dt.x<=ct&&dt.y>=st&&dt.y<=ut&&pointInTriangle(_e,rt,et,nt,tt,it,dt.x,dt.y)&&area(dt.prev,dt,dt.next)>=0)return!1;dt=dt.next}return!0}function isEarHashed($,o,a,j){const _e=$.prev,et=$,tt=$.next;if(area(_e,et,tt)>=0)return!1;const rt=_e.x,nt=et.x,it=tt.x,ot=_e.y,st=et.y,ct=tt.y,ut=rt<nt?rt<it?rt:it:nt<it?nt:it,dt=ot<st?ot<ct?ot:ct:st<ct?st:ct,ft=rt>nt?rt>it?rt:it:nt>it?nt:it,ht=ot>st?ot>ct?ot:ct:st>ct?st:ct,pt=zOrder(ut,dt,o,a,j),yt=zOrder(ft,ht,o,a,j);let gt=$.prevZ,xt=$.nextZ;for(;gt&&gt.z>=pt&&xt&&xt.z<=yt;){if(gt.x>=ut&&gt.x<=ft&&gt.y>=dt&&gt.y<=ht&&gt!==_e&&gt!==tt&&pointInTriangle(rt,ot,nt,st,it,ct,gt.x,gt.y)&&area(gt.prev,gt,gt.next)>=0||(gt=gt.prevZ,xt.x>=ut&&xt.x<=ft&&xt.y>=dt&&xt.y<=ht&&xt!==_e&&xt!==tt&&pointInTriangle(rt,ot,nt,st,it,ct,xt.x,xt.y)&&area(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;gt&&gt.z>=pt;){if(gt.x>=ut&&gt.x<=ft&&gt.y>=dt&&gt.y<=ht&&gt!==_e&&gt!==tt&&pointInTriangle(rt,ot,nt,st,it,ct,gt.x,gt.y)&&area(gt.prev,gt,gt.next)>=0)return!1;gt=gt.prevZ}for(;xt&&xt.z<=yt;){if(xt.x>=ut&&xt.x<=ft&&xt.y>=dt&&xt.y<=ht&&xt!==_e&&xt!==tt&&pointInTriangle(rt,ot,nt,st,it,ct,xt.x,xt.y)&&area(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function cureLocalIntersections($,o,a){let j=$;do{const _e=j.prev,et=j.next.next;!equals(_e,et)&&intersects(_e,j,j.next,et)&&locallyInside(_e,et)&&locallyInside(et,_e)&&(o.push(_e.i/a|0),o.push(j.i/a|0),o.push(et.i/a|0),removeNode(j),removeNode(j.next),j=$=et),j=j.next}while(j!==$);return filterPoints(j)}function splitEarcut($,o,a,j,_e,et){let tt=$;do{let rt=tt.next.next;for(;rt!==tt.prev;){if(tt.i!==rt.i&&isValidDiagonal(tt,rt)){let nt=splitPolygon(tt,rt);tt=filterPoints(tt,tt.next),nt=filterPoints(nt,nt.next),earcutLinked(tt,o,a,j,_e,et,0),earcutLinked(nt,o,a,j,_e,et,0);return}rt=rt.next}tt=tt.next}while(tt!==$)}function eliminateHoles($,o,a,j){const _e=[];let et,tt,rt,nt,it;for(et=0,tt=o.length;et<tt;et++)rt=o[et]*j,nt=et<tt-1?o[et+1]*j:$.length,it=linkedList($,rt,nt,j,!1),it===it.next&&(it.steiner=!0),_e.push(getLeftmost(it));for(_e.sort(compareX),et=0;et<_e.length;et++)a=eliminateHole(_e[et],a);return a}function compareX($,o){return $.x-o.x}function eliminateHole($,o){const a=findHoleBridge($,o);if(!a)return o;const j=splitPolygon(a,$);return filterPoints(j,j.next),filterPoints(a,a.next)}function findHoleBridge($,o){let a=o,j=-1/0,_e;const et=$.x,tt=$.y;do{if(tt<=a.y&&tt>=a.next.y&&a.next.y!==a.y){const ct=a.x+(tt-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(ct<=et&&ct>j&&(j=ct,_e=a.x<a.next.x?a:a.next,ct===et))return _e}a=a.next}while(a!==o);if(!_e)return null;const rt=_e,nt=_e.x,it=_e.y;let ot=1/0,st;a=_e;do et>=a.x&&a.x>=nt&&et!==a.x&&pointInTriangle(tt<it?et:j,tt,nt,it,tt<it?j:et,tt,a.x,a.y)&&(st=Math.abs(tt-a.y)/(et-a.x),locallyInside(a,$)&&(st<ot||st===ot&&(a.x>_e.x||a.x===_e.x&&sectorContainsSector(_e,a)))&&(_e=a,ot=st)),a=a.next;while(a!==rt);return _e}function sectorContainsSector($,o){return area($.prev,$,o.prev)<0&&area(o.next,$,$.next)<0}function indexCurve($,o,a,j){let _e=$;do _e.z===0&&(_e.z=zOrder(_e.x,_e.y,o,a,j)),_e.prevZ=_e.prev,_e.nextZ=_e.next,_e=_e.next;while(_e!==$);_e.prevZ.nextZ=null,_e.prevZ=null,sortLinked(_e)}function sortLinked($){let o,a,j,_e,et,tt,rt,nt,it=1;do{for(a=$,$=null,et=null,tt=0;a;){for(tt++,j=a,rt=0,o=0;o<it&&(rt++,j=j.nextZ,!!j);o++);for(nt=it;rt>0||nt>0&&j;)rt!==0&&(nt===0||!j||a.z<=j.z)?(_e=a,a=a.nextZ,rt--):(_e=j,j=j.nextZ,nt--),et?et.nextZ=_e:$=_e,_e.prevZ=et,et=_e;a=j}et.nextZ=null,it*=2}while(tt>1);return $}function zOrder($,o,a,j,_e){return $=($-a)*_e|0,o=(o-j)*_e|0,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,$|o<<1}function getLeftmost($){let o=$,a=$;do(o.x<a.x||o.x===a.x&&o.y<a.y)&&(a=o),o=o.next;while(o!==$);return a}function pointInTriangle($,o,a,j,_e,et,tt,rt){return(_e-tt)*(o-rt)>=($-tt)*(et-rt)&&($-tt)*(j-rt)>=(a-tt)*(o-rt)&&(a-tt)*(et-rt)>=(_e-tt)*(j-rt)}function isValidDiagonal($,o){return $.next.i!==o.i&&$.prev.i!==o.i&&!intersectsPolygon($,o)&&(locallyInside($,o)&&locallyInside(o,$)&&middleInside($,o)&&(area($.prev,$,o.prev)||area($,o.prev,o))||equals($,o)&&area($.prev,$,$.next)>0&&area(o.prev,o,o.next)>0)}function area($,o,a){return(o.y-$.y)*(a.x-o.x)-(o.x-$.x)*(a.y-o.y)}function equals($,o){return $.x===o.x&&$.y===o.y}function intersects($,o,a,j){const _e=sign(area($,o,a)),et=sign(area($,o,j)),tt=sign(area(a,j,$)),rt=sign(area(a,j,o));return!!(_e!==et&&tt!==rt||_e===0&&onSegment($,a,o)||et===0&&onSegment($,j,o)||tt===0&&onSegment(a,$,j)||rt===0&&onSegment(a,o,j))}function onSegment($,o,a){return o.x<=Math.max($.x,a.x)&&o.x>=Math.min($.x,a.x)&&o.y<=Math.max($.y,a.y)&&o.y>=Math.min($.y,a.y)}function sign($){return $>0?1:$<0?-1:0}function intersectsPolygon($,o){let a=$;do{if(a.i!==$.i&&a.next.i!==$.i&&a.i!==o.i&&a.next.i!==o.i&&intersects(a,a.next,$,o))return!0;a=a.next}while(a!==$);return!1}function locallyInside($,o){return area($.prev,$,$.next)<0?area($,o,$.next)>=0&&area($,$.prev,o)>=0:area($,o,$.prev)<0||area($,$.next,o)<0}function middleInside($,o){let a=$,j=!1;const _e=($.x+o.x)/2,et=($.y+o.y)/2;do a.y>et!=a.next.y>et&&a.next.y!==a.y&&_e<(a.next.x-a.x)*(et-a.y)/(a.next.y-a.y)+a.x&&(j=!j),a=a.next;while(a!==$);return j}function splitPolygon($,o){const a=new Node($.i,$.x,$.y),j=new Node(o.i,o.x,o.y),_e=$.next,et=o.prev;return $.next=o,o.prev=$,a.next=_e,_e.prev=a,j.next=a,a.prev=j,et.next=j,j.prev=et,j}function insertNode($,o,a,j){const _e=new Node($,o,a);return j?(_e.next=j.next,_e.prev=j,j.next.prev=_e,j.next=_e):(_e.prev=_e,_e.next=_e),_e}function removeNode($){$.next.prev=$.prev,$.prev.next=$.next,$.prevZ&&($.prevZ.nextZ=$.nextZ),$.nextZ&&($.nextZ.prevZ=$.prevZ)}function Node($,o,a){this.i=$,this.x=o,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea($,o,a,j){let _e=0;for(let et=o,tt=a-j;et<a;et+=j)_e+=($[tt]-$[et])*($[et+1]+$[tt+1]),tt=et;return _e}class ShapeUtils{static area(o){const a=o.length;let j=0;for(let _e=a-1,et=0;et<a;_e=et++)j+=o[_e].x*o[et].y-o[et].x*o[_e].y;return j*.5}static isClockWise(o){return ShapeUtils.area(o)<0}static triangulateShape(o,a){const j=[],_e=[],et=[];removeDupEndPts(o),addContour(j,o);let tt=o.length;a.forEach(removeDupEndPts);for(let nt=0;nt<a.length;nt++)_e.push(tt),tt+=a[nt].length,addContour(j,a[nt]);const rt=Earcut.triangulate(j,_e);for(let nt=0;nt<rt.length;nt+=3)et.push(rt.slice(nt,nt+3));return et}}function removeDupEndPts($){const o=$.length;o>2&&$[o-1].equals($[0])&&$.pop()}function addContour($,o){for(let a=0;a<o.length;a++)$.push(o[a].x),$.push(o[a].y)}class ExtrudeGeometry extends BufferGeometry{constructor(o=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),a={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:o,options:a},o=Array.isArray(o)?o:[o];const j=this,_e=[],et=[];for(let rt=0,nt=o.length;rt<nt;rt++){const it=o[rt];tt(it)}this.setAttribute("position",new Float32BufferAttribute(_e,3)),this.setAttribute("uv",new Float32BufferAttribute(et,2)),this.computeVertexNormals();function tt(rt){const nt=[],it=a.curveSegments!==void 0?a.curveSegments:12,ot=a.steps!==void 0?a.steps:1,st=a.depth!==void 0?a.depth:1;let ct=a.bevelEnabled!==void 0?a.bevelEnabled:!0,ut=a.bevelThickness!==void 0?a.bevelThickness:.2,dt=a.bevelSize!==void 0?a.bevelSize:ut-.1,ft=a.bevelOffset!==void 0?a.bevelOffset:0,ht=a.bevelSegments!==void 0?a.bevelSegments:3;const pt=a.extrudePath,yt=a.UVGenerator!==void 0?a.UVGenerator:WorldUVGenerator;let gt,xt=!1,wt,Mt,It,Tt;pt&&(gt=pt.getSpacedPoints(ot),xt=!0,ct=!1,wt=pt.computeFrenetFrames(ot,!1),Mt=new Vector3,It=new Vector3,Tt=new Vector3),ct||(ht=0,ut=0,dt=0,ft=0);const Dt=rt.extractPoints(it);let Ut=Dt.shape;const jt=Dt.holes;if(!ShapeUtils.isClockWise(Ut)){Ut=Ut.reverse();for(let nr=0,lr=jt.length;nr<lr;nr++){const cr=jt[nr];ShapeUtils.isClockWise(cr)&&(jt[nr]=cr.reverse())}}const kt=ShapeUtils.triangulateShape(Ut,jt),vt=Ut;for(let nr=0,lr=jt.length;nr<lr;nr++){const cr=jt[nr];Ut=Ut.concat(cr)}function Et(nr,lr,cr){return lr||console.error("THREE.ExtrudeGeometry: vec does not exist"),nr.clone().addScaledVector(lr,cr)}const Lt=Ut.length,Ot=kt.length;function Pt(nr,lr,cr){let Ar,kr,Dr;const Lr=nr.x-lr.x,Ur=nr.y-lr.y,Or=cr.x-nr.x,Nr=cr.y-nr.y,Jt=Lr*Lr+Ur*Ur,Wt=Lr*Nr-Ur*Or;if(Math.abs(Wt)>Number.EPSILON){const ur=Math.sqrt(Jt),Pr=Math.sqrt(Or*Or+Nr*Nr),Tr=lr.x-Ur/ur,Ft=lr.y+Lr/ur,St=cr.x-Nr/Pr,Ct=cr.y+Or/Pr,Gt=((St-Tr)*Nr-(Ct-Ft)*Or)/(Lr*Nr-Ur*Or);Ar=Tr+Lr*Gt-nr.x,kr=Ft+Ur*Gt-nr.y;const Qt=Ar*Ar+kr*kr;if(Qt<=2)return new Vector2(Ar,kr);Dr=Math.sqrt(Qt/2)}else{let ur=!1;Lr>Number.EPSILON?Or>Number.EPSILON&&(ur=!0):Lr<-Number.EPSILON?Or<-Number.EPSILON&&(ur=!0):Math.sign(Ur)===Math.sign(Nr)&&(ur=!0),ur?(Ar=-Ur,kr=Lr,Dr=Math.sqrt(Jt)):(Ar=Lr,kr=Ur,Dr=Math.sqrt(Jt/2))}return new Vector2(Ar/Dr,kr/Dr)}const zt=[];for(let nr=0,lr=vt.length,cr=lr-1,Ar=nr+1;nr<lr;nr++,cr++,Ar++)cr===lr&&(cr=0),Ar===lr&&(Ar=0),zt[nr]=Pt(vt[nr],vt[cr],vt[Ar]);const Vt=[];let $t,At=zt.concat();for(let nr=0,lr=jt.length;nr<lr;nr++){const cr=jt[nr];$t=[];for(let Ar=0,kr=cr.length,Dr=kr-1,Lr=Ar+1;Ar<kr;Ar++,Dr++,Lr++)Dr===kr&&(Dr=0),Lr===kr&&(Lr=0),$t[Ar]=Pt(cr[Ar],cr[Dr],cr[Lr]);Vt.push($t),At=At.concat($t)}for(let nr=0;nr<ht;nr++){const lr=nr/ht,cr=ut*Math.cos(lr*Math.PI/2),Ar=dt*Math.sin(lr*Math.PI/2)+ft;for(let kr=0,Dr=vt.length;kr<Dr;kr++){const Lr=Et(vt[kr],zt[kr],Ar);ir(Lr.x,Lr.y,-cr)}for(let kr=0,Dr=jt.length;kr<Dr;kr++){const Lr=jt[kr];$t=Vt[kr];for(let Ur=0,Or=Lr.length;Ur<Or;Ur++){const Nr=Et(Lr[Ur],$t[Ur],Ar);ir(Nr.x,Nr.y,-cr)}}}const Ht=dt+ft;for(let nr=0;nr<Lt;nr++){const lr=ct?Et(Ut[nr],At[nr],Ht):Ut[nr];xt?(It.copy(wt.normals[0]).multiplyScalar(lr.x),Mt.copy(wt.binormals[0]).multiplyScalar(lr.y),Tt.copy(gt[0]).add(It).add(Mt),ir(Tt.x,Tt.y,Tt.z)):ir(lr.x,lr.y,0)}for(let nr=1;nr<=ot;nr++)for(let lr=0;lr<Lt;lr++){const cr=ct?Et(Ut[lr],At[lr],Ht):Ut[lr];xt?(It.copy(wt.normals[nr]).multiplyScalar(cr.x),Mt.copy(wt.binormals[nr]).multiplyScalar(cr.y),Tt.copy(gt[nr]).add(It).add(Mt),ir(Tt.x,Tt.y,Tt.z)):ir(cr.x,cr.y,st/ot*nr)}for(let nr=ht-1;nr>=0;nr--){const lr=nr/ht,cr=ut*Math.cos(lr*Math.PI/2),Ar=dt*Math.sin(lr*Math.PI/2)+ft;for(let kr=0,Dr=vt.length;kr<Dr;kr++){const Lr=Et(vt[kr],zt[kr],Ar);ir(Lr.x,Lr.y,st+cr)}for(let kr=0,Dr=jt.length;kr<Dr;kr++){const Lr=jt[kr];$t=Vt[kr];for(let Ur=0,Or=Lr.length;Ur<Or;Ur++){const Nr=Et(Lr[Ur],$t[Ur],Ar);xt?ir(Nr.x,Nr.y+gt[ot-1].y,gt[ot-1].x+cr):ir(Nr.x,Nr.y,st+cr)}}}ar(),Rt();function ar(){const nr=_e.length/3;if(ct){let lr=0,cr=Lt*lr;for(let Ar=0;Ar<Ot;Ar++){const kr=kt[Ar];sr(kr[2]+cr,kr[1]+cr,kr[0]+cr)}lr=ot+ht*2,cr=Lt*lr;for(let Ar=0;Ar<Ot;Ar++){const kr=kt[Ar];sr(kr[0]+cr,kr[1]+cr,kr[2]+cr)}}else{for(let lr=0;lr<Ot;lr++){const cr=kt[lr];sr(cr[2],cr[1],cr[0])}for(let lr=0;lr<Ot;lr++){const cr=kt[lr];sr(cr[0]+Lt*ot,cr[1]+Lt*ot,cr[2]+Lt*ot)}}j.addGroup(nr,_e.length/3-nr,0)}function Rt(){const nr=_e.length/3;let lr=0;Zt(vt,lr),lr+=vt.length;for(let cr=0,Ar=jt.length;cr<Ar;cr++){const kr=jt[cr];Zt(kr,lr),lr+=kr.length}j.addGroup(nr,_e.length/3-nr,1)}function Zt(nr,lr){let cr=nr.length;for(;--cr>=0;){const Ar=cr;let kr=cr-1;kr<0&&(kr=nr.length-1);for(let Dr=0,Lr=ot+ht*2;Dr<Lr;Dr++){const Ur=Lt*Dr,Or=Lt*(Dr+1),Nr=lr+Ar+Ur,Jt=lr+kr+Ur,Wt=lr+kr+Or,ur=lr+Ar+Or;pr(Nr,Jt,Wt,ur)}}}function ir(nr,lr,cr){nt.push(nr),nt.push(lr),nt.push(cr)}function sr(nr,lr,cr){_r(nr),_r(lr),_r(cr);const Ar=_e.length/3,kr=yt.generateTopUV(j,_e,Ar-3,Ar-2,Ar-1);fr(kr[0]),fr(kr[1]),fr(kr[2])}function pr(nr,lr,cr,Ar){_r(nr),_r(lr),_r(Ar),_r(lr),_r(cr),_r(Ar);const kr=_e.length/3,Dr=yt.generateSideWallUV(j,_e,kr-6,kr-3,kr-2,kr-1);fr(Dr[0]),fr(Dr[1]),fr(Dr[3]),fr(Dr[1]),fr(Dr[2]),fr(Dr[3])}function _r(nr){_e.push(nt[nr*3+0]),_e.push(nt[nr*3+1]),_e.push(nt[nr*3+2])}function fr(nr){et.push(nr.x),et.push(nr.y)}}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}toJSON(){const o=super.toJSON(),a=this.parameters.shapes,j=this.parameters.options;return toJSON$1(a,j,o)}static fromJSON(o,a){const j=[];for(let et=0,tt=o.shapes.length;et<tt;et++){const rt=a[o.shapes[et]];j.push(rt)}const _e=o.options.extrudePath;return _e!==void 0&&(o.options.extrudePath=new Curves[_e.type]().fromJSON(_e)),new ExtrudeGeometry(j,o.options)}}const WorldUVGenerator={generateTopUV:function($,o,a,j,_e){const et=o[a*3],tt=o[a*3+1],rt=o[j*3],nt=o[j*3+1],it=o[_e*3],ot=o[_e*3+1];return[new Vector2(et,tt),new Vector2(rt,nt),new Vector2(it,ot)]},generateSideWallUV:function($,o,a,j,_e,et){const tt=o[a*3],rt=o[a*3+1],nt=o[a*3+2],it=o[j*3],ot=o[j*3+1],st=o[j*3+2],ct=o[_e*3],ut=o[_e*3+1],dt=o[_e*3+2],ft=o[et*3],ht=o[et*3+1],pt=o[et*3+2];return Math.abs(rt-ot)<Math.abs(tt-it)?[new Vector2(tt,1-nt),new Vector2(it,1-st),new Vector2(ct,1-dt),new Vector2(ft,1-pt)]:[new Vector2(rt,1-nt),new Vector2(ot,1-st),new Vector2(ut,1-dt),new Vector2(ht,1-pt)]}};function toJSON$1($,o,a){if(a.shapes=[],Array.isArray($))for(let j=0,_e=$.length;j<_e;j++){const et=$[j];a.shapes.push(et.uuid)}else a.shapes.push($.uuid);return a.options=Object.assign({},o),o.extrudePath!==void 0&&(a.options.extrudePath=o.extrudePath.toJSON()),a}class IcosahedronGeometry extends PolyhedronGeometry{constructor(o=1,a=0){const j=(1+Math.sqrt(5))/2,_e=[-1,j,0,1,j,0,-1,-j,0,1,-j,0,0,-1,j,0,1,j,0,-1,-j,0,1,-j,j,0,-1,j,0,1,-j,0,-1,-j,0,1],et=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(_e,et,o,a),this.type="IcosahedronGeometry",this.parameters={radius:o,detail:a}}static fromJSON(o){return new IcosahedronGeometry(o.radius,o.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(o=1,a=0){const j=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],_e=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(j,_e,o,a),this.type="OctahedronGeometry",this.parameters={radius:o,detail:a}}static fromJSON(o){return new OctahedronGeometry(o.radius,o.detail)}}class RingGeometry extends BufferGeometry{constructor(o=.5,a=1,j=32,_e=1,et=0,tt=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:o,outerRadius:a,thetaSegments:j,phiSegments:_e,thetaStart:et,thetaLength:tt},j=Math.max(3,j),_e=Math.max(1,_e);const rt=[],nt=[],it=[],ot=[];let st=o;const ct=(a-o)/_e,ut=new Vector3,dt=new Vector2;for(let ft=0;ft<=_e;ft++){for(let ht=0;ht<=j;ht++){const pt=et+ht/j*tt;ut.x=st*Math.cos(pt),ut.y=st*Math.sin(pt),nt.push(ut.x,ut.y,ut.z),it.push(0,0,1),dt.x=(ut.x/a+1)/2,dt.y=(ut.y/a+1)/2,ot.push(dt.x,dt.y)}st+=ct}for(let ft=0;ft<_e;ft++){const ht=ft*(j+1);for(let pt=0;pt<j;pt++){const yt=pt+ht,gt=yt,xt=yt+j+1,wt=yt+j+2,Mt=yt+1;rt.push(gt,xt,Mt),rt.push(xt,wt,Mt)}}this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new RingGeometry(o.innerRadius,o.outerRadius,o.thetaSegments,o.phiSegments,o.thetaStart,o.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(o=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),a=12){super(),this.type="ShapeGeometry",this.parameters={shapes:o,curveSegments:a};const j=[],_e=[],et=[],tt=[];let rt=0,nt=0;if(Array.isArray(o)===!1)it(o);else for(let ot=0;ot<o.length;ot++)it(o[ot]),this.addGroup(rt,nt,ot),rt+=nt,nt=0;this.setIndex(j),this.setAttribute("position",new Float32BufferAttribute(_e,3)),this.setAttribute("normal",new Float32BufferAttribute(et,3)),this.setAttribute("uv",new Float32BufferAttribute(tt,2));function it(ot){const st=_e.length/3,ct=ot.extractPoints(a);let ut=ct.shape;const dt=ct.holes;ShapeUtils.isClockWise(ut)===!1&&(ut=ut.reverse());for(let ht=0,pt=dt.length;ht<pt;ht++){const yt=dt[ht];ShapeUtils.isClockWise(yt)===!0&&(dt[ht]=yt.reverse())}const ft=ShapeUtils.triangulateShape(ut,dt);for(let ht=0,pt=dt.length;ht<pt;ht++){const yt=dt[ht];ut=ut.concat(yt)}for(let ht=0,pt=ut.length;ht<pt;ht++){const yt=ut[ht];_e.push(yt.x,yt.y,0),et.push(0,0,1),tt.push(yt.x,yt.y)}for(let ht=0,pt=ft.length;ht<pt;ht++){const yt=ft[ht],gt=yt[0]+st,xt=yt[1]+st,wt=yt[2]+st;j.push(gt,xt,wt),nt+=3}}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}toJSON(){const o=super.toJSON(),a=this.parameters.shapes;return toJSON(a,o)}static fromJSON(o,a){const j=[];for(let _e=0,et=o.shapes.length;_e<et;_e++){const tt=a[o.shapes[_e]];j.push(tt)}return new ShapeGeometry(j,o.curveSegments)}}function toJSON($,o){if(o.shapes=[],Array.isArray($))for(let a=0,j=$.length;a<j;a++){const _e=$[a];o.shapes.push(_e.uuid)}else o.shapes.push($.uuid);return o}class SphereGeometry extends BufferGeometry{constructor(o=1,a=32,j=16,_e=0,et=Math.PI*2,tt=0,rt=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:o,widthSegments:a,heightSegments:j,phiStart:_e,phiLength:et,thetaStart:tt,thetaLength:rt},a=Math.max(3,Math.floor(a)),j=Math.max(2,Math.floor(j));const nt=Math.min(tt+rt,Math.PI);let it=0;const ot=[],st=new Vector3,ct=new Vector3,ut=[],dt=[],ft=[],ht=[];for(let pt=0;pt<=j;pt++){const yt=[],gt=pt/j;let xt=0;pt==0&&tt==0?xt=.5/a:pt==j&&nt==Math.PI&&(xt=-.5/a);for(let wt=0;wt<=a;wt++){const Mt=wt/a;st.x=-o*Math.cos(_e+Mt*et)*Math.sin(tt+gt*rt),st.y=o*Math.cos(tt+gt*rt),st.z=o*Math.sin(_e+Mt*et)*Math.sin(tt+gt*rt),dt.push(st.x,st.y,st.z),ct.copy(st).normalize(),ft.push(ct.x,ct.y,ct.z),ht.push(Mt+xt,1-gt),yt.push(it++)}ot.push(yt)}for(let pt=0;pt<j;pt++)for(let yt=0;yt<a;yt++){const gt=ot[pt][yt+1],xt=ot[pt][yt],wt=ot[pt+1][yt],Mt=ot[pt+1][yt+1];(pt!==0||tt>0)&&ut.push(gt,xt,Mt),(pt!==j-1||nt<Math.PI)&&ut.push(xt,wt,Mt)}this.setIndex(ut),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new SphereGeometry(o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(o=1,a=0){const j=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],_e=[2,1,0,0,3,2,1,3,0,2,3,1];super(j,_e,o,a),this.type="TetrahedronGeometry",this.parameters={radius:o,detail:a}}static fromJSON(o){return new TetrahedronGeometry(o.radius,o.detail)}}class TorusGeometry extends BufferGeometry{constructor(o=1,a=.4,j=12,_e=48,et=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:o,tube:a,radialSegments:j,tubularSegments:_e,arc:et},j=Math.floor(j),_e=Math.floor(_e);const tt=[],rt=[],nt=[],it=[],ot=new Vector3,st=new Vector3,ct=new Vector3;for(let ut=0;ut<=j;ut++)for(let dt=0;dt<=_e;dt++){const ft=dt/_e*et,ht=ut/j*Math.PI*2;st.x=(o+a*Math.cos(ht))*Math.cos(ft),st.y=(o+a*Math.cos(ht))*Math.sin(ft),st.z=a*Math.sin(ht),rt.push(st.x,st.y,st.z),ot.x=o*Math.cos(ft),ot.y=o*Math.sin(ft),ct.subVectors(st,ot).normalize(),nt.push(ct.x,ct.y,ct.z),it.push(dt/_e),it.push(ut/j)}for(let ut=1;ut<=j;ut++)for(let dt=1;dt<=_e;dt++){const ft=(_e+1)*ut+dt-1,ht=(_e+1)*(ut-1)+dt-1,pt=(_e+1)*(ut-1)+dt,yt=(_e+1)*ut+dt;tt.push(ft,ht,yt),tt.push(ht,pt,yt)}this.setIndex(tt),this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("normal",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new TorusGeometry(o.radius,o.tube,o.radialSegments,o.tubularSegments,o.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(o=1,a=.4,j=64,_e=8,et=2,tt=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:o,tube:a,tubularSegments:j,radialSegments:_e,p:et,q:tt},j=Math.floor(j),_e=Math.floor(_e);const rt=[],nt=[],it=[],ot=[],st=new Vector3,ct=new Vector3,ut=new Vector3,dt=new Vector3,ft=new Vector3,ht=new Vector3,pt=new Vector3;for(let gt=0;gt<=j;++gt){const xt=gt/j*et*Math.PI*2;yt(xt,et,tt,o,ut),yt(xt+.01,et,tt,o,dt),ht.subVectors(dt,ut),pt.addVectors(dt,ut),ft.crossVectors(ht,pt),pt.crossVectors(ft,ht),ft.normalize(),pt.normalize();for(let wt=0;wt<=_e;++wt){const Mt=wt/_e*Math.PI*2,It=-a*Math.cos(Mt),Tt=a*Math.sin(Mt);st.x=ut.x+(It*pt.x+Tt*ft.x),st.y=ut.y+(It*pt.y+Tt*ft.y),st.z=ut.z+(It*pt.z+Tt*ft.z),nt.push(st.x,st.y,st.z),ct.subVectors(st,ut).normalize(),it.push(ct.x,ct.y,ct.z),ot.push(gt/j),ot.push(wt/_e)}}for(let gt=1;gt<=j;gt++)for(let xt=1;xt<=_e;xt++){const wt=(_e+1)*(gt-1)+(xt-1),Mt=(_e+1)*gt+(xt-1),It=(_e+1)*gt+xt,Tt=(_e+1)*(gt-1)+xt;rt.push(wt,Mt,Tt),rt.push(Mt,It,Tt)}this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2));function yt(gt,xt,wt,Mt,It){const Tt=Math.cos(gt),Dt=Math.sin(gt),Ut=wt/xt*gt,jt=Math.cos(Ut);It.x=Mt*(2+jt)*.5*Tt,It.y=Mt*(2+jt)*Dt*.5,It.z=Mt*Math.sin(Ut)*.5}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}static fromJSON(o){return new TorusKnotGeometry(o.radius,o.tube,o.tubularSegments,o.radialSegments,o.p,o.q)}}class TubeGeometry extends BufferGeometry{constructor(o=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),a=64,j=1,_e=8,et=!1){super(),this.type="TubeGeometry",this.parameters={path:o,tubularSegments:a,radius:j,radialSegments:_e,closed:et};const tt=o.computeFrenetFrames(a,et);this.tangents=tt.tangents,this.normals=tt.normals,this.binormals=tt.binormals;const rt=new Vector3,nt=new Vector3,it=new Vector2;let ot=new Vector3;const st=[],ct=[],ut=[],dt=[];ft(),this.setIndex(dt),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function ft(){for(let gt=0;gt<a;gt++)ht(gt);ht(et===!1?a:0),yt(),pt()}function ht(gt){ot=o.getPointAt(gt/a,ot);const xt=tt.normals[gt],wt=tt.binormals[gt];for(let Mt=0;Mt<=_e;Mt++){const It=Mt/_e*Math.PI*2,Tt=Math.sin(It),Dt=-Math.cos(It);nt.x=Dt*xt.x+Tt*wt.x,nt.y=Dt*xt.y+Tt*wt.y,nt.z=Dt*xt.z+Tt*wt.z,nt.normalize(),ct.push(nt.x,nt.y,nt.z),rt.x=ot.x+j*nt.x,rt.y=ot.y+j*nt.y,rt.z=ot.z+j*nt.z,st.push(rt.x,rt.y,rt.z)}}function pt(){for(let gt=1;gt<=a;gt++)for(let xt=1;xt<=_e;xt++){const wt=(_e+1)*(gt-1)+(xt-1),Mt=(_e+1)*gt+(xt-1),It=(_e+1)*gt+xt,Tt=(_e+1)*(gt-1)+xt;dt.push(wt,Mt,Tt),dt.push(Mt,It,Tt)}}function yt(){for(let gt=0;gt<=a;gt++)for(let xt=0;xt<=_e;xt++)it.x=gt/a,it.y=xt/_e,ut.push(it.x,it.y)}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}toJSON(){const o=super.toJSON();return o.path=this.parameters.path.toJSON(),o}static fromJSON(o){return new TubeGeometry(new Curves[o.path.type]().fromJSON(o.path),o.tubularSegments,o.radius,o.radialSegments,o.closed)}}class WireframeGeometry extends BufferGeometry{constructor(o=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:o},o!==null){const a=[],j=new Set,_e=new Vector3,et=new Vector3;if(o.index!==null){const tt=o.attributes.position,rt=o.index;let nt=o.groups;nt.length===0&&(nt=[{start:0,count:rt.count,materialIndex:0}]);for(let it=0,ot=nt.length;it<ot;++it){const st=nt[it],ct=st.start,ut=st.count;for(let dt=ct,ft=ct+ut;dt<ft;dt+=3)for(let ht=0;ht<3;ht++){const pt=rt.getX(dt+ht),yt=rt.getX(dt+(ht+1)%3);_e.fromBufferAttribute(tt,pt),et.fromBufferAttribute(tt,yt),isUniqueEdge(_e,et,j)===!0&&(a.push(_e.x,_e.y,_e.z),a.push(et.x,et.y,et.z))}}}else{const tt=o.attributes.position;for(let rt=0,nt=tt.count/3;rt<nt;rt++)for(let it=0;it<3;it++){const ot=3*rt+it,st=3*rt+(it+1)%3;_e.fromBufferAttribute(tt,ot),et.fromBufferAttribute(tt,st),isUniqueEdge(_e,et,j)===!0&&(a.push(_e.x,_e.y,_e.z),a.push(et.x,et.y,et.z))}}this.setAttribute("position",new Float32BufferAttribute(a,3))}}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}}function isUniqueEdge($,o,a){const j=`${$.x},${$.y},${$.z}-${o.x},${o.y},${o.z}`,_e=`${o.x},${o.y},${o.z}-${$.x},${$.y},${$.z}`;return a.has(j)===!0||a.has(_e)===!0?!1:(a.add(j),a.add(_e),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(o){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.fog=o.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(o){super(o),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(o){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.defines={STANDARD:""},this.color.copy(o.color),this.roughness=o.roughness,this.metalness=o.metalness,this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.roughnessMap=o.roughnessMap,this.metalnessMap=o.metalnessMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.envMapIntensity=o.envMapIntensity,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this.fog=o.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(o){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(a){this.ior=(1+.4*a)/(1-.4*a)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(o)}get sheen(){return this._sheen}set sheen(o){this._sheen>0!=o>0&&this.version++,this._sheen=o}get clearcoat(){return this._clearcoat}set clearcoat(o){this._clearcoat>0!=o>0&&this.version++,this._clearcoat=o}get iridescence(){return this._iridescence}set iridescence(o){this._iridescence>0!=o>0&&this.version++,this._iridescence=o}get transmission(){return this._transmission}set transmission(o){this._transmission>0!=o>0&&this.version++,this._transmission=o}copy(o){return super.copy(o),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=o.clearcoat,this.clearcoatMap=o.clearcoatMap,this.clearcoatRoughness=o.clearcoatRoughness,this.clearcoatRoughnessMap=o.clearcoatRoughnessMap,this.clearcoatNormalMap=o.clearcoatNormalMap,this.clearcoatNormalScale.copy(o.clearcoatNormalScale),this.ior=o.ior,this.iridescence=o.iridescence,this.iridescenceMap=o.iridescenceMap,this.iridescenceIOR=o.iridescenceIOR,this.iridescenceThicknessRange=[...o.iridescenceThicknessRange],this.iridescenceThicknessMap=o.iridescenceThicknessMap,this.sheen=o.sheen,this.sheenColor.copy(o.sheenColor),this.sheenColorMap=o.sheenColorMap,this.sheenRoughness=o.sheenRoughness,this.sheenRoughnessMap=o.sheenRoughnessMap,this.transmission=o.transmission,this.transmissionMap=o.transmissionMap,this.thickness=o.thickness,this.thicknessMap=o.thicknessMap,this.attenuationDistance=o.attenuationDistance,this.attenuationColor.copy(o.attenuationColor),this.specularIntensity=o.specularIntensity,this.specularIntensityMap=o.specularIntensityMap,this.specularColor.copy(o.specularColor),this.specularColorMap=o.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(o){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.specular.copy(o.specular),this.shininess=o.shininess,this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this.fog=o.fog,this}}class MeshToonMaterial extends Material{constructor(o){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.gradientMap=o.gradientMap,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.alphaMap=o.alphaMap,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.fog=o.fog,this}}class MeshNormalMaterial extends Material{constructor(o){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(o)}copy(o){return super.copy(o),this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.flatShading=o.flatShading,this}}class MeshLambertMaterial extends Material{constructor(o){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this.fog=o.fog,this}}class MeshMatcapMaterial extends Material{constructor(o){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.defines={MATCAP:""},this.color.copy(o.color),this.matcap=o.matcap,this.map=o.map,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.alphaMap=o.alphaMap,this.flatShading=o.flatShading,this.fog=o.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(o){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(o)}copy(o){return super.copy(o),this.scale=o.scale,this.dashSize=o.dashSize,this.gapSize=o.gapSize,this}}function arraySlice($,o,a){return isTypedArray($)?new $.constructor($.subarray(o,a!==void 0?a:$.length)):$.slice(o,a)}function convertArray($,o,a){return!$||!a&&$.constructor===o?$:typeof o.BYTES_PER_ELEMENT=="number"?new o($):Array.prototype.slice.call($)}function isTypedArray($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function getKeyframeOrder($){function o(_e,et){return $[_e]-$[et]}const a=$.length,j=new Array(a);for(let _e=0;_e!==a;++_e)j[_e]=_e;return j.sort(o),j}function sortedArray($,o,a){const j=$.length,_e=new $.constructor(j);for(let et=0,tt=0;tt!==j;++et){const rt=a[et]*o;for(let nt=0;nt!==o;++nt)_e[tt++]=$[rt+nt]}return _e}function flattenJSON($,o,a,j){let _e=1,et=$[0];for(;et!==void 0&&et[j]===void 0;)et=$[_e++];if(et===void 0)return;let tt=et[j];if(tt!==void 0)if(Array.isArray(tt))do tt=et[j],tt!==void 0&&(o.push(et.time),a.push.apply(a,tt)),et=$[_e++];while(et!==void 0);else if(tt.toArray!==void 0)do tt=et[j],tt!==void 0&&(o.push(et.time),tt.toArray(a,a.length)),et=$[_e++];while(et!==void 0);else do tt=et[j],tt!==void 0&&(o.push(et.time),a.push(tt)),et=$[_e++];while(et!==void 0)}function subclip($,o,a,j,_e=30){const et=$.clone();et.name=o;const tt=[];for(let nt=0;nt<et.tracks.length;++nt){const it=et.tracks[nt],ot=it.getValueSize(),st=[],ct=[];for(let ut=0;ut<it.times.length;++ut){const dt=it.times[ut]*_e;if(!(dt<a||dt>=j)){st.push(it.times[ut]);for(let ft=0;ft<ot;++ft)ct.push(it.values[ut*ot+ft])}}st.length!==0&&(it.times=convertArray(st,it.times.constructor),it.values=convertArray(ct,it.values.constructor),tt.push(it))}et.tracks=tt;let rt=1/0;for(let nt=0;nt<et.tracks.length;++nt)rt>et.tracks[nt].times[0]&&(rt=et.tracks[nt].times[0]);for(let nt=0;nt<et.tracks.length;++nt)et.tracks[nt].shift(-1*rt);return et.resetDuration(),et}function makeClipAdditive($,o=0,a=$,j=30){j<=0&&(j=30);const _e=a.tracks.length,et=o/j;for(let tt=0;tt<_e;++tt){const rt=a.tracks[tt],nt=rt.ValueTypeName;if(nt==="bool"||nt==="string")continue;const it=$.tracks.find(function(pt){return pt.name===rt.name&&pt.ValueTypeName===nt});if(it===void 0)continue;let ot=0;const st=rt.getValueSize();rt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ot=st/3);let ct=0;const ut=it.getValueSize();it.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ct=ut/3);const dt=rt.times.length-1;let ft;if(et<=rt.times[0]){const pt=ot,yt=st-ot;ft=arraySlice(rt.values,pt,yt)}else if(et>=rt.times[dt]){const pt=dt*st+ot,yt=pt+st-ot;ft=arraySlice(rt.values,pt,yt)}else{const pt=rt.createInterpolant(),yt=ot,gt=st-ot;pt.evaluate(et),ft=arraySlice(pt.resultBuffer,yt,gt)}nt==="quaternion"&&new Quaternion().fromArray(ft).normalize().conjugate().toArray(ft);const ht=it.times.length;for(let pt=0;pt<ht;++pt){const yt=pt*ut+ct;if(nt==="quaternion")Quaternion.multiplyQuaternionsFlat(it.values,yt,ft,0,it.values,yt);else{const gt=ut-ct*2;for(let xt=0;xt<gt;++xt)it.values[yt+xt]-=ft[xt]}}}return $.blendMode=AdditiveAnimationBlendMode,$}const AnimationUtils={arraySlice,convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(o,a,j,_e){this.parameterPositions=o,this._cachedIndex=0,this.resultBuffer=_e!==void 0?_e:new a.constructor(j),this.sampleValues=a,this.valueSize=j,this.settings=null,this.DefaultSettings_={}}evaluate(o){const a=this.parameterPositions;let j=this._cachedIndex,_e=a[j],et=a[j-1];e:{t:{let tt;r:{n:if(!(o<_e)){for(let rt=j+2;;){if(_e===void 0){if(o<et)break n;return j=a.length,this._cachedIndex=j,this.copySampleValue_(j-1)}if(j===rt)break;if(et=_e,_e=a[++j],o<_e)break t}tt=a.length;break r}if(!(o>=et)){const rt=a[1];o<rt&&(j=2,et=rt);for(let nt=j-2;;){if(et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(j===nt)break;if(_e=et,et=a[--j-1],o>=et)break t}tt=j,j=0;break r}break e}for(;j<tt;){const rt=j+tt>>>1;o<a[rt]?tt=rt:j=rt+1}if(_e=a[j],et=a[j-1],et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(_e===void 0)return j=a.length,this._cachedIndex=j,this.copySampleValue_(j-1)}this._cachedIndex=j,this.intervalChanged_(j,et,_e)}return this.interpolate_(j,et,o,_e)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(o){const a=this.resultBuffer,j=this.sampleValues,_e=this.valueSize,et=o*_e;for(let tt=0;tt!==_e;++tt)a[tt]=j[et+tt];return a}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(o,a,j){const _e=this.parameterPositions;let et=o-2,tt=o+1,rt=_e[et],nt=_e[tt];if(rt===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:et=o,rt=2*a-j;break;case WrapAroundEnding:et=_e.length-2,rt=a+_e[et]-_e[et+1];break;default:et=o,rt=j}if(nt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:tt=o,nt=2*j-a;break;case WrapAroundEnding:tt=1,nt=j+_e[1]-_e[0];break;default:tt=o-1,nt=a}const it=(j-a)*.5,ot=this.valueSize;this._weightPrev=it/(a-rt),this._weightNext=it/(nt-j),this._offsetPrev=et*ot,this._offsetNext=tt*ot}interpolate_(o,a,j,_e){const et=this.resultBuffer,tt=this.sampleValues,rt=this.valueSize,nt=o*rt,it=nt-rt,ot=this._offsetPrev,st=this._offsetNext,ct=this._weightPrev,ut=this._weightNext,dt=(j-a)/(_e-a),ft=dt*dt,ht=ft*dt,pt=-ct*ht+2*ct*ft-ct*dt,yt=(1+ct)*ht+(-1.5-2*ct)*ft+(-.5+ct)*dt+1,gt=(-1-ut)*ht+(1.5+ut)*ft+.5*dt,xt=ut*ht-ut*ft;for(let wt=0;wt!==rt;++wt)et[wt]=pt*tt[ot+wt]+yt*tt[it+wt]+gt*tt[nt+wt]+xt*tt[st+wt];return et}}class LinearInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e)}interpolate_(o,a,j,_e){const et=this.resultBuffer,tt=this.sampleValues,rt=this.valueSize,nt=o*rt,it=nt-rt,ot=(j-a)/(_e-a),st=1-ot;for(let ct=0;ct!==rt;++ct)et[ct]=tt[it+ct]*st+tt[nt+ct]*ot;return et}}class DiscreteInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e)}interpolate_(o){return this.copySampleValue_(o-1)}}class KeyframeTrack{constructor(o,a,j,_e){if(o===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(a===void 0||a.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+o);this.name=o,this.times=convertArray(a,this.TimeBufferType),this.values=convertArray(j,this.ValueBufferType),this.setInterpolation(_e||this.DefaultInterpolation)}static toJSON(o){const a=o.constructor;let j;if(a.toJSON!==this.toJSON)j=a.toJSON(o);else{j={name:o.name,times:convertArray(o.times,Array),values:convertArray(o.values,Array)};const _e=o.getInterpolation();_e!==o.DefaultInterpolation&&(j.interpolation=_e)}return j.type=o.ValueTypeName,j}InterpolantFactoryMethodDiscrete(o){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),o)}InterpolantFactoryMethodLinear(o){return new LinearInterpolant(this.times,this.values,this.getValueSize(),o)}InterpolantFactoryMethodSmooth(o){return new CubicInterpolant(this.times,this.values,this.getValueSize(),o)}setInterpolation(o){let a;switch(o){case InterpolateDiscrete:a=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:a=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:a=this.InterpolantFactoryMethodSmooth;break}if(a===void 0){const j="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(o!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(j);return console.warn("THREE.KeyframeTrack:",j),this}return this.createInterpolant=a,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(o){if(o!==0){const a=this.times;for(let j=0,_e=a.length;j!==_e;++j)a[j]+=o}return this}scale(o){if(o!==1){const a=this.times;for(let j=0,_e=a.length;j!==_e;++j)a[j]*=o}return this}trim(o,a){const j=this.times,_e=j.length;let et=0,tt=_e-1;for(;et!==_e&&j[et]<o;)++et;for(;tt!==-1&&j[tt]>a;)--tt;if(++tt,et!==0||tt!==_e){et>=tt&&(tt=Math.max(tt,1),et=tt-1);const rt=this.getValueSize();this.times=arraySlice(j,et,tt),this.values=arraySlice(this.values,et*rt,tt*rt)}return this}validate(){let o=!0;const a=this.getValueSize();a-Math.floor(a)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),o=!1);const j=this.times,_e=this.values,et=j.length;et===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),o=!1);let tt=null;for(let rt=0;rt!==et;rt++){const nt=j[rt];if(typeof nt=="number"&&isNaN(nt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,rt,nt),o=!1;break}if(tt!==null&&tt>nt){console.error("THREE.KeyframeTrack: Out of order keys.",this,rt,nt,tt),o=!1;break}tt=nt}if(_e!==void 0&&isTypedArray(_e))for(let rt=0,nt=_e.length;rt!==nt;++rt){const it=_e[rt];if(isNaN(it)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,rt,it),o=!1;break}}return o}optimize(){const o=arraySlice(this.times),a=arraySlice(this.values),j=this.getValueSize(),_e=this.getInterpolation()===InterpolateSmooth,et=o.length-1;let tt=1;for(let rt=1;rt<et;++rt){let nt=!1;const it=o[rt],ot=o[rt+1];if(it!==ot&&(rt!==1||it!==o[0]))if(_e)nt=!0;else{const st=rt*j,ct=st-j,ut=st+j;for(let dt=0;dt!==j;++dt){const ft=a[st+dt];if(ft!==a[ct+dt]||ft!==a[ut+dt]){nt=!0;break}}}if(nt){if(rt!==tt){o[tt]=o[rt];const st=rt*j,ct=tt*j;for(let ut=0;ut!==j;++ut)a[ct+ut]=a[st+ut]}++tt}}if(et>0){o[tt]=o[et];for(let rt=et*j,nt=tt*j,it=0;it!==j;++it)a[nt+it]=a[rt+it];++tt}return tt!==o.length?(this.times=arraySlice(o,0,tt),this.values=arraySlice(a,0,tt*j)):(this.times=o,this.values=a),this}clone(){const o=arraySlice(this.times,0),a=arraySlice(this.values,0),j=this.constructor,_e=new j(this.name,o,a);return _e.createInterpolant=this.createInterpolant,_e}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e)}interpolate_(o,a,j,_e){const et=this.resultBuffer,tt=this.sampleValues,rt=this.valueSize,nt=(j-a)/(_e-a);let it=o*rt;for(let ot=it+rt;it!==ot;it+=4)Quaternion.slerpFlat(et,0,tt,it-rt,tt,it,nt);return et}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(o){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),o)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(o,a=-1,j,_e=NormalAnimationBlendMode){this.name=o,this.tracks=j,this.duration=a,this.blendMode=_e,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(o){const a=[],j=o.tracks,_e=1/(o.fps||1);for(let tt=0,rt=j.length;tt!==rt;++tt)a.push(parseKeyframeTrack(j[tt]).scale(_e));const et=new this(o.name,o.duration,a,o.blendMode);return et.uuid=o.uuid,et}static toJSON(o){const a=[],j=o.tracks,_e={name:o.name,duration:o.duration,tracks:a,uuid:o.uuid,blendMode:o.blendMode};for(let et=0,tt=j.length;et!==tt;++et)a.push(KeyframeTrack.toJSON(j[et]));return _e}static CreateFromMorphTargetSequence(o,a,j,_e){const et=a.length,tt=[];for(let rt=0;rt<et;rt++){let nt=[],it=[];nt.push((rt+et-1)%et,rt,(rt+1)%et),it.push(0,1,0);const ot=getKeyframeOrder(nt);nt=sortedArray(nt,1,ot),it=sortedArray(it,1,ot),!_e&&nt[0]===0&&(nt.push(et),it.push(it[0])),tt.push(new NumberKeyframeTrack(".morphTargetInfluences["+a[rt].name+"]",nt,it).scale(1/j))}return new this(o,-1,tt)}static findByName(o,a){let j=o;if(!Array.isArray(o)){const _e=o;j=_e.geometry&&_e.geometry.animations||_e.animations}for(let _e=0;_e<j.length;_e++)if(j[_e].name===a)return j[_e];return null}static CreateClipsFromMorphTargetSequences(o,a,j){const _e={},et=/^([\w-]*?)([\d]+)$/;for(let rt=0,nt=o.length;rt<nt;rt++){const it=o[rt],ot=it.name.match(et);if(ot&&ot.length>1){const st=ot[1];let ct=_e[st];ct||(_e[st]=ct=[]),ct.push(it)}}const tt=[];for(const rt in _e)tt.push(this.CreateFromMorphTargetSequence(rt,_e[rt],a,j));return tt}static parseAnimation(o,a){if(!o)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const j=function(st,ct,ut,dt,ft){if(ut.length!==0){const ht=[],pt=[];flattenJSON(ut,ht,pt,dt),ht.length!==0&&ft.push(new st(ct,ht,pt))}},_e=[],et=o.name||"default",tt=o.fps||30,rt=o.blendMode;let nt=o.length||-1;const it=o.hierarchy||[];for(let st=0;st<it.length;st++){const ct=it[st].keys;if(!(!ct||ct.length===0))if(ct[0].morphTargets){const ut={};let dt;for(dt=0;dt<ct.length;dt++)if(ct[dt].morphTargets)for(let ft=0;ft<ct[dt].morphTargets.length;ft++)ut[ct[dt].morphTargets[ft]]=-1;for(const ft in ut){const ht=[],pt=[];for(let yt=0;yt!==ct[dt].morphTargets.length;++yt){const gt=ct[dt];ht.push(gt.time),pt.push(gt.morphTarget===ft?1:0)}_e.push(new NumberKeyframeTrack(".morphTargetInfluence["+ft+"]",ht,pt))}nt=ut.length*tt}else{const ut=".bones["+a[st].name+"]";j(VectorKeyframeTrack,ut+".position",ct,"pos",_e),j(QuaternionKeyframeTrack,ut+".quaternion",ct,"rot",_e),j(VectorKeyframeTrack,ut+".scale",ct,"scl",_e)}}return _e.length===0?null:new this(et,nt,_e,rt)}resetDuration(){const o=this.tracks;let a=0;for(let j=0,_e=o.length;j!==_e;++j){const et=this.tracks[j];a=Math.max(a,et.times[et.times.length-1])}return this.duration=a,this}trim(){for(let o=0;o<this.tracks.length;o++)this.tracks[o].trim(0,this.duration);return this}validate(){let o=!0;for(let a=0;a<this.tracks.length;a++)o=o&&this.tracks[a].validate();return o}optimize(){for(let o=0;o<this.tracks.length;o++)this.tracks[o].optimize();return this}clone(){const o=[];for(let a=0;a<this.tracks.length;a++)o.push(this.tracks[a].clone());return new this.constructor(this.name,this.duration,o,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName($){switch($.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+$)}function parseKeyframeTrack($){if($.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const o=getTrackTypeForValueTypeName($.type);if($.times===void 0){const a=[],j=[];flattenJSON($.keys,a,j,"value"),$.times=a,$.values=j}return o.parse!==void 0?o.parse($):new o($.name,$.times,$.values,$.interpolation)}const Cache={enabled:!1,files:{},add:function($,o){this.enabled!==!1&&(this.files[$]=o)},get:function($){if(this.enabled!==!1)return this.files[$]},remove:function($){delete this.files[$]},clear:function(){this.files={}}};class LoadingManager{constructor(o,a,j){const _e=this;let et=!1,tt=0,rt=0,nt;const it=[];this.onStart=void 0,this.onLoad=o,this.onProgress=a,this.onError=j,this.itemStart=function(ot){rt++,et===!1&&_e.onStart!==void 0&&_e.onStart(ot,tt,rt),et=!0},this.itemEnd=function(ot){tt++,_e.onProgress!==void 0&&_e.onProgress(ot,tt,rt),tt===rt&&(et=!1,_e.onLoad!==void 0&&_e.onLoad())},this.itemError=function(ot){_e.onError!==void 0&&_e.onError(ot)},this.resolveURL=function(ot){return nt?nt(ot):ot},this.setURLModifier=function(ot){return nt=ot,this},this.addHandler=function(ot,st){return it.push(ot,st),this},this.removeHandler=function(ot){const st=it.indexOf(ot);return st!==-1&&it.splice(st,2),this},this.getHandler=function(ot){for(let st=0,ct=it.length;st<ct;st+=2){const ut=it[st],dt=it[st+1];if(ut.global&&(ut.lastIndex=0),ut.test(ot))return dt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(o){this.manager=o!==void 0?o:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(o,a){const j=this;return new Promise(function(_e,et){j.load(o,_e,a,et)})}parse(){}setCrossOrigin(o){return this.crossOrigin=o,this}setWithCredentials(o){return this.withCredentials=o,this}setPath(o){return this.path=o,this}setResourcePath(o){return this.resourcePath=o,this}setRequestHeader(o){return this.requestHeader=o,this}}const loading={};class HttpError extends Error{constructor(o,a){super(o),this.response=a}}class FileLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){o===void 0&&(o=""),this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const et=Cache.get(o);if(et!==void 0)return this.manager.itemStart(o),setTimeout(()=>{a&&a(et),this.manager.itemEnd(o)},0),et;if(loading[o]!==void 0){loading[o].push({onLoad:a,onProgress:j,onError:_e});return}loading[o]=[],loading[o].push({onLoad:a,onProgress:j,onError:_e});const tt=new Request(o,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),rt=this.mimeType,nt=this.responseType;fetch(tt).then(it=>{if(it.status===200||it.status===0){if(it.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||it.body===void 0||it.body.getReader===void 0)return it;const ot=loading[o],st=it.body.getReader(),ct=it.headers.get("Content-Length")||it.headers.get("X-File-Size"),ut=ct?parseInt(ct):0,dt=ut!==0;let ft=0;const ht=new ReadableStream({start(pt){yt();function yt(){st.read().then(({done:gt,value:xt})=>{if(gt)pt.close();else{ft+=xt.byteLength;const wt=new ProgressEvent("progress",{lengthComputable:dt,loaded:ft,total:ut});for(let Mt=0,It=ot.length;Mt<It;Mt++){const Tt=ot[Mt];Tt.onProgress&&Tt.onProgress(wt)}pt.enqueue(xt),yt()}})}}});return new Response(ht)}else throw new HttpError(`fetch for "${it.url}" responded with ${it.status}: ${it.statusText}`,it)}).then(it=>{switch(nt){case"arraybuffer":return it.arrayBuffer();case"blob":return it.blob();case"document":return it.text().then(ot=>new DOMParser().parseFromString(ot,rt));case"json":return it.json();default:if(rt===void 0)return it.text();{const st=/charset="?([^;"\s]*)"?/i.exec(rt),ct=st&&st[1]?st[1].toLowerCase():void 0,ut=new TextDecoder(ct);return it.arrayBuffer().then(dt=>ut.decode(dt))}}}).then(it=>{Cache.add(o,it);const ot=loading[o];delete loading[o];for(let st=0,ct=ot.length;st<ct;st++){const ut=ot[st];ut.onLoad&&ut.onLoad(it)}}).catch(it=>{const ot=loading[o];if(ot===void 0)throw this.manager.itemError(o),it;delete loading[o];for(let st=0,ct=ot.length;st<ct;st++){const ut=ot[st];ut.onError&&ut.onError(it)}this.manager.itemError(o)}).finally(()=>{this.manager.itemEnd(o)}),this.manager.itemStart(o)}setResponseType(o){return this.responseType=o,this}setMimeType(o){return this.mimeType=o,this}}class AnimationLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=new FileLoader(this.manager);tt.setPath(this.path),tt.setRequestHeader(this.requestHeader),tt.setWithCredentials(this.withCredentials),tt.load(o,function(rt){try{a(et.parse(JSON.parse(rt)))}catch(nt){_e?_e(nt):console.error(nt),et.manager.itemError(o)}},j,_e)}parse(o){const a=[];for(let j=0;j<o.length;j++){const _e=AnimationClip.parse(o[j]);a.push(_e)}return a}}class CompressedTextureLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=[],rt=new CompressedTexture,nt=new FileLoader(this.manager);nt.setPath(this.path),nt.setResponseType("arraybuffer"),nt.setRequestHeader(this.requestHeader),nt.setWithCredentials(et.withCredentials);let it=0;function ot(st){nt.load(o[st],function(ct){const ut=et.parse(ct,!0);tt[st]={width:ut.width,height:ut.height,format:ut.format,mipmaps:ut.mipmaps},it+=1,it===6&&(ut.mipmapCount===1&&(rt.minFilter=LinearFilter),rt.image=tt,rt.format=ut.format,rt.needsUpdate=!0,a&&a(rt))},j,_e)}if(Array.isArray(o))for(let st=0,ct=o.length;st<ct;++st)ot(st);else nt.load(o,function(st){const ct=et.parse(st,!0);if(ct.isCubemap){const ut=ct.mipmaps.length/ct.mipmapCount;for(let dt=0;dt<ut;dt++){tt[dt]={mipmaps:[]};for(let ft=0;ft<ct.mipmapCount;ft++)tt[dt].mipmaps.push(ct.mipmaps[dt*ct.mipmapCount+ft]),tt[dt].format=ct.format,tt[dt].width=ct.width,tt[dt].height=ct.height}rt.image=tt}else rt.image.width=ct.width,rt.image.height=ct.height,rt.mipmaps=ct.mipmaps;ct.mipmapCount===1&&(rt.minFilter=LinearFilter),rt.format=ct.format,rt.needsUpdate=!0,a&&a(rt)},j,_e);return rt}}class ImageLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const et=this,tt=Cache.get(o);if(tt!==void 0)return et.manager.itemStart(o),setTimeout(function(){a&&a(tt),et.manager.itemEnd(o)},0),tt;const rt=createElementNS("img");function nt(){ot(),Cache.add(o,this),a&&a(this),et.manager.itemEnd(o)}function it(st){ot(),_e&&_e(st),et.manager.itemError(o),et.manager.itemEnd(o)}function ot(){rt.removeEventListener("load",nt,!1),rt.removeEventListener("error",it,!1)}return rt.addEventListener("load",nt,!1),rt.addEventListener("error",it,!1),o.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(rt.crossOrigin=this.crossOrigin),et.manager.itemStart(o),rt.src=o,rt}}class CubeTextureLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=new CubeTexture,tt=new ImageLoader(this.manager);tt.setCrossOrigin(this.crossOrigin),tt.setPath(this.path);let rt=0;function nt(it){tt.load(o[it],function(ot){et.images[it]=ot,rt++,rt===6&&(et.needsUpdate=!0,a&&a(et))},void 0,_e)}for(let it=0;it<o.length;++it)nt(it);return et}}class DataTextureLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=new DataTexture,rt=new FileLoader(this.manager);return rt.setResponseType("arraybuffer"),rt.setRequestHeader(this.requestHeader),rt.setPath(this.path),rt.setWithCredentials(et.withCredentials),rt.load(o,function(nt){const it=et.parse(nt);it&&(it.image!==void 0?tt.image=it.image:it.data!==void 0&&(tt.image.width=it.width,tt.image.height=it.height,tt.image.data=it.data),tt.wrapS=it.wrapS!==void 0?it.wrapS:ClampToEdgeWrapping,tt.wrapT=it.wrapT!==void 0?it.wrapT:ClampToEdgeWrapping,tt.magFilter=it.magFilter!==void 0?it.magFilter:LinearFilter,tt.minFilter=it.minFilter!==void 0?it.minFilter:LinearFilter,tt.anisotropy=it.anisotropy!==void 0?it.anisotropy:1,it.encoding!==void 0&&(tt.encoding=it.encoding),it.flipY!==void 0&&(tt.flipY=it.flipY),it.format!==void 0&&(tt.format=it.format),it.type!==void 0&&(tt.type=it.type),it.mipmaps!==void 0&&(tt.mipmaps=it.mipmaps,tt.minFilter=LinearMipmapLinearFilter),it.mipmapCount===1&&(tt.minFilter=LinearFilter),it.generateMipmaps!==void 0&&(tt.generateMipmaps=it.generateMipmaps),tt.needsUpdate=!0,a&&a(tt,it))},j,_e),tt}}class TextureLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=new Texture,tt=new ImageLoader(this.manager);return tt.setCrossOrigin(this.crossOrigin),tt.setPath(this.path),tt.load(o,function(rt){et.image=rt,et.needsUpdate=!0,a!==void 0&&a(et)},j,_e),et}}class Light extends Object3D{constructor(o,a=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(o),this.intensity=a}dispose(){}copy(o,a){return super.copy(o,a),this.color.copy(o.color),this.intensity=o.intensity,this}toJSON(o){const a=super.toJSON(o);return a.object.color=this.color.getHex(),a.object.intensity=this.intensity,this.groundColor!==void 0&&(a.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(a.object.distance=this.distance),this.angle!==void 0&&(a.object.angle=this.angle),this.decay!==void 0&&(a.object.decay=this.decay),this.penumbra!==void 0&&(a.object.penumbra=this.penumbra),this.shadow!==void 0&&(a.object.shadow=this.shadow.toJSON()),a}}class HemisphereLight extends Light{constructor(o,a,j){super(o,j),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(a)}copy(o,a){return super.copy(o,a),this.groundColor.copy(o.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(o){this.camera=o,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(o){const a=this.camera,j=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(o.matrixWorld),a.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(o.target.matrixWorld),a.lookAt(_lookTarget$1),a.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),j.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),j.multiply(_projScreenMatrix$1)}getViewport(o){return this._viewports[o]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(o){return this.camera=o.camera.clone(),this.bias=o.bias,this.radius=o.radius,this.mapSize.copy(o.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const o={};return this.bias!==0&&(o.bias=this.bias),this.normalBias!==0&&(o.normalBias=this.normalBias),this.radius!==1&&(o.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(o.mapSize=this.mapSize.toArray()),o.camera=this.camera.toJSON(!1).object,delete o.camera.matrix,o}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(o){const a=this.camera,j=RAD2DEG*2*o.angle*this.focus,_e=this.mapSize.width/this.mapSize.height,et=o.distance||a.far;(j!==a.fov||_e!==a.aspect||et!==a.far)&&(a.fov=j,a.aspect=_e,a.far=et,a.updateProjectionMatrix()),super.updateMatrices(o)}copy(o){return super.copy(o),this.focus=o.focus,this}}class SpotLight extends Light{constructor(o,a,j=0,_e=Math.PI/3,et=0,tt=2){super(o,a),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=j,this.angle=_e,this.penumbra=et,this.decay=tt,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(o){this.intensity=o/Math.PI}dispose(){this.shadow.dispose()}copy(o,a){return super.copy(o,a),this.distance=o.distance,this.angle=o.angle,this.penumbra=o.penumbra,this.decay=o.decay,this.target=o.target.clone(),this.shadow=o.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(o,a=0){const j=this.camera,_e=this.matrix,et=o.distance||j.far;et!==j.far&&(j.far=et,j.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(o.matrixWorld),j.position.copy(_lightPositionWorld),_lookTarget.copy(j.position),_lookTarget.add(this._cubeDirections[a]),j.up.copy(this._cubeUps[a]),j.lookAt(_lookTarget),j.updateMatrixWorld(),_e.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(o,a,j=0,_e=2){super(o,a),this.isPointLight=!0,this.type="PointLight",this.distance=j,this.decay=_e,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(o){this.intensity=o/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(o,a){return super.copy(o,a),this.distance=o.distance,this.decay=o.decay,this.shadow=o.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(o,a){super(o,a),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(o){return super.copy(o),this.target=o.target.clone(),this.shadow=o.shadow.clone(),this}}class AmbientLight extends Light{constructor(o,a){super(o,a),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(o,a,j=10,_e=10){super(o,a),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=j,this.height=_e}get power(){return this.intensity*this.width*this.height*Math.PI}set power(o){this.intensity=o/(this.width*this.height*Math.PI)}copy(o){return super.copy(o),this.width=o.width,this.height=o.height,this}toJSON(o){const a=super.toJSON(o);return a.object.width=this.width,a.object.height=this.height,a}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let o=0;o<9;o++)this.coefficients.push(new Vector3)}set(o){for(let a=0;a<9;a++)this.coefficients[a].copy(o[a]);return this}zero(){for(let o=0;o<9;o++)this.coefficients[o].set(0,0,0);return this}getAt(o,a){const j=o.x,_e=o.y,et=o.z,tt=this.coefficients;return a.copy(tt[0]).multiplyScalar(.282095),a.addScaledVector(tt[1],.488603*_e),a.addScaledVector(tt[2],.488603*et),a.addScaledVector(tt[3],.488603*j),a.addScaledVector(tt[4],1.092548*(j*_e)),a.addScaledVector(tt[5],1.092548*(_e*et)),a.addScaledVector(tt[6],.315392*(3*et*et-1)),a.addScaledVector(tt[7],1.092548*(j*et)),a.addScaledVector(tt[8],.546274*(j*j-_e*_e)),a}getIrradianceAt(o,a){const j=o.x,_e=o.y,et=o.z,tt=this.coefficients;return a.copy(tt[0]).multiplyScalar(.886227),a.addScaledVector(tt[1],2*.511664*_e),a.addScaledVector(tt[2],2*.511664*et),a.addScaledVector(tt[3],2*.511664*j),a.addScaledVector(tt[4],2*.429043*j*_e),a.addScaledVector(tt[5],2*.429043*_e*et),a.addScaledVector(tt[6],.743125*et*et-.247708),a.addScaledVector(tt[7],2*.429043*j*et),a.addScaledVector(tt[8],.429043*(j*j-_e*_e)),a}add(o){for(let a=0;a<9;a++)this.coefficients[a].add(o.coefficients[a]);return this}addScaledSH(o,a){for(let j=0;j<9;j++)this.coefficients[j].addScaledVector(o.coefficients[j],a);return this}scale(o){for(let a=0;a<9;a++)this.coefficients[a].multiplyScalar(o);return this}lerp(o,a){for(let j=0;j<9;j++)this.coefficients[j].lerp(o.coefficients[j],a);return this}equals(o){for(let a=0;a<9;a++)if(!this.coefficients[a].equals(o.coefficients[a]))return!1;return!0}copy(o){return this.set(o.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(o,a=0){const j=this.coefficients;for(let _e=0;_e<9;_e++)j[_e].fromArray(o,a+_e*3);return this}toArray(o=[],a=0){const j=this.coefficients;for(let _e=0;_e<9;_e++)j[_e].toArray(o,a+_e*3);return o}static getBasisAt(o,a){const j=o.x,_e=o.y,et=o.z;a[0]=.282095,a[1]=.488603*_e,a[2]=.488603*et,a[3]=.488603*j,a[4]=1.092548*j*_e,a[5]=1.092548*_e*et,a[6]=.315392*(3*et*et-1),a[7]=1.092548*j*et,a[8]=.546274*(j*j-_e*_e)}}class LightProbe extends Light{constructor(o=new SphericalHarmonics3,a=1){super(void 0,a),this.isLightProbe=!0,this.sh=o}copy(o){return super.copy(o),this.sh.copy(o.sh),this}fromJSON(o){return this.intensity=o.intensity,this.sh.fromArray(o.sh),this}toJSON(o){const a=super.toJSON(o);return a.object.sh=this.sh.toArray(),a}}class MaterialLoader extends Loader{constructor(o){super(o),this.textures={}}load(o,a,j,_e){const et=this,tt=new FileLoader(et.manager);tt.setPath(et.path),tt.setRequestHeader(et.requestHeader),tt.setWithCredentials(et.withCredentials),tt.load(o,function(rt){try{a(et.parse(JSON.parse(rt)))}catch(nt){_e?_e(nt):console.error(nt),et.manager.itemError(o)}},j,_e)}parse(o){const a=this.textures;function j(et){return a[et]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",et),a[et]}const _e=MaterialLoader.createMaterialFromType(o.type);if(o.uuid!==void 0&&(_e.uuid=o.uuid),o.name!==void 0&&(_e.name=o.name),o.color!==void 0&&_e.color!==void 0&&_e.color.setHex(o.color),o.roughness!==void 0&&(_e.roughness=o.roughness),o.metalness!==void 0&&(_e.metalness=o.metalness),o.sheen!==void 0&&(_e.sheen=o.sheen),o.sheenColor!==void 0&&(_e.sheenColor=new Color().setHex(o.sheenColor)),o.sheenRoughness!==void 0&&(_e.sheenRoughness=o.sheenRoughness),o.emissive!==void 0&&_e.emissive!==void 0&&_e.emissive.setHex(o.emissive),o.specular!==void 0&&_e.specular!==void 0&&_e.specular.setHex(o.specular),o.specularIntensity!==void 0&&(_e.specularIntensity=o.specularIntensity),o.specularColor!==void 0&&_e.specularColor!==void 0&&_e.specularColor.setHex(o.specularColor),o.shininess!==void 0&&(_e.shininess=o.shininess),o.clearcoat!==void 0&&(_e.clearcoat=o.clearcoat),o.clearcoatRoughness!==void 0&&(_e.clearcoatRoughness=o.clearcoatRoughness),o.iridescence!==void 0&&(_e.iridescence=o.iridescence),o.iridescenceIOR!==void 0&&(_e.iridescenceIOR=o.iridescenceIOR),o.iridescenceThicknessRange!==void 0&&(_e.iridescenceThicknessRange=o.iridescenceThicknessRange),o.transmission!==void 0&&(_e.transmission=o.transmission),o.thickness!==void 0&&(_e.thickness=o.thickness),o.attenuationDistance!==void 0&&(_e.attenuationDistance=o.attenuationDistance),o.attenuationColor!==void 0&&_e.attenuationColor!==void 0&&_e.attenuationColor.setHex(o.attenuationColor),o.fog!==void 0&&(_e.fog=o.fog),o.flatShading!==void 0&&(_e.flatShading=o.flatShading),o.blending!==void 0&&(_e.blending=o.blending),o.combine!==void 0&&(_e.combine=o.combine),o.side!==void 0&&(_e.side=o.side),o.shadowSide!==void 0&&(_e.shadowSide=o.shadowSide),o.opacity!==void 0&&(_e.opacity=o.opacity),o.transparent!==void 0&&(_e.transparent=o.transparent),o.alphaTest!==void 0&&(_e.alphaTest=o.alphaTest),o.depthTest!==void 0&&(_e.depthTest=o.depthTest),o.depthWrite!==void 0&&(_e.depthWrite=o.depthWrite),o.colorWrite!==void 0&&(_e.colorWrite=o.colorWrite),o.stencilWrite!==void 0&&(_e.stencilWrite=o.stencilWrite),o.stencilWriteMask!==void 0&&(_e.stencilWriteMask=o.stencilWriteMask),o.stencilFunc!==void 0&&(_e.stencilFunc=o.stencilFunc),o.stencilRef!==void 0&&(_e.stencilRef=o.stencilRef),o.stencilFuncMask!==void 0&&(_e.stencilFuncMask=o.stencilFuncMask),o.stencilFail!==void 0&&(_e.stencilFail=o.stencilFail),o.stencilZFail!==void 0&&(_e.stencilZFail=o.stencilZFail),o.stencilZPass!==void 0&&(_e.stencilZPass=o.stencilZPass),o.wireframe!==void 0&&(_e.wireframe=o.wireframe),o.wireframeLinewidth!==void 0&&(_e.wireframeLinewidth=o.wireframeLinewidth),o.wireframeLinecap!==void 0&&(_e.wireframeLinecap=o.wireframeLinecap),o.wireframeLinejoin!==void 0&&(_e.wireframeLinejoin=o.wireframeLinejoin),o.rotation!==void 0&&(_e.rotation=o.rotation),o.linewidth!==1&&(_e.linewidth=o.linewidth),o.dashSize!==void 0&&(_e.dashSize=o.dashSize),o.gapSize!==void 0&&(_e.gapSize=o.gapSize),o.scale!==void 0&&(_e.scale=o.scale),o.polygonOffset!==void 0&&(_e.polygonOffset=o.polygonOffset),o.polygonOffsetFactor!==void 0&&(_e.polygonOffsetFactor=o.polygonOffsetFactor),o.polygonOffsetUnits!==void 0&&(_e.polygonOffsetUnits=o.polygonOffsetUnits),o.dithering!==void 0&&(_e.dithering=o.dithering),o.alphaToCoverage!==void 0&&(_e.alphaToCoverage=o.alphaToCoverage),o.premultipliedAlpha!==void 0&&(_e.premultipliedAlpha=o.premultipliedAlpha),o.forceSinglePass!==void 0&&(_e.forceSinglePass=o.forceSinglePass),o.visible!==void 0&&(_e.visible=o.visible),o.toneMapped!==void 0&&(_e.toneMapped=o.toneMapped),o.userData!==void 0&&(_e.userData=o.userData),o.vertexColors!==void 0&&(typeof o.vertexColors=="number"?_e.vertexColors=o.vertexColors>0:_e.vertexColors=o.vertexColors),o.uniforms!==void 0)for(const et in o.uniforms){const tt=o.uniforms[et];switch(_e.uniforms[et]={},tt.type){case"t":_e.uniforms[et].value=j(tt.value);break;case"c":_e.uniforms[et].value=new Color().setHex(tt.value);break;case"v2":_e.uniforms[et].value=new Vector2().fromArray(tt.value);break;case"v3":_e.uniforms[et].value=new Vector3().fromArray(tt.value);break;case"v4":_e.uniforms[et].value=new Vector4().fromArray(tt.value);break;case"m3":_e.uniforms[et].value=new Matrix3().fromArray(tt.value);break;case"m4":_e.uniforms[et].value=new Matrix4().fromArray(tt.value);break;default:_e.uniforms[et].value=tt.value}}if(o.defines!==void 0&&(_e.defines=o.defines),o.vertexShader!==void 0&&(_e.vertexShader=o.vertexShader),o.fragmentShader!==void 0&&(_e.fragmentShader=o.fragmentShader),o.glslVersion!==void 0&&(_e.glslVersion=o.glslVersion),o.extensions!==void 0)for(const et in o.extensions)_e.extensions[et]=o.extensions[et];if(o.size!==void 0&&(_e.size=o.size),o.sizeAttenuation!==void 0&&(_e.sizeAttenuation=o.sizeAttenuation),o.map!==void 0&&(_e.map=j(o.map)),o.matcap!==void 0&&(_e.matcap=j(o.matcap)),o.alphaMap!==void 0&&(_e.alphaMap=j(o.alphaMap)),o.bumpMap!==void 0&&(_e.bumpMap=j(o.bumpMap)),o.bumpScale!==void 0&&(_e.bumpScale=o.bumpScale),o.normalMap!==void 0&&(_e.normalMap=j(o.normalMap)),o.normalMapType!==void 0&&(_e.normalMapType=o.normalMapType),o.normalScale!==void 0){let et=o.normalScale;Array.isArray(et)===!1&&(et=[et,et]),_e.normalScale=new Vector2().fromArray(et)}return o.displacementMap!==void 0&&(_e.displacementMap=j(o.displacementMap)),o.displacementScale!==void 0&&(_e.displacementScale=o.displacementScale),o.displacementBias!==void 0&&(_e.displacementBias=o.displacementBias),o.roughnessMap!==void 0&&(_e.roughnessMap=j(o.roughnessMap)),o.metalnessMap!==void 0&&(_e.metalnessMap=j(o.metalnessMap)),o.emissiveMap!==void 0&&(_e.emissiveMap=j(o.emissiveMap)),o.emissiveIntensity!==void 0&&(_e.emissiveIntensity=o.emissiveIntensity),o.specularMap!==void 0&&(_e.specularMap=j(o.specularMap)),o.specularIntensityMap!==void 0&&(_e.specularIntensityMap=j(o.specularIntensityMap)),o.specularColorMap!==void 0&&(_e.specularColorMap=j(o.specularColorMap)),o.envMap!==void 0&&(_e.envMap=j(o.envMap)),o.envMapIntensity!==void 0&&(_e.envMapIntensity=o.envMapIntensity),o.reflectivity!==void 0&&(_e.reflectivity=o.reflectivity),o.refractionRatio!==void 0&&(_e.refractionRatio=o.refractionRatio),o.lightMap!==void 0&&(_e.lightMap=j(o.lightMap)),o.lightMapIntensity!==void 0&&(_e.lightMapIntensity=o.lightMapIntensity),o.aoMap!==void 0&&(_e.aoMap=j(o.aoMap)),o.aoMapIntensity!==void 0&&(_e.aoMapIntensity=o.aoMapIntensity),o.gradientMap!==void 0&&(_e.gradientMap=j(o.gradientMap)),o.clearcoatMap!==void 0&&(_e.clearcoatMap=j(o.clearcoatMap)),o.clearcoatRoughnessMap!==void 0&&(_e.clearcoatRoughnessMap=j(o.clearcoatRoughnessMap)),o.clearcoatNormalMap!==void 0&&(_e.clearcoatNormalMap=j(o.clearcoatNormalMap)),o.clearcoatNormalScale!==void 0&&(_e.clearcoatNormalScale=new Vector2().fromArray(o.clearcoatNormalScale)),o.iridescenceMap!==void 0&&(_e.iridescenceMap=j(o.iridescenceMap)),o.iridescenceThicknessMap!==void 0&&(_e.iridescenceThicknessMap=j(o.iridescenceThicknessMap)),o.transmissionMap!==void 0&&(_e.transmissionMap=j(o.transmissionMap)),o.thicknessMap!==void 0&&(_e.thicknessMap=j(o.thicknessMap)),o.sheenColorMap!==void 0&&(_e.sheenColorMap=j(o.sheenColorMap)),o.sheenRoughnessMap!==void 0&&(_e.sheenRoughnessMap=j(o.sheenRoughnessMap)),_e}setTextures(o){return this.textures=o,this}static createMaterialFromType(o){const a={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new a[o]}}class LoaderUtils{static decodeText(o){if(typeof TextDecoder<"u")return new TextDecoder().decode(o);let a="";for(let j=0,_e=o.length;j<_e;j++)a+=String.fromCharCode(o[j]);try{return decodeURIComponent(escape(a))}catch{return a}}static extractUrlBase(o){const a=o.lastIndexOf("/");return a===-1?"./":o.slice(0,a+1)}static resolveURL(o,a){return typeof o!="string"||o===""?"":(/^https?:\/\//i.test(a)&&/^\//.test(o)&&(a=a.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(o)||/^data:.*,.*$/i.test(o)||/^blob:.*$/i.test(o)?o:a+o)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(o){return super.copy(o),this.instanceCount=o.instanceCount,this}toJSON(){const o=super.toJSON();return o.instanceCount=this.instanceCount,o.isInstancedBufferGeometry=!0,o}}class BufferGeometryLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=new FileLoader(et.manager);tt.setPath(et.path),tt.setRequestHeader(et.requestHeader),tt.setWithCredentials(et.withCredentials),tt.load(o,function(rt){try{a(et.parse(JSON.parse(rt)))}catch(nt){_e?_e(nt):console.error(nt),et.manager.itemError(o)}},j,_e)}parse(o){const a={},j={};function _e(ut,dt){if(a[dt]!==void 0)return a[dt];const ht=ut.interleavedBuffers[dt],pt=et(ut,ht.buffer),yt=getTypedArray(ht.type,pt),gt=new InterleavedBuffer(yt,ht.stride);return gt.uuid=ht.uuid,a[dt]=gt,gt}function et(ut,dt){if(j[dt]!==void 0)return j[dt];const ht=ut.arrayBuffers[dt],pt=new Uint32Array(ht).buffer;return j[dt]=pt,pt}const tt=o.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,rt=o.data.index;if(rt!==void 0){const ut=getTypedArray(rt.type,rt.array);tt.setIndex(new BufferAttribute(ut,1))}const nt=o.data.attributes;for(const ut in nt){const dt=nt[ut];let ft;if(dt.isInterleavedBufferAttribute){const ht=_e(o.data,dt.data);ft=new InterleavedBufferAttribute(ht,dt.itemSize,dt.offset,dt.normalized)}else{const ht=getTypedArray(dt.type,dt.array),pt=dt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;ft=new pt(ht,dt.itemSize,dt.normalized)}dt.name!==void 0&&(ft.name=dt.name),dt.usage!==void 0&&ft.setUsage(dt.usage),dt.updateRange!==void 0&&(ft.updateRange.offset=dt.updateRange.offset,ft.updateRange.count=dt.updateRange.count),tt.setAttribute(ut,ft)}const it=o.data.morphAttributes;if(it)for(const ut in it){const dt=it[ut],ft=[];for(let ht=0,pt=dt.length;ht<pt;ht++){const yt=dt[ht];let gt;if(yt.isInterleavedBufferAttribute){const xt=_e(o.data,yt.data);gt=new InterleavedBufferAttribute(xt,yt.itemSize,yt.offset,yt.normalized)}else{const xt=getTypedArray(yt.type,yt.array);gt=new BufferAttribute(xt,yt.itemSize,yt.normalized)}yt.name!==void 0&&(gt.name=yt.name),ft.push(gt)}tt.morphAttributes[ut]=ft}o.data.morphTargetsRelative&&(tt.morphTargetsRelative=!0);const st=o.data.groups||o.data.drawcalls||o.data.offsets;if(st!==void 0)for(let ut=0,dt=st.length;ut!==dt;++ut){const ft=st[ut];tt.addGroup(ft.start,ft.count,ft.materialIndex)}const ct=o.data.boundingSphere;if(ct!==void 0){const ut=new Vector3;ct.center!==void 0&&ut.fromArray(ct.center),tt.boundingSphere=new Sphere(ut,ct.radius)}return o.name&&(tt.name=o.name),o.userData&&(tt.userData=o.userData),tt}}class ObjectLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=this.path===""?LoaderUtils.extractUrlBase(o):this.path;this.resourcePath=this.resourcePath||tt;const rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials),rt.load(o,function(nt){let it=null;try{it=JSON.parse(nt)}catch(st){_e!==void 0&&_e(st),console.error("THREE:ObjectLoader: Can't parse "+o+".",st.message);return}const ot=it.metadata;if(ot===void 0||ot.type===void 0||ot.type.toLowerCase()==="geometry"){_e!==void 0&&_e(new Error("THREE.ObjectLoader: Can't load "+o)),console.error("THREE.ObjectLoader: Can't load "+o);return}et.parse(it,a)},j,_e)}async loadAsync(o,a){const j=this,_e=this.path===""?LoaderUtils.extractUrlBase(o):this.path;this.resourcePath=this.resourcePath||_e;const et=new FileLoader(this.manager);et.setPath(this.path),et.setRequestHeader(this.requestHeader),et.setWithCredentials(this.withCredentials);const tt=await et.loadAsync(o,a),rt=JSON.parse(tt),nt=rt.metadata;if(nt===void 0||nt.type===void 0||nt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+o);return await j.parseAsync(rt)}parse(o,a){const j=this.parseAnimations(o.animations),_e=this.parseShapes(o.shapes),et=this.parseGeometries(o.geometries,_e),tt=this.parseImages(o.images,function(){a!==void 0&&a(it)}),rt=this.parseTextures(o.textures,tt),nt=this.parseMaterials(o.materials,rt),it=this.parseObject(o.object,et,nt,rt,j),ot=this.parseSkeletons(o.skeletons,it);if(this.bindSkeletons(it,ot),a!==void 0){let st=!1;for(const ct in tt)if(tt[ct].data instanceof HTMLImageElement){st=!0;break}st===!1&&a(it)}return it}async parseAsync(o){const a=this.parseAnimations(o.animations),j=this.parseShapes(o.shapes),_e=this.parseGeometries(o.geometries,j),et=await this.parseImagesAsync(o.images),tt=this.parseTextures(o.textures,et),rt=this.parseMaterials(o.materials,tt),nt=this.parseObject(o.object,_e,rt,tt,a),it=this.parseSkeletons(o.skeletons,nt);return this.bindSkeletons(nt,it),nt}parseShapes(o){const a={};if(o!==void 0)for(let j=0,_e=o.length;j<_e;j++){const et=new Shape().fromJSON(o[j]);a[et.uuid]=et}return a}parseSkeletons(o,a){const j={},_e={};if(a.traverse(function(et){et.isBone&&(_e[et.uuid]=et)}),o!==void 0)for(let et=0,tt=o.length;et<tt;et++){const rt=new Skeleton().fromJSON(o[et],_e);j[rt.uuid]=rt}return j}parseGeometries(o,a){const j={};if(o!==void 0){const _e=new BufferGeometryLoader;for(let et=0,tt=o.length;et<tt;et++){let rt;const nt=o[et];switch(nt.type){case"BufferGeometry":case"InstancedBufferGeometry":rt=_e.parse(nt);break;default:nt.type in Geometries?rt=Geometries[nt.type].fromJSON(nt,a):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${nt.type}"`)}rt.uuid=nt.uuid,nt.name!==void 0&&(rt.name=nt.name),nt.userData!==void 0&&(rt.userData=nt.userData),j[nt.uuid]=rt}}return j}parseMaterials(o,a){const j={},_e={};if(o!==void 0){const et=new MaterialLoader;et.setTextures(a);for(let tt=0,rt=o.length;tt<rt;tt++){const nt=o[tt];j[nt.uuid]===void 0&&(j[nt.uuid]=et.parse(nt)),_e[nt.uuid]=j[nt.uuid]}}return _e}parseAnimations(o){const a={};if(o!==void 0)for(let j=0;j<o.length;j++){const _e=o[j],et=AnimationClip.parse(_e);a[et.uuid]=et}return a}parseImages(o,a){const j=this,_e={};let et;function tt(nt){return j.manager.itemStart(nt),et.load(nt,function(){j.manager.itemEnd(nt)},void 0,function(){j.manager.itemError(nt),j.manager.itemEnd(nt)})}function rt(nt){if(typeof nt=="string"){const it=nt,ot=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(it)?it:j.resourcePath+it;return tt(ot)}else return nt.data?{data:getTypedArray(nt.type,nt.data),width:nt.width,height:nt.height}:null}if(o!==void 0&&o.length>0){const nt=new LoadingManager(a);et=new ImageLoader(nt),et.setCrossOrigin(this.crossOrigin);for(let it=0,ot=o.length;it<ot;it++){const st=o[it],ct=st.url;if(Array.isArray(ct)){const ut=[];for(let dt=0,ft=ct.length;dt<ft;dt++){const ht=ct[dt],pt=rt(ht);pt!==null&&(pt instanceof HTMLImageElement?ut.push(pt):ut.push(new DataTexture(pt.data,pt.width,pt.height)))}_e[st.uuid]=new Source(ut)}else{const ut=rt(st.url);_e[st.uuid]=new Source(ut)}}}return _e}async parseImagesAsync(o){const a=this,j={};let _e;async function et(tt){if(typeof tt=="string"){const rt=tt,nt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(rt)?rt:a.resourcePath+rt;return await _e.loadAsync(nt)}else return tt.data?{data:getTypedArray(tt.type,tt.data),width:tt.width,height:tt.height}:null}if(o!==void 0&&o.length>0){_e=new ImageLoader(this.manager),_e.setCrossOrigin(this.crossOrigin);for(let tt=0,rt=o.length;tt<rt;tt++){const nt=o[tt],it=nt.url;if(Array.isArray(it)){const ot=[];for(let st=0,ct=it.length;st<ct;st++){const ut=it[st],dt=await et(ut);dt!==null&&(dt instanceof HTMLImageElement?ot.push(dt):ot.push(new DataTexture(dt.data,dt.width,dt.height)))}j[nt.uuid]=new Source(ot)}else{const ot=await et(nt.url);j[nt.uuid]=new Source(ot)}}}return j}parseTextures(o,a){function j(et,tt){return typeof et=="number"?et:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",et),tt[et])}const _e={};if(o!==void 0)for(let et=0,tt=o.length;et<tt;et++){const rt=o[et];rt.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',rt.uuid),a[rt.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",rt.image);const nt=a[rt.image],it=nt.data;let ot;Array.isArray(it)?(ot=new CubeTexture,it.length===6&&(ot.needsUpdate=!0)):(it&&it.data?ot=new DataTexture:ot=new Texture,it&&(ot.needsUpdate=!0)),ot.source=nt,ot.uuid=rt.uuid,rt.name!==void 0&&(ot.name=rt.name),rt.mapping!==void 0&&(ot.mapping=j(rt.mapping,TEXTURE_MAPPING)),rt.offset!==void 0&&ot.offset.fromArray(rt.offset),rt.repeat!==void 0&&ot.repeat.fromArray(rt.repeat),rt.center!==void 0&&ot.center.fromArray(rt.center),rt.rotation!==void 0&&(ot.rotation=rt.rotation),rt.wrap!==void 0&&(ot.wrapS=j(rt.wrap[0],TEXTURE_WRAPPING),ot.wrapT=j(rt.wrap[1],TEXTURE_WRAPPING)),rt.format!==void 0&&(ot.format=rt.format),rt.internalFormat!==void 0&&(ot.internalFormat=rt.internalFormat),rt.type!==void 0&&(ot.type=rt.type),rt.encoding!==void 0&&(ot.encoding=rt.encoding),rt.minFilter!==void 0&&(ot.minFilter=j(rt.minFilter,TEXTURE_FILTER)),rt.magFilter!==void 0&&(ot.magFilter=j(rt.magFilter,TEXTURE_FILTER)),rt.anisotropy!==void 0&&(ot.anisotropy=rt.anisotropy),rt.flipY!==void 0&&(ot.flipY=rt.flipY),rt.generateMipmaps!==void 0&&(ot.generateMipmaps=rt.generateMipmaps),rt.premultiplyAlpha!==void 0&&(ot.premultiplyAlpha=rt.premultiplyAlpha),rt.unpackAlignment!==void 0&&(ot.unpackAlignment=rt.unpackAlignment),rt.userData!==void 0&&(ot.userData=rt.userData),_e[rt.uuid]=ot}return _e}parseObject(o,a,j,_e,et){let tt;function rt(ct){return a[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ct),a[ct]}function nt(ct){if(ct!==void 0){if(Array.isArray(ct)){const ut=[];for(let dt=0,ft=ct.length;dt<ft;dt++){const ht=ct[dt];j[ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ht),ut.push(j[ht])}return ut}return j[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ct),j[ct]}}function it(ct){return _e[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ct),_e[ct]}let ot,st;switch(o.type){case"Scene":tt=new Scene,o.background!==void 0&&(Number.isInteger(o.background)?tt.background=new Color(o.background):tt.background=it(o.background)),o.environment!==void 0&&(tt.environment=it(o.environment)),o.fog!==void 0&&(o.fog.type==="Fog"?tt.fog=new Fog(o.fog.color,o.fog.near,o.fog.far):o.fog.type==="FogExp2"&&(tt.fog=new FogExp2(o.fog.color,o.fog.density))),o.backgroundBlurriness!==void 0&&(tt.backgroundBlurriness=o.backgroundBlurriness),o.backgroundIntensity!==void 0&&(tt.backgroundIntensity=o.backgroundIntensity);break;case"PerspectiveCamera":tt=new PerspectiveCamera(o.fov,o.aspect,o.near,o.far),o.focus!==void 0&&(tt.focus=o.focus),o.zoom!==void 0&&(tt.zoom=o.zoom),o.filmGauge!==void 0&&(tt.filmGauge=o.filmGauge),o.filmOffset!==void 0&&(tt.filmOffset=o.filmOffset),o.view!==void 0&&(tt.view=Object.assign({},o.view));break;case"OrthographicCamera":tt=new OrthographicCamera(o.left,o.right,o.top,o.bottom,o.near,o.far),o.zoom!==void 0&&(tt.zoom=o.zoom),o.view!==void 0&&(tt.view=Object.assign({},o.view));break;case"AmbientLight":tt=new AmbientLight(o.color,o.intensity);break;case"DirectionalLight":tt=new DirectionalLight(o.color,o.intensity);break;case"PointLight":tt=new PointLight(o.color,o.intensity,o.distance,o.decay);break;case"RectAreaLight":tt=new RectAreaLight(o.color,o.intensity,o.width,o.height);break;case"SpotLight":tt=new SpotLight(o.color,o.intensity,o.distance,o.angle,o.penumbra,o.decay);break;case"HemisphereLight":tt=new HemisphereLight(o.color,o.groundColor,o.intensity);break;case"LightProbe":tt=new LightProbe().fromJSON(o);break;case"SkinnedMesh":ot=rt(o.geometry),st=nt(o.material),tt=new SkinnedMesh(ot,st),o.bindMode!==void 0&&(tt.bindMode=o.bindMode),o.bindMatrix!==void 0&&tt.bindMatrix.fromArray(o.bindMatrix),o.skeleton!==void 0&&(tt.skeleton=o.skeleton);break;case"Mesh":ot=rt(o.geometry),st=nt(o.material),tt=new Mesh(ot,st);break;case"InstancedMesh":ot=rt(o.geometry),st=nt(o.material);const ct=o.count,ut=o.instanceMatrix,dt=o.instanceColor;tt=new InstancedMesh(ot,st,ct),tt.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ut.array),16),dt!==void 0&&(tt.instanceColor=new InstancedBufferAttribute(new Float32Array(dt.array),dt.itemSize));break;case"LOD":tt=new LOD;break;case"Line":tt=new Line(rt(o.geometry),nt(o.material));break;case"LineLoop":tt=new LineLoop(rt(o.geometry),nt(o.material));break;case"LineSegments":tt=new LineSegments(rt(o.geometry),nt(o.material));break;case"PointCloud":case"Points":tt=new Points$1(rt(o.geometry),nt(o.material));break;case"Sprite":tt=new Sprite(nt(o.material));break;case"Group":tt=new Group;break;case"Bone":tt=new Bone;break;default:tt=new Object3D}if(tt.uuid=o.uuid,o.name!==void 0&&(tt.name=o.name),o.matrix!==void 0?(tt.matrix.fromArray(o.matrix),o.matrixAutoUpdate!==void 0&&(tt.matrixAutoUpdate=o.matrixAutoUpdate),tt.matrixAutoUpdate&&tt.matrix.decompose(tt.position,tt.quaternion,tt.scale)):(o.position!==void 0&&tt.position.fromArray(o.position),o.rotation!==void 0&&tt.rotation.fromArray(o.rotation),o.quaternion!==void 0&&tt.quaternion.fromArray(o.quaternion),o.scale!==void 0&&tt.scale.fromArray(o.scale)),o.castShadow!==void 0&&(tt.castShadow=o.castShadow),o.receiveShadow!==void 0&&(tt.receiveShadow=o.receiveShadow),o.shadow&&(o.shadow.bias!==void 0&&(tt.shadow.bias=o.shadow.bias),o.shadow.normalBias!==void 0&&(tt.shadow.normalBias=o.shadow.normalBias),o.shadow.radius!==void 0&&(tt.shadow.radius=o.shadow.radius),o.shadow.mapSize!==void 0&&tt.shadow.mapSize.fromArray(o.shadow.mapSize),o.shadow.camera!==void 0&&(tt.shadow.camera=this.parseObject(o.shadow.camera))),o.visible!==void 0&&(tt.visible=o.visible),o.frustumCulled!==void 0&&(tt.frustumCulled=o.frustumCulled),o.renderOrder!==void 0&&(tt.renderOrder=o.renderOrder),o.userData!==void 0&&(tt.userData=o.userData),o.layers!==void 0&&(tt.layers.mask=o.layers),o.children!==void 0){const ct=o.children;for(let ut=0;ut<ct.length;ut++)tt.add(this.parseObject(ct[ut],a,j,_e,et))}if(o.animations!==void 0){const ct=o.animations;for(let ut=0;ut<ct.length;ut++){const dt=ct[ut];tt.animations.push(et[dt])}}if(o.type==="LOD"){o.autoUpdate!==void 0&&(tt.autoUpdate=o.autoUpdate);const ct=o.levels;for(let ut=0;ut<ct.length;ut++){const dt=ct[ut],ft=tt.getObjectByProperty("uuid",dt.object);ft!==void 0&&tt.addLevel(ft,dt.distance,dt.hysteresis)}}return tt}bindSkeletons(o,a){Object.keys(a).length!==0&&o.traverse(function(j){if(j.isSkinnedMesh===!0&&j.skeleton!==void 0){const _e=a[j.skeleton];_e===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",j.skeleton):j.bind(_e,j.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(o){super(o),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(o){return this.options=o,this}load(o,a,j,_e){o===void 0&&(o=""),this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const et=this,tt=Cache.get(o);if(tt!==void 0)return et.manager.itemStart(o),setTimeout(function(){a&&a(tt),et.manager.itemEnd(o)},0),tt;const rt={};rt.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",rt.headers=this.requestHeader,fetch(o,rt).then(function(nt){return nt.blob()}).then(function(nt){return createImageBitmap(nt,Object.assign(et.options,{colorSpaceConversion:"none"}))}).then(function(nt){Cache.add(o,nt),a&&a(nt),et.manager.itemEnd(o)}).catch(function(nt){_e&&_e(nt),et.manager.itemError(o),et.manager.itemEnd(o)}),et.manager.itemStart(o)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(o){_context=o}}class AudioLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=new FileLoader(this.manager);tt.setResponseType("arraybuffer"),tt.setPath(this.path),tt.setRequestHeader(this.requestHeader),tt.setWithCredentials(this.withCredentials),tt.load(o,function(rt){try{const nt=rt.slice(0);AudioContext.getContext().decodeAudioData(nt,function(ot){a(ot)})}catch(nt){_e?_e(nt):console.error(nt),et.manager.itemError(o)}},j,_e)}}class HemisphereLightProbe extends LightProbe{constructor(o,a,j=1){super(void 0,j),this.isHemisphereLightProbe=!0;const _e=new Color().set(o),et=new Color().set(a),tt=new Vector3(_e.r,_e.g,_e.b),rt=new Vector3(et.r,et.g,et.b),nt=Math.sqrt(Math.PI),it=nt*Math.sqrt(.75);this.sh.coefficients[0].copy(tt).add(rt).multiplyScalar(nt),this.sh.coefficients[1].copy(tt).sub(rt).multiplyScalar(it)}}class AmbientLightProbe extends LightProbe{constructor(o,a=1){super(void 0,a),this.isAmbientLightProbe=!0;const j=new Color().set(o);this.sh.coefficients[0].set(j.r,j.g,j.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(o){const a=this._cache;if(a.focus!==o.focus||a.fov!==o.fov||a.aspect!==o.aspect*this.aspect||a.near!==o.near||a.far!==o.far||a.zoom!==o.zoom||a.eyeSep!==this.eyeSep){a.focus=o.focus,a.fov=o.fov,a.aspect=o.aspect*this.aspect,a.near=o.near,a.far=o.far,a.zoom=o.zoom,a.eyeSep=this.eyeSep,_projectionMatrix.copy(o.projectionMatrix);const _e=a.eyeSep/2,et=_e*a.near/a.focus,tt=a.near*Math.tan(DEG2RAD*a.fov*.5)/a.zoom;let rt,nt;_eyeLeft.elements[12]=-_e,_eyeRight.elements[12]=_e,rt=-tt*a.aspect+et,nt=tt*a.aspect+et,_projectionMatrix.elements[0]=2*a.near/(nt-rt),_projectionMatrix.elements[8]=(nt+rt)/(nt-rt),this.cameraL.projectionMatrix.copy(_projectionMatrix),rt=-tt*a.aspect-et,nt=tt*a.aspect-et,_projectionMatrix.elements[0]=2*a.near/(nt-rt),_projectionMatrix.elements[8]=(nt+rt)/(nt-rt),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(o.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(o.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(o=!0){this.autoStart=o,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let o=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const a=now();o=(a-this.oldTime)/1e3,this.oldTime=a,this.elapsedTime+=o}return o}}function now(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(o){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=o,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(o){return this.gain.gain.setTargetAtTime(o,this.context.currentTime,.01),this}updateMatrixWorld(o){super.updateMatrixWorld(o);const a=this.context.listener,j=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),a.positionX){const _e=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(_position$1.x,_e),a.positionY.linearRampToValueAtTime(_position$1.y,_e),a.positionZ.linearRampToValueAtTime(_position$1.z,_e),a.forwardX.linearRampToValueAtTime(_orientation$1.x,_e),a.forwardY.linearRampToValueAtTime(_orientation$1.y,_e),a.forwardZ.linearRampToValueAtTime(_orientation$1.z,_e),a.upX.linearRampToValueAtTime(j.x,_e),a.upY.linearRampToValueAtTime(j.y,_e),a.upZ.linearRampToValueAtTime(j.z,_e)}else a.setPosition(_position$1.x,_position$1.y,_position$1.z),a.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,j.x,j.y,j.z)}}class Audio extends Object3D{constructor(o){super(),this.type="Audio",this.listener=o,this.context=o.context,this.gain=this.context.createGain(),this.gain.connect(o.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(o){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=o,this.connect(),this}setMediaElementSource(o){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(o),this.connect(),this}setMediaStreamSource(o){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(o),this.connect(),this}setBuffer(o){return this.buffer=o,this.sourceType="buffer",this.autoplay&&this.play(),this}play(o=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+o;const a=this.context.createBufferSource();return a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let o=1,a=this.filters.length;o<a;o++)this.filters[o-1].connect(this.filters[o]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let o=1,a=this.filters.length;o<a;o++)this.filters[o-1].disconnect(this.filters[o]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(o){return o||(o=[]),this._connected===!0?(this.disconnect(),this.filters=o.slice(),this.connect()):this.filters=o.slice(),this}setDetune(o){if(this.detune=o,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(o){return this.setFilters(o?[o]:[])}setPlaybackRate(o){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=o,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(o){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=o,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(o){return this.loopStart=o,this}setLoopEnd(o){return this.loopEnd=o,this}getVolume(){return this.gain.gain.value}setVolume(o){return this.gain.gain.setTargetAtTime(o,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(o){super(o),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(o){return this.panner.refDistance=o,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(o){return this.panner.rolloffFactor=o,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(o){return this.panner.distanceModel=o,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(o){return this.panner.maxDistance=o,this}setDirectionalCone(o,a,j){return this.panner.coneInnerAngle=o,this.panner.coneOuterAngle=a,this.panner.coneOuterGain=j,this}updateMatrixWorld(o){if(super.updateMatrixWorld(o),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const a=this.panner;if(a.positionX){const j=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(_position.x,j),a.positionY.linearRampToValueAtTime(_position.y,j),a.positionZ.linearRampToValueAtTime(_position.z,j),a.orientationX.linearRampToValueAtTime(_orientation.x,j),a.orientationY.linearRampToValueAtTime(_orientation.y,j),a.orientationZ.linearRampToValueAtTime(_orientation.z,j)}else a.setPosition(_position.x,_position.y,_position.z),a.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(o,a=2048){this.analyser=o.context.createAnalyser(),this.analyser.fftSize=a,this.data=new Uint8Array(this.analyser.frequencyBinCount),o.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let o=0;const a=this.getFrequencyData();for(let j=0;j<a.length;j++)o+=a[j];return o/a.length}}class PropertyMixer{constructor(o,a,j){this.binding=o,this.valueSize=j;let _e,et,tt;switch(a){case"quaternion":_e=this._slerp,et=this._slerpAdditive,tt=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(j*6),this._workIndex=5;break;case"string":case"bool":_e=this._select,et=this._select,tt=this._setAdditiveIdentityOther,this.buffer=new Array(j*5);break;default:_e=this._lerp,et=this._lerpAdditive,tt=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(j*5)}this._mixBufferRegion=_e,this._mixBufferRegionAdditive=et,this._setIdentity=tt,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(o,a){const j=this.buffer,_e=this.valueSize,et=o*_e+_e;let tt=this.cumulativeWeight;if(tt===0){for(let rt=0;rt!==_e;++rt)j[et+rt]=j[rt];tt=a}else{tt+=a;const rt=a/tt;this._mixBufferRegion(j,et,0,rt,_e)}this.cumulativeWeight=tt}accumulateAdditive(o){const a=this.buffer,j=this.valueSize,_e=j*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(a,_e,0,o,j),this.cumulativeWeightAdditive+=o}apply(o){const a=this.valueSize,j=this.buffer,_e=o*a+a,et=this.cumulativeWeight,tt=this.cumulativeWeightAdditive,rt=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,et<1){const nt=a*this._origIndex;this._mixBufferRegion(j,_e,nt,1-et,a)}tt>0&&this._mixBufferRegionAdditive(j,_e,this._addIndex*a,1,a);for(let nt=a,it=a+a;nt!==it;++nt)if(j[nt]!==j[nt+a]){rt.setValue(j,_e);break}}saveOriginalState(){const o=this.binding,a=this.buffer,j=this.valueSize,_e=j*this._origIndex;o.getValue(a,_e);for(let et=j,tt=_e;et!==tt;++et)a[et]=a[_e+et%j];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const o=this.valueSize*3;this.binding.setValue(this.buffer,o)}_setAdditiveIdentityNumeric(){const o=this._addIndex*this.valueSize,a=o+this.valueSize;for(let j=o;j<a;j++)this.buffer[j]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const o=this._origIndex*this.valueSize,a=this._addIndex*this.valueSize;for(let j=0;j<this.valueSize;j++)this.buffer[a+j]=this.buffer[o+j]}_select(o,a,j,_e,et){if(_e>=.5)for(let tt=0;tt!==et;++tt)o[a+tt]=o[j+tt]}_slerp(o,a,j,_e){Quaternion.slerpFlat(o,a,o,a,o,j,_e)}_slerpAdditive(o,a,j,_e,et){const tt=this._workIndex*et;Quaternion.multiplyQuaternionsFlat(o,tt,o,a,o,j),Quaternion.slerpFlat(o,a,o,a,o,tt,_e)}_lerp(o,a,j,_e,et){const tt=1-_e;for(let rt=0;rt!==et;++rt){const nt=a+rt;o[nt]=o[nt]*tt+o[j+rt]*_e}}_lerpAdditive(o,a,j,_e,et){for(let tt=0;tt!==et;++tt){const rt=a+tt;o[rt]=o[rt]+o[j+tt]*_e}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(o,a,j){const _e=j||PropertyBinding.parseTrackName(a);this._targetGroup=o,this._bindings=o.subscribe_(a,_e)}getValue(o,a){this.bind();const j=this._targetGroup.nCachedObjects_,_e=this._bindings[j];_e!==void 0&&_e.getValue(o,a)}setValue(o,a){const j=this._bindings;for(let _e=this._targetGroup.nCachedObjects_,et=j.length;_e!==et;++_e)j[_e].setValue(o,a)}bind(){const o=this._bindings;for(let a=this._targetGroup.nCachedObjects_,j=o.length;a!==j;++a)o[a].bind()}unbind(){const o=this._bindings;for(let a=this._targetGroup.nCachedObjects_,j=o.length;a!==j;++a)o[a].unbind()}}class PropertyBinding{constructor(o,a,j){this.path=a,this.parsedPath=j||PropertyBinding.parseTrackName(a),this.node=PropertyBinding.findNode(o,this.parsedPath.nodeName),this.rootNode=o,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(o,a,j){return o&&o.isAnimationObjectGroup?new PropertyBinding.Composite(o,a,j):new PropertyBinding(o,a,j)}static sanitizeNodeName(o){return o.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(o){const a=_trackRe.exec(o);if(a===null)throw new Error("PropertyBinding: Cannot parse trackName: "+o);const j={nodeName:a[2],objectName:a[3],objectIndex:a[4],propertyName:a[5],propertyIndex:a[6]},_e=j.nodeName&&j.nodeName.lastIndexOf(".");if(_e!==void 0&&_e!==-1){const et=j.nodeName.substring(_e+1);_supportedObjectNames.indexOf(et)!==-1&&(j.nodeName=j.nodeName.substring(0,_e),j.objectName=et)}if(j.propertyName===null||j.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+o);return j}static findNode(o,a){if(a===void 0||a===""||a==="."||a===-1||a===o.name||a===o.uuid)return o;if(o.skeleton){const j=o.skeleton.getBoneByName(a);if(j!==void 0)return j}if(o.children){const j=function(et){for(let tt=0;tt<et.length;tt++){const rt=et[tt];if(rt.name===a||rt.uuid===a)return rt;const nt=j(rt.children);if(nt)return nt}return null},_e=j(o.children);if(_e)return _e}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(o,a){o[a]=this.targetObject[this.propertyName]}_getValue_array(o,a){const j=this.resolvedProperty;for(let _e=0,et=j.length;_e!==et;++_e)o[a++]=j[_e]}_getValue_arrayElement(o,a){o[a]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(o,a){this.resolvedProperty.toArray(o,a)}_setValue_direct(o,a){this.targetObject[this.propertyName]=o[a]}_setValue_direct_setNeedsUpdate(o,a){this.targetObject[this.propertyName]=o[a],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(o,a){this.targetObject[this.propertyName]=o[a],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(o,a){const j=this.resolvedProperty;for(let _e=0,et=j.length;_e!==et;++_e)j[_e]=o[a++]}_setValue_array_setNeedsUpdate(o,a){const j=this.resolvedProperty;for(let _e=0,et=j.length;_e!==et;++_e)j[_e]=o[a++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(o,a){const j=this.resolvedProperty;for(let _e=0,et=j.length;_e!==et;++_e)j[_e]=o[a++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(o,a){this.resolvedProperty[this.propertyIndex]=o[a]}_setValue_arrayElement_setNeedsUpdate(o,a){this.resolvedProperty[this.propertyIndex]=o[a],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(o,a){this.resolvedProperty[this.propertyIndex]=o[a],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(o,a){this.resolvedProperty.fromArray(o,a)}_setValue_fromArray_setNeedsUpdate(o,a){this.resolvedProperty.fromArray(o,a),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(o,a){this.resolvedProperty.fromArray(o,a),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(o,a){this.bind(),this.getValue(o,a)}_setValue_unbound(o,a){this.bind(),this.setValue(o,a)}bind(){let o=this.node;const a=this.parsedPath,j=a.objectName,_e=a.propertyName;let et=a.propertyIndex;if(o||(o=PropertyBinding.findNode(this.rootNode,a.nodeName),this.node=o),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!o){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(j){let it=a.objectIndex;switch(j){case"materials":if(!o.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!o.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}o=o.material.materials;break;case"bones":if(!o.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}o=o.skeleton.bones;for(let ot=0;ot<o.length;ot++)if(o[ot].name===it){it=ot;break}break;case"map":if("map"in o){o=o.map;break}if(!o.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!o.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}o=o.material.map;break;default:if(o[j]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}o=o[j]}if(it!==void 0){if(o[it]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,o);return}o=o[it]}}const tt=o[_e];if(tt===void 0){const it=a.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+it+"."+_e+" but it wasn't found.",o);return}let rt=this.Versioning.None;this.targetObject=o,o.needsUpdate!==void 0?rt=this.Versioning.NeedsUpdate:o.matrixWorldNeedsUpdate!==void 0&&(rt=this.Versioning.MatrixWorldNeedsUpdate);let nt=this.BindingType.Direct;if(et!==void 0){if(_e==="morphTargetInfluences"){if(!o.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!o.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}o.morphTargetDictionary[et]!==void 0&&(et=o.morphTargetDictionary[et])}nt=this.BindingType.ArrayElement,this.resolvedProperty=tt,this.propertyIndex=et}else tt.fromArray!==void 0&&tt.toArray!==void 0?(nt=this.BindingType.HasFromToArray,this.resolvedProperty=tt):Array.isArray(tt)?(nt=this.BindingType.EntireArray,this.resolvedProperty=tt):this.propertyName=_e;this.getValue=this.GetterByBindingType[nt],this.setValue=this.SetterByBindingTypeAndVersioning[nt][rt]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const o={};this._indicesByUUID=o;for(let j=0,_e=arguments.length;j!==_e;++j)o[arguments[j].uuid]=j;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}add(){const o=this._objects,a=this._indicesByUUID,j=this._paths,_e=this._parsedPaths,et=this._bindings,tt=et.length;let rt,nt=o.length,it=this.nCachedObjects_;for(let ot=0,st=arguments.length;ot!==st;++ot){const ct=arguments[ot],ut=ct.uuid;let dt=a[ut];if(dt===void 0){dt=nt++,a[ut]=dt,o.push(ct);for(let ft=0,ht=tt;ft!==ht;++ft)et[ft].push(new PropertyBinding(ct,j[ft],_e[ft]))}else if(dt<it){rt=o[dt];const ft=--it,ht=o[ft];a[ht.uuid]=dt,o[dt]=ht,a[ut]=ft,o[ft]=ct;for(let pt=0,yt=tt;pt!==yt;++pt){const gt=et[pt],xt=gt[ft];let wt=gt[dt];gt[dt]=xt,wt===void 0&&(wt=new PropertyBinding(ct,j[pt],_e[pt])),gt[ft]=wt}}else o[dt]!==rt&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=it}remove(){const o=this._objects,a=this._indicesByUUID,j=this._bindings,_e=j.length;let et=this.nCachedObjects_;for(let tt=0,rt=arguments.length;tt!==rt;++tt){const nt=arguments[tt],it=nt.uuid,ot=a[it];if(ot!==void 0&&ot>=et){const st=et++,ct=o[st];a[ct.uuid]=ot,o[ot]=ct,a[it]=st,o[st]=nt;for(let ut=0,dt=_e;ut!==dt;++ut){const ft=j[ut],ht=ft[st],pt=ft[ot];ft[ot]=ht,ft[st]=pt}}}this.nCachedObjects_=et}uncache(){const o=this._objects,a=this._indicesByUUID,j=this._bindings,_e=j.length;let et=this.nCachedObjects_,tt=o.length;for(let rt=0,nt=arguments.length;rt!==nt;++rt){const it=arguments[rt],ot=it.uuid,st=a[ot];if(st!==void 0)if(delete a[ot],st<et){const ct=--et,ut=o[ct],dt=--tt,ft=o[dt];a[ut.uuid]=st,o[st]=ut,a[ft.uuid]=ct,o[ct]=ft,o.pop();for(let ht=0,pt=_e;ht!==pt;++ht){const yt=j[ht],gt=yt[ct],xt=yt[dt];yt[st]=gt,yt[ct]=xt,yt.pop()}}else{const ct=--tt,ut=o[ct];ct>0&&(a[ut.uuid]=st),o[st]=ut,o.pop();for(let dt=0,ft=_e;dt!==ft;++dt){const ht=j[dt];ht[st]=ht[ct],ht.pop()}}}this.nCachedObjects_=et}subscribe_(o,a){const j=this._bindingsIndicesByPath;let _e=j[o];const et=this._bindings;if(_e!==void 0)return et[_e];const tt=this._paths,rt=this._parsedPaths,nt=this._objects,it=nt.length,ot=this.nCachedObjects_,st=new Array(it);_e=et.length,j[o]=_e,tt.push(o),rt.push(a),et.push(st);for(let ct=ot,ut=nt.length;ct!==ut;++ct){const dt=nt[ct];st[ct]=new PropertyBinding(dt,o,a)}return st}unsubscribe_(o){const a=this._bindingsIndicesByPath,j=a[o];if(j!==void 0){const _e=this._paths,et=this._parsedPaths,tt=this._bindings,rt=tt.length-1,nt=tt[rt],it=o[rt];a[it]=j,tt[j]=nt,tt.pop(),et[j]=et[rt],et.pop(),_e[j]=_e[rt],_e.pop()}}}class AnimationAction{constructor(o,a,j=null,_e=a.blendMode){this._mixer=o,this._clip=a,this._localRoot=j,this.blendMode=_e;const et=a.tracks,tt=et.length,rt=new Array(tt),nt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let it=0;it!==tt;++it){const ot=et[it].createInterpolant(null);rt[it]=ot,ot.settings=nt}this._interpolantSettings=nt,this._interpolants=rt,this._propertyBindings=new Array(tt),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(o){return this._startTime=o,this}setLoop(o,a){return this.loop=o,this.repetitions=a,this}setEffectiveWeight(o){return this.weight=o,this._effectiveWeight=this.enabled?o:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(o){return this._scheduleFading(o,0,1)}fadeOut(o){return this._scheduleFading(o,1,0)}crossFadeFrom(o,a,j){if(o.fadeOut(a),this.fadeIn(a),j){const _e=this._clip.duration,et=o._clip.duration,tt=et/_e,rt=_e/et;o.warp(1,tt,a),this.warp(rt,1,a)}return this}crossFadeTo(o,a,j){return o.crossFadeFrom(this,a,j)}stopFading(){const o=this._weightInterpolant;return o!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(o)),this}setEffectiveTimeScale(o){return this.timeScale=o,this._effectiveTimeScale=this.paused?0:o,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(o){return this.timeScale=this._clip.duration/o,this.stopWarping()}syncWith(o){return this.time=o.time,this.timeScale=o.timeScale,this.stopWarping()}halt(o){return this.warp(this._effectiveTimeScale,0,o)}warp(o,a,j){const _e=this._mixer,et=_e.time,tt=this.timeScale;let rt=this._timeScaleInterpolant;rt===null&&(rt=_e._lendControlInterpolant(),this._timeScaleInterpolant=rt);const nt=rt.parameterPositions,it=rt.sampleValues;return nt[0]=et,nt[1]=et+j,it[0]=o/tt,it[1]=a/tt,this}stopWarping(){const o=this._timeScaleInterpolant;return o!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(o)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(o,a,j,_e){if(!this.enabled){this._updateWeight(o);return}const et=this._startTime;if(et!==null){const nt=(o-et)*j;nt<0||j===0?a=0:(this._startTime=null,a=j*nt)}a*=this._updateTimeScale(o);const tt=this._updateTime(a),rt=this._updateWeight(o);if(rt>0){const nt=this._interpolants,it=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ot=0,st=nt.length;ot!==st;++ot)nt[ot].evaluate(tt),it[ot].accumulateAdditive(rt);break;case NormalAnimationBlendMode:default:for(let ot=0,st=nt.length;ot!==st;++ot)nt[ot].evaluate(tt),it[ot].accumulate(_e,rt)}}}_updateWeight(o){let a=0;if(this.enabled){a=this.weight;const j=this._weightInterpolant;if(j!==null){const _e=j.evaluate(o)[0];a*=_e,o>j.parameterPositions[1]&&(this.stopFading(),_e===0&&(this.enabled=!1))}}return this._effectiveWeight=a,a}_updateTimeScale(o){let a=0;if(!this.paused){a=this.timeScale;const j=this._timeScaleInterpolant;if(j!==null){const _e=j.evaluate(o)[0];a*=_e,o>j.parameterPositions[1]&&(this.stopWarping(),a===0?this.paused=!0:this.timeScale=a)}}return this._effectiveTimeScale=a,a}_updateTime(o){const a=this._clip.duration,j=this.loop;let _e=this.time+o,et=this._loopCount;const tt=j===LoopPingPong;if(o===0)return et===-1?_e:tt&&(et&1)===1?a-_e:_e;if(j===LoopOnce){et===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(_e>=a)_e=a;else if(_e<0)_e=0;else{this.time=_e;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=_e,this._mixer.dispatchEvent({type:"finished",action:this,direction:o<0?-1:1})}}else{if(et===-1&&(o>=0?(et=0,this._setEndings(!0,this.repetitions===0,tt)):this._setEndings(this.repetitions===0,!0,tt)),_e>=a||_e<0){const rt=Math.floor(_e/a);_e-=a*rt,et+=Math.abs(rt);const nt=this.repetitions-et;if(nt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,_e=o>0?a:0,this.time=_e,this._mixer.dispatchEvent({type:"finished",action:this,direction:o>0?1:-1});else{if(nt===1){const it=o<0;this._setEndings(it,!it,tt)}else this._setEndings(!1,!1,tt);this._loopCount=et,this.time=_e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:rt})}}else this.time=_e;if(tt&&(et&1)===1)return a-_e}return _e}_setEndings(o,a,j){const _e=this._interpolantSettings;j?(_e.endingStart=ZeroSlopeEnding,_e.endingEnd=ZeroSlopeEnding):(o?_e.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:_e.endingStart=WrapAroundEnding,a?_e.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:_e.endingEnd=WrapAroundEnding)}_scheduleFading(o,a,j){const _e=this._mixer,et=_e.time;let tt=this._weightInterpolant;tt===null&&(tt=_e._lendControlInterpolant(),this._weightInterpolant=tt);const rt=tt.parameterPositions,nt=tt.sampleValues;return rt[0]=et,nt[0]=a,rt[1]=et+o,nt[1]=j,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(o){super(),this._root=o,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(o,a){const j=o._localRoot||this._root,_e=o._clip.tracks,et=_e.length,tt=o._propertyBindings,rt=o._interpolants,nt=j.uuid,it=this._bindingsByRootAndName;let ot=it[nt];ot===void 0&&(ot={},it[nt]=ot);for(let st=0;st!==et;++st){const ct=_e[st],ut=ct.name;let dt=ot[ut];if(dt!==void 0)++dt.referenceCount,tt[st]=dt;else{if(dt=tt[st],dt!==void 0){dt._cacheIndex===null&&(++dt.referenceCount,this._addInactiveBinding(dt,nt,ut));continue}const ft=a&&a._propertyBindings[st].binding.parsedPath;dt=new PropertyMixer(PropertyBinding.create(j,ut,ft),ct.ValueTypeName,ct.getValueSize()),++dt.referenceCount,this._addInactiveBinding(dt,nt,ut),tt[st]=dt}rt[st].resultBuffer=dt.buffer}}_activateAction(o){if(!this._isActiveAction(o)){if(o._cacheIndex===null){const j=(o._localRoot||this._root).uuid,_e=o._clip.uuid,et=this._actionsByClip[_e];this._bindAction(o,et&&et.knownActions[0]),this._addInactiveAction(o,_e,j)}const a=o._propertyBindings;for(let j=0,_e=a.length;j!==_e;++j){const et=a[j];et.useCount++===0&&(this._lendBinding(et),et.saveOriginalState())}this._lendAction(o)}}_deactivateAction(o){if(this._isActiveAction(o)){const a=o._propertyBindings;for(let j=0,_e=a.length;j!==_e;++j){const et=a[j];--et.useCount===0&&(et.restoreOriginalState(),this._takeBackBinding(et))}this._takeBackAction(o)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const o=this;this.stats={actions:{get total(){return o._actions.length},get inUse(){return o._nActiveActions}},bindings:{get total(){return o._bindings.length},get inUse(){return o._nActiveBindings}},controlInterpolants:{get total(){return o._controlInterpolants.length},get inUse(){return o._nActiveControlInterpolants}}}}_isActiveAction(o){const a=o._cacheIndex;return a!==null&&a<this._nActiveActions}_addInactiveAction(o,a,j){const _e=this._actions,et=this._actionsByClip;let tt=et[a];if(tt===void 0)tt={knownActions:[o],actionByRoot:{}},o._byClipCacheIndex=0,et[a]=tt;else{const rt=tt.knownActions;o._byClipCacheIndex=rt.length,rt.push(o)}o._cacheIndex=_e.length,_e.push(o),tt.actionByRoot[j]=o}_removeInactiveAction(o){const a=this._actions,j=a[a.length-1],_e=o._cacheIndex;j._cacheIndex=_e,a[_e]=j,a.pop(),o._cacheIndex=null;const et=o._clip.uuid,tt=this._actionsByClip,rt=tt[et],nt=rt.knownActions,it=nt[nt.length-1],ot=o._byClipCacheIndex;it._byClipCacheIndex=ot,nt[ot]=it,nt.pop(),o._byClipCacheIndex=null;const st=rt.actionByRoot,ct=(o._localRoot||this._root).uuid;delete st[ct],nt.length===0&&delete tt[et],this._removeInactiveBindingsForAction(o)}_removeInactiveBindingsForAction(o){const a=o._propertyBindings;for(let j=0,_e=a.length;j!==_e;++j){const et=a[j];--et.referenceCount===0&&this._removeInactiveBinding(et)}}_lendAction(o){const a=this._actions,j=o._cacheIndex,_e=this._nActiveActions++,et=a[_e];o._cacheIndex=_e,a[_e]=o,et._cacheIndex=j,a[j]=et}_takeBackAction(o){const a=this._actions,j=o._cacheIndex,_e=--this._nActiveActions,et=a[_e];o._cacheIndex=_e,a[_e]=o,et._cacheIndex=j,a[j]=et}_addInactiveBinding(o,a,j){const _e=this._bindingsByRootAndName,et=this._bindings;let tt=_e[a];tt===void 0&&(tt={},_e[a]=tt),tt[j]=o,o._cacheIndex=et.length,et.push(o)}_removeInactiveBinding(o){const a=this._bindings,j=o.binding,_e=j.rootNode.uuid,et=j.path,tt=this._bindingsByRootAndName,rt=tt[_e],nt=a[a.length-1],it=o._cacheIndex;nt._cacheIndex=it,a[it]=nt,a.pop(),delete rt[et],Object.keys(rt).length===0&&delete tt[_e]}_lendBinding(o){const a=this._bindings,j=o._cacheIndex,_e=this._nActiveBindings++,et=a[_e];o._cacheIndex=_e,a[_e]=o,et._cacheIndex=j,a[j]=et}_takeBackBinding(o){const a=this._bindings,j=o._cacheIndex,_e=--this._nActiveBindings,et=a[_e];o._cacheIndex=_e,a[_e]=o,et._cacheIndex=j,a[j]=et}_lendControlInterpolant(){const o=this._controlInterpolants,a=this._nActiveControlInterpolants++;let j=o[a];return j===void 0&&(j=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),j.__cacheIndex=a,o[a]=j),j}_takeBackControlInterpolant(o){const a=this._controlInterpolants,j=o.__cacheIndex,_e=--this._nActiveControlInterpolants,et=a[_e];o.__cacheIndex=_e,a[_e]=o,et.__cacheIndex=j,a[j]=et}clipAction(o,a,j){const _e=a||this._root,et=_e.uuid;let tt=typeof o=="string"?AnimationClip.findByName(_e,o):o;const rt=tt!==null?tt.uuid:o,nt=this._actionsByClip[rt];let it=null;if(j===void 0&&(tt!==null?j=tt.blendMode:j=NormalAnimationBlendMode),nt!==void 0){const st=nt.actionByRoot[et];if(st!==void 0&&st.blendMode===j)return st;it=nt.knownActions[0],tt===null&&(tt=it._clip)}if(tt===null)return null;const ot=new AnimationAction(this,tt,a,j);return this._bindAction(ot,it),this._addInactiveAction(ot,rt,et),ot}existingAction(o,a){const j=a||this._root,_e=j.uuid,et=typeof o=="string"?AnimationClip.findByName(j,o):o,tt=et?et.uuid:o,rt=this._actionsByClip[tt];return rt!==void 0&&rt.actionByRoot[_e]||null}stopAllAction(){const o=this._actions,a=this._nActiveActions;for(let j=a-1;j>=0;--j)o[j].stop();return this}update(o){o*=this.timeScale;const a=this._actions,j=this._nActiveActions,_e=this.time+=o,et=Math.sign(o),tt=this._accuIndex^=1;for(let it=0;it!==j;++it)a[it]._update(_e,o,et,tt);const rt=this._bindings,nt=this._nActiveBindings;for(let it=0;it!==nt;++it)rt[it].apply(tt);return this}setTime(o){this.time=0;for(let a=0;a<this._actions.length;a++)this._actions[a].time=0;return this.update(o)}getRoot(){return this._root}uncacheClip(o){const a=this._actions,j=o.uuid,_e=this._actionsByClip,et=_e[j];if(et!==void 0){const tt=et.knownActions;for(let rt=0,nt=tt.length;rt!==nt;++rt){const it=tt[rt];this._deactivateAction(it);const ot=it._cacheIndex,st=a[a.length-1];it._cacheIndex=null,it._byClipCacheIndex=null,st._cacheIndex=ot,a[ot]=st,a.pop(),this._removeInactiveBindingsForAction(it)}delete _e[j]}}uncacheRoot(o){const a=o.uuid,j=this._actionsByClip;for(const tt in j){const rt=j[tt].actionByRoot,nt=rt[a];nt!==void 0&&(this._deactivateAction(nt),this._removeInactiveAction(nt))}const _e=this._bindingsByRootAndName,et=_e[a];if(et!==void 0)for(const tt in et){const rt=et[tt];rt.restoreOriginalState(),this._removeInactiveBinding(rt)}}uncacheAction(o,a){const j=this.existingAction(o,a);j!==null&&(this._deactivateAction(j),this._removeInactiveAction(j))}}class Uniform{constructor(o){this.value=o}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(o){return this.uniforms.push(o),this}remove(o){const a=this.uniforms.indexOf(o);return a!==-1&&this.uniforms.splice(a,1),this}setName(o){return this.name=o,this}setUsage(o){return this.usage=o,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(o){this.name=o.name,this.usage=o.usage;const a=o.uniforms;this.uniforms.length=0;for(let j=0,_e=a.length;j<_e;j++)this.uniforms.push(a[j].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(o,a,j=1){super(o,a),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=j}copy(o){return super.copy(o),this.meshPerAttribute=o.meshPerAttribute,this}clone(o){const a=super.clone(o);return a.meshPerAttribute=this.meshPerAttribute,a}toJSON(o){const a=super.toJSON(o);return a.isInstancedInterleavedBuffer=!0,a.meshPerAttribute=this.meshPerAttribute,a}}class GLBufferAttribute{constructor(o,a,j,_e,et){this.isGLBufferAttribute=!0,this.name="",this.buffer=o,this.type=a,this.itemSize=j,this.elementSize=_e,this.count=et,this.version=0}set needsUpdate(o){o===!0&&this.version++}setBuffer(o){return this.buffer=o,this}setType(o,a){return this.type=o,this.elementSize=a,this}setItemSize(o){return this.itemSize=o,this}setCount(o){return this.count=o,this}}class Raycaster{constructor(o,a,j=0,_e=1/0){this.ray=new Ray(o,a),this.near=j,this.far=_e,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(o,a){this.ray.set(o,a)}setFromCamera(o,a){a.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(a.matrixWorld),this.ray.direction.set(o.x,o.y,.5).unproject(a).sub(this.ray.origin).normalize(),this.camera=a):a.isOrthographicCamera?(this.ray.origin.set(o.x,o.y,(a.near+a.far)/(a.near-a.far)).unproject(a),this.ray.direction.set(0,0,-1).transformDirection(a.matrixWorld),this.camera=a):console.error("THREE.Raycaster: Unsupported camera type: "+a.type)}intersectObject(o,a=!0,j=[]){return intersectObject(o,this,j,a),j.sort(ascSort),j}intersectObjects(o,a=!0,j=[]){for(let _e=0,et=o.length;_e<et;_e++)intersectObject(o[_e],this,j,a);return j.sort(ascSort),j}}function ascSort($,o){return $.distance-o.distance}function intersectObject($,o,a,j){if($.layers.test(o.layers)&&$.raycast(o,a),j===!0){const _e=$.children;for(let et=0,tt=_e.length;et<tt;et++)intersectObject(_e[et],o,a,!0)}}class Spherical{constructor(o=1,a=0,j=0){return this.radius=o,this.phi=a,this.theta=j,this}set(o,a,j){return this.radius=o,this.phi=a,this.theta=j,this}copy(o){return this.radius=o.radius,this.phi=o.phi,this.theta=o.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(o){return this.setFromCartesianCoords(o.x,o.y,o.z)}setFromCartesianCoords(o,a,j){return this.radius=Math.sqrt(o*o+a*a+j*j),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(o,j),this.phi=Math.acos(clamp(a/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(o=1,a=0,j=0){return this.radius=o,this.theta=a,this.y=j,this}set(o,a,j){return this.radius=o,this.theta=a,this.y=j,this}copy(o){return this.radius=o.radius,this.theta=o.theta,this.y=o.y,this}setFromVector3(o){return this.setFromCartesianCoords(o.x,o.y,o.z)}setFromCartesianCoords(o,a,j){return this.radius=Math.sqrt(o*o+j*j),this.theta=Math.atan2(o,j),this.y=a,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(o=new Vector2(1/0,1/0),a=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=o,this.max=a}set(o,a){return this.min.copy(o),this.max.copy(a),this}setFromPoints(o){this.makeEmpty();for(let a=0,j=o.length;a<j;a++)this.expandByPoint(o[a]);return this}setFromCenterAndSize(o,a){const j=_vector$4.copy(a).multiplyScalar(.5);return this.min.copy(o).sub(j),this.max.copy(o).add(j),this}clone(){return new this.constructor().copy(this)}copy(o){return this.min.copy(o.min),this.max.copy(o.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(o){return this.isEmpty()?o.set(0,0):o.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(o){return this.isEmpty()?o.set(0,0):o.subVectors(this.max,this.min)}expandByPoint(o){return this.min.min(o),this.max.max(o),this}expandByVector(o){return this.min.sub(o),this.max.add(o),this}expandByScalar(o){return this.min.addScalar(-o),this.max.addScalar(o),this}containsPoint(o){return!(o.x<this.min.x||o.x>this.max.x||o.y<this.min.y||o.y>this.max.y)}containsBox(o){return this.min.x<=o.min.x&&o.max.x<=this.max.x&&this.min.y<=o.min.y&&o.max.y<=this.max.y}getParameter(o,a){return a.set((o.x-this.min.x)/(this.max.x-this.min.x),(o.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(o){return!(o.max.x<this.min.x||o.min.x>this.max.x||o.max.y<this.min.y||o.min.y>this.max.y)}clampPoint(o,a){return a.copy(o).clamp(this.min,this.max)}distanceToPoint(o){return this.clampPoint(o,_vector$4).distanceTo(o)}intersect(o){return this.min.max(o.min),this.max.min(o.max),this.isEmpty()&&this.makeEmpty(),this}union(o){return this.min.min(o.min),this.max.max(o.max),this}translate(o){return this.min.add(o),this.max.add(o),this}equals(o){return o.min.equals(this.min)&&o.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(o=new Vector3,a=new Vector3){this.start=o,this.end=a}set(o,a){return this.start.copy(o),this.end.copy(a),this}copy(o){return this.start.copy(o.start),this.end.copy(o.end),this}getCenter(o){return o.addVectors(this.start,this.end).multiplyScalar(.5)}delta(o){return o.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(o,a){return this.delta(a).multiplyScalar(o).add(this.start)}closestPointToPointParameter(o,a){_startP.subVectors(o,this.start),_startEnd.subVectors(this.end,this.start);const j=_startEnd.dot(_startEnd);let et=_startEnd.dot(_startP)/j;return a&&(et=clamp(et,0,1)),et}closestPointToPoint(o,a,j){const _e=this.closestPointToPointParameter(o,a);return this.delta(j).multiplyScalar(_e).add(this.start)}applyMatrix4(o){return this.start.applyMatrix4(o),this.end.applyMatrix4(o),this}equals(o){return o.start.equals(this.start)&&o.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(o,a){super(),this.light=o,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=a,this.type="SpotLightHelper";const j=new BufferGeometry,_e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let tt=0,rt=1,nt=32;tt<nt;tt++,rt++){const it=tt/nt*Math.PI*2,ot=rt/nt*Math.PI*2;_e.push(Math.cos(it),Math.sin(it),1,Math.cos(ot),Math.sin(ot),1)}j.setAttribute("position",new Float32BufferAttribute(_e,3));const et=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(j,et),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const o=this.light.distance?this.light.distance:1e3,a=o*Math.tan(this.light.angle);this.cone.scale.set(a,a,o),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(o){const a=getBoneList(o),j=new BufferGeometry,_e=[],et=[],tt=new Color(0,0,1),rt=new Color(0,1,0);for(let it=0;it<a.length;it++){const ot=a[it];ot.parent&&ot.parent.isBone&&(_e.push(0,0,0),_e.push(0,0,0),et.push(tt.r,tt.g,tt.b),et.push(rt.r,rt.g,rt.b))}j.setAttribute("position",new Float32BufferAttribute(_e,3)),j.setAttribute("color",new Float32BufferAttribute(et,3));const nt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(j,nt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=o,this.bones=a,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(o){const a=this.bones,j=this.geometry,_e=j.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let et=0,tt=0;et<a.length;et++){const rt=a[et];rt.parent&&rt.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,rt.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),_e.setXYZ(tt,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,rt.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),_e.setXYZ(tt+1,_vector$2.x,_vector$2.y,_vector$2.z),tt+=2)}j.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(o)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList($){const o=[];$.isBone===!0&&o.push($);for(let a=0;a<$.children.length;a++)o.push.apply(o,getBoneList($.children[a]));return o}class PointLightHelper extends Mesh{constructor(o,a,j){const _e=new SphereGeometry(a,4,2),et=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(_e,et),this.light=o,this.color=j,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(o,a,j){super(),this.light=o,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=j,this.type="HemisphereLightHelper";const _e=new OctahedronGeometry(a);_e.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const et=_e.getAttribute("position"),tt=new Float32Array(et.count*3);_e.setAttribute("color",new BufferAttribute(tt,3)),this.add(new Mesh(_e,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const o=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const a=o.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let j=0,_e=a.count;j<_e;j++){const et=j<_e/2?_color1:_color2;a.setXYZ(j,et.r,et.g,et.b)}a.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),o.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(o=10,a=10,j=4473924,_e=8947848){j=new Color(j),_e=new Color(_e);const et=a/2,tt=o/a,rt=o/2,nt=[],it=[];for(let ct=0,ut=0,dt=-rt;ct<=a;ct++,dt+=tt){nt.push(-rt,0,dt,rt,0,dt),nt.push(dt,0,-rt,dt,0,rt);const ft=ct===et?j:_e;ft.toArray(it,ut),ut+=3,ft.toArray(it,ut),ut+=3,ft.toArray(it,ut),ut+=3,ft.toArray(it,ut),ut+=3}const ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute(nt,3)),ot.setAttribute("color",new Float32BufferAttribute(it,3));const st=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ot,st),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(o=10,a=16,j=8,_e=64,et=4473924,tt=8947848){et=new Color(et),tt=new Color(tt);const rt=[],nt=[];if(a>1)for(let st=0;st<a;st++){const ct=st/a*(Math.PI*2),ut=Math.sin(ct)*o,dt=Math.cos(ct)*o;rt.push(0,0,0),rt.push(ut,0,dt);const ft=st&1?et:tt;nt.push(ft.r,ft.g,ft.b),nt.push(ft.r,ft.g,ft.b)}for(let st=0;st<j;st++){const ct=st&1?et:tt,ut=o-o/j*st;for(let dt=0;dt<_e;dt++){let ft=dt/_e*(Math.PI*2),ht=Math.sin(ft)*ut,pt=Math.cos(ft)*ut;rt.push(ht,0,pt),nt.push(ct.r,ct.g,ct.b),ft=(dt+1)/_e*(Math.PI*2),ht=Math.sin(ft)*ut,pt=Math.cos(ft)*ut,rt.push(ht,0,pt),nt.push(ct.r,ct.g,ct.b)}}const it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute(rt,3)),it.setAttribute("color",new Float32BufferAttribute(nt,3));const ot=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(it,ot),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(o,a,j){super(),this.light=o,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=j,this.type="DirectionalLightHelper",a===void 0&&(a=1);let _e=new BufferGeometry;_e.setAttribute("position",new Float32BufferAttribute([-a,a,0,a,a,0,a,-a,0,-a,-a,0,-a,a,0],3));const et=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(_e,et),this.add(this.lightPlane),_e=new BufferGeometry,_e.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(_e,et),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(o){const a=new BufferGeometry,j=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),_e=[],et=[],tt={};rt("n1","n2"),rt("n2","n4"),rt("n4","n3"),rt("n3","n1"),rt("f1","f2"),rt("f2","f4"),rt("f4","f3"),rt("f3","f1"),rt("n1","f1"),rt("n2","f2"),rt("n3","f3"),rt("n4","f4"),rt("p","n1"),rt("p","n2"),rt("p","n3"),rt("p","n4"),rt("u1","u2"),rt("u2","u3"),rt("u3","u1"),rt("c","t"),rt("p","c"),rt("cn1","cn2"),rt("cn3","cn4"),rt("cf1","cf2"),rt("cf3","cf4");function rt(dt,ft){nt(dt),nt(ft)}function nt(dt){_e.push(0,0,0),et.push(0,0,0),tt[dt]===void 0&&(tt[dt]=[]),tt[dt].push(_e.length/3-1)}a.setAttribute("position",new Float32BufferAttribute(_e,3)),a.setAttribute("color",new Float32BufferAttribute(et,3)),super(a,j),this.type="CameraHelper",this.camera=o,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=tt,this.update();const it=new Color(16755200),ot=new Color(16711680),st=new Color(43775),ct=new Color(16777215),ut=new Color(3355443);this.setColors(it,ot,st,ct,ut)}setColors(o,a,j,_e,et){const rt=this.geometry.getAttribute("color");rt.setXYZ(0,o.r,o.g,o.b),rt.setXYZ(1,o.r,o.g,o.b),rt.setXYZ(2,o.r,o.g,o.b),rt.setXYZ(3,o.r,o.g,o.b),rt.setXYZ(4,o.r,o.g,o.b),rt.setXYZ(5,o.r,o.g,o.b),rt.setXYZ(6,o.r,o.g,o.b),rt.setXYZ(7,o.r,o.g,o.b),rt.setXYZ(8,o.r,o.g,o.b),rt.setXYZ(9,o.r,o.g,o.b),rt.setXYZ(10,o.r,o.g,o.b),rt.setXYZ(11,o.r,o.g,o.b),rt.setXYZ(12,o.r,o.g,o.b),rt.setXYZ(13,o.r,o.g,o.b),rt.setXYZ(14,o.r,o.g,o.b),rt.setXYZ(15,o.r,o.g,o.b),rt.setXYZ(16,o.r,o.g,o.b),rt.setXYZ(17,o.r,o.g,o.b),rt.setXYZ(18,o.r,o.g,o.b),rt.setXYZ(19,o.r,o.g,o.b),rt.setXYZ(20,o.r,o.g,o.b),rt.setXYZ(21,o.r,o.g,o.b),rt.setXYZ(22,o.r,o.g,o.b),rt.setXYZ(23,o.r,o.g,o.b),rt.setXYZ(24,a.r,a.g,a.b),rt.setXYZ(25,a.r,a.g,a.b),rt.setXYZ(26,a.r,a.g,a.b),rt.setXYZ(27,a.r,a.g,a.b),rt.setXYZ(28,a.r,a.g,a.b),rt.setXYZ(29,a.r,a.g,a.b),rt.setXYZ(30,a.r,a.g,a.b),rt.setXYZ(31,a.r,a.g,a.b),rt.setXYZ(32,j.r,j.g,j.b),rt.setXYZ(33,j.r,j.g,j.b),rt.setXYZ(34,j.r,j.g,j.b),rt.setXYZ(35,j.r,j.g,j.b),rt.setXYZ(36,j.r,j.g,j.b),rt.setXYZ(37,j.r,j.g,j.b),rt.setXYZ(38,_e.r,_e.g,_e.b),rt.setXYZ(39,_e.r,_e.g,_e.b),rt.setXYZ(40,et.r,et.g,et.b),rt.setXYZ(41,et.r,et.g,et.b),rt.setXYZ(42,et.r,et.g,et.b),rt.setXYZ(43,et.r,et.g,et.b),rt.setXYZ(44,et.r,et.g,et.b),rt.setXYZ(45,et.r,et.g,et.b),rt.setXYZ(46,et.r,et.g,et.b),rt.setXYZ(47,et.r,et.g,et.b),rt.setXYZ(48,et.r,et.g,et.b),rt.setXYZ(49,et.r,et.g,et.b),rt.needsUpdate=!0}update(){const o=this.geometry,a=this.pointMap,j=1,_e=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",a,o,_camera,0,0,-1),setPoint("t",a,o,_camera,0,0,1),setPoint("n1",a,o,_camera,-j,-_e,-1),setPoint("n2",a,o,_camera,j,-_e,-1),setPoint("n3",a,o,_camera,-j,_e,-1),setPoint("n4",a,o,_camera,j,_e,-1),setPoint("f1",a,o,_camera,-j,-_e,1),setPoint("f2",a,o,_camera,j,-_e,1),setPoint("f3",a,o,_camera,-j,_e,1),setPoint("f4",a,o,_camera,j,_e,1),setPoint("u1",a,o,_camera,j*.7,_e*1.1,-1),setPoint("u2",a,o,_camera,-j*.7,_e*1.1,-1),setPoint("u3",a,o,_camera,0,_e*2,-1),setPoint("cf1",a,o,_camera,-j,0,1),setPoint("cf2",a,o,_camera,j,0,1),setPoint("cf3",a,o,_camera,0,-_e,1),setPoint("cf4",a,o,_camera,0,_e,1),setPoint("cn1",a,o,_camera,-j,0,-1),setPoint("cn2",a,o,_camera,j,0,-1),setPoint("cn3",a,o,_camera,0,-_e,-1),setPoint("cn4",a,o,_camera,0,_e,-1),o.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint($,o,a,j,_e,et,tt){_vector.set(_e,et,tt).unproject(j);const rt=o[$];if(rt!==void 0){const nt=a.getAttribute("position");for(let it=0,ot=rt.length;it<ot;it++)nt.setXYZ(rt[it],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(o,a=16776960){const j=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_e=new Float32Array(8*3),et=new BufferGeometry;et.setIndex(new BufferAttribute(j,1)),et.setAttribute("position",new BufferAttribute(_e,3)),super(et,new LineBasicMaterial({color:a,toneMapped:!1})),this.object=o,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(o){if(o!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const a=_box.min,j=_box.max,_e=this.geometry.attributes.position,et=_e.array;et[0]=j.x,et[1]=j.y,et[2]=j.z,et[3]=a.x,et[4]=j.y,et[5]=j.z,et[6]=a.x,et[7]=a.y,et[8]=j.z,et[9]=j.x,et[10]=a.y,et[11]=j.z,et[12]=j.x,et[13]=j.y,et[14]=a.z,et[15]=a.x,et[16]=j.y,et[17]=a.z,et[18]=a.x,et[19]=a.y,et[20]=a.z,et[21]=j.x,et[22]=a.y,et[23]=a.z,_e.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(o){return this.object=o,this.update(),this}copy(o,a){return super.copy(o,a),this.object=o.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(o,a=16776960){const j=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_e=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],et=new BufferGeometry;et.setIndex(new BufferAttribute(j,1)),et.setAttribute("position",new Float32BufferAttribute(_e,3)),super(et,new LineBasicMaterial({color:a,toneMapped:!1})),this.box=o,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(o){const a=this.box;a.isEmpty()||(a.getCenter(this.position),a.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(o))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(o,a=1,j=16776960){const _e=j,et=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],tt=new BufferGeometry;tt.setAttribute("position",new Float32BufferAttribute(et,3)),tt.computeBoundingSphere(),super(tt,new LineBasicMaterial({color:_e,toneMapped:!1})),this.type="PlaneHelper",this.plane=o,this.size=a;const rt=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute(rt,3)),nt.computeBoundingSphere(),this.add(new Mesh(nt,new MeshBasicMaterial({color:_e,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(o){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(o)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(o=new Vector3(0,0,1),a=new Vector3(0,0,0),j=1,_e=16776960,et=j*.2,tt=et*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(a),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:_e,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:_e,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(o),this.setLength(j,et,tt)}setDirection(o){if(o.y>.99999)this.quaternion.set(0,0,0,1);else if(o.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(o.z,0,-o.x).normalize();const a=Math.acos(o.y);this.quaternion.setFromAxisAngle(_axis,a)}}setLength(o,a=o*.2,j=a*.2){this.line.scale.set(1,Math.max(1e-4,o-a),1),this.line.updateMatrix(),this.cone.scale.set(j,a,j),this.cone.position.y=o,this.cone.updateMatrix()}setColor(o){this.line.material.color.set(o),this.cone.material.color.set(o)}copy(o){return super.copy(o,!1),this.line.copy(o.line),this.cone.copy(o.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(o=1){const a=[0,0,0,o,0,0,0,0,0,0,o,0,0,0,0,0,0,o],j=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],_e=new BufferGeometry;_e.setAttribute("position",new Float32BufferAttribute(a,3)),_e.setAttribute("color",new Float32BufferAttribute(j,3));const et=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(_e,et),this.type="AxesHelper"}setColors(o,a,j){const _e=new Color,et=this.geometry.attributes.color.array;return _e.set(o),_e.toArray(et,0),_e.toArray(et,3),_e.set(a),_e.toArray(et,6),_e.toArray(et,9),_e.set(j),_e.toArray(et,12),_e.toArray(et,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(o,a){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(o,a),this}lineTo(o,a){return this.currentPath.lineTo(o,a),this}quadraticCurveTo(o,a,j,_e){return this.currentPath.quadraticCurveTo(o,a,j,_e),this}bezierCurveTo(o,a,j,_e,et,tt){return this.currentPath.bezierCurveTo(o,a,j,_e,et,tt),this}splineThru(o){return this.currentPath.splineThru(o),this}toShapes(o){function a(pt){const yt=[];for(let gt=0,xt=pt.length;gt<xt;gt++){const wt=pt[gt],Mt=new Shape;Mt.curves=wt.curves,yt.push(Mt)}return yt}function j(pt,yt){const gt=yt.length;let xt=!1;for(let wt=gt-1,Mt=0;Mt<gt;wt=Mt++){let It=yt[wt],Tt=yt[Mt],Dt=Tt.x-It.x,Ut=Tt.y-It.y;if(Math.abs(Ut)>Number.EPSILON){if(Ut<0&&(It=yt[Mt],Dt=-Dt,Tt=yt[wt],Ut=-Ut),pt.y<It.y||pt.y>Tt.y)continue;if(pt.y===It.y){if(pt.x===It.x)return!0}else{const jt=Ut*(pt.x-It.x)-Dt*(pt.y-It.y);if(jt===0)return!0;if(jt<0)continue;xt=!xt}}else{if(pt.y!==It.y)continue;if(Tt.x<=pt.x&&pt.x<=It.x||It.x<=pt.x&&pt.x<=Tt.x)return!0}}return xt}const _e=ShapeUtils.isClockWise,et=this.subPaths;if(et.length===0)return[];let tt,rt,nt;const it=[];if(et.length===1)return rt=et[0],nt=new Shape,nt.curves=rt.curves,it.push(nt),it;let ot=!_e(et[0].getPoints());ot=o?!ot:ot;const st=[],ct=[];let ut=[],dt=0,ft;ct[dt]=void 0,ut[dt]=[];for(let pt=0,yt=et.length;pt<yt;pt++)rt=et[pt],ft=rt.getPoints(),tt=_e(ft),tt=o?!tt:tt,tt?(!ot&&ct[dt]&&dt++,ct[dt]={s:new Shape,p:ft},ct[dt].s.curves=rt.curves,ot&&dt++,ut[dt]=[]):ut[dt].push({h:rt,p:ft[0]});if(!ct[0])return a(et);if(ct.length>1){let pt=!1,yt=0;for(let gt=0,xt=ct.length;gt<xt;gt++)st[gt]=[];for(let gt=0,xt=ct.length;gt<xt;gt++){const wt=ut[gt];for(let Mt=0;Mt<wt.length;Mt++){const It=wt[Mt];let Tt=!0;for(let Dt=0;Dt<ct.length;Dt++)j(It.p,ct[Dt].p)&&(gt!==Dt&&yt++,Tt?(Tt=!1,st[Dt].push(It)):pt=!0);Tt&&st[gt].push(It)}}yt>0&&pt===!1&&(ut=st)}let ht;for(let pt=0,yt=ct.length;pt<yt;pt++){nt=ct[pt].s,it.push(nt),ht=ut[pt];for(let gt=0,xt=ht.length;gt<xt;gt++)nt.holes.push(ht[gt].h)}return it}}const _tables=_generateTables();function _generateTables(){const $=new ArrayBuffer(4),o=new Float32Array($),a=new Uint32Array($),j=new Uint32Array(512),_e=new Uint32Array(512);for(let nt=0;nt<256;++nt){const it=nt-127;it<-27?(j[nt]=0,j[nt|256]=32768,_e[nt]=24,_e[nt|256]=24):it<-14?(j[nt]=1024>>-it-14,j[nt|256]=1024>>-it-14|32768,_e[nt]=-it-1,_e[nt|256]=-it-1):it<=15?(j[nt]=it+15<<10,j[nt|256]=it+15<<10|32768,_e[nt]=13,_e[nt|256]=13):it<128?(j[nt]=31744,j[nt|256]=64512,_e[nt]=24,_e[nt|256]=24):(j[nt]=31744,j[nt|256]=64512,_e[nt]=13,_e[nt|256]=13)}const et=new Uint32Array(2048),tt=new Uint32Array(64),rt=new Uint32Array(64);for(let nt=1;nt<1024;++nt){let it=nt<<13,ot=0;for(;!(it&8388608);)it<<=1,ot-=8388608;it&=-8388609,ot+=947912704,et[nt]=it|ot}for(let nt=1024;nt<2048;++nt)et[nt]=939524096+(nt-1024<<13);for(let nt=1;nt<31;++nt)tt[nt]=nt<<23;tt[31]=1199570944,tt[32]=2147483648;for(let nt=33;nt<63;++nt)tt[nt]=2147483648+(nt-32<<23);tt[63]=3347054592;for(let nt=1;nt<64;++nt)nt!==32&&(rt[nt]=1024);return{floatView:o,uint32View:a,baseTable:j,shiftTable:_e,mantissaTable:et,exponentTable:tt,offsetTable:rt}}function toHalfFloat($){Math.abs($)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),$=clamp($,-65504,65504),_tables.floatView[0]=$;const o=_tables.uint32View[0],a=o>>23&511;return _tables.baseTable[a]+((o&8388607)>>_tables.shiftTable[a])}function fromHalfFloat($){const o=$>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[o]+($&1023)]+_tables.exponentTable[o],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat};class BoxBufferGeometry extends BoxGeometry{constructor(o,a,j,_e,et,tt){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(o,a,j,_e,et,tt)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor(o,a,j,_e){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(o,a,j,_e)}}class CircleBufferGeometry extends CircleGeometry{constructor(o,a,j,_e){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(o,a,j,_e)}}class ConeBufferGeometry extends ConeGeometry{constructor(o,a,j,_e,et,tt,rt){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(o,a,j,_e,et,tt,rt)}}class CylinderBufferGeometry extends CylinderGeometry{constructor(o,a,j,_e,et,tt,rt,nt){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(o,a,j,_e,et,tt,rt,nt)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor(o,a){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(o,a)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor(o,a){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(o,a)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor(o,a){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(o,a)}}class LatheBufferGeometry extends LatheGeometry{constructor(o,a,j,_e){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(o,a,j,_e)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor(o,a){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(o,a)}}class PlaneBufferGeometry extends PlaneGeometry{constructor(o,a,j,_e){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(o,a,j,_e)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor(o,a,j,_e){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(o,a,j,_e)}}class RingBufferGeometry extends RingGeometry{constructor(o,a,j,_e,et,tt){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(o,a,j,_e,et,tt)}}class ShapeBufferGeometry extends ShapeGeometry{constructor(o,a){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(o,a)}}class SphereBufferGeometry extends SphereGeometry{constructor(o,a,j,_e,et,tt,rt){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(o,a,j,_e,et,tt,rt)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor(o,a){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(o,a)}}class TorusBufferGeometry extends TorusGeometry{constructor(o,a,j,_e,et){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(o,a,j,_e,et)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor(o,a,j,_e,et,tt){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(o,a,j,_e,et,tt)}}class TubeBufferGeometry extends TubeGeometry{constructor(o,a,j,_e,et){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(o,a,j,_e,et)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points:Points$1,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$1($){let o;const a=new Set,j=(it,ot)=>{const st=typeof it=="function"?it(o):it;if(st!==o){const ct=o;o=ot?st:Object.assign({},o,st),a.forEach(ut=>ut(o,ct))}},_e=()=>o,et=(it,ot=_e,st=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ct=ot(o);function ut(){const dt=ot(o);if(!st(ct,dt)){const ft=ct;it(ct=dt,ft)}}return a.add(ut),()=>a.delete(ut)},nt={setState:j,getState:_e,subscribe:(it,ot,st)=>ot||st?et(it,ot,st):(a.add(it),()=>a.delete(it)),destroy:()=>a.clear()};return o=$(j,_e,nt),nt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create($){const o=typeof $=="function"?createStore$1($):$,a=(j=o.getState,_e=Object.is)=>{const[,et]=reactExports.useReducer(ht=>ht+1,0),tt=o.getState(),rt=reactExports.useRef(tt),nt=reactExports.useRef(j),it=reactExports.useRef(_e),ot=reactExports.useRef(!1),st=reactExports.useRef();st.current===void 0&&(st.current=j(tt));let ct,ut=!1;(rt.current!==tt||nt.current!==j||it.current!==_e||ot.current)&&(ct=j(tt),ut=!_e(st.current,ct)),useIsomorphicLayoutEffect$1(()=>{ut&&(st.current=ct),rt.current=tt,nt.current=j,it.current=_e,ot.current=!1});const dt=reactExports.useRef(tt);useIsomorphicLayoutEffect$1(()=>{const ht=()=>{try{const yt=o.getState(),gt=nt.current(yt);it.current(st.current,gt)||(rt.current=yt,st.current=gt,et())}catch{ot.current=!0,et()}},pt=o.subscribe(ht);return o.getState()!==dt.current&&ht(),pt},[]);const ft=ut?ct:st.current;return reactExports.useDebugValue(ft),ft};return Object.assign(a,o),a[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const j=[a,o];return{next(){const _e=j.length<=0;return{value:j.shift(),done:_e}}}},a}var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function o(Pt,zt){var Vt=Pt.length;Pt.push(zt);e:for(;0<Vt;){var $t=Vt-1>>>1,At=Pt[$t];if(0<_e(At,zt))Pt[$t]=zt,Pt[Vt]=At,Vt=$t;else break e}}function a(Pt){return Pt.length===0?null:Pt[0]}function j(Pt){if(Pt.length===0)return null;var zt=Pt[0],Vt=Pt.pop();if(Vt!==zt){Pt[0]=Vt;e:for(var $t=0,At=Pt.length,Ht=At>>>1;$t<Ht;){var ar=2*($t+1)-1,Rt=Pt[ar],Zt=ar+1,ir=Pt[Zt];if(0>_e(Rt,Vt))Zt<At&&0>_e(ir,Rt)?(Pt[$t]=ir,Pt[Zt]=Vt,$t=Zt):(Pt[$t]=Rt,Pt[ar]=Vt,$t=ar);else if(Zt<At&&0>_e(ir,Vt))Pt[$t]=ir,Pt[Zt]=Vt,$t=Zt;else break e}}return zt}function _e(Pt,zt){var Vt=Pt.sortIndex-zt.sortIndex;return Vt!==0?Vt:Pt.id-zt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;$.unstable_now=function(){return et.now()}}else{var tt=Date,rt=tt.now();$.unstable_now=function(){return tt.now()-rt}}var nt=[],it=[],ot=1,st=null,ct=3,ut=!1,dt=!1,ft=!1,ht=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(Pt){for(var zt=a(it);zt!==null;){if(zt.callback===null)j(it);else if(zt.startTime<=Pt)j(it),zt.sortIndex=zt.expirationTime,o(nt,zt);else break;zt=a(it)}}function xt(Pt){if(ft=!1,gt(Pt),!dt)if(a(nt)!==null)dt=!0,Lt(wt);else{var zt=a(it);zt!==null&&Ot(xt,zt.startTime-Pt)}}function wt(Pt,zt){dt=!1,ft&&(ft=!1,pt(Tt),Tt=-1),ut=!0;var Vt=ct;try{for(gt(zt),st=a(nt);st!==null&&(!(st.expirationTime>zt)||Pt&&!jt());){var $t=st.callback;if(typeof $t=="function"){st.callback=null,ct=st.priorityLevel;var At=$t(st.expirationTime<=zt);zt=$.unstable_now(),typeof At=="function"?st.callback=At:st===a(nt)&&j(nt),gt(zt)}else j(nt);st=a(nt)}if(st!==null)var Ht=!0;else{var ar=a(it);ar!==null&&Ot(xt,ar.startTime-zt),Ht=!1}return Ht}finally{st=null,ct=Vt,ut=!1}}var Mt=!1,It=null,Tt=-1,Dt=5,Ut=-1;function jt(){return!($.unstable_now()-Ut<Dt)}function Xt(){if(It!==null){var Pt=$.unstable_now();Ut=Pt;var zt=!0;try{zt=It(!0,Pt)}finally{zt?kt():(Mt=!1,It=null)}}else Mt=!1}var kt;if(typeof yt=="function")kt=function(){yt(Xt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Et=vt.port2;vt.port1.onmessage=Xt,kt=function(){Et.postMessage(null)}}else kt=function(){ht(Xt,0)};function Lt(Pt){It=Pt,Mt||(Mt=!0,kt())}function Ot(Pt,zt){Tt=ht(function(){Pt($.unstable_now())},zt)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Pt){Pt.callback=null},$.unstable_continueExecution=function(){dt||ut||(dt=!0,Lt(wt))},$.unstable_forceFrameRate=function(Pt){0>Pt||125<Pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dt=0<Pt?Math.floor(1e3/Pt):5},$.unstable_getCurrentPriorityLevel=function(){return ct},$.unstable_getFirstCallbackNode=function(){return a(nt)},$.unstable_next=function(Pt){switch(ct){case 1:case 2:case 3:var zt=3;break;default:zt=ct}var Vt=ct;ct=zt;try{return Pt()}finally{ct=Vt}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Pt,zt){switch(Pt){case 1:case 2:case 3:case 4:case 5:break;default:Pt=3}var Vt=ct;ct=Pt;try{return zt()}finally{ct=Vt}},$.unstable_scheduleCallback=function(Pt,zt,Vt){var $t=$.unstable_now();switch(typeof Vt=="object"&&Vt!==null?(Vt=Vt.delay,Vt=typeof Vt=="number"&&0<Vt?$t+Vt:$t):Vt=$t,Pt){case 1:var At=-1;break;case 2:At=250;break;case 5:At=1073741823;break;case 4:At=1e4;break;default:At=5e3}return At=Vt+At,Pt={id:ot++,callback:zt,priorityLevel:Pt,startTime:Vt,expirationTime:At,sortIndex:-1},Vt>$t?(Pt.sortIndex=Vt,o(it,Pt),a(nt)===null&&Pt===a(it)&&(ft?(pt(Tt),Tt=-1):ft=!0,Ot(xt,Vt-$t))):(Pt.sortIndex=At,o(nt,Pt),dt||ut||(dt=!0,Lt(wt))),Pt},$.unstable_shouldYield=jt,$.unstable_wrapCallback=function(Pt){var zt=ct;return function(){var Vt=ct;ct=zt;try{return Pt.apply(this,arguments)}finally{ct=Vt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function $(o){var a={},j=reactExports,_e=schedulerExports,et=Object.assign;function tt(at){for(var lt="https://reactjs.org/docs/error-decoder.html?invariant="+at,mt=1;mt<arguments.length;mt++)lt+="&args[]="+encodeURIComponent(arguments[mt]);return"Minified React error #"+at+"; visit "+lt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rt=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nt=Symbol.for("react.element"),it=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),dt=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),xt=Symbol.for("react.offscreen"),wt=Symbol.iterator;function Mt(at){return at===null||typeof at!="object"?null:(at=wt&&at[wt]||at["@@iterator"],typeof at=="function"?at:null)}function It(at){if(at==null)return null;if(typeof at=="function")return at.displayName||at.name||null;if(typeof at=="string")return at;switch(at){case ot:return"Fragment";case it:return"Portal";case ct:return"Profiler";case st:return"StrictMode";case ht:return"Suspense";case pt:return"SuspenseList"}if(typeof at=="object")switch(at.$$typeof){case dt:return(at.displayName||"Context")+".Consumer";case ut:return(at._context.displayName||"Context")+".Provider";case ft:var lt=at.render;return at=at.displayName,at||(at=lt.displayName||lt.name||"",at=at!==""?"ForwardRef("+at+")":"ForwardRef"),at;case yt:return lt=at.displayName||null,lt!==null?lt:It(at.type)||"Memo";case gt:lt=at._payload,at=at._init;try{return It(at(lt))}catch{}}return null}function Tt(at){var lt=at.type;switch(at.tag){case 24:return"Cache";case 9:return(lt.displayName||"Context")+".Consumer";case 10:return(lt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return at=lt.render,at=at.displayName||at.name||"",lt.displayName||(at!==""?"ForwardRef("+at+")":"ForwardRef");case 7:return"Fragment";case 5:return lt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return It(lt);case 8:return lt===st?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof lt=="function")return lt.displayName||lt.name||null;if(typeof lt=="string")return lt}return null}function Dt(at){var lt=at,mt=at;if(at.alternate)for(;lt.return;)lt=lt.return;else{at=lt;do lt=at,lt.flags&4098&&(mt=lt.return),at=lt.return;while(at)}return lt.tag===3?mt:null}function Ut(at){if(Dt(at)!==at)throw Error(tt(188))}function jt(at){var lt=at.alternate;if(!lt){if(lt=Dt(at),lt===null)throw Error(tt(188));return lt!==at?null:at}for(var mt=at,bt=lt;;){var Bt=mt.return;if(Bt===null)break;var Nt=Bt.alternate;if(Nt===null){if(bt=Bt.return,bt!==null){mt=bt;continue}break}if(Bt.child===Nt.child){for(Nt=Bt.child;Nt;){if(Nt===mt)return Ut(Bt),at;if(Nt===bt)return Ut(Bt),lt;Nt=Nt.sibling}throw Error(tt(188))}if(mt.return!==bt.return)mt=Bt,bt=Nt;else{for(var qt=!1,dr=Bt.child;dr;){if(dr===mt){qt=!0,mt=Bt,bt=Nt;break}if(dr===bt){qt=!0,bt=Bt,mt=Nt;break}dr=dr.sibling}if(!qt){for(dr=Nt.child;dr;){if(dr===mt){qt=!0,mt=Nt,bt=Bt;break}if(dr===bt){qt=!0,bt=Nt,mt=Bt;break}dr=dr.sibling}if(!qt)throw Error(tt(189))}}if(mt.alternate!==bt)throw Error(tt(190))}if(mt.tag!==3)throw Error(tt(188));return mt.stateNode.current===mt?at:lt}function Xt(at){return at=jt(at),at!==null?kt(at):null}function kt(at){if(at.tag===5||at.tag===6)return at;for(at=at.child;at!==null;){var lt=kt(at);if(lt!==null)return lt;at=at.sibling}return null}function vt(at){if(at.tag===5||at.tag===6)return at;for(at=at.child;at!==null;){if(at.tag!==4){var lt=vt(at);if(lt!==null)return lt}at=at.sibling}return null}var Et=Array.isArray,Lt=o.getPublicInstance,Ot=o.getRootHostContext,Pt=o.getChildHostContext,zt=o.prepareForCommit,Vt=o.resetAfterCommit,$t=o.createInstance,At=o.appendInitialChild,Ht=o.finalizeInitialChildren,ar=o.prepareUpdate,Rt=o.shouldSetTextContent,Zt=o.createTextInstance,ir=o.scheduleTimeout,sr=o.cancelTimeout,pr=o.noTimeout,_r=o.isPrimaryRenderer,fr=o.supportsMutation,nr=o.supportsPersistence,lr=o.supportsHydration,cr=o.getInstanceFromNode,Ar=o.preparePortalMount,kr=o.getCurrentEventPriority,Dr=o.detachDeletedInstance,Lr=o.supportsMicrotasks,Ur=o.scheduleMicrotask,Or=o.supportsTestSelectors,Nr=o.findFiberRoot,Jt=o.getBoundingRect,Wt=o.getTextContent,ur=o.isHiddenSubtree,Pr=o.matchAccessibilityRole,Tr=o.setFocusIfFocusable,Ft=o.setupIntersectionObserver,St=o.appendChild,Ct=o.appendChildToContainer,Gt=o.commitTextUpdate,Qt=o.commitMount,rr=o.commitUpdate,er=o.insertBefore,Cr=o.insertInContainerBefore,Br=o.removeChild,Yt=o.removeChildFromContainer,br=o.resetTextContent,Rr=o.hideInstance,tr=o.hideTextInstance,xr=o.unhideInstance,Er=o.unhideTextInstance,Ir=o.clearContainer,Hr=o.cloneInstance,Xr=o.createContainerChildSet,qr=o.appendChildToContainerChildSet,dn=o.finalizeContainerChildren,rn=o.replaceContainerChildren,Qr=o.cloneHiddenInstance,_n=o.cloneHiddenTextInstance,on=o.canHydrateInstance,xn=o.canHydrateTextInstance,mo=o.canHydrateSuspenseInstance,vn=o.isSuspenseInstancePending,Kt=o.isSuspenseInstanceFallback,gr=o.registerSuspenseInstanceRetry,yr=o.getNextHydratableSibling,hr=o.getFirstHydratableChild,Mr=o.getFirstHydratableChildWithinContainer,$r=o.getFirstHydratableChildWithinSuspenseInstance,Vr=o.hydrateInstance,en=o.hydrateTextInstance,Wr=o.hydrateSuspenseInstance,Kr=o.getNextHydratableInstanceAfterSuspenseInstance,tn=o.commitHydratedContainer,nn=o.commitHydratedSuspenseInstance,yn=o.clearSuspenseBoundary,Mn=o.clearSuspenseBoundaryFromContainer,Dn=o.shouldDeleteUnhydratedTailInstances,_i=o.didNotMatchHydratedContainerTextInstance,En=o.didNotMatchHydratedTextInstance,ln;function eo(at){if(ln===void 0)try{throw Error()}catch(mt){var lt=mt.stack.trim().match(/\n( *(at )?)/);ln=lt&&lt[1]||""}return`
`+ln+at}var Sn=!1;function jn(at,lt){if(!at||Sn)return"";Sn=!0;var mt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(lt)if(lt=function(){throw Error()},Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Fr){var bt=Fr}Reflect.construct(at,[],lt)}else{try{lt.call()}catch(Fr){bt=Fr}at.call(lt.prototype)}else{try{throw Error()}catch(Fr){bt=Fr}at()}}catch(Fr){if(Fr&&bt&&typeof Fr.stack=="string"){for(var Bt=Fr.stack.split(`
`),Nt=bt.stack.split(`
`),qt=Bt.length-1,dr=Nt.length-1;1<=qt&&0<=dr&&Bt[qt]!==Nt[dr];)dr--;for(;1<=qt&&0<=dr;qt--,dr--)if(Bt[qt]!==Nt[dr]){if(qt!==1||dr!==1)do if(qt--,dr--,0>dr||Bt[qt]!==Nt[dr]){var Sr=`
`+Bt[qt].replace(" at new "," at ");return at.displayName&&Sr.includes("<anonymous>")&&(Sr=Sr.replace("<anonymous>",at.displayName)),Sr}while(1<=qt&&0<=dr);break}}}finally{Sn=!1,Error.prepareStackTrace=mt}return(at=at?at.displayName||at.name:"")?eo(at):""}var Do=Object.prototype.hasOwnProperty,to=[],Xn=-1;function An(at){return{current:at}}function fn(at){0>Xn||(at.current=to[Xn],to[Xn]=null,Xn--)}function hn(at,lt){Xn++,to[Xn]=at.current,at.current=lt}var Cn={},Tn=An(Cn),Gn=An(!1),_o=Cn;function Qo(at,lt){var mt=at.type.contextTypes;if(!mt)return Cn;var bt=at.stateNode;if(bt&&bt.__reactInternalMemoizedUnmaskedChildContext===lt)return bt.__reactInternalMemoizedMaskedChildContext;var Bt={},Nt;for(Nt in mt)Bt[Nt]=lt[Nt];return bt&&(at=at.stateNode,at.__reactInternalMemoizedUnmaskedChildContext=lt,at.__reactInternalMemoizedMaskedChildContext=Bt),Bt}function qn(at){return at=at.childContextTypes,at!=null}function Ps(){fn(Gn),fn(Tn)}function Ju(at,lt,mt){if(Tn.current!==Cn)throw Error(tt(168));hn(Tn,lt),hn(Gn,mt)}function Xu(at,lt,mt){var bt=at.stateNode;if(lt=lt.childContextTypes,typeof bt.getChildContext!="function")return mt;bt=bt.getChildContext();for(var Bt in bt)if(!(Bt in lt))throw Error(tt(108,Tt(at)||"Unknown",Bt));return et({},mt,bt)}function Is(at){return at=(at=at.stateNode)&&at.__reactInternalMemoizedMergedChildContext||Cn,_o=Tn.current,hn(Tn,at),hn(Gn,Gn.current),!0}function qu(at,lt,mt){var bt=at.stateNode;if(!bt)throw Error(tt(169));mt?(at=Xu(at,lt,_o),bt.__reactInternalMemoizedMergedChildContext=at,fn(Gn),fn(Tn),hn(Tn,at)):fn(Gn),hn(Gn,mt)}var go=Math.clz32?Math.clz32:Bm,Mm=Math.log,Tm=Math.LN2;function Bm(at){return at>>>=0,at===0?32:31-(Mm(at)/Tm|0)|0}var Ds=64,Ls=4194304;function ds(at){switch(at&-at){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return at&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return at&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return at}}function ks(at,lt){var mt=at.pendingLanes;if(mt===0)return 0;var bt=0,Bt=at.suspendedLanes,Nt=at.pingedLanes,qt=mt&268435455;if(qt!==0){var dr=qt&~Bt;dr!==0?bt=ds(dr):(Nt&=qt,Nt!==0&&(bt=ds(Nt)))}else qt=mt&~Bt,qt!==0?bt=ds(qt):Nt!==0&&(bt=ds(Nt));if(bt===0)return 0;if(lt!==0&&lt!==bt&&!(lt&Bt)&&(Bt=bt&-bt,Nt=lt&-lt,Bt>=Nt||Bt===16&&(Nt&4194240)!==0))return lt;if(bt&4&&(bt|=mt&16),lt=at.entangledLanes,lt!==0)for(at=at.entanglements,lt&=bt;0<lt;)mt=31-go(lt),Bt=1<<mt,bt|=at[mt],lt&=~Bt;return bt}function Rm(at,lt){switch(at){case 1:case 2:case 4:return lt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return lt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(at,lt){for(var mt=at.suspendedLanes,bt=at.pingedLanes,Bt=at.expirationTimes,Nt=at.pendingLanes;0<Nt;){var qt=31-go(Nt),dr=1<<qt,Sr=Bt[qt];Sr===-1?(!(dr&mt)||dr&bt)&&(Bt[qt]=Rm(dr,lt)):Sr<=lt&&(at.expiredLanes|=dr),Nt&=~dr}}function zl(at){return at=at.pendingLanes&-1073741825,at!==0?at:at&1073741824?1073741824:0}function Hl(at){for(var lt=[],mt=0;31>mt;mt++)lt.push(at);return lt}function hs(at,lt,mt){at.pendingLanes|=lt,lt!==536870912&&(at.suspendedLanes=0,at.pingedLanes=0),at=at.eventTimes,lt=31-go(lt),at[lt]=mt}function Im(at,lt){var mt=at.pendingLanes&~lt;at.pendingLanes=lt,at.suspendedLanes=0,at.pingedLanes=0,at.expiredLanes&=lt,at.mutableReadLanes&=lt,at.entangledLanes&=lt,lt=at.entanglements;var bt=at.eventTimes;for(at=at.expirationTimes;0<mt;){var Bt=31-go(mt),Nt=1<<Bt;lt[Bt]=0,bt[Bt]=-1,at[Bt]=-1,mt&=~Nt}}function Vl(at,lt){var mt=at.entangledLanes|=lt;for(at=at.entanglements;mt;){var bt=31-go(mt),Bt=1<<bt;Bt&lt|at[bt]&lt&&(at[bt]|=lt),mt&=~Bt}}var pn=0;function Yu(at){return at&=-at,1<at?4<at?at&268435455?16:536870912:4:1}var Wl=_e.unstable_scheduleCallback,Qu=_e.unstable_cancelCallback,Dm=_e.unstable_shouldYield,Lm=_e.unstable_requestPaint,Fn=_e.unstable_now,Kl=_e.unstable_ImmediatePriority,km=_e.unstable_UserBlockingPriority,Jl=_e.unstable_NormalPriority,Nm=_e.unstable_IdlePriority,Ns=null,xo=null;function Fm(at){if(xo&&typeof xo.onCommitFiberRoot=="function")try{xo.onCommitFiberRoot(Ns,at,void 0,(at.current.flags&128)===128)}catch{}}function Om(at,lt){return at===lt&&(at!==0||1/at===1/lt)||at!==at&&lt!==lt}var bo=typeof Object.is=="function"?Object.is:Om,Mo=null,Fs=!1,Xl=!1;function Zu(at){Mo===null?Mo=[at]:Mo.push(at)}function $m(at){Fs=!0,Zu(at)}function Ao(){if(!Xl&&Mo!==null){Xl=!0;var at=0,lt=pn;try{var mt=Mo;for(pn=1;at<mt.length;at++){var bt=mt[at];do bt=bt(!0);while(bt!==null)}Mo=null,Fs=!1}catch(Bt){throw Mo!==null&&(Mo=Mo.slice(at+1)),Wl(Kl,Ao),Bt}finally{pn=lt,Xl=!1}}return null}var Um=rt.ReactCurrentBatchConfig;function Os(at,lt){if(bo(at,lt))return!0;if(typeof at!="object"||at===null||typeof lt!="object"||lt===null)return!1;var mt=Object.keys(at),bt=Object.keys(lt);if(mt.length!==bt.length)return!1;for(bt=0;bt<mt.length;bt++){var Bt=mt[bt];if(!Do.call(lt,Bt)||!bo(at[Bt],lt[Bt]))return!1}return!0}function Gm(at){switch(at.tag){case 5:return eo(at.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 2:case 15:return at=jn(at.type,!1),at;case 11:return at=jn(at.type.render,!1),at;case 1:return at=jn(at.type,!0),at;default:return""}}function yo(at,lt){if(at&&at.defaultProps){lt=et({},lt),at=at.defaultProps;for(var mt in at)lt[mt]===void 0&&(lt[mt]=at[mt]);return lt}return lt}var $s=An(null),Us=null,Zo=null,Yl=null;function Ql(){Yl=Zo=Us=null}function _f(at,lt,mt){_r?(hn($s,lt._currentValue),lt._currentValue=mt):(hn($s,lt._currentValue2),lt._currentValue2=mt)}function Zl(at){var lt=$s.current;fn($s),_r?at._currentValue=lt:at._currentValue2=lt}function _c(at,lt,mt){for(;at!==null;){var bt=at.alternate;if((at.childLanes&lt)!==lt?(at.childLanes|=lt,bt!==null&&(bt.childLanes|=lt)):bt!==null&&(bt.childLanes&lt)!==lt&&(bt.childLanes|=lt),at===mt)break;at=at.return}}function es(at,lt){Us=at,Yl=Zo=null,at=at.dependencies,at!==null&&at.firstContext!==null&&(at.lanes&lt&&(io=!0),at.firstContext=null)}function so(at){var lt=_r?at._currentValue:at._currentValue2;if(Yl!==at)if(at={context:at,memoizedValue:lt,next:null},Zo===null){if(Us===null)throw Error(tt(308));Zo=at,Us.dependencies={lanes:0,firstContext:at}}else Zo=Zo.next=at;return lt}var wo=null,Lo=!1;function eu(at){at.updateQueue={baseState:at.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _d(at,lt){at=at.updateQueue,lt.updateQueue===at&&(lt.updateQueue={baseState:at.baseState,firstBaseUpdate:at.firstBaseUpdate,lastBaseUpdate:at.lastBaseUpdate,shared:at.shared,effects:at.effects})}function To(at,lt){return{eventTime:at,lane:lt,tag:0,payload:null,callback:null,next:null}}function ko(at,lt){var mt=at.updateQueue;mt!==null&&(mt=mt.shared,Ln!==null&&at.mode&1&&!(un&2)?(at=mt.interleaved,at===null?(lt.next=lt,wo===null?wo=[mt]:wo.push(mt)):(lt.next=at.next,at.next=lt),mt.interleaved=lt):(at=mt.pending,at===null?lt.next=lt:(lt.next=at.next,at.next=lt),mt.pending=lt))}function Gs(at,lt,mt){if(lt=lt.updateQueue,lt!==null&&(lt=lt.shared,(mt&4194240)!==0)){var bt=lt.lanes;bt&=at.pendingLanes,mt|=bt,lt.lanes=mt,Vl(at,mt)}}function _h(at,lt){var mt=at.updateQueue,bt=at.alternate;if(bt!==null&&(bt=bt.updateQueue,mt===bt)){var Bt=null,Nt=null;if(mt=mt.firstBaseUpdate,mt!==null){do{var qt={eventTime:mt.eventTime,lane:mt.lane,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null};Nt===null?Bt=Nt=qt:Nt=Nt.next=qt,mt=mt.next}while(mt!==null);Nt===null?Bt=Nt=lt:Nt=Nt.next=lt}else Bt=Nt=lt;mt={baseState:bt.baseState,firstBaseUpdate:Bt,lastBaseUpdate:Nt,shared:bt.shared,effects:bt.effects},at.updateQueue=mt;return}at=mt.lastBaseUpdate,at===null?mt.firstBaseUpdate=lt:at.next=lt,mt.lastBaseUpdate=lt}function zs(at,lt,mt,bt){var Bt=at.updateQueue;Lo=!1;var Nt=Bt.firstBaseUpdate,qt=Bt.lastBaseUpdate,dr=Bt.shared.pending;if(dr!==null){Bt.shared.pending=null;var Sr=dr,Fr=Sr.next;Sr.next=null,qt===null?Nt=Fr:qt.next=Fr,qt=Sr;var jr=at.alternate;jr!==null&&(jr=jr.updateQueue,dr=jr.lastBaseUpdate,dr!==qt&&(dr===null?jr.firstBaseUpdate=Fr:dr.next=Fr,jr.lastBaseUpdate=Sr))}if(Nt!==null){var sn=Bt.baseState;qt=0,jr=Fr=Sr=null,dr=Nt;do{var Zr=dr.lane,wn=dr.eventTime;if((bt&Zr)===Zr){jr!==null&&(jr=jr.next={eventTime:wn,lane:0,tag:dr.tag,payload:dr.payload,callback:dr.callback,next:null});e:{var Yr=at,Wn=dr;switch(Zr=lt,wn=mt,Wn.tag){case 1:if(Yr=Wn.payload,typeof Yr=="function"){sn=Yr.call(wn,sn,Zr);break e}sn=Yr;break e;case 3:Yr.flags=Yr.flags&-65537|128;case 0:if(Yr=Wn.payload,Zr=typeof Yr=="function"?Yr.call(wn,sn,Zr):Yr,Zr==null)break e;sn=et({},sn,Zr);break e;case 2:Lo=!0}}dr.callback!==null&&dr.lane!==0&&(at.flags|=64,Zr=Bt.effects,Zr===null?Bt.effects=[dr]:Zr.push(dr))}else wn={eventTime:wn,lane:Zr,tag:dr.tag,payload:dr.payload,callback:dr.callback,next:null},jr===null?(Fr=jr=wn,Sr=sn):jr=jr.next=wn,qt|=Zr;if(dr=dr.next,dr===null){if(dr=Bt.shared.pending,dr===null)break;Zr=dr,dr=Zr.next,Zr.next=null,Bt.lastBaseUpdate=Zr,Bt.shared.pending=null}}while(1);if(jr===null&&(Sr=sn),Bt.baseState=Sr,Bt.firstBaseUpdate=Fr,Bt.lastBaseUpdate=jr,lt=Bt.shared.interleaved,lt!==null){Bt=lt;do qt|=Bt.lane,Bt=Bt.next;while(Bt!==lt)}else Nt===null&&(Bt.shared.lanes=0);us|=qt,at.lanes=qt,at.memoizedState=sn}}function ep(at,lt,mt){if(at=lt.effects,lt.effects=null,at!==null)for(lt=0;lt<at.length;lt++){var bt=at[lt],Bt=bt.callback;if(Bt!==null){if(bt.callback=null,bt=mt,typeof Bt!="function")throw Error(tt(191,Bt));Bt.call(bt)}}}var tp=new j.Component().refs;function tu(at,lt,mt,bt){lt=at.memoizedState,mt=mt(bt,lt),mt=mt==null?lt:et({},lt,mt),at.memoizedState=mt,at.lanes===0&&(at.updateQueue.baseState=mt)}var Hs={isMounted:function(at){return(at=at._reactInternals)?Dt(at)===at:!1},enqueueSetState:function(at,lt,mt){at=at._reactInternals;var bt=Jn(),Bt=Oo(at),Nt=To(bt,Bt);Nt.payload=lt,mt!=null&&(Nt.callback=mt),ko(at,Nt),lt=fo(at,Bt,bt),lt!==null&&Gs(lt,at,Bt)},enqueueReplaceState:function(at,lt,mt){at=at._reactInternals;var bt=Jn(),Bt=Oo(at),Nt=To(bt,Bt);Nt.tag=1,Nt.payload=lt,mt!=null&&(Nt.callback=mt),ko(at,Nt),lt=fo(at,Bt,bt),lt!==null&&Gs(lt,at,Bt)},enqueueForceUpdate:function(at,lt){at=at._reactInternals;var mt=Jn(),bt=Oo(at),Bt=To(mt,bt);Bt.tag=2,lt!=null&&(Bt.callback=lt),ko(at,Bt),lt=fo(at,bt,mt),lt!==null&&Gs(lt,at,bt)}};function rp(at,lt,mt,bt,Bt,Nt,qt){return at=at.stateNode,typeof at.shouldComponentUpdate=="function"?at.shouldComponentUpdate(bt,Nt,qt):lt.prototype&&lt.prototype.isPureReactComponent?!Os(mt,bt)||!Os(Bt,Nt):!0}function np(at,lt,mt){var bt=!1,Bt=Cn,Nt=lt.contextType;return typeof Nt=="object"&&Nt!==null?Nt=so(Nt):(Bt=qn(lt)?_o:Tn.current,bt=lt.contextTypes,Nt=(bt=bt!=null)?Qo(at,Bt):Cn),lt=new lt(mt,Nt),at.memoizedState=lt.state!==null&&lt.state!==void 0?lt.state:null,lt.updater=Hs,at.stateNode=lt,lt._reactInternals=at,bt&&(at=at.stateNode,at.__reactInternalMemoizedUnmaskedChildContext=Bt,at.__reactInternalMemoizedMaskedChildContext=Nt),lt}function ip(at,lt,mt,bt){at=lt.state,typeof lt.componentWillReceiveProps=="function"&&lt.componentWillReceiveProps(mt,bt),typeof lt.UNSAFE_componentWillReceiveProps=="function"&&lt.UNSAFE_componentWillReceiveProps(mt,bt),lt.state!==at&&Hs.enqueueReplaceState(lt,lt.state,null)}function ru(at,lt,mt,bt){var Bt=at.stateNode;Bt.props=mt,Bt.state=at.memoizedState,Bt.refs=tp,eu(at);var Nt=lt.contextType;typeof Nt=="object"&&Nt!==null?Bt.context=so(Nt):(Nt=qn(lt)?_o:Tn.current,Bt.context=Qo(at,Nt)),Bt.state=at.memoizedState,Nt=lt.getDerivedStateFromProps,typeof Nt=="function"&&(tu(at,lt,Nt,mt),Bt.state=at.memoizedState),typeof lt.getDerivedStateFromProps=="function"||typeof Bt.getSnapshotBeforeUpdate=="function"||typeof Bt.UNSAFE_componentWillMount!="function"&&typeof Bt.componentWillMount!="function"||(lt=Bt.state,typeof Bt.componentWillMount=="function"&&Bt.componentWillMount(),typeof Bt.UNSAFE_componentWillMount=="function"&&Bt.UNSAFE_componentWillMount(),lt!==Bt.state&&Hs.enqueueReplaceState(Bt,Bt.state,null),zs(at,mt,Bt,bt),Bt.state=at.memoizedState),typeof Bt.componentDidMount=="function"&&(at.flags|=4194308)}var ts=[],rs=0,Vs=null,Ws=0,ao=[],lo=0,Ho=null,Bo=1,Ro="";function Vo(at,lt){ts[rs++]=Ws,ts[rs++]=Vs,Vs=at,Ws=lt}function op(at,lt,mt){ao[lo++]=Bo,ao[lo++]=Ro,ao[lo++]=Ho,Ho=at;var bt=Bo;at=Ro;var Bt=32-go(bt)-1;bt&=~(1<<Bt),mt+=1;var Nt=32-go(lt)+Bt;if(30<Nt){var qt=Bt-Bt%5;Nt=(bt&(1<<qt)-1).toString(32),bt>>=qt,Bt-=qt,Bo=1<<32-go(lt)+Bt|mt<<Bt|bt,Ro=Nt+at}else Bo=1<<Nt|mt<<Bt|bt,Ro=at}function nu(at){at.return!==null&&(Vo(at,1),op(at,1,0))}function iu(at){for(;at===Vs;)Vs=ts[--rs],ts[rs]=null,Ws=ts[--rs],ts[rs]=null;for(;at===Ho;)Ho=ao[--lo],ao[lo]=null,Ro=ao[--lo],ao[lo]=null,Bo=ao[--lo],ao[lo]=null}var ro=null,no=null,Bn=!1,ps=!1,vo=null;function sp(at,lt){var mt=ho(5,null,null,0);mt.elementType="DELETED",mt.stateNode=lt,mt.return=at,lt=at.deletions,lt===null?(at.deletions=[mt],at.flags|=16):lt.push(mt)}function ap(at,lt){switch(at.tag){case 5:return lt=on(lt,at.type,at.pendingProps),lt!==null?(at.stateNode=lt,ro=at,no=hr(lt),!0):!1;case 6:return lt=xn(lt,at.pendingProps),lt!==null?(at.stateNode=lt,ro=at,no=null,!0):!1;case 13:if(lt=mo(lt),lt!==null){var mt=Ho!==null?{id:Bo,overflow:Ro}:null;return at.memoizedState={dehydrated:lt,treeContext:mt,retryLane:1073741824},mt=ho(18,null,null,0),mt.stateNode=lt,mt.return=at,at.child=mt,ro=at,no=null,!0}return!1;default:return!1}}function ou(at){return(at.mode&1)!==0&&(at.flags&128)===0}function su(at){if(Bn){var lt=no;if(lt){var mt=lt;if(!ap(at,lt)){if(ou(at))throw Error(tt(418));lt=yr(mt);var bt=ro;lt&&ap(at,lt)?sp(bt,mt):(at.flags=at.flags&-4097|2,Bn=!1,ro=at)}}else{if(ou(at))throw Error(tt(418));at.flags=at.flags&-4097|2,Bn=!1,ro=at}}}function lp(at){for(at=at.return;at!==null&&at.tag!==5&&at.tag!==3&&at.tag!==13;)at=at.return;ro=at}function ms(at){if(!lr||at!==ro)return!1;if(!Bn)return lp(at),Bn=!0,!1;if(at.tag!==3&&(at.tag!==5||Dn(at.type)&&!Rt(at.type,at.memoizedProps))){var lt=no;if(lt){if(ou(at)){for(at=no;at;)at=yr(at);throw Error(tt(418))}for(;lt;)sp(at,lt),lt=yr(lt)}}if(lp(at),at.tag===13){if(!lr)throw Error(tt(316));if(at=at.memoizedState,at=at!==null?at.dehydrated:null,!at)throw Error(tt(317));no=Kr(at)}else no=ro?yr(at.stateNode):null;return!0}function ns(){lr&&(no=ro=null,ps=Bn=!1)}function au(at){vo===null?vo=[at]:vo.push(at)}function gs(at,lt,mt){if(at=mt.ref,at!==null&&typeof at!="function"&&typeof at!="object"){if(mt._owner){if(mt=mt._owner,mt){if(mt.tag!==1)throw Error(tt(309));var bt=mt.stateNode}if(!bt)throw Error(tt(147,at));var Bt=bt,Nt=""+at;return lt!==null&&lt.ref!==null&&typeof lt.ref=="function"&&lt.ref._stringRef===Nt?lt.ref:(lt=function(qt){var dr=Bt.refs;dr===tp&&(dr=Bt.refs={}),qt===null?delete dr[Nt]:dr[Nt]=qt},lt._stringRef=Nt,lt)}if(typeof at!="string")throw Error(tt(284));if(!mt._owner)throw Error(tt(290,at))}return at}function js(at,lt){throw at=Object.prototype.toString.call(lt),Error(tt(31,at==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":at))}function cp(at){var lt=at._init;return lt(at._payload)}function up(at){function lt(vr,mr){if(at){var wr=vr.deletions;wr===null?(vr.deletions=[mr],vr.flags|=16):wr.push(mr)}}function mt(vr,mr){if(!at)return null;for(;mr!==null;)lt(vr,mr),mr=mr.sibling;return null}function bt(vr,mr){for(vr=new Map;mr!==null;)mr.key!==null?vr.set(mr.key,mr):vr.set(mr.index,mr),mr=mr.sibling;return vr}function Bt(vr,mr){return vr=Uo(vr,mr),vr.index=0,vr.sibling=null,vr}function Nt(vr,mr,wr){return vr.index=wr,at?(wr=vr.alternate,wr!==null?(wr=wr.index,wr<mr?(vr.flags|=2,mr):wr):(vr.flags|=2,mr)):(vr.flags|=1048576,mr)}function qt(vr){return at&&vr.alternate===null&&(vr.flags|=2),vr}function dr(vr,mr,wr,zr){return mr===null||mr.tag!==6?(mr=Vu(wr,vr.mode,zr),mr.return=vr,mr):(mr=Bt(mr,wr),mr.return=vr,mr)}function Sr(vr,mr,wr,zr){var Jr=wr.type;return Jr===ot?jr(vr,mr,wr.props.children,zr,wr.key):mr!==null&&(mr.elementType===Jr||typeof Jr=="object"&&Jr!==null&&Jr.$$typeof===gt&&cp(Jr)===mr.type)?(zr=Bt(mr,wr.props),zr.ref=gs(vr,mr,wr),zr.return=vr,zr):(zr=Ul(wr.type,wr.key,wr.props,null,vr.mode,zr),zr.ref=gs(vr,mr,wr),zr.return=vr,zr)}function Fr(vr,mr,wr,zr){return mr===null||mr.tag!==4||mr.stateNode.containerInfo!==wr.containerInfo||mr.stateNode.implementation!==wr.implementation?(mr=Wu(wr,vr.mode,zr),mr.return=vr,mr):(mr=Bt(mr,wr.children||[]),mr.return=vr,mr)}function jr(vr,mr,wr,zr,Jr){return mr===null||mr.tag!==7?(mr=Yo(wr,vr.mode,zr,Jr),mr.return=vr,mr):(mr=Bt(mr,wr),mr.return=vr,mr)}function sn(vr,mr,wr){if(typeof mr=="string"&&mr!==""||typeof mr=="number")return mr=Vu(""+mr,vr.mode,wr),mr.return=vr,mr;if(typeof mr=="object"&&mr!==null){switch(mr.$$typeof){case nt:return wr=Ul(mr.type,mr.key,mr.props,null,vr.mode,wr),wr.ref=gs(vr,null,mr),wr.return=vr,wr;case it:return mr=Wu(mr,vr.mode,wr),mr.return=vr,mr;case gt:var zr=mr._init;return sn(vr,zr(mr._payload),wr)}if(Et(mr)||Mt(mr))return mr=Yo(mr,vr.mode,wr,null),mr.return=vr,mr;js(vr,mr)}return null}function Zr(vr,mr,wr,zr){var Jr=mr!==null?mr.key:null;if(typeof wr=="string"&&wr!==""||typeof wr=="number")return Jr!==null?null:dr(vr,mr,""+wr,zr);if(typeof wr=="object"&&wr!==null){switch(wr.$$typeof){case nt:return wr.key===Jr?Sr(vr,mr,wr,zr):null;case it:return wr.key===Jr?Fr(vr,mr,wr,zr):null;case gt:return Jr=wr._init,Zr(vr,mr,Jr(wr._payload),zr)}if(Et(wr)||Mt(wr))return Jr!==null?null:jr(vr,mr,wr,zr,null);js(vr,wr)}return null}function wn(vr,mr,wr,zr,Jr){if(typeof zr=="string"&&zr!==""||typeof zr=="number")return vr=vr.get(wr)||null,dr(mr,vr,""+zr,Jr);if(typeof zr=="object"&&zr!==null){switch(zr.$$typeof){case nt:return vr=vr.get(zr.key===null?wr:zr.key)||null,Sr(mr,vr,zr,Jr);case it:return vr=vr.get(zr.key===null?wr:zr.key)||null,Fr(mr,vr,zr,Jr);case gt:var cn=zr._init;return wn(vr,mr,wr,cn(zr._payload),Jr)}if(Et(zr)||Mt(zr))return vr=vr.get(wr)||null,jr(mr,vr,zr,Jr,null);js(mr,zr)}return null}function Yr(vr,mr,wr,zr){for(var Jr=null,cn=null,an=mr,mn=mr=0,$n=null;an!==null&&mn<wr.length;mn++){an.index>mn?($n=an,an=null):$n=an.sibling;var gn=Zr(vr,an,wr[mn],zr);if(gn===null){an===null&&(an=$n);break}at&&an&&gn.alternate===null&&lt(vr,an),mr=Nt(gn,mr,mn),cn===null?Jr=gn:cn.sibling=gn,cn=gn,an=$n}if(mn===wr.length)return mt(vr,an),Bn&&Vo(vr,mn),Jr;if(an===null){for(;mn<wr.length;mn++)an=sn(vr,wr[mn],zr),an!==null&&(mr=Nt(an,mr,mn),cn===null?Jr=an:cn.sibling=an,cn=an);return Bn&&Vo(vr,mn),Jr}for(an=bt(vr,an);mn<wr.length;mn++)$n=wn(an,vr,mn,wr[mn],zr),$n!==null&&(at&&$n.alternate!==null&&an.delete($n.key===null?mn:$n.key),mr=Nt($n,mr,mn),cn===null?Jr=$n:cn.sibling=$n,cn=$n);return at&&an.forEach(function(Go){return lt(vr,Go)}),Bn&&Vo(vr,mn),Jr}function Wn(vr,mr,wr,zr){var Jr=Mt(wr);if(typeof Jr!="function")throw Error(tt(150));if(wr=Jr.call(wr),wr==null)throw Error(tt(151));for(var cn=Jr=null,an=mr,mn=mr=0,$n=null,gn=wr.next();an!==null&&!gn.done;mn++,gn=wr.next()){an.index>mn?($n=an,an=null):$n=an.sibling;var Go=Zr(vr,an,gn.value,zr);if(Go===null){an===null&&(an=$n);break}at&&an&&Go.alternate===null&&lt(vr,an),mr=Nt(Go,mr,mn),cn===null?Jr=Go:cn.sibling=Go,cn=Go,an=$n}if(gn.done)return mt(vr,an),Bn&&Vo(vr,mn),Jr;if(an===null){for(;!gn.done;mn++,gn=wr.next())gn=sn(vr,gn.value,zr),gn!==null&&(mr=Nt(gn,mr,mn),cn===null?Jr=gn:cn.sibling=gn,cn=gn);return Bn&&Vo(vr,mn),Jr}for(an=bt(vr,an);!gn.done;mn++,gn=wr.next())gn=wn(an,vr,mn,gn.value,zr),gn!==null&&(at&&gn.alternate!==null&&an.delete(gn.key===null?mn:gn.key),mr=Nt(gn,mr,mn),cn===null?Jr=gn:cn.sibling=gn,cn=gn);return at&&an.forEach(function(g0){return lt(vr,g0)}),Bn&&Vo(vr,mn),Jr}function po(vr,mr,wr,zr){if(typeof wr=="object"&&wr!==null&&wr.type===ot&&wr.key===null&&(wr=wr.props.children),typeof wr=="object"&&wr!==null){switch(wr.$$typeof){case nt:e:{for(var Jr=wr.key,cn=mr;cn!==null;){if(cn.key===Jr){if(Jr=wr.type,Jr===ot){if(cn.tag===7){mt(vr,cn.sibling),mr=Bt(cn,wr.props.children),mr.return=vr,vr=mr;break e}}else if(cn.elementType===Jr||typeof Jr=="object"&&Jr!==null&&Jr.$$typeof===gt&&cp(Jr)===cn.type){mt(vr,cn.sibling),mr=Bt(cn,wr.props),mr.ref=gs(vr,cn,wr),mr.return=vr,vr=mr;break e}mt(vr,cn);break}else lt(vr,cn);cn=cn.sibling}wr.type===ot?(mr=Yo(wr.props.children,vr.mode,zr,wr.key),mr.return=vr,vr=mr):(zr=Ul(wr.type,wr.key,wr.props,null,vr.mode,zr),zr.ref=gs(vr,mr,wr),zr.return=vr,vr=zr)}return qt(vr);case it:e:{for(cn=wr.key;mr!==null;){if(mr.key===cn)if(mr.tag===4&&mr.stateNode.containerInfo===wr.containerInfo&&mr.stateNode.implementation===wr.implementation){mt(vr,mr.sibling),mr=Bt(mr,wr.children||[]),mr.return=vr,vr=mr;break e}else{mt(vr,mr);break}else lt(vr,mr);mr=mr.sibling}mr=Wu(wr,vr.mode,zr),mr.return=vr,vr=mr}return qt(vr);case gt:return cn=wr._init,po(vr,mr,cn(wr._payload),zr)}if(Et(wr))return Yr(vr,mr,wr,zr);if(Mt(wr))return Wn(vr,mr,wr,zr);js(vr,wr)}return typeof wr=="string"&&wr!==""||typeof wr=="number"?(wr=""+wr,mr!==null&&mr.tag===6?(mt(vr,mr.sibling),mr=Bt(mr,wr),mr.return=vr,vr=mr):(mt(vr,mr),mr=Vu(wr,vr.mode,zr),mr.return=vr,vr=mr),qt(vr)):mt(vr,mr)}return po}var os=up(!0),fp=up(!1),ys={},co=An(ys),vs=An(ys),ss=An(ys);function Eo(at){if(at===ys)throw Error(tt(174));return at}function lu(at,lt){hn(ss,lt),hn(vs,at),hn(co,ys),at=Ot(lt),fn(co),hn(co,at)}function as(){fn(co),fn(vs),fn(ss)}function dp(at){var lt=Eo(ss.current),mt=Eo(co.current);lt=Pt(mt,at.type,lt),mt!==lt&&(hn(vs,at),hn(co,lt))}function cu(at){vs.current===at&&(fn(co),fn(vs))}var Rn=An(0);function Ks(at){for(var lt=at;lt!==null;){if(lt.tag===13){var mt=lt.memoizedState;if(mt!==null&&(mt=mt.dehydrated,mt===null||vn(mt)||Kt(mt)))return lt}else if(lt.tag===19&&lt.memoizedProps.revealOrder!==void 0){if(lt.flags&128)return lt}else if(lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===at)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===at)return null;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}return null}var uu=[];function fu(){for(var at=0;at<uu.length;at++){var lt=uu[at];_r?lt._workInProgressVersionPrimary=null:lt._workInProgressVersionSecondary=null}uu.length=0}var Js=rt.ReactCurrentDispatcher,uo=rt.ReactCurrentBatchConfig,ls=0,Pn=null,zn=null,On=null,Xs=!1,_s=!1,xs=0,zm=0;function Hn(){throw Error(tt(321))}function du(at,lt){if(lt===null)return!1;for(var mt=0;mt<lt.length&&mt<at.length;mt++)if(!bo(at[mt],lt[mt]))return!1;return!0}function hu(at,lt,mt,bt,Bt,Nt){if(ls=Nt,Pn=lt,lt.memoizedState=null,lt.updateQueue=null,lt.lanes=0,Js.current=at===null||at.memoizedState===null?jm:Km,at=mt(bt,Bt),_s){Nt=0;do{if(_s=!1,xs=0,25<=Nt)throw Error(tt(301));Nt+=1,On=zn=null,lt.updateQueue=null,Js.current=Jm,at=mt(bt,Bt)}while(_s)}if(Js.current=na,lt=zn!==null&&zn.next!==null,ls=0,On=zn=Pn=null,Xs=!1,lt)throw Error(tt(300));return at}function pu(){var at=xs!==0;return xs=0,at}function Po(){var at={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Pn.memoizedState=On=at:On=On.next=at,On}function So(){if(zn===null){var at=Pn.alternate;at=at!==null?at.memoizedState:null}else at=zn.next;var lt=On===null?Pn.memoizedState:On.next;if(lt!==null)On=lt,zn=at;else{if(at===null)throw Error(tt(310));zn=at,at={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},On===null?Pn.memoizedState=On=at:On=On.next=at}return On}function Wo(at,lt){return typeof lt=="function"?lt(at):lt}function qs(at){var lt=So(),mt=lt.queue;if(mt===null)throw Error(tt(311));mt.lastRenderedReducer=at;var bt=zn,Bt=bt.baseQueue,Nt=mt.pending;if(Nt!==null){if(Bt!==null){var qt=Bt.next;Bt.next=Nt.next,Nt.next=qt}bt.baseQueue=Bt=Nt,mt.pending=null}if(Bt!==null){Nt=Bt.next,bt=bt.baseState;var dr=qt=null,Sr=null,Fr=Nt;do{var jr=Fr.lane;if((ls&jr)===jr)Sr!==null&&(Sr=Sr.next={lane:0,action:Fr.action,hasEagerState:Fr.hasEagerState,eagerState:Fr.eagerState,next:null}),bt=Fr.hasEagerState?Fr.eagerState:at(bt,Fr.action);else{var sn={lane:jr,action:Fr.action,hasEagerState:Fr.hasEagerState,eagerState:Fr.eagerState,next:null};Sr===null?(dr=Sr=sn,qt=bt):Sr=Sr.next=sn,Pn.lanes|=jr,us|=jr}Fr=Fr.next}while(Fr!==null&&Fr!==Nt);Sr===null?qt=bt:Sr.next=dr,bo(bt,lt.memoizedState)||(io=!0),lt.memoizedState=bt,lt.baseState=qt,lt.baseQueue=Sr,mt.lastRenderedState=bt}if(at=mt.interleaved,at!==null){Bt=at;do Nt=Bt.lane,Pn.lanes|=Nt,us|=Nt,Bt=Bt.next;while(Bt!==at)}else Bt===null&&(mt.lanes=0);return[lt.memoizedState,mt.dispatch]}function Ys(at){var lt=So(),mt=lt.queue;if(mt===null)throw Error(tt(311));mt.lastRenderedReducer=at;var bt=mt.dispatch,Bt=mt.pending,Nt=lt.memoizedState;if(Bt!==null){mt.pending=null;var qt=Bt=Bt.next;do Nt=at(Nt,qt.action),qt=qt.next;while(qt!==Bt);bo(Nt,lt.memoizedState)||(io=!0),lt.memoizedState=Nt,lt.baseQueue===null&&(lt.baseState=Nt),mt.lastRenderedState=Nt}return[Nt,bt]}function hp(){}function pp(at,lt){var mt=Pn,bt=So(),Bt=lt(),Nt=!bo(bt.memoizedState,Bt);if(Nt&&(bt.memoizedState=Bt,io=!0),bt=bt.queue,As(yp.bind(null,mt,bt,at),[at]),bt.getSnapshot!==lt||Nt||On!==null&&On.memoizedState.tag&1){if(mt.flags|=2048,bs(9,gp.bind(null,mt,bt,Bt,lt),void 0,null),Ln===null)throw Error(tt(349));ls&30||mp(mt,lt,Bt)}return Bt}function mp(at,lt,mt){at.flags|=16384,at={getSnapshot:lt,value:mt},lt=Pn.updateQueue,lt===null?(lt={lastEffect:null,stores:null},Pn.updateQueue=lt,lt.stores=[at]):(mt=lt.stores,mt===null?lt.stores=[at]:mt.push(at))}function gp(at,lt,mt,bt){lt.value=mt,lt.getSnapshot=bt,vp(lt)&&fo(at,1,-1)}function yp(at,lt,mt){return mt(function(){vp(lt)&&fo(at,1,-1)})}function vp(at){var lt=at.getSnapshot;at=at.value;try{var mt=lt();return!bo(at,mt)}catch{return!0}}function mu(at){var lt=Po();return typeof at=="function"&&(at=at()),lt.memoizedState=lt.baseState=at,at={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:at},lt.queue=at,at=at.dispatch=Wm.bind(null,Pn,at),[lt.memoizedState,at]}function bs(at,lt,mt,bt){return at={tag:at,create:lt,destroy:mt,deps:bt,next:null},lt=Pn.updateQueue,lt===null?(lt={lastEffect:null,stores:null},Pn.updateQueue=lt,lt.lastEffect=at.next=at):(mt=lt.lastEffect,mt===null?lt.lastEffect=at.next=at:(bt=mt.next,mt.next=at,at.next=bt,lt.lastEffect=at)),at}function _p(){return So().memoizedState}function Qs(at,lt,mt,bt){var Bt=Po();Pn.flags|=at,Bt.memoizedState=bs(1|lt,mt,void 0,bt===void 0?null:bt)}function Zs(at,lt,mt,bt){var Bt=So();bt=bt===void 0?null:bt;var Nt=void 0;if(zn!==null){var qt=zn.memoizedState;if(Nt=qt.destroy,bt!==null&&du(bt,qt.deps)){Bt.memoizedState=bs(lt,mt,Nt,bt);return}}Pn.flags|=at,Bt.memoizedState=bs(1|lt,mt,Nt,bt)}function gu(at,lt){return Qs(8390656,8,at,lt)}function As(at,lt){return Zs(2048,8,at,lt)}function xp(at,lt){return Zs(4,2,at,lt)}function bp(at,lt){return Zs(4,4,at,lt)}function Ap(at,lt){if(typeof lt=="function")return at=at(),lt(at),function(){lt(null)};if(lt!=null)return at=at(),lt.current=at,function(){lt.current=null}}function wp(at,lt,mt){return mt=mt!=null?mt.concat([at]):null,Zs(4,4,Ap.bind(null,lt,at),mt)}function yu(){}function Ep(at,lt){var mt=So();lt=lt===void 0?null:lt;var bt=mt.memoizedState;return bt!==null&&lt!==null&&du(lt,bt[1])?bt[0]:(mt.memoizedState=[at,lt],at)}function Sp(at,lt){var mt=So();lt=lt===void 0?null:lt;var bt=mt.memoizedState;return bt!==null&&lt!==null&&du(lt,bt[1])?bt[0]:(at=at(),mt.memoizedState=[at,lt],at)}function Hm(at,lt){var mt=pn;pn=mt!==0&&4>mt?mt:4,at(!0);var bt=uo.transition;uo.transition={};try{at(!1),lt()}finally{pn=mt,uo.transition=bt}}function Cp(){return So().memoizedState}function Vm(at,lt,mt){var bt=Oo(at);mt={lane:bt,action:mt,hasEagerState:!1,eagerState:null,next:null},Mp(at)?Tp(lt,mt):(Bp(at,lt,mt),mt=Jn(),at=fo(at,bt,mt),at!==null&&Rp(at,lt,bt))}function Wm(at,lt,mt){var bt=Oo(at),Bt={lane:bt,action:mt,hasEagerState:!1,eagerState:null,next:null};if(Mp(at))Tp(lt,Bt);else{Bp(at,lt,Bt);var Nt=at.alternate;if(at.lanes===0&&(Nt===null||Nt.lanes===0)&&(Nt=lt.lastRenderedReducer,Nt!==null))try{var qt=lt.lastRenderedState,dr=Nt(qt,mt);if(Bt.hasEagerState=!0,Bt.eagerState=dr,bo(dr,qt))return}catch{}finally{}mt=Jn(),at=fo(at,bt,mt),at!==null&&Rp(at,lt,bt)}}function Mp(at){var lt=at.alternate;return at===Pn||lt!==null&&lt===Pn}function Tp(at,lt){_s=Xs=!0;var mt=at.pending;mt===null?lt.next=lt:(lt.next=mt.next,mt.next=lt),at.pending=lt}function Bp(at,lt,mt){Ln!==null&&at.mode&1&&!(un&2)?(at=lt.interleaved,at===null?(mt.next=mt,wo===null?wo=[lt]:wo.push(lt)):(mt.next=at.next,at.next=mt),lt.interleaved=mt):(at=lt.pending,at===null?mt.next=mt:(mt.next=at.next,at.next=mt),lt.pending=mt)}function Rp(at,lt,mt){if(mt&4194240){var bt=lt.lanes;bt&=at.pendingLanes,mt|=bt,lt.lanes=mt,Vl(at,mt)}}var na={readContext:so,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},jm={readContext:so,useCallback:function(at,lt){return Po().memoizedState=[at,lt===void 0?null:lt],at},useContext:so,useEffect:gu,useImperativeHandle:function(at,lt,mt){return mt=mt!=null?mt.concat([at]):null,Qs(4194308,4,Ap.bind(null,lt,at),mt)},useLayoutEffect:function(at,lt){return Qs(4194308,4,at,lt)},useInsertionEffect:function(at,lt){return Qs(4,2,at,lt)},useMemo:function(at,lt){var mt=Po();return lt=lt===void 0?null:lt,at=at(),mt.memoizedState=[at,lt],at},useReducer:function(at,lt,mt){var bt=Po();return lt=mt!==void 0?mt(lt):lt,bt.memoizedState=bt.baseState=lt,at={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:lt},bt.queue=at,at=at.dispatch=Vm.bind(null,Pn,at),[bt.memoizedState,at]},useRef:function(at){var lt=Po();return at={current:at},lt.memoizedState=at},useState:mu,useDebugValue:yu,useDeferredValue:function(at){var lt=mu(at),mt=lt[0],bt=lt[1];return gu(function(){var Bt=uo.transition;uo.transition={};try{bt(at)}finally{uo.transition=Bt}},[at]),mt},useTransition:function(){var at=mu(!1),lt=at[0];return at=Hm.bind(null,at[1]),Po().memoizedState=at,[lt,at]},useMutableSource:function(){},useSyncExternalStore:function(at,lt,mt){var bt=Pn,Bt=Po();if(Bn){if(mt===void 0)throw Error(tt(407));mt=mt()}else{if(mt=lt(),Ln===null)throw Error(tt(349));ls&30||mp(bt,lt,mt)}Bt.memoizedState=mt;var Nt={value:mt,getSnapshot:lt};return Bt.queue=Nt,gu(yp.bind(null,bt,Nt,at),[at]),bt.flags|=2048,bs(9,gp.bind(null,bt,Nt,mt,lt),void 0,null),mt},useId:function(){var at=Po(),lt=Ln.identifierPrefix;if(Bn){var mt=Ro,bt=Bo;mt=(bt&~(1<<32-go(bt)-1)).toString(32)+mt,lt=":"+lt+"R"+mt,mt=xs++,0<mt&&(lt+="H"+mt.toString(32)),lt+=":"}else mt=zm++,lt=":"+lt+"r"+mt.toString(32)+":";return at.memoizedState=lt},unstable_isNewReconciler:!1},Km={readContext:so,useCallback:Ep,useContext:so,useEffect:As,useImperativeHandle:wp,useInsertionEffect:xp,useLayoutEffect:bp,useMemo:Sp,useReducer:qs,useRef:_p,useState:function(){return qs(Wo)},useDebugValue:yu,useDeferredValue:function(at){var lt=qs(Wo),mt=lt[0],bt=lt[1];return As(function(){var Bt=uo.transition;uo.transition={};try{bt(at)}finally{uo.transition=Bt}},[at]),mt},useTransition:function(){var at=qs(Wo)[0],lt=So().memoizedState;return[at,lt]},useMutableSource:hp,useSyncExternalStore:pp,useId:Cp,unstable_isNewReconciler:!1},Jm={readContext:so,useCallback:Ep,useContext:so,useEffect:As,useImperativeHandle:wp,useInsertionEffect:xp,useLayoutEffect:bp,useMemo:Sp,useReducer:Ys,useRef:_p,useState:function(){return Ys(Wo)},useDebugValue:yu,useDeferredValue:function(at){var lt=Ys(Wo),mt=lt[0],bt=lt[1];return As(function(){var Bt=uo.transition;uo.transition={};try{bt(at)}finally{uo.transition=Bt}},[at]),mt},useTransition:function(){var at=Ys(Wo)[0],lt=So().memoizedState;return[at,lt]},useMutableSource:hp,useSyncExternalStore:pp,useId:Cp,unstable_isNewReconciler:!1};function vu(at,lt){try{var mt="",bt=lt;do mt+=Gm(bt),bt=bt.return;while(bt);var Bt=mt}catch(Nt){Bt=`
Error generating stack: `+Nt.message+`
`+Nt.stack}return{value:at,source:lt,stack:Bt}}function _u(at,lt){try{console.error(lt.value)}catch(mt){setTimeout(function(){throw mt})}}var Xm=typeof WeakMap=="function"?WeakMap:Map;function Pp(at,lt,mt){mt=To(-1,mt),mt.tag=3,mt.payload={element:null};var bt=lt.value;return mt.callback=function(){Il||(Il=!0,Fu=bt),_u(at,lt)},mt}function Ip(at,lt,mt){mt=To(-1,mt),mt.tag=3;var bt=at.type.getDerivedStateFromError;if(typeof bt=="function"){var Bt=lt.value;mt.payload=function(){return bt(Bt)},mt.callback=function(){_u(at,lt)}}var Nt=at.stateNode;return Nt!==null&&typeof Nt.componentDidCatch=="function"&&(mt.callback=function(){_u(at,lt),typeof bt!="function"&&(No===null?No=new Set([this]):No.add(this));var qt=lt.stack;this.componentDidCatch(lt.value,{componentStack:qt!==null?qt:""})}),mt}function Dp(at,lt,mt){var bt=at.pingCache;if(bt===null){bt=at.pingCache=new Xm;var Bt=new Set;bt.set(lt,Bt)}else Bt=bt.get(lt),Bt===void 0&&(Bt=new Set,bt.set(lt,Bt));Bt.has(mt)||(Bt.add(mt),at=l0.bind(null,at,lt,mt),lt.then(at,at))}function Lp(at){do{var lt;if((lt=at.tag===13)&&(lt=at.memoizedState,lt=lt!==null?lt.dehydrated!==null:!0),lt)return at;at=at.return}while(at!==null);return null}function kp(at,lt,mt,bt,Bt){return at.mode&1?(at.flags|=65536,at.lanes=Bt,at):(at===lt?at.flags|=65536:(at.flags|=128,mt.flags|=131072,mt.flags&=-52805,mt.tag===1&&(mt.alternate===null?mt.tag=17:(lt=To(-1,1),lt.tag=2,ko(mt,lt))),mt.lanes|=1),at)}function Co(at){at.flags|=4}function Np(at,lt){if(at!==null&&at.child===lt.child)return!0;if(lt.flags&16)return!1;for(at=lt.child;at!==null;){if(at.flags&12854||at.subtreeFlags&12854)return!1;at=at.sibling}return!0}var ws,Es,ga,xa;if(fr)ws=function(at,lt){for(var mt=lt.child;mt!==null;){if(mt.tag===5||mt.tag===6)At(at,mt.stateNode);else if(mt.tag!==4&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===lt)break;for(;mt.sibling===null;){if(mt.return===null||mt.return===lt)return;mt=mt.return}mt.sibling.return=mt.return,mt=mt.sibling}},Es=function(){},ga=function(at,lt,mt,bt,Bt){if(at=at.memoizedProps,at!==bt){var Nt=lt.stateNode,qt=Eo(co.current);mt=ar(Nt,mt,at,bt,Bt,qt),(lt.updateQueue=mt)&&Co(lt)}},xa=function(at,lt,mt,bt){mt!==bt&&Co(lt)};else if(nr){ws=function(at,lt,mt,bt){for(var Bt=lt.child;Bt!==null;){if(Bt.tag===5){var Nt=Bt.stateNode;mt&&bt&&(Nt=Qr(Nt,Bt.type,Bt.memoizedProps,Bt)),At(at,Nt)}else if(Bt.tag===6)Nt=Bt.stateNode,mt&&bt&&(Nt=_n(Nt,Bt.memoizedProps,Bt)),At(at,Nt);else if(Bt.tag!==4){if(Bt.tag===22&&Bt.memoizedState!==null)Nt=Bt.child,Nt!==null&&(Nt.return=Bt),ws(at,Bt,!0,!0);else if(Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}}if(Bt===lt)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===lt)return;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}};var Fp=function(at,lt,mt,bt){for(var Bt=lt.child;Bt!==null;){if(Bt.tag===5){var Nt=Bt.stateNode;mt&&bt&&(Nt=Qr(Nt,Bt.type,Bt.memoizedProps,Bt)),qr(at,Nt)}else if(Bt.tag===6)Nt=Bt.stateNode,mt&&bt&&(Nt=_n(Nt,Bt.memoizedProps,Bt)),qr(at,Nt);else if(Bt.tag!==4){if(Bt.tag===22&&Bt.memoizedState!==null)Nt=Bt.child,Nt!==null&&(Nt.return=Bt),Fp(at,Bt,!0,!0);else if(Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}}if(Bt===lt)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===lt)return;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}};Es=function(at,lt){var mt=lt.stateNode;if(!Np(at,lt)){at=mt.containerInfo;var bt=Xr(at);Fp(bt,lt,!1,!1),mt.pendingChildren=bt,Co(lt),dn(at,bt)}},ga=function(at,lt,mt,bt,Bt){var Nt=at.stateNode,qt=at.memoizedProps;if((at=Np(at,lt))&&qt===bt)lt.stateNode=Nt;else{var dr=lt.stateNode,Sr=Eo(co.current),Fr=null;qt!==bt&&(Fr=ar(dr,mt,qt,bt,Bt,Sr)),at&&Fr===null?lt.stateNode=Nt:(Nt=Hr(Nt,Fr,mt,qt,bt,lt,at,dr),Ht(Nt,mt,bt,Bt,Sr)&&Co(lt),lt.stateNode=Nt,at?Co(lt):ws(Nt,lt,!1,!1))}},xa=function(at,lt,mt,bt){mt!==bt?(at=Eo(ss.current),mt=Eo(co.current),lt.stateNode=Zt(bt,at,mt,lt),Co(lt)):lt.stateNode=at.stateNode}}else Es=function(){},ga=function(){},xa=function(){};function Ss(at,lt){if(!Bn)switch(at.tailMode){case"hidden":lt=at.tail;for(var mt=null;lt!==null;)lt.alternate!==null&&(mt=lt),lt=lt.sibling;mt===null?at.tail=null:mt.sibling=null;break;case"collapsed":mt=at.tail;for(var bt=null;mt!==null;)mt.alternate!==null&&(bt=mt),mt=mt.sibling;bt===null?lt||at.tail===null?at.tail=null:at.tail.sibling=null:bt.sibling=null}}function Vn(at){var lt=at.alternate!==null&&at.alternate.child===at.child,mt=0,bt=0;if(lt)for(var Bt=at.child;Bt!==null;)mt|=Bt.lanes|Bt.childLanes,bt|=Bt.subtreeFlags&14680064,bt|=Bt.flags&14680064,Bt.return=at,Bt=Bt.sibling;else for(Bt=at.child;Bt!==null;)mt|=Bt.lanes|Bt.childLanes,bt|=Bt.subtreeFlags,bt|=Bt.flags,Bt.return=at,Bt=Bt.sibling;return at.subtreeFlags|=bt,at.childLanes=mt,lt}function qm(at,lt,mt){var bt=lt.pendingProps;switch(iu(lt),lt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(lt),null;case 1:return qn(lt.type)&&Ps(),Vn(lt),null;case 3:return bt=lt.stateNode,as(),fn(Gn),fn(Tn),fu(),bt.pendingContext&&(bt.context=bt.pendingContext,bt.pendingContext=null),(at===null||at.child===null)&&(ms(lt)?Co(lt):at===null||at.memoizedState.isDehydrated&&!(lt.flags&256)||(lt.flags|=1024,vo!==null&&(Uu(vo),vo=null))),Es(at,lt),Vn(lt),null;case 5:cu(lt),mt=Eo(ss.current);var Bt=lt.type;if(at!==null&&lt.stateNode!=null)ga(at,lt,Bt,bt,mt),at.ref!==lt.ref&&(lt.flags|=512,lt.flags|=2097152);else{if(!bt){if(lt.stateNode===null)throw Error(tt(166));return Vn(lt),null}if(at=Eo(co.current),ms(lt)){if(!lr)throw Error(tt(175));at=Vr(lt.stateNode,lt.type,lt.memoizedProps,mt,at,lt,!ps),lt.updateQueue=at,at!==null&&Co(lt)}else{var Nt=$t(Bt,bt,mt,at,lt);ws(Nt,lt,!1,!1),lt.stateNode=Nt,Ht(Nt,Bt,bt,mt,at)&&Co(lt)}lt.ref!==null&&(lt.flags|=512,lt.flags|=2097152)}return Vn(lt),null;case 6:if(at&&lt.stateNode!=null)xa(at,lt,at.memoizedProps,bt);else{if(typeof bt!="string"&&lt.stateNode===null)throw Error(tt(166));if(at=Eo(ss.current),mt=Eo(co.current),ms(lt)){if(!lr)throw Error(tt(176));if(at=lt.stateNode,bt=lt.memoizedProps,(mt=en(at,bt,lt,!ps))&&(Bt=ro,Bt!==null))switch(Nt=(Bt.mode&1)!==0,Bt.tag){case 3:_i(Bt.stateNode.containerInfo,at,bt,Nt);break;case 5:En(Bt.type,Bt.memoizedProps,Bt.stateNode,at,bt,Nt)}mt&&Co(lt)}else lt.stateNode=Zt(bt,at,mt,lt)}return Vn(lt),null;case 13:if(fn(Rn),bt=lt.memoizedState,Bn&&no!==null&&lt.mode&1&&!(lt.flags&128)){for(at=no;at;)at=yr(at);return ns(),lt.flags|=98560,lt}if(bt!==null&&bt.dehydrated!==null){if(bt=ms(lt),at===null){if(!bt)throw Error(tt(318));if(!lr)throw Error(tt(344));if(at=lt.memoizedState,at=at!==null?at.dehydrated:null,!at)throw Error(tt(317));Wr(at,lt)}else ns(),!(lt.flags&128)&&(lt.memoizedState=null),lt.flags|=4;return Vn(lt),null}return vo!==null&&(Uu(vo),vo=null),lt.flags&128?(lt.lanes=mt,lt):(bt=bt!==null,mt=!1,at===null?ms(lt):mt=at.memoizedState!==null,bt&&!mt&&(lt.child.flags|=8192,lt.mode&1&&(at===null||Rn.current&1?Nn===0&&(Nn=3):zu())),lt.updateQueue!==null&&(lt.flags|=4),Vn(lt),null);case 4:return as(),Es(at,lt),at===null&&Ar(lt.stateNode.containerInfo),Vn(lt),null;case 10:return Zl(lt.type._context),Vn(lt),null;case 17:return qn(lt.type)&&Ps(),Vn(lt),null;case 19:if(fn(Rn),Bt=lt.memoizedState,Bt===null)return Vn(lt),null;if(bt=(lt.flags&128)!==0,Nt=Bt.rendering,Nt===null)if(bt)Ss(Bt,!1);else{if(Nn!==0||at!==null&&at.flags&128)for(at=lt.child;at!==null;){if(Nt=Ks(at),Nt!==null){for(lt.flags|=128,Ss(Bt,!1),at=Nt.updateQueue,at!==null&&(lt.updateQueue=at,lt.flags|=4),lt.subtreeFlags=0,at=mt,bt=lt.child;bt!==null;)mt=bt,Bt=at,mt.flags&=14680066,Nt=mt.alternate,Nt===null?(mt.childLanes=0,mt.lanes=Bt,mt.child=null,mt.subtreeFlags=0,mt.memoizedProps=null,mt.memoizedState=null,mt.updateQueue=null,mt.dependencies=null,mt.stateNode=null):(mt.childLanes=Nt.childLanes,mt.lanes=Nt.lanes,mt.child=Nt.child,mt.subtreeFlags=0,mt.deletions=null,mt.memoizedProps=Nt.memoizedProps,mt.memoizedState=Nt.memoizedState,mt.updateQueue=Nt.updateQueue,mt.type=Nt.type,Bt=Nt.dependencies,mt.dependencies=Bt===null?null:{lanes:Bt.lanes,firstContext:Bt.firstContext}),bt=bt.sibling;return hn(Rn,Rn.current&1|2),lt.child}at=at.sibling}Bt.tail!==null&&Fn()>Nu&&(lt.flags|=128,bt=!0,Ss(Bt,!1),lt.lanes=4194304)}else{if(!bt)if(at=Ks(Nt),at!==null){if(lt.flags|=128,bt=!0,at=at.updateQueue,at!==null&&(lt.updateQueue=at,lt.flags|=4),Ss(Bt,!0),Bt.tail===null&&Bt.tailMode==="hidden"&&!Nt.alternate&&!Bn)return Vn(lt),null}else 2*Fn()-Bt.renderingStartTime>Nu&&mt!==1073741824&&(lt.flags|=128,bt=!0,Ss(Bt,!1),lt.lanes=4194304);Bt.isBackwards?(Nt.sibling=lt.child,lt.child=Nt):(at=Bt.last,at!==null?at.sibling=Nt:lt.child=Nt,Bt.last=Nt)}return Bt.tail!==null?(lt=Bt.tail,Bt.rendering=lt,Bt.tail=lt.sibling,Bt.renderingStartTime=Fn(),lt.sibling=null,at=Rn.current,hn(Rn,bt?at&1|2:at&1),lt):(Vn(lt),null);case 22:case 23:return Gu(),bt=lt.memoizedState!==null,at!==null&&at.memoizedState!==null!==bt&&(lt.flags|=8192),bt&&lt.mode&1?oo&1073741824&&(Vn(lt),fr&&lt.subtreeFlags&6&&(lt.flags|=8192)):Vn(lt),null;case 24:return null;case 25:return null}throw Error(tt(156,lt.tag))}var Ym=rt.ReactCurrentOwner,io=!1;function Kn(at,lt,mt,bt){lt.child=at===null?fp(lt,null,mt,bt):os(lt,at.child,mt,bt)}function $p(at,lt,mt,bt,Bt){mt=mt.render;var Nt=lt.ref;return es(lt,Bt),bt=hu(at,lt,mt,bt,Nt,Bt),mt=pu(),at!==null&&!io?(lt.updateQueue=at.updateQueue,lt.flags&=-2053,at.lanes&=~Bt,Io(at,lt,Bt)):(Bn&&mt&&nu(lt),lt.flags|=1,Kn(at,lt,bt,Bt),lt.child)}function Up(at,lt,mt,bt,Bt){if(at===null){var Nt=mt.type;return typeof Nt=="function"&&!Hu(Nt)&&Nt.defaultProps===void 0&&mt.compare===null&&mt.defaultProps===void 0?(lt.tag=15,lt.type=Nt,Gp(at,lt,Nt,bt,Bt)):(at=Ul(mt.type,null,bt,lt,lt.mode,Bt),at.ref=lt.ref,at.return=lt,lt.child=at)}if(Nt=at.child,!(at.lanes&Bt)){var qt=Nt.memoizedProps;if(mt=mt.compare,mt=mt!==null?mt:Os,mt(qt,bt)&&at.ref===lt.ref)return Io(at,lt,Bt)}return lt.flags|=1,at=Uo(Nt,bt),at.ref=lt.ref,at.return=lt,lt.child=at}function Gp(at,lt,mt,bt,Bt){if(at!==null&&Os(at.memoizedProps,bt)&&at.ref===lt.ref)if(io=!1,(at.lanes&Bt)!==0)at.flags&131072&&(io=!0);else return lt.lanes=at.lanes,Io(at,lt,Bt);return xu(at,lt,mt,bt,Bt)}function zp(at,lt,mt){var bt=lt.pendingProps,Bt=bt.children,Nt=at!==null?at.memoizedState:null;if(bt.mode==="hidden")if(!(lt.mode&1))lt.memoizedState={baseLanes:0,cachePool:null},hn(cs,oo),oo|=mt;else if(mt&1073741824)lt.memoizedState={baseLanes:0,cachePool:null},bt=Nt!==null?Nt.baseLanes:mt,hn(cs,oo),oo|=bt;else return at=Nt!==null?Nt.baseLanes|mt:mt,lt.lanes=lt.childLanes=1073741824,lt.memoizedState={baseLanes:at,cachePool:null},lt.updateQueue=null,hn(cs,oo),oo|=at,null;else Nt!==null?(bt=Nt.baseLanes|mt,lt.memoizedState=null):bt=mt,hn(cs,oo),oo|=bt;return Kn(at,lt,Bt,mt),lt.child}function Hp(at,lt){var mt=lt.ref;(at===null&&mt!==null||at!==null&&at.ref!==mt)&&(lt.flags|=512,lt.flags|=2097152)}function xu(at,lt,mt,bt,Bt){var Nt=qn(mt)?_o:Tn.current;return Nt=Qo(lt,Nt),es(lt,Bt),mt=hu(at,lt,mt,bt,Nt,Bt),bt=pu(),at!==null&&!io?(lt.updateQueue=at.updateQueue,lt.flags&=-2053,at.lanes&=~Bt,Io(at,lt,Bt)):(Bn&&bt&&nu(lt),lt.flags|=1,Kn(at,lt,mt,Bt),lt.child)}function Vp(at,lt,mt,bt,Bt){if(qn(mt)){var Nt=!0;Is(lt)}else Nt=!1;if(es(lt,Bt),lt.stateNode===null)at!==null&&(at.alternate=null,lt.alternate=null,lt.flags|=2),np(lt,mt,bt),ru(lt,mt,bt,Bt),bt=!0;else if(at===null){var qt=lt.stateNode,dr=lt.memoizedProps;qt.props=dr;var Sr=qt.context,Fr=mt.contextType;typeof Fr=="object"&&Fr!==null?Fr=so(Fr):(Fr=qn(mt)?_o:Tn.current,Fr=Qo(lt,Fr));var jr=mt.getDerivedStateFromProps,sn=typeof jr=="function"||typeof qt.getSnapshotBeforeUpdate=="function";sn||typeof qt.UNSAFE_componentWillReceiveProps!="function"&&typeof qt.componentWillReceiveProps!="function"||(dr!==bt||Sr!==Fr)&&ip(lt,qt,bt,Fr),Lo=!1;var Zr=lt.memoizedState;qt.state=Zr,zs(lt,bt,qt,Bt),Sr=lt.memoizedState,dr!==bt||Zr!==Sr||Gn.current||Lo?(typeof jr=="function"&&(tu(lt,mt,jr,bt),Sr=lt.memoizedState),(dr=Lo||rp(lt,mt,dr,bt,Zr,Sr,Fr))?(sn||typeof qt.UNSAFE_componentWillMount!="function"&&typeof qt.componentWillMount!="function"||(typeof qt.componentWillMount=="function"&&qt.componentWillMount(),typeof qt.UNSAFE_componentWillMount=="function"&&qt.UNSAFE_componentWillMount()),typeof qt.componentDidMount=="function"&&(lt.flags|=4194308)):(typeof qt.componentDidMount=="function"&&(lt.flags|=4194308),lt.memoizedProps=bt,lt.memoizedState=Sr),qt.props=bt,qt.state=Sr,qt.context=Fr,bt=dr):(typeof qt.componentDidMount=="function"&&(lt.flags|=4194308),bt=!1)}else{qt=lt.stateNode,_d(at,lt),dr=lt.memoizedProps,Fr=lt.type===lt.elementType?dr:yo(lt.type,dr),qt.props=Fr,sn=lt.pendingProps,Zr=qt.context,Sr=mt.contextType,typeof Sr=="object"&&Sr!==null?Sr=so(Sr):(Sr=qn(mt)?_o:Tn.current,Sr=Qo(lt,Sr));var wn=mt.getDerivedStateFromProps;(jr=typeof wn=="function"||typeof qt.getSnapshotBeforeUpdate=="function")||typeof qt.UNSAFE_componentWillReceiveProps!="function"&&typeof qt.componentWillReceiveProps!="function"||(dr!==sn||Zr!==Sr)&&ip(lt,qt,bt,Sr),Lo=!1,Zr=lt.memoizedState,qt.state=Zr,zs(lt,bt,qt,Bt);var Yr=lt.memoizedState;dr!==sn||Zr!==Yr||Gn.current||Lo?(typeof wn=="function"&&(tu(lt,mt,wn,bt),Yr=lt.memoizedState),(Fr=Lo||rp(lt,mt,Fr,bt,Zr,Yr,Sr)||!1)?(jr||typeof qt.UNSAFE_componentWillUpdate!="function"&&typeof qt.componentWillUpdate!="function"||(typeof qt.componentWillUpdate=="function"&&qt.componentWillUpdate(bt,Yr,Sr),typeof qt.UNSAFE_componentWillUpdate=="function"&&qt.UNSAFE_componentWillUpdate(bt,Yr,Sr)),typeof qt.componentDidUpdate=="function"&&(lt.flags|=4),typeof qt.getSnapshotBeforeUpdate=="function"&&(lt.flags|=1024)):(typeof qt.componentDidUpdate!="function"||dr===at.memoizedProps&&Zr===at.memoizedState||(lt.flags|=4),typeof qt.getSnapshotBeforeUpdate!="function"||dr===at.memoizedProps&&Zr===at.memoizedState||(lt.flags|=1024),lt.memoizedProps=bt,lt.memoizedState=Yr),qt.props=bt,qt.state=Yr,qt.context=Sr,bt=Fr):(typeof qt.componentDidUpdate!="function"||dr===at.memoizedProps&&Zr===at.memoizedState||(lt.flags|=4),typeof qt.getSnapshotBeforeUpdate!="function"||dr===at.memoizedProps&&Zr===at.memoizedState||(lt.flags|=1024),bt=!1)}return bu(at,lt,mt,bt,Nt,Bt)}function bu(at,lt,mt,bt,Bt,Nt){Hp(at,lt);var qt=(lt.flags&128)!==0;if(!bt&&!qt)return Bt&&qu(lt,mt,!1),Io(at,lt,Nt);bt=lt.stateNode,Ym.current=lt;var dr=qt&&typeof mt.getDerivedStateFromError!="function"?null:bt.render();return lt.flags|=1,at!==null&&qt?(lt.child=os(lt,at.child,null,Nt),lt.child=os(lt,null,dr,Nt)):Kn(at,lt,dr,Nt),lt.memoizedState=bt.state,Bt&&qu(lt,mt,!0),lt.child}function Wp(at){var lt=at.stateNode;lt.pendingContext?Ju(at,lt.pendingContext,lt.pendingContext!==lt.context):lt.context&&Ju(at,lt.context,!1),lu(at,lt.containerInfo)}function jp(at,lt,mt,bt,Bt){return ns(),au(Bt),lt.flags|=256,Kn(at,lt,mt,bt),lt.child}var ba={dehydrated:null,treeContext:null,retryLane:0};function $a(at){return{baseLanes:at,cachePool:null}}function Kp(at,lt,mt){var bt=lt.pendingProps,Bt=Rn.current,Nt=!1,qt=(lt.flags&128)!==0,dr;if((dr=qt)||(dr=at!==null&&at.memoizedState===null?!1:(Bt&2)!==0),dr?(Nt=!0,lt.flags&=-129):(at===null||at.memoizedState!==null)&&(Bt|=1),hn(Rn,Bt&1),at===null)return su(lt),at=lt.memoizedState,at!==null&&(at=at.dehydrated,at!==null)?(lt.mode&1?Kt(at)?lt.lanes=8:lt.lanes=1073741824:lt.lanes=1,null):(Bt=bt.children,at=bt.fallback,Nt?(bt=lt.mode,Nt=lt.child,Bt={mode:"hidden",children:Bt},!(bt&1)&&Nt!==null?(Nt.childLanes=0,Nt.pendingProps=Bt):Nt=Gl(Bt,bt,0,null),at=Yo(at,bt,mt,null),Nt.return=lt,at.return=lt,Nt.sibling=at,lt.child=Nt,lt.child.memoizedState=$a(mt),lt.memoizedState=ba,at):Au(lt,Bt));if(Bt=at.memoizedState,Bt!==null){if(dr=Bt.dehydrated,dr!==null){if(qt)return lt.flags&256?(lt.flags&=-257,yl(at,lt,mt,Error(tt(422)))):lt.memoizedState!==null?(lt.child=at.child,lt.flags|=128,null):(Nt=bt.fallback,Bt=lt.mode,bt=Gl({mode:"visible",children:bt.children},Bt,0,null),Nt=Yo(Nt,Bt,mt,null),Nt.flags|=2,bt.return=lt,Nt.return=lt,bt.sibling=Nt,lt.child=bt,lt.mode&1&&os(lt,at.child,null,mt),lt.child.memoizedState=$a(mt),lt.memoizedState=ba,Nt);if(!(lt.mode&1))lt=yl(at,lt,mt,null);else if(Kt(dr))lt=yl(at,lt,mt,Error(tt(419)));else if(bt=(mt&at.childLanes)!==0,io||bt){if(bt=Ln,bt!==null){switch(mt&-mt){case 4:Nt=2;break;case 16:Nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Nt=32;break;case 536870912:Nt=268435456;break;default:Nt=0}bt=Nt&(bt.suspendedLanes|mt)?0:Nt,bt!==0&&bt!==Bt.retryLane&&(Bt.retryLane=bt,fo(at,bt,-1))}zu(),lt=yl(at,lt,mt,Error(tt(421)))}else vn(dr)?(lt.flags|=128,lt.child=at.child,lt=c0.bind(null,at),gr(dr,lt),lt=null):(mt=Bt.treeContext,lr&&(no=$r(dr),ro=lt,Bn=!0,vo=null,ps=!1,mt!==null&&(ao[lo++]=Bo,ao[lo++]=Ro,ao[lo++]=Ho,Bo=mt.id,Ro=mt.overflow,Ho=lt)),lt=Au(lt,lt.pendingProps.children),lt.flags|=4096);return lt}return Nt?(bt=Xp(at,lt,bt.children,bt.fallback,mt),Nt=lt.child,Bt=at.child.memoizedState,Nt.memoizedState=Bt===null?$a(mt):{baseLanes:Bt.baseLanes|mt,cachePool:null},Nt.childLanes=at.childLanes&~mt,lt.memoizedState=ba,bt):(mt=Jp(at,lt,bt.children,mt),lt.memoizedState=null,mt)}return Nt?(bt=Xp(at,lt,bt.children,bt.fallback,mt),Nt=lt.child,Bt=at.child.memoizedState,Nt.memoizedState=Bt===null?$a(mt):{baseLanes:Bt.baseLanes|mt,cachePool:null},Nt.childLanes=at.childLanes&~mt,lt.memoizedState=ba,bt):(mt=Jp(at,lt,bt.children,mt),lt.memoizedState=null,mt)}function Au(at,lt){return lt=Gl({mode:"visible",children:lt},at.mode,0,null),lt.return=at,at.child=lt}function Jp(at,lt,mt,bt){var Bt=at.child;return at=Bt.sibling,mt=Uo(Bt,{mode:"visible",children:mt}),!(lt.mode&1)&&(mt.lanes=bt),mt.return=lt,mt.sibling=null,at!==null&&(bt=lt.deletions,bt===null?(lt.deletions=[at],lt.flags|=16):bt.push(at)),lt.child=mt}function Xp(at,lt,mt,bt,Bt){var Nt=lt.mode;at=at.child;var qt=at.sibling,dr={mode:"hidden",children:mt};return!(Nt&1)&&lt.child!==at?(mt=lt.child,mt.childLanes=0,mt.pendingProps=dr,lt.deletions=null):(mt=Uo(at,dr),mt.subtreeFlags=at.subtreeFlags&14680064),qt!==null?bt=Uo(qt,bt):(bt=Yo(bt,Nt,Bt,null),bt.flags|=2),bt.return=lt,mt.return=lt,mt.sibling=bt,lt.child=mt,bt}function yl(at,lt,mt,bt){return bt!==null&&au(bt),os(lt,at.child,null,mt),at=Au(lt,lt.pendingProps.children),at.flags|=2,lt.memoizedState=null,at}function qp(at,lt,mt){at.lanes|=lt;var bt=at.alternate;bt!==null&&(bt.lanes|=lt),_c(at.return,lt,mt)}function wu(at,lt,mt,bt,Bt){var Nt=at.memoizedState;Nt===null?at.memoizedState={isBackwards:lt,rendering:null,renderingStartTime:0,last:bt,tail:mt,tailMode:Bt}:(Nt.isBackwards=lt,Nt.rendering=null,Nt.renderingStartTime=0,Nt.last=bt,Nt.tail=mt,Nt.tailMode=Bt)}function Yp(at,lt,mt){var bt=lt.pendingProps,Bt=bt.revealOrder,Nt=bt.tail;if(Kn(at,lt,bt.children,mt),bt=Rn.current,bt&2)bt=bt&1|2,lt.flags|=128;else{if(at!==null&&at.flags&128)e:for(at=lt.child;at!==null;){if(at.tag===13)at.memoizedState!==null&&qp(at,mt,lt);else if(at.tag===19)qp(at,mt,lt);else if(at.child!==null){at.child.return=at,at=at.child;continue}if(at===lt)break e;for(;at.sibling===null;){if(at.return===null||at.return===lt)break e;at=at.return}at.sibling.return=at.return,at=at.sibling}bt&=1}if(hn(Rn,bt),!(lt.mode&1))lt.memoizedState=null;else switch(Bt){case"forwards":for(mt=lt.child,Bt=null;mt!==null;)at=mt.alternate,at!==null&&Ks(at)===null&&(Bt=mt),mt=mt.sibling;mt=Bt,mt===null?(Bt=lt.child,lt.child=null):(Bt=mt.sibling,mt.sibling=null),wu(lt,!1,Bt,mt,Nt);break;case"backwards":for(mt=null,Bt=lt.child,lt.child=null;Bt!==null;){if(at=Bt.alternate,at!==null&&Ks(at)===null){lt.child=Bt;break}at=Bt.sibling,Bt.sibling=mt,mt=Bt,Bt=at}wu(lt,!0,mt,null,Nt);break;case"together":wu(lt,!1,null,null,void 0);break;default:lt.memoizedState=null}return lt.child}function Io(at,lt,mt){if(at!==null&&(lt.dependencies=at.dependencies),us|=lt.lanes,!(mt&lt.childLanes))return null;if(at!==null&&lt.child!==at.child)throw Error(tt(153));if(lt.child!==null){for(at=lt.child,mt=Uo(at,at.pendingProps),lt.child=mt,mt.return=lt;at.sibling!==null;)at=at.sibling,mt=mt.sibling=Uo(at,at.pendingProps),mt.return=lt;mt.sibling=null}return lt.child}function Qm(at,lt,mt){switch(lt.tag){case 3:Wp(lt),ns();break;case 5:dp(lt);break;case 1:qn(lt.type)&&Is(lt);break;case 4:lu(lt,lt.stateNode.containerInfo);break;case 10:_f(lt,lt.type._context,lt.memoizedProps.value);break;case 13:var bt=lt.memoizedState;if(bt!==null)return bt.dehydrated!==null?(hn(Rn,Rn.current&1),lt.flags|=128,null):mt&lt.child.childLanes?Kp(at,lt,mt):(hn(Rn,Rn.current&1),at=Io(at,lt,mt),at!==null?at.sibling:null);hn(Rn,Rn.current&1);break;case 19:if(bt=(mt&lt.childLanes)!==0,at.flags&128){if(bt)return Yp(at,lt,mt);lt.flags|=128}var Bt=lt.memoizedState;if(Bt!==null&&(Bt.rendering=null,Bt.tail=null,Bt.lastEffect=null),hn(Rn,Rn.current),bt)break;return null;case 22:case 23:return lt.lanes=0,zp(at,lt,mt)}return Io(at,lt,mt)}function Zm(at,lt){switch(iu(lt),lt.tag){case 1:return qn(lt.type)&&Ps(),at=lt.flags,at&65536?(lt.flags=at&-65537|128,lt):null;case 3:return as(),fn(Gn),fn(Tn),fu(),at=lt.flags,at&65536&&!(at&128)?(lt.flags=at&-65537|128,lt):null;case 5:return cu(lt),null;case 13:if(fn(Rn),at=lt.memoizedState,at!==null&&at.dehydrated!==null){if(lt.alternate===null)throw Error(tt(340));ns()}return at=lt.flags,at&65536?(lt.flags=at&-65537|128,lt):null;case 19:return fn(Rn),null;case 4:return as(),null;case 10:return Zl(lt.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var _l=!1,jo=!1,_g=typeof WeakSet=="function"?WeakSet:Set,Gr=null;function xl(at,lt){var mt=at.ref;if(mt!==null)if(typeof mt=="function")try{mt(null)}catch(bt){Zn(at,lt,bt)}else mt.current=null}function Eu(at,lt,mt){try{mt()}catch(bt){Zn(at,lt,bt)}}var Qp=!1;function e0(at,lt){for(zt(at.containerInfo),Gr=lt;Gr!==null;)if(at=Gr,lt=at.child,(at.subtreeFlags&1028)!==0&&lt!==null)lt.return=at,Gr=lt;else for(;Gr!==null;){at=Gr;try{var mt=at.alternate;if(at.flags&1024)switch(at.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var bt=mt.memoizedProps,Bt=mt.memoizedState,Nt=at.stateNode,qt=Nt.getSnapshotBeforeUpdate(at.elementType===at.type?bt:yo(at.type,bt),Bt);Nt.__reactInternalSnapshotBeforeUpdate=qt}break;case 3:fr&&Ir(at.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(dr){Zn(at,at.return,dr)}if(lt=at.sibling,lt!==null){lt.return=at.return,Gr=lt;break}Gr=at.return}return mt=Qp,Qp=!1,mt}function Ko(at,lt,mt){var bt=lt.updateQueue;if(bt=bt!==null?bt.lastEffect:null,bt!==null){var Bt=bt=bt.next;do{if((Bt.tag&at)===at){var Nt=Bt.destroy;Bt.destroy=void 0,Nt!==void 0&&Eu(lt,mt,Nt)}Bt=Bt.next}while(Bt!==bt)}}function Cs(at,lt){if(lt=lt.updateQueue,lt=lt!==null?lt.lastEffect:null,lt!==null){var mt=lt=lt.next;do{if((mt.tag&at)===at){var bt=mt.create;mt.destroy=bt()}mt=mt.next}while(mt!==lt)}}function Su(at){var lt=at.ref;if(lt!==null){var mt=at.stateNode;switch(at.tag){case 5:at=Lt(mt);break;default:at=mt}typeof lt=="function"?lt(at):lt.current=at}}function Zp(at,lt,mt){if(xo&&typeof xo.onCommitFiberUnmount=="function")try{xo.onCommitFiberUnmount(Ns,lt)}catch{}switch(lt.tag){case 0:case 11:case 14:case 15:if(at=lt.updateQueue,at!==null&&(at=at.lastEffect,at!==null)){var bt=at=at.next;do{var Bt=bt,Nt=Bt.destroy;Bt=Bt.tag,Nt!==void 0&&(Bt&2||Bt&4)&&Eu(lt,mt,Nt),bt=bt.next}while(bt!==at)}break;case 1:if(xl(lt,mt),at=lt.stateNode,typeof at.componentWillUnmount=="function")try{at.props=lt.memoizedProps,at.state=lt.memoizedState,at.componentWillUnmount()}catch(qt){Zn(lt,mt,qt)}break;case 5:xl(lt,mt);break;case 4:fr?om(at,lt,mt):nr&&nr&&(lt=lt.stateNode.containerInfo,mt=Xr(lt),rn(lt,mt))}}function em(at,lt,mt){for(var bt=lt;;)if(Zp(at,bt,mt),bt.child===null||fr&&bt.tag===4){if(bt===lt)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===lt)return;bt=bt.return}bt.sibling.return=bt.return,bt=bt.sibling}else bt.child.return=bt,bt=bt.child}function tm(at){var lt=at.alternate;lt!==null&&(at.alternate=null,tm(lt)),at.child=null,at.deletions=null,at.sibling=null,at.tag===5&&(lt=at.stateNode,lt!==null&&Dr(lt)),at.stateNode=null,at.return=null,at.dependencies=null,at.memoizedProps=null,at.memoizedState=null,at.pendingProps=null,at.stateNode=null,at.updateQueue=null}function rm(at){return at.tag===5||at.tag===3||at.tag===4}function nm(at){e:for(;;){for(;at.sibling===null;){if(at.return===null||rm(at.return))return null;at=at.return}for(at.sibling.return=at.return,at=at.sibling;at.tag!==5&&at.tag!==6&&at.tag!==18;){if(at.flags&2||at.child===null||at.tag===4)continue e;at.child.return=at,at=at.child}if(!(at.flags&2))return at.stateNode}}function im(at){if(fr){e:{for(var lt=at.return;lt!==null;){if(rm(lt))break e;lt=lt.return}throw Error(tt(160))}var mt=lt;switch(mt.tag){case 5:lt=mt.stateNode,mt.flags&32&&(br(lt),mt.flags&=-33),mt=nm(at),Mu(at,mt,lt);break;case 3:case 4:lt=mt.stateNode.containerInfo,mt=nm(at),Cu(at,mt,lt);break;default:throw Error(tt(161))}}}function Cu(at,lt,mt){var bt=at.tag;if(bt===5||bt===6)at=at.stateNode,lt?Cr(mt,at,lt):Ct(mt,at);else if(bt!==4&&(at=at.child,at!==null))for(Cu(at,lt,mt),at=at.sibling;at!==null;)Cu(at,lt,mt),at=at.sibling}function Mu(at,lt,mt){var bt=at.tag;if(bt===5||bt===6)at=at.stateNode,lt?er(mt,at,lt):St(mt,at);else if(bt!==4&&(at=at.child,at!==null))for(Mu(at,lt,mt),at=at.sibling;at!==null;)Mu(at,lt,mt),at=at.sibling}function om(at,lt,mt){for(var bt=lt,Bt=!1,Nt,qt;;){if(!Bt){Bt=bt.return;e:for(;;){if(Bt===null)throw Error(tt(160));switch(Nt=Bt.stateNode,Bt.tag){case 5:qt=!1;break e;case 3:Nt=Nt.containerInfo,qt=!0;break e;case 4:Nt=Nt.containerInfo,qt=!0;break e}Bt=Bt.return}Bt=!0}if(bt.tag===5||bt.tag===6)em(at,bt,mt),qt?Yt(Nt,bt.stateNode):Br(Nt,bt.stateNode);else if(bt.tag===18)qt?Mn(Nt,bt.stateNode):yn(Nt,bt.stateNode);else if(bt.tag===4){if(bt.child!==null){Nt=bt.stateNode.containerInfo,qt=!0,bt.child.return=bt,bt=bt.child;continue}}else if(Zp(at,bt,mt),bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===lt)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===lt)return;bt=bt.return,bt.tag===4&&(Bt=!1)}bt.sibling.return=bt.return,bt=bt.sibling}}function Tu(at,lt){if(fr){switch(lt.tag){case 0:case 11:case 14:case 15:Ko(3,lt,lt.return),Cs(3,lt),Ko(5,lt,lt.return);return;case 1:return;case 5:var mt=lt.stateNode;if(mt!=null){var bt=lt.memoizedProps;at=at!==null?at.memoizedProps:bt;var Bt=lt.type,Nt=lt.updateQueue;lt.updateQueue=null,Nt!==null&&rr(mt,Nt,Bt,at,bt,lt)}return;case 6:if(lt.stateNode===null)throw Error(tt(162));mt=lt.memoizedProps,Gt(lt.stateNode,at!==null?at.memoizedProps:mt,mt);return;case 3:lr&&at!==null&&at.memoizedState.isDehydrated&&tn(lt.stateNode.containerInfo);return;case 12:return;case 13:Al(lt);return;case 19:Al(lt);return;case 17:return}throw Error(tt(163))}switch(lt.tag){case 0:case 11:case 14:case 15:Ko(3,lt,lt.return),Cs(3,lt),Ko(5,lt,lt.return);return;case 12:return;case 13:Al(lt);return;case 19:Al(lt);return;case 3:lr&&at!==null&&at.memoizedState.isDehydrated&&tn(lt.stateNode.containerInfo);break;case 22:case 23:return}e:if(nr){switch(lt.tag){case 1:case 5:case 6:break e;case 3:case 4:lt=lt.stateNode,rn(lt.containerInfo,lt.pendingChildren);break e}throw Error(tt(163))}}function Al(at){var lt=at.updateQueue;if(lt!==null){at.updateQueue=null;var mt=at.stateNode;mt===null&&(mt=at.stateNode=new _g),lt.forEach(function(bt){var Bt=u0.bind(null,at,bt);mt.has(bt)||(mt.add(bt),bt.then(Bt,Bt))})}}function t0(at,lt){for(Gr=lt;Gr!==null;){lt=Gr;var mt=lt.deletions;if(mt!==null)for(var bt=0;bt<mt.length;bt++){var Bt=mt[bt];try{var Nt=at;fr?om(Nt,Bt,lt):em(Nt,Bt,lt);var qt=Bt.alternate;qt!==null&&(qt.return=null),Bt.return=null}catch(Jr){Zn(Bt,lt,Jr)}}if(mt=lt.child,lt.subtreeFlags&12854&&mt!==null)mt.return=lt,Gr=mt;else for(;Gr!==null;){lt=Gr;try{var dr=lt.flags;if(dr&32&&fr&&br(lt.stateNode),dr&512){var Sr=lt.alternate;if(Sr!==null){var Fr=Sr.ref;Fr!==null&&(typeof Fr=="function"?Fr(null):Fr.current=null)}}if(dr&8192)switch(lt.tag){case 13:if(lt.memoizedState!==null){var jr=lt.alternate;(jr===null||jr.memoizedState===null)&&(ku=Fn())}break;case 22:var sn=lt.memoizedState!==null,Zr=lt.alternate,wn=Zr!==null&&Zr.memoizedState!==null;if(mt=lt,fr){e:if(bt=mt,Bt=sn,Nt=null,fr)for(var Yr=bt;;){if(Yr.tag===5){if(Nt===null){Nt=Yr;var Wn=Yr.stateNode;Bt?Rr(Wn):xr(Yr.stateNode,Yr.memoizedProps)}}else if(Yr.tag===6){if(Nt===null){var po=Yr.stateNode;Bt?tr(po):Er(po,Yr.memoizedProps)}}else if((Yr.tag!==22&&Yr.tag!==23||Yr.memoizedState===null||Yr===bt)&&Yr.child!==null){Yr.child.return=Yr,Yr=Yr.child;continue}if(Yr===bt)break;for(;Yr.sibling===null;){if(Yr.return===null||Yr.return===bt)break e;Nt===Yr&&(Nt=null),Yr=Yr.return}Nt===Yr&&(Nt=null),Yr.sibling.return=Yr.return,Yr=Yr.sibling}}if(sn&&!wn&&mt.mode&1){Gr=mt;for(var vr=mt.child;vr!==null;){for(mt=Gr=vr;Gr!==null;){bt=Gr;var mr=bt.child;switch(bt.tag){case 0:case 11:case 14:case 15:Ko(4,bt,bt.return);break;case 1:xl(bt,bt.return);var wr=bt.stateNode;if(typeof wr.componentWillUnmount=="function"){var zr=bt.return;try{wr.props=bt.memoizedProps,wr.state=bt.memoizedState,wr.componentWillUnmount()}catch(Jr){Zn(bt,zr,Jr)}}break;case 5:xl(bt,bt.return);break;case 22:if(bt.memoizedState!==null){lm(mt);continue}}mr!==null?(mr.return=bt,Gr=mr):lm(mt)}vr=vr.sibling}}}switch(dr&4102){case 2:im(lt),lt.flags&=-3;break;case 6:im(lt),lt.flags&=-3,Tu(lt.alternate,lt);break;case 4096:lt.flags&=-4097;break;case 4100:lt.flags&=-4097,Tu(lt.alternate,lt);break;case 4:Tu(lt.alternate,lt)}}catch(Jr){Zn(lt,lt.return,Jr)}if(mt=lt.sibling,mt!==null){mt.return=lt.return,Gr=mt;break}Gr=lt.return}}}function r0(at,lt,mt){Gr=at,sm(at)}function sm(at,lt,mt){for(var bt=(at.mode&1)!==0;Gr!==null;){var Bt=Gr,Nt=Bt.child;if(Bt.tag===22&&bt){var qt=Bt.memoizedState!==null||_l;if(!qt){var dr=Bt.alternate,Sr=dr!==null&&dr.memoizedState!==null||jo;dr=_l;var Fr=jo;if(_l=qt,(jo=Sr)&&!Fr)for(Gr=Bt;Gr!==null;)qt=Gr,Sr=qt.child,qt.tag===22&&qt.memoizedState!==null?cm(Bt):Sr!==null?(Sr.return=qt,Gr=Sr):cm(Bt);for(;Nt!==null;)Gr=Nt,sm(Nt),Nt=Nt.sibling;Gr=Bt,_l=dr,jo=Fr}am(at)}else Bt.subtreeFlags&8772&&Nt!==null?(Nt.return=Bt,Gr=Nt):am(at)}}function am(at){for(;Gr!==null;){var lt=Gr;if(lt.flags&8772){var mt=lt.alternate;try{if(lt.flags&8772)switch(lt.tag){case 0:case 11:case 15:jo||Cs(5,lt);break;case 1:var bt=lt.stateNode;if(lt.flags&4&&!jo)if(mt===null)bt.componentDidMount();else{var Bt=lt.elementType===lt.type?mt.memoizedProps:yo(lt.type,mt.memoizedProps);bt.componentDidUpdate(Bt,mt.memoizedState,bt.__reactInternalSnapshotBeforeUpdate)}var Nt=lt.updateQueue;Nt!==null&&ep(lt,Nt,bt);break;case 3:var qt=lt.updateQueue;if(qt!==null){if(mt=null,lt.child!==null)switch(lt.child.tag){case 5:mt=Lt(lt.child.stateNode);break;case 1:mt=lt.child.stateNode}ep(lt,qt,mt)}break;case 5:var dr=lt.stateNode;mt===null&&lt.flags&4&&Qt(dr,lt.type,lt.memoizedProps,lt);break;case 6:break;case 4:break;case 12:break;case 13:if(lr&&lt.memoizedState===null){var Sr=lt.alternate;if(Sr!==null){var Fr=Sr.memoizedState;if(Fr!==null){var jr=Fr.dehydrated;jr!==null&&nn(jr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(tt(163))}jo||lt.flags&512&&Su(lt)}catch(sn){Zn(lt,lt.return,sn)}}if(lt===at){Gr=null;break}if(mt=lt.sibling,mt!==null){mt.return=lt.return,Gr=mt;break}Gr=lt.return}}function lm(at){for(;Gr!==null;){var lt=Gr;if(lt===at){Gr=null;break}var mt=lt.sibling;if(mt!==null){mt.return=lt.return,Gr=mt;break}Gr=lt.return}}function cm(at){for(;Gr!==null;){var lt=Gr;try{switch(lt.tag){case 0:case 11:case 15:var mt=lt.return;try{Cs(4,lt)}catch(Sr){Zn(lt,mt,Sr)}break;case 1:var bt=lt.stateNode;if(typeof bt.componentDidMount=="function"){var Bt=lt.return;try{bt.componentDidMount()}catch(Sr){Zn(lt,Bt,Sr)}}var Nt=lt.return;try{Su(lt)}catch(Sr){Zn(lt,Nt,Sr)}break;case 5:var qt=lt.return;try{Su(lt)}catch(Sr){Zn(lt,qt,Sr)}}}catch(Sr){Zn(lt,lt.return,Sr)}if(lt===at){Gr=null;break}var dr=lt.sibling;if(dr!==null){dr.return=lt.return,Gr=dr;break}Gr=lt.return}}var El=0,Sl=1,Cl=2,Ml=3,Tl=4;if(typeof Symbol=="function"&&Symbol.for){var Ms=Symbol.for;El=Ms("selector.component"),Sl=Ms("selector.has_pseudo_class"),Cl=Ms("selector.role"),Ml=Ms("selector.test_id"),Tl=Ms("selector.text")}function Bu(at){var lt=cr(at);if(lt!=null){if(typeof lt.memoizedProps["data-testname"]!="string")throw Error(tt(364));return lt}if(at=Nr(at),at===null)throw Error(tt(362));return at.stateNode.current}function Ru(at,lt){switch(lt.$$typeof){case El:if(at.type===lt.value)return!0;break;case Sl:e:{lt=lt.value,at=[at,0];for(var mt=0;mt<at.length;){var bt=at[mt++],Bt=at[mt++],Nt=lt[Bt];if(bt.tag!==5||!ur(bt)){for(;Nt!=null&&Ru(bt,Nt);)Bt++,Nt=lt[Bt];if(Bt===lt.length){lt=!0;break e}else for(bt=bt.child;bt!==null;)at.push(bt,Bt),bt=bt.sibling}}lt=!1}return lt;case Cl:if(at.tag===5&&Pr(at.stateNode,lt.value))return!0;break;case Tl:if((at.tag===5||at.tag===6)&&(at=Wt(at),at!==null&&0<=at.indexOf(lt.value)))return!0;break;case Ml:if(at.tag===5&&(at=at.memoizedProps["data-testname"],typeof at=="string"&&at.toLowerCase()===lt.value.toLowerCase()))return!0;break;default:throw Error(tt(365))}return!1}function Pu(at){switch(at.$$typeof){case El:return"<"+(It(at.value)||"Unknown")+">";case Sl:return":has("+(Pu(at)||"")+")";case Cl:return'[role="'+at.value+'"]';case Tl:return'"'+at.value+'"';case Ml:return'[data-testname="'+at.value+'"]';default:throw Error(tt(365))}}function um(at,lt){var mt=[];at=[at,0];for(var bt=0;bt<at.length;){var Bt=at[bt++],Nt=at[bt++],qt=lt[Nt];if(Bt.tag!==5||!ur(Bt)){for(;qt!=null&&Ru(Bt,qt);)Nt++,qt=lt[Nt];if(Nt===lt.length)mt.push(Bt);else for(Bt=Bt.child;Bt!==null;)at.push(Bt,Nt),Bt=Bt.sibling}}return mt}function Iu(at,lt){if(!Or)throw Error(tt(363));at=Bu(at),at=um(at,lt),lt=[],at=Array.from(at);for(var mt=0;mt<at.length;){var bt=at[mt++];if(bt.tag===5)ur(bt)||lt.push(bt.stateNode);else for(bt=bt.child;bt!==null;)at.push(bt),bt=bt.sibling}return lt}var n0=Math.ceil,Rl=rt.ReactCurrentDispatcher,Du=rt.ReactCurrentOwner,In=rt.ReactCurrentBatchConfig,un=0,Ln=null,kn=null,Un=0,oo=0,cs=An(0),Nn=0,Ts=null,us=0,Pl=0,Lu=0,Bs=null,Yn=null,ku=0,Nu=1/0;function fs(){Nu=Fn()+500}var Il=!1,Fu=null,No=null,Dl=!1,Fo=null,Ll=0,Rs=0,Ou=null,Nl=-1,Fl=0;function Jn(){return un&6?Fn():Nl!==-1?Nl:Nl=Fn()}function Oo(at){return at.mode&1?un&2&&Un!==0?Un&-Un:Um.transition!==null?(Fl===0&&(at=Ds,Ds<<=1,!(Ds&4194240)&&(Ds=64),Fl=at),Fl):(at=pn,at!==0?at:kr()):1}function fo(at,lt,mt){if(50<Rs)throw Rs=0,Ou=null,Error(tt(185));var bt=Ol(at,lt);return bt===null?null:(hs(bt,lt,mt),(!(un&2)||bt!==Ln)&&(bt===Ln&&(!(un&2)&&(Pl|=lt),Nn===4&&$o(bt,Un)),Qn(bt,mt),lt===1&&un===0&&!(at.mode&1)&&(fs(),Fs&&Ao())),bt)}function Ol(at,lt){at.lanes|=lt;var mt=at.alternate;for(mt!==null&&(mt.lanes|=lt),mt=at,at=at.return;at!==null;)at.childLanes|=lt,mt=at.alternate,mt!==null&&(mt.childLanes|=lt),mt=at,at=at.return;return mt.tag===3?mt.stateNode:null}function Qn(at,lt){var mt=at.callbackNode;Pm(at,lt);var bt=ks(at,at===Ln?Un:0);if(bt===0)mt!==null&&Qu(mt),at.callbackNode=null,at.callbackPriority=0;else if(lt=bt&-bt,at.callbackPriority!==lt){if(mt!=null&&Qu(mt),lt===1)at.tag===0?$m(dm.bind(null,at)):Zu(dm.bind(null,at)),Lr?Ur(function(){un===0&&Ao()}):Wl(Kl,Ao),mt=null;else{switch(Yu(bt)){case 1:mt=Kl;break;case 4:mt=km;break;case 16:mt=Jl;break;case 536870912:mt=Nm;break;default:mt=Jl}mt=bm(mt,fm.bind(null,at))}at.callbackPriority=lt,at.callbackNode=mt}}function fm(at,lt){if(Nl=-1,Fl=0,un&6)throw Error(tt(327));var mt=at.callbackNode;if(qo()&&at.callbackNode!==mt)return null;var bt=ks(at,at===Ln?Un:0);if(bt===0)return null;if(bt&30||bt&at.expiredLanes||lt)lt=$l(at,bt);else{lt=bt;var Bt=un;un|=2;var Nt=mm();(Ln!==at||Un!==lt)&&(fs(),Jo(at,lt));do try{s0();break}catch(dr){pm(at,dr)}while(1);Ql(),Rl.current=Nt,un=Bt,kn!==null?lt=0:(Ln=null,Un=0,lt=Nn)}if(lt!==0){if(lt===2&&(Bt=zl(at),Bt!==0&&(bt=Bt,lt=$u(at,Bt))),lt===1)throw mt=Ts,Jo(at,0),$o(at,bt),Qn(at,Fn()),mt;if(lt===6)$o(at,bt);else{if(Bt=at.current.alternate,!(bt&30)&&!i0(Bt)&&(lt=$l(at,bt),lt===2&&(Nt=zl(at),Nt!==0&&(bt=Nt,lt=$u(at,Nt))),lt===1))throw mt=Ts,Jo(at,0),$o(at,bt),Qn(at,Fn()),mt;switch(at.finishedWork=Bt,at.finishedLanes=bt,lt){case 0:case 1:throw Error(tt(345));case 2:Xo(at,Yn);break;case 3:if($o(at,bt),(bt&130023424)===bt&&(lt=ku+500-Fn(),10<lt)){if(ks(at,0)!==0)break;if(Bt=at.suspendedLanes,(Bt&bt)!==bt){Jn(),at.pingedLanes|=at.suspendedLanes&Bt;break}at.timeoutHandle=ir(Xo.bind(null,at,Yn),lt);break}Xo(at,Yn);break;case 4:if($o(at,bt),(bt&4194240)===bt)break;for(lt=at.eventTimes,Bt=-1;0<bt;){var qt=31-go(bt);Nt=1<<qt,qt=lt[qt],qt>Bt&&(Bt=qt),bt&=~Nt}if(bt=Bt,bt=Fn()-bt,bt=(120>bt?120:480>bt?480:1080>bt?1080:1920>bt?1920:3e3>bt?3e3:4320>bt?4320:1960*n0(bt/1960))-bt,10<bt){at.timeoutHandle=ir(Xo.bind(null,at,Yn),bt);break}Xo(at,Yn);break;case 5:Xo(at,Yn);break;default:throw Error(tt(329))}}}return Qn(at,Fn()),at.callbackNode===mt?fm.bind(null,at):null}function $u(at,lt){var mt=Bs;return at.current.memoizedState.isDehydrated&&(Jo(at,lt).flags|=256),at=$l(at,lt),at!==2&&(lt=Yn,Yn=mt,lt!==null&&Uu(lt)),at}function Uu(at){Yn===null?Yn=at:Yn.push.apply(Yn,at)}function i0(at){for(var lt=at;;){if(lt.flags&16384){var mt=lt.updateQueue;if(mt!==null&&(mt=mt.stores,mt!==null))for(var bt=0;bt<mt.length;bt++){var Bt=mt[bt],Nt=Bt.getSnapshot;Bt=Bt.value;try{if(!bo(Nt(),Bt))return!1}catch{return!1}}}if(mt=lt.child,lt.subtreeFlags&16384&&mt!==null)mt.return=lt,lt=mt;else{if(lt===at)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===at)return!0;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}}return!0}function $o(at,lt){for(lt&=~Lu,lt&=~Pl,at.suspendedLanes|=lt,at.pingedLanes&=~lt,at=at.expirationTimes;0<lt;){var mt=31-go(lt),bt=1<<mt;at[mt]=-1,lt&=~bt}}function dm(at){if(un&6)throw Error(tt(327));qo();var lt=ks(at,0);if(!(lt&1))return Qn(at,Fn()),null;var mt=$l(at,lt);if(at.tag!==0&&mt===2){var bt=zl(at);bt!==0&&(lt=bt,mt=$u(at,bt))}if(mt===1)throw mt=Ts,Jo(at,0),$o(at,lt),Qn(at,Fn()),mt;if(mt===6)throw Error(tt(345));return at.finishedWork=at.current.alternate,at.finishedLanes=lt,Xo(at,Yn),Qn(at,Fn()),null}function hm(at){Fo!==null&&Fo.tag===0&&!(un&6)&&qo();var lt=un;un|=1;var mt=In.transition,bt=pn;try{if(In.transition=null,pn=1,at)return at()}finally{pn=bt,In.transition=mt,un=lt,!(un&6)&&Ao()}}function Gu(){oo=cs.current,fn(cs)}function Jo(at,lt){at.finishedWork=null,at.finishedLanes=0;var mt=at.timeoutHandle;if(mt!==pr&&(at.timeoutHandle=pr,sr(mt)),kn!==null)for(mt=kn.return;mt!==null;){var bt=mt;switch(iu(bt),bt.tag){case 1:bt=bt.type.childContextTypes,bt!=null&&Ps();break;case 3:as(),fn(Gn),fn(Tn),fu();break;case 5:cu(bt);break;case 4:as();break;case 13:fn(Rn);break;case 19:fn(Rn);break;case 10:Zl(bt.type._context);break;case 22:case 23:Gu()}mt=mt.return}if(Ln=at,kn=at=Uo(at.current,null),Un=oo=lt,Nn=0,Ts=null,Lu=Pl=us=0,Yn=Bs=null,wo!==null){for(lt=0;lt<wo.length;lt++)if(mt=wo[lt],bt=mt.interleaved,bt!==null){mt.interleaved=null;var Bt=bt.next,Nt=mt.pending;if(Nt!==null){var qt=Nt.next;Nt.next=Bt,bt.next=qt}mt.pending=bt}wo=null}return at}function pm(at,lt){do{var mt=kn;try{if(Ql(),Js.current=na,Xs){for(var bt=Pn.memoizedState;bt!==null;){var Bt=bt.queue;Bt!==null&&(Bt.pending=null),bt=bt.next}Xs=!1}if(ls=0,On=zn=Pn=null,_s=!1,xs=0,Du.current=null,mt===null||mt.return===null){Nn=1,Ts=lt,kn=null;break}e:{var Nt=at,qt=mt.return,dr=mt,Sr=lt;if(lt=Un,dr.flags|=32768,Sr!==null&&typeof Sr=="object"&&typeof Sr.then=="function"){var Fr=Sr,jr=dr,sn=jr.tag;if(!(jr.mode&1)&&(sn===0||sn===11||sn===15)){var Zr=jr.alternate;Zr?(jr.updateQueue=Zr.updateQueue,jr.memoizedState=Zr.memoizedState,jr.lanes=Zr.lanes):(jr.updateQueue=null,jr.memoizedState=null)}var wn=Lp(qt);if(wn!==null){wn.flags&=-257,kp(wn,qt,dr,Nt,lt),wn.mode&1&&Dp(Nt,Fr,lt),lt=wn,Sr=Fr;var Yr=lt.updateQueue;if(Yr===null){var Wn=new Set;Wn.add(Sr),lt.updateQueue=Wn}else Yr.add(Sr);break e}else{if(!(lt&1)){Dp(Nt,Fr,lt),zu();break e}Sr=Error(tt(426))}}else if(Bn&&dr.mode&1){var po=Lp(qt);if(po!==null){!(po.flags&65536)&&(po.flags|=256),kp(po,qt,dr,Nt,lt),au(Sr);break e}}Nt=Sr,Nn!==4&&(Nn=2),Bs===null?Bs=[Nt]:Bs.push(Nt),Sr=vu(Sr,dr),dr=qt;do{switch(dr.tag){case 3:dr.flags|=65536,lt&=-lt,dr.lanes|=lt;var vr=Pp(dr,Sr,lt);_h(dr,vr);break e;case 1:Nt=Sr;var mr=dr.type,wr=dr.stateNode;if(!(dr.flags&128)&&(typeof mr.getDerivedStateFromError=="function"||wr!==null&&typeof wr.componentDidCatch=="function"&&(No===null||!No.has(wr)))){dr.flags|=65536,lt&=-lt,dr.lanes|=lt;var zr=Ip(dr,Nt,lt);_h(dr,zr);break e}}dr=dr.return}while(dr!==null)}ym(mt)}catch(Jr){lt=Jr,kn===mt&&mt!==null&&(kn=mt=mt.return);continue}break}while(1)}function mm(){var at=Rl.current;return Rl.current=na,at===null?na:at}function zu(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Ln===null||!(us&268435455)&&!(Pl&268435455)||$o(Ln,Un)}function $l(at,lt){var mt=un;un|=2;var bt=mm();Ln===at&&Un===lt||Jo(at,lt);do try{o0();break}catch(Bt){pm(at,Bt)}while(1);if(Ql(),un=mt,Rl.current=bt,kn!==null)throw Error(tt(261));return Ln=null,Un=0,Nn}function o0(){for(;kn!==null;)gm(kn)}function s0(){for(;kn!==null&&!Dm();)gm(kn)}function gm(at){var lt=xm(at.alternate,at,oo);at.memoizedProps=at.pendingProps,lt===null?ym(at):kn=lt,Du.current=null}function ym(at){var lt=at;do{var mt=lt.alternate;if(at=lt.return,lt.flags&32768){if(mt=Zm(mt,lt),mt!==null){mt.flags&=32767,kn=mt;return}if(at!==null)at.flags|=32768,at.subtreeFlags=0,at.deletions=null;else{Nn=6,kn=null;return}}else if(mt=qm(mt,lt,oo),mt!==null){kn=mt;return}if(lt=lt.sibling,lt!==null){kn=lt;return}kn=lt=at}while(lt!==null);Nn===0&&(Nn=5)}function Xo(at,lt){var mt=pn,bt=In.transition;try{In.transition=null,pn=1,a0(at,lt,mt)}finally{In.transition=bt,pn=mt}return null}function a0(at,lt,mt){do qo();while(Fo!==null);if(un&6)throw Error(tt(327));var bt=at.finishedWork,Bt=at.finishedLanes;if(bt===null)return null;if(at.finishedWork=null,at.finishedLanes=0,bt===at.current)throw Error(tt(177));at.callbackNode=null,at.callbackPriority=0;var Nt=bt.lanes|bt.childLanes;if(Im(at,Nt),at===Ln&&(kn=Ln=null,Un=0),!(bt.subtreeFlags&2064)&&!(bt.flags&2064)||Dl||(Dl=!0,bm(Jl,function(){return qo(),null})),Nt=(bt.flags&15990)!==0,bt.subtreeFlags&15990||Nt){Nt=In.transition,In.transition=null;var qt=pn;pn=1;var dr=un;un|=4,Du.current=null,e0(at,bt),t0(at,bt),Vt(at.containerInfo),at.current=bt,r0(bt),Lm(),un=dr,pn=qt,In.transition=Nt}else at.current=bt;if(Dl&&(Dl=!1,Fo=at,Ll=Bt),Nt=at.pendingLanes,Nt===0&&(No=null),Fm(bt.stateNode),Qn(at,Fn()),lt!==null)for(mt=at.onRecoverableError,bt=0;bt<lt.length;bt++)mt(lt[bt]);if(Il)throw Il=!1,at=Fu,Fu=null,at;return Ll&1&&at.tag!==0&&qo(),Nt=at.pendingLanes,Nt&1?at===Ou?Rs++:(Rs=0,Ou=at):Rs=0,Ao(),null}function qo(){if(Fo!==null){var at=Yu(Ll),lt=In.transition,mt=pn;try{if(In.transition=null,pn=16>at?16:at,Fo===null)var bt=!1;else{if(at=Fo,Fo=null,Ll=0,un&6)throw Error(tt(331));var Bt=un;for(un|=4,Gr=at.current;Gr!==null;){var Nt=Gr,qt=Nt.child;if(Gr.flags&16){var dr=Nt.deletions;if(dr!==null){for(var Sr=0;Sr<dr.length;Sr++){var Fr=dr[Sr];for(Gr=Fr;Gr!==null;){var jr=Gr;switch(jr.tag){case 0:case 11:case 15:Ko(8,jr,Nt)}var sn=jr.child;if(sn!==null)sn.return=jr,Gr=sn;else for(;Gr!==null;){jr=Gr;var Zr=jr.sibling,wn=jr.return;if(tm(jr),jr===Fr){Gr=null;break}if(Zr!==null){Zr.return=wn,Gr=Zr;break}Gr=wn}}}var Yr=Nt.alternate;if(Yr!==null){var Wn=Yr.child;if(Wn!==null){Yr.child=null;do{var po=Wn.sibling;Wn.sibling=null,Wn=po}while(Wn!==null)}}Gr=Nt}}if(Nt.subtreeFlags&2064&&qt!==null)qt.return=Nt,Gr=qt;else e:for(;Gr!==null;){if(Nt=Gr,Nt.flags&2048)switch(Nt.tag){case 0:case 11:case 15:Ko(9,Nt,Nt.return)}var vr=Nt.sibling;if(vr!==null){vr.return=Nt.return,Gr=vr;break e}Gr=Nt.return}}var mr=at.current;for(Gr=mr;Gr!==null;){qt=Gr;var wr=qt.child;if(qt.subtreeFlags&2064&&wr!==null)wr.return=qt,Gr=wr;else e:for(qt=mr;Gr!==null;){if(dr=Gr,dr.flags&2048)try{switch(dr.tag){case 0:case 11:case 15:Cs(9,dr)}}catch(Jr){Zn(dr,dr.return,Jr)}if(dr===qt){Gr=null;break e}var zr=dr.sibling;if(zr!==null){zr.return=dr.return,Gr=zr;break e}Gr=dr.return}}if(un=Bt,Ao(),xo&&typeof xo.onPostCommitFiberRoot=="function")try{xo.onPostCommitFiberRoot(Ns,at)}catch{}bt=!0}return bt}finally{pn=mt,In.transition=lt}}return!1}function vm(at,lt,mt){lt=vu(mt,lt),lt=Pp(at,lt,1),ko(at,lt),lt=Jn(),at=Ol(at,1),at!==null&&(hs(at,1,lt),Qn(at,lt))}function Zn(at,lt,mt){if(at.tag===3)vm(at,at,mt);else for(;lt!==null;){if(lt.tag===3){vm(lt,at,mt);break}else if(lt.tag===1){var bt=lt.stateNode;if(typeof lt.type.getDerivedStateFromError=="function"||typeof bt.componentDidCatch=="function"&&(No===null||!No.has(bt))){at=vu(mt,at),at=Ip(lt,at,1),ko(lt,at),at=Jn(),lt=Ol(lt,1),lt!==null&&(hs(lt,1,at),Qn(lt,at));break}}lt=lt.return}}function l0(at,lt,mt){var bt=at.pingCache;bt!==null&&bt.delete(lt),lt=Jn(),at.pingedLanes|=at.suspendedLanes&mt,Ln===at&&(Un&mt)===mt&&(Nn===4||Nn===3&&(Un&130023424)===Un&&500>Fn()-ku?Jo(at,0):Lu|=mt),Qn(at,lt)}function _m(at,lt){lt===0&&(at.mode&1?(lt=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):lt=1);var mt=Jn();at=Ol(at,lt),at!==null&&(hs(at,lt,mt),Qn(at,mt))}function c0(at){var lt=at.memoizedState,mt=0;lt!==null&&(mt=lt.retryLane),_m(at,mt)}function u0(at,lt){var mt=0;switch(at.tag){case 13:var bt=at.stateNode,Bt=at.memoizedState;Bt!==null&&(mt=Bt.retryLane);break;case 19:bt=at.stateNode;break;default:throw Error(tt(314))}bt!==null&&bt.delete(lt),_m(at,mt)}var xm;xm=function(at,lt,mt){if(at!==null)if(at.memoizedProps!==lt.pendingProps||Gn.current)io=!0;else{if(!(at.lanes&mt)&&!(lt.flags&128))return io=!1,Qm(at,lt,mt);io=!!(at.flags&131072)}else io=!1,Bn&&lt.flags&1048576&&op(lt,Ws,lt.index);switch(lt.lanes=0,lt.tag){case 2:var bt=lt.type;at!==null&&(at.alternate=null,lt.alternate=null,lt.flags|=2),at=lt.pendingProps;var Bt=Qo(lt,Tn.current);es(lt,mt),Bt=hu(null,lt,bt,at,Bt,mt);var Nt=pu();return lt.flags|=1,typeof Bt=="object"&&Bt!==null&&typeof Bt.render=="function"&&Bt.$$typeof===void 0?(lt.tag=1,lt.memoizedState=null,lt.updateQueue=null,qn(bt)?(Nt=!0,Is(lt)):Nt=!1,lt.memoizedState=Bt.state!==null&&Bt.state!==void 0?Bt.state:null,eu(lt),Bt.updater=Hs,lt.stateNode=Bt,Bt._reactInternals=lt,ru(lt,bt,at,mt),lt=bu(null,lt,bt,!0,Nt,mt)):(lt.tag=0,Bn&&Nt&&nu(lt),Kn(null,lt,Bt,mt),lt=lt.child),lt;case 16:bt=lt.elementType;e:{switch(at!==null&&(at.alternate=null,lt.alternate=null,lt.flags|=2),at=lt.pendingProps,Bt=bt._init,bt=Bt(bt._payload),lt.type=bt,Bt=lt.tag=d0(bt),at=yo(bt,at),Bt){case 0:lt=xu(null,lt,bt,at,mt);break e;case 1:lt=Vp(null,lt,bt,at,mt);break e;case 11:lt=$p(null,lt,bt,at,mt);break e;case 14:lt=Up(null,lt,bt,yo(bt.type,at),mt);break e}throw Error(tt(306,bt,""))}return lt;case 0:return bt=lt.type,Bt=lt.pendingProps,Bt=lt.elementType===bt?Bt:yo(bt,Bt),xu(at,lt,bt,Bt,mt);case 1:return bt=lt.type,Bt=lt.pendingProps,Bt=lt.elementType===bt?Bt:yo(bt,Bt),Vp(at,lt,bt,Bt,mt);case 3:e:{if(Wp(lt),at===null)throw Error(tt(387));bt=lt.pendingProps,Nt=lt.memoizedState,Bt=Nt.element,_d(at,lt),zs(lt,bt,null,mt);var qt=lt.memoizedState;if(bt=qt.element,lr&&Nt.isDehydrated)if(Nt={element:bt,isDehydrated:!1,cache:qt.cache,transitions:qt.transitions},lt.updateQueue.baseState=Nt,lt.memoizedState=Nt,lt.flags&256){Bt=Error(tt(423)),lt=jp(at,lt,bt,mt,Bt);break e}else if(bt!==Bt){Bt=Error(tt(424)),lt=jp(at,lt,bt,mt,Bt);break e}else for(lr&&(no=Mr(lt.stateNode.containerInfo),ro=lt,Bn=!0,vo=null,ps=!1),mt=fp(lt,null,bt,mt),lt.child=mt;mt;)mt.flags=mt.flags&-3|4096,mt=mt.sibling;else{if(ns(),bt===Bt){lt=Io(at,lt,mt);break e}Kn(at,lt,bt,mt)}lt=lt.child}return lt;case 5:return dp(lt),at===null&&su(lt),bt=lt.type,Bt=lt.pendingProps,Nt=at!==null?at.memoizedProps:null,qt=Bt.children,Rt(bt,Bt)?qt=null:Nt!==null&&Rt(bt,Nt)&&(lt.flags|=32),Hp(at,lt),Kn(at,lt,qt,mt),lt.child;case 6:return at===null&&su(lt),null;case 13:return Kp(at,lt,mt);case 4:return lu(lt,lt.stateNode.containerInfo),bt=lt.pendingProps,at===null?lt.child=os(lt,null,bt,mt):Kn(at,lt,bt,mt),lt.child;case 11:return bt=lt.type,Bt=lt.pendingProps,Bt=lt.elementType===bt?Bt:yo(bt,Bt),$p(at,lt,bt,Bt,mt);case 7:return Kn(at,lt,lt.pendingProps,mt),lt.child;case 8:return Kn(at,lt,lt.pendingProps.children,mt),lt.child;case 12:return Kn(at,lt,lt.pendingProps.children,mt),lt.child;case 10:e:{if(bt=lt.type._context,Bt=lt.pendingProps,Nt=lt.memoizedProps,qt=Bt.value,_f(lt,bt,qt),Nt!==null)if(bo(Nt.value,qt)){if(Nt.children===Bt.children&&!Gn.current){lt=Io(at,lt,mt);break e}}else for(Nt=lt.child,Nt!==null&&(Nt.return=lt);Nt!==null;){var dr=Nt.dependencies;if(dr!==null){qt=Nt.child;for(var Sr=dr.firstContext;Sr!==null;){if(Sr.context===bt){if(Nt.tag===1){Sr=To(-1,mt&-mt),Sr.tag=2;var Fr=Nt.updateQueue;if(Fr!==null){Fr=Fr.shared;var jr=Fr.pending;jr===null?Sr.next=Sr:(Sr.next=jr.next,jr.next=Sr),Fr.pending=Sr}}Nt.lanes|=mt,Sr=Nt.alternate,Sr!==null&&(Sr.lanes|=mt),_c(Nt.return,mt,lt),dr.lanes|=mt;break}Sr=Sr.next}}else if(Nt.tag===10)qt=Nt.type===lt.type?null:Nt.child;else if(Nt.tag===18){if(qt=Nt.return,qt===null)throw Error(tt(341));qt.lanes|=mt,dr=qt.alternate,dr!==null&&(dr.lanes|=mt),_c(qt,mt,lt),qt=Nt.sibling}else qt=Nt.child;if(qt!==null)qt.return=Nt;else for(qt=Nt;qt!==null;){if(qt===lt){qt=null;break}if(Nt=qt.sibling,Nt!==null){Nt.return=qt.return,qt=Nt;break}qt=qt.return}Nt=qt}Kn(at,lt,Bt.children,mt),lt=lt.child}return lt;case 9:return Bt=lt.type,bt=lt.pendingProps.children,es(lt,mt),Bt=so(Bt),bt=bt(Bt),lt.flags|=1,Kn(at,lt,bt,mt),lt.child;case 14:return bt=lt.type,Bt=yo(bt,lt.pendingProps),Bt=yo(bt.type,Bt),Up(at,lt,bt,Bt,mt);case 15:return Gp(at,lt,lt.type,lt.pendingProps,mt);case 17:return bt=lt.type,Bt=lt.pendingProps,Bt=lt.elementType===bt?Bt:yo(bt,Bt),at!==null&&(at.alternate=null,lt.alternate=null,lt.flags|=2),lt.tag=1,qn(bt)?(at=!0,Is(lt)):at=!1,es(lt,mt),np(lt,bt,Bt),ru(lt,bt,Bt,mt),bu(null,lt,bt,!0,at,mt);case 19:return Yp(at,lt,mt);case 22:return zp(at,lt,mt)}throw Error(tt(156,lt.tag))};function bm(at,lt){return Wl(at,lt)}function f0(at,lt,mt,bt){this.tag=at,this.key=mt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=lt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(at,lt,mt,bt){return new f0(at,lt,mt,bt)}function Hu(at){return at=at.prototype,!(!at||!at.isReactComponent)}function d0(at){if(typeof at=="function")return Hu(at)?1:0;if(at!=null){if(at=at.$$typeof,at===ft)return 11;if(at===yt)return 14}return 2}function Uo(at,lt){var mt=at.alternate;return mt===null?(mt=ho(at.tag,lt,at.key,at.mode),mt.elementType=at.elementType,mt.type=at.type,mt.stateNode=at.stateNode,mt.alternate=at,at.alternate=mt):(mt.pendingProps=lt,mt.type=at.type,mt.flags=0,mt.subtreeFlags=0,mt.deletions=null),mt.flags=at.flags&14680064,mt.childLanes=at.childLanes,mt.lanes=at.lanes,mt.child=at.child,mt.memoizedProps=at.memoizedProps,mt.memoizedState=at.memoizedState,mt.updateQueue=at.updateQueue,lt=at.dependencies,mt.dependencies=lt===null?null:{lanes:lt.lanes,firstContext:lt.firstContext},mt.sibling=at.sibling,mt.index=at.index,mt.ref=at.ref,mt}function Ul(at,lt,mt,bt,Bt,Nt){var qt=2;if(bt=at,typeof at=="function")Hu(at)&&(qt=1);else if(typeof at=="string")qt=5;else e:switch(at){case ot:return Yo(mt.children,Bt,Nt,lt);case st:qt=8,Bt|=8;break;case ct:return at=ho(12,mt,lt,Bt|2),at.elementType=ct,at.lanes=Nt,at;case ht:return at=ho(13,mt,lt,Bt),at.elementType=ht,at.lanes=Nt,at;case pt:return at=ho(19,mt,lt,Bt),at.elementType=pt,at.lanes=Nt,at;case xt:return Gl(mt,Bt,Nt,lt);default:if(typeof at=="object"&&at!==null)switch(at.$$typeof){case ut:qt=10;break e;case dt:qt=9;break e;case ft:qt=11;break e;case yt:qt=14;break e;case gt:qt=16,bt=null;break e}throw Error(tt(130,at==null?at:typeof at,""))}return lt=ho(qt,mt,lt,Bt),lt.elementType=at,lt.type=bt,lt.lanes=Nt,lt}function Yo(at,lt,mt,bt){return at=ho(7,at,bt,lt),at.lanes=mt,at}function Gl(at,lt,mt,bt){return at=ho(22,at,bt,lt),at.elementType=xt,at.lanes=mt,at.stateNode={},at}function Vu(at,lt,mt){return at=ho(6,at,null,lt),at.lanes=mt,at}function Wu(at,lt,mt){return lt=ho(4,at.children!==null?at.children:[],at.key,lt),lt.lanes=mt,lt.stateNode={containerInfo:at.containerInfo,pendingChildren:null,implementation:at.implementation},lt}function h0(at,lt,mt,bt,Bt){this.tag=lt,this.containerInfo=at,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=bt,this.onRecoverableError=Bt,lr&&(this.mutableSourceEagerHydrationData=null)}function Am(at,lt,mt,bt,Bt,Nt,qt,dr,Sr){return at=new h0(at,lt,mt,dr,Sr),lt===1?(lt=1,Nt===!0&&(lt|=8)):lt=0,Nt=ho(3,null,null,lt),at.current=Nt,Nt.stateNode=at,Nt.memoizedState={element:bt,isDehydrated:mt,cache:null,transitions:null},eu(Nt),at}function wm(at){if(!at)return Cn;at=at._reactInternals;e:{if(Dt(at)!==at||at.tag!==1)throw Error(tt(170));var lt=at;do{switch(lt.tag){case 3:lt=lt.stateNode.context;break e;case 1:if(qn(lt.type)){lt=lt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}lt=lt.return}while(lt!==null);throw Error(tt(171))}if(at.tag===1){var mt=at.type;if(qn(mt))return Xu(at,mt,lt)}return lt}function Em(at){var lt=at._reactInternals;if(lt===void 0)throw typeof at.render=="function"?Error(tt(188)):(at=Object.keys(at).join(","),Error(tt(268,at)));return at=Xt(lt),at===null?null:at.stateNode}function Sm(at,lt){if(at=at.memoizedState,at!==null&&at.dehydrated!==null){var mt=at.retryLane;at.retryLane=mt!==0&&mt<lt?mt:lt}}function ju(at,lt){Sm(at,lt),(at=at.alternate)&&Sm(at,lt)}function p0(at){return at=Xt(at),at===null?null:at.stateNode}function m0(){return null}return a.attemptContinuousHydration=function(at){if(at.tag===13){var lt=Jn();fo(at,134217728,lt),ju(at,134217728)}},a.attemptHydrationAtCurrentPriority=function(at){if(at.tag===13){var lt=Jn(),mt=Oo(at);fo(at,mt,lt),ju(at,mt)}},a.attemptSynchronousHydration=function(at){switch(at.tag){case 3:var lt=at.stateNode;if(lt.current.memoizedState.isDehydrated){var mt=ds(lt.pendingLanes);mt!==0&&(Vl(lt,mt|1),Qn(lt,Fn()),!(un&6)&&(fs(),Ao()))}break;case 13:var bt=Jn();hm(function(){return fo(at,1,bt)}),ju(at,1)}},a.batchedUpdates=function(at,lt){var mt=un;un|=1;try{return at(lt)}finally{un=mt,un===0&&(fs(),Fs&&Ao())}},a.createComponentSelector=function(at){return{$$typeof:El,value:at}},a.createContainer=function(at,lt,mt,bt,Bt,Nt,qt){return Am(at,lt,!1,null,mt,bt,Bt,Nt,qt)},a.createHasPseudoClassSelector=function(at){return{$$typeof:Sl,value:at}},a.createHydrationContainer=function(at,lt,mt,bt,Bt,Nt,qt,dr,Sr){return at=Am(mt,bt,!0,at,Bt,Nt,qt,dr,Sr),at.context=wm(null),mt=at.current,bt=Jn(),Bt=Oo(mt),Nt=To(bt,Bt),Nt.callback=lt??null,ko(mt,Nt),at.current.lanes=Bt,hs(at,Bt,bt),Qn(at,bt),at},a.createPortal=function(at,lt,mt){var bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:it,key:bt==null?null:""+bt,children:at,containerInfo:lt,implementation:mt}},a.createRoleSelector=function(at){return{$$typeof:Cl,value:at}},a.createTestNameSelector=function(at){return{$$typeof:Ml,value:at}},a.createTextSelector=function(at){return{$$typeof:Tl,value:at}},a.deferredUpdates=function(at){var lt=pn,mt=In.transition;try{return In.transition=null,pn=16,at()}finally{pn=lt,In.transition=mt}},a.discreteUpdates=function(at,lt,mt,bt,Bt){var Nt=pn,qt=In.transition;try{return In.transition=null,pn=1,at(lt,mt,bt,Bt)}finally{pn=Nt,In.transition=qt,un===0&&fs()}},a.findAllNodes=Iu,a.findBoundingRects=function(at,lt){if(!Or)throw Error(tt(363));lt=Iu(at,lt),at=[];for(var mt=0;mt<lt.length;mt++)at.push(Jt(lt[mt]));for(lt=at.length-1;0<lt;lt--){mt=at[lt];for(var bt=mt.x,Bt=bt+mt.width,Nt=mt.y,qt=Nt+mt.height,dr=lt-1;0<=dr;dr--)if(lt!==dr){var Sr=at[dr],Fr=Sr.x,jr=Fr+Sr.width,sn=Sr.y,Zr=sn+Sr.height;if(bt>=Fr&&Nt>=sn&&Bt<=jr&&qt<=Zr){at.splice(lt,1);break}else if(bt!==Fr||mt.width!==Sr.width||Zr<Nt||sn>qt){if(!(Nt!==sn||mt.height!==Sr.height||jr<bt||Fr>Bt)){Fr>bt&&(Sr.width+=Fr-bt,Sr.x=bt),jr<Bt&&(Sr.width=Bt-Fr),at.splice(lt,1);break}}else{sn>Nt&&(Sr.height+=sn-Nt,Sr.y=Nt),Zr<qt&&(Sr.height=qt-sn),at.splice(lt,1);break}}}return at},a.findHostInstance=Em,a.findHostInstanceWithNoPortals=function(at){return at=jt(at),at=at!==null?vt(at):null,at===null?null:at.stateNode},a.findHostInstanceWithWarning=function(at){return Em(at)},a.flushControlled=function(at){var lt=un;un|=1;var mt=In.transition,bt=pn;try{In.transition=null,pn=1,at()}finally{pn=bt,In.transition=mt,un=lt,un===0&&(fs(),Ao())}},a.flushPassiveEffects=qo,a.flushSync=hm,a.focusWithin=function(at,lt){if(!Or)throw Error(tt(363));for(at=Bu(at),lt=um(at,lt),lt=Array.from(lt),at=0;at<lt.length;){var mt=lt[at++];if(!ur(mt)){if(mt.tag===5&&Tr(mt.stateNode))return!0;for(mt=mt.child;mt!==null;)lt.push(mt),mt=mt.sibling}}return!1},a.getCurrentUpdatePriority=function(){return pn},a.getFindAllNodesFailureDescription=function(at,lt){if(!Or)throw Error(tt(363));var mt=0,bt=[];at=[Bu(at),0];for(var Bt=0;Bt<at.length;){var Nt=at[Bt++],qt=at[Bt++],dr=lt[qt];if((Nt.tag!==5||!ur(Nt))&&(Ru(Nt,dr)&&(bt.push(Pu(dr)),qt++,qt>mt&&(mt=qt)),qt<lt.length))for(Nt=Nt.child;Nt!==null;)at.push(Nt,qt),Nt=Nt.sibling}if(mt<lt.length){for(at=[];mt<lt.length;mt++)at.push(Pu(lt[mt]));return`findAllNodes was able to match part of the selector:
  `+(bt.join(" > ")+`

No matching component was found for:
  `)+at.join(" > ")}return null},a.getPublicRootInstance=function(at){if(at=at.current,!at.child)return null;switch(at.child.tag){case 5:return Lt(at.child.stateNode);default:return at.child.stateNode}},a.injectIntoDevTools=function(at){if(at={bundleType:at.bundleType,version:at.version,rendererPackageName:at.rendererPackageName,rendererConfig:at.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rt.ReactCurrentDispatcher,findHostInstanceByFiber:p0,findFiberByHostInstance:at.findFiberByHostInstance||m0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")at=!1;else{var lt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(lt.isDisabled||!lt.supportsFiber)at=!0;else{try{Ns=lt.inject(at),xo=lt}catch{}at=!!lt.checkDCE}}return at},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(at,lt,mt,bt){if(!Or)throw Error(tt(363));at=Iu(at,lt);var Bt=Ft(at,mt,bt).disconnect;return{disconnect:function(){Bt()}}},a.registerMutableSourceForHydration=function(at,lt){var mt=lt._getVersion;mt=mt(lt._source),at.mutableSourceEagerHydrationData==null?at.mutableSourceEagerHydrationData=[lt,mt]:at.mutableSourceEagerHydrationData.push(lt,mt)},a.runWithPriority=function(at,lt){var mt=pn;try{return pn=at,lt()}finally{pn=mt}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(at,lt,mt,bt){var Bt=lt.current,Nt=Jn(),qt=Oo(Bt);return mt=wm(mt),lt.context===null?lt.context=mt:lt.pendingContext=mt,lt=To(Nt,qt),lt.payload={element:at},bt=bt===void 0?null:bt,bt!==null&&(lt.callback=bt),ko(Bt,lt),at=fo(Bt,qt,Nt),at!==null&&Gs(at,Bt,qt),qt},a};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports),isPromise=$=>typeof $=="object"&&typeof $.then=="function",globalCache=[];function shallowEqualArrays($,o,a=(j,_e)=>j===_e){if($===o)return!0;if(!$||!o)return!1;const j=$.length;if(o.length!==j)return!1;for(let _e=0;_e<j;_e++)if(!a($[_e],o[_e]))return!1;return!0}function query($,o=null,a=!1,j={}){o===null&&(o=[$]);for(const et of globalCache)if(shallowEqualArrays(o,et.keys,et.equal)){if(a)return;if(Object.prototype.hasOwnProperty.call(et,"error"))throw et.error;if(Object.prototype.hasOwnProperty.call(et,"response"))return j.lifespan&&j.lifespan>0&&(et.timeout&&clearTimeout(et.timeout),et.timeout=setTimeout(et.remove,j.lifespan)),et.response;if(!a)throw et.promise}const _e={keys:o,equal:j.equal,remove:()=>{const et=globalCache.indexOf(_e);et!==-1&&globalCache.splice(et,1)},promise:(isPromise($)?$:$(...o)).then(et=>{_e.response=et,j.lifespan&&j.lifespan>0&&(_e.timeout=setTimeout(_e.remove,j.lifespan))}).catch(et=>_e.error=et)};if(globalCache.push(_e),!a)throw _e.promise}const suspend=($,o,a)=>query($,o,!1,a),preload=($,o,a)=>void query($,o,!0,a),clear=$=>{if($===void 0||$.length===0)globalCache.splice(0,globalCache.length);else{const o=globalCache.find(a=>shallowEqualArrays($,a.keys,a.equal));o&&o.remove()}},catalogue={},extend=$=>void Object.assign(catalogue,$);function createRenderer($,o){function a(ot,{args:st=[],attach:ct,...ut},dt){let ft=`${ot[0].toUpperCase()}${ot.slice(1)}`,ht;if(ot==="primitive"){if(ut.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const pt=ut.object;ht=prepare(pt,{type:ot,root:dt,attach:ct,primitive:!0})}else{const pt=catalogue[ft];if(!pt)throw new Error(`R3F: ${ft} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(st))throw new Error("R3F: The args prop must be an array!");ht=prepare(new pt(...st),{type:ot,root:dt,attach:ct,memoizedProps:{args:st}})}return ht.__r3f.attach===void 0&&(ht instanceof BufferGeometry?ht.__r3f.attach="geometry":ht instanceof Material&&(ht.__r3f.attach="material")),ft!=="inject"&&applyProps$1(ht,ut),ht}function j(ot,st){let ct=!1;if(st){var ut,dt;(ut=st.__r3f)!=null&&ut.attach?attach(ot,st,st.__r3f.attach):st.isObject3D&&ot.isObject3D&&(ot.add(st),ct=!0),ct||(dt=ot.__r3f)==null||dt.objects.push(st),st.__r3f||prepare(st,{}),st.__r3f.parent=ot,updateInstance(st),invalidateInstance(st)}}function _e(ot,st,ct){let ut=!1;if(st){var dt,ft;if((dt=st.__r3f)!=null&&dt.attach)attach(ot,st,st.__r3f.attach);else if(st.isObject3D&&ot.isObject3D){st.parent=ot,st.dispatchEvent({type:"added"}),ot.dispatchEvent({type:"childadded",child:st});const ht=ot.children.filter(yt=>yt!==st),pt=ht.indexOf(ct);ot.children=[...ht.slice(0,pt),st,...ht.slice(pt)],ut=!0}ut||(ft=ot.__r3f)==null||ft.objects.push(st),st.__r3f||prepare(st,{}),st.__r3f.parent=ot,updateInstance(st),invalidateInstance(st)}}function et(ot,st,ct=!1){ot&&[...ot].forEach(ut=>tt(st,ut,ct))}function tt(ot,st,ct){if(st){var ut,dt,ft;if(st.__r3f&&(st.__r3f.parent=null),(ut=ot.__r3f)!=null&&ut.objects&&(ot.__r3f.objects=ot.__r3f.objects.filter(xt=>xt!==st)),(dt=st.__r3f)!=null&&dt.attach)detach(ot,st,st.__r3f.attach);else if(st.isObject3D&&ot.isObject3D){var ht;ot.remove(st),(ht=st.__r3f)!=null&&ht.root&&removeInteractivity(findInitialRoot(st),st)}const yt=(ft=st.__r3f)==null?void 0:ft.primitive,gt=!yt&&(ct===void 0?st.dispose!==null:ct);if(!yt){var pt;et((pt=st.__r3f)==null?void 0:pt.objects,st,gt),et(st.children,st,gt)}if(delete st.__r3f,gt&&st.dispose&&st.type!=="Scene"){const xt=()=>{try{st.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,xt):xt()}invalidateInstance(ot)}}function rt(ot,st,ct,ut){var dt;const ft=(dt=ot.__r3f)==null?void 0:dt.parent;if(!ft)return;const ht=a(st,ct,ot.__r3f.root);if(ot.children){for(const pt of ot.children)pt.__r3f&&j(ht,pt);ot.children=ot.children.filter(pt=>!pt.__r3f)}ot.__r3f.objects.forEach(pt=>j(ht,pt)),ot.__r3f.objects=[],ot.__r3f.autoRemovedBeforeAppend||tt(ft,ot),ht.parent&&(ht.__r3f.autoRemovedBeforeAppend=!0),j(ft,ht),ht.raycast&&ht.__r3f.eventCount&&findInitialRoot(ht).getState().internal.interaction.push(ht),[ut,ut.alternate].forEach(pt=>{pt!==null&&(pt.stateNode=ht,pt.ref&&(typeof pt.ref=="function"?pt.ref(ht):pt.ref.current=ht))})}const nt=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:a,removeChild:tt,appendChild:j,appendInitialChild:j,insertBefore:_e,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(ot,st)=>{if(!st)return;const ct=ot.getState().scene;ct.__r3f&&(ct.__r3f.root=ot,j(ct,st))},removeChildFromContainer:(ot,st)=>{st&&tt(ot.getState().scene,st)},insertInContainerBefore:(ot,st,ct)=>{if(!st||!ct)return;const ut=ot.getState().scene;ut.__r3f&&_e(ut,st,ct)},getRootHostContext:()=>null,getChildHostContext:ot=>ot,finalizeInitialChildren(ot){var st;return!!((st=ot==null?void 0:ot.__r3f)!=null?st:{}).handlers},prepareUpdate(ot,st,ct,ut){var dt;if(((dt=ot==null?void 0:ot.__r3f)!=null?dt:{}).primitive&&ut.object&&ut.object!==ot)return[!0];{const{args:ht=[],children:pt,...yt}=ut,{args:gt=[],children:xt,...wt}=ct;if(!Array.isArray(ht))throw new Error("R3F: the args prop must be an array!");if(ht.some((It,Tt)=>It!==gt[Tt]))return[!0];const Mt=diffProps(ot,yt,wt,!0);return Mt.changes.length?[!1,Mt]:null}},commitUpdate(ot,[st,ct],ut,dt,ft,ht){st?rt(ot,ut,ft,ht):applyProps$1(ot,ct)},commitMount(ot,st,ct,ut){var dt;const ft=(dt=ot.__r3f)!=null?dt:{};ot.raycast&&ft.handlers&&ft.eventCount&&findInitialRoot(ot).getState().internal.interaction.push(ot)},getPublicInstance:ot=>ot,prepareForCommit:()=>null,preparePortalMount:ot=>prepare(ot.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(ot){var st;const{attach:ct,parent:ut}=(st=ot.__r3f)!=null?st:{};ct&&ut&&detach(ut,ot,ct),ot.isObject3D&&(ot.visible=!1),invalidateInstance(ot)},unhideInstance(ot,st){var ct;const{attach:ut,parent:dt}=(ct=ot.__r3f)!=null?ct:{};ut&&dt&&attach(dt,ot,ut),(ot.isObject3D&&st.visible==null||st.visible)&&(ot.visible=!0),invalidateInstance(ot)},createTextInstance:nt,hideTextInstance:nt,unhideTextInstance:nt,getCurrentEventPriority:()=>o?o():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=$=>"colorSpace"in $||"outputColorSpace"in $,getColorManagement=()=>{var $;return($=catalogue.ColorManagement)!=null?$:null},isOrthographicCamera=$=>$&&$.isOrthographicCamera,isRef=$=>$&&$.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback($){const o=reactExports.useRef($);return useIsomorphicLayoutEffect(()=>void(o.current=$),[$]),o}function Block({set:$}){return useIsomorphicLayoutEffect(()=>($(new Promise(()=>null)),()=>$(!1)),[$]),null}class ErrorBoundary extends reactExports.Component{constructor(...o){super(...o),this.state={error:!1}}componentDidCatch(o){this.props.set(o)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=$=>$&&!!$.memoized&&!!$.changes;function calculateDpr($){var o;const a=typeof window<"u"?(o=window.devicePixelRatio)!=null?o:2:1;return Array.isArray($)?Math.min(Math.max($[0],a),$[1]):$}const getRootState=$=>{var o;return(o=$.__r3f)==null?void 0:o.root.getState()};function findInitialRoot($){let o=$.__r3f.root;for(;o.getState().previousRoot;)o=o.getState().previousRoot;return o}const is={obj:$=>$===Object($)&&!is.arr($)&&typeof $!="function",fun:$=>typeof $=="function",str:$=>typeof $=="string",num:$=>typeof $=="number",boo:$=>typeof $=="boolean",und:$=>$===void 0,arr:$=>Array.isArray($),equ($,o,{arrays:a="shallow",objects:j="reference",strict:_e=!0}={}){if(typeof $!=typeof o||!!$!=!!o)return!1;if(is.str($)||is.num($))return $===o;const et=is.obj($);if(et&&j==="reference")return $===o;const tt=is.arr($);if(tt&&a==="reference")return $===o;if((tt||et)&&$===o)return!0;let rt;for(rt in $)if(!(rt in o))return!1;if(et&&a==="shallow"&&j==="shallow"){for(rt in _e?o:$)if(!is.equ($[rt],o[rt],{strict:_e,objects:"reference"}))return!1}else for(rt in _e?o:$)if($[rt]!==o[rt])return!1;if(is.und(rt)){if(tt&&$.length===0&&o.length===0||et&&Object.keys($).length===0&&Object.keys(o).length===0)return!0;if($!==o)return!1}return!0}};function buildGraph($){const o={nodes:{},materials:{}};return $&&$.traverse(a=>{a.name&&(o.nodes[a.name]=a),a.material&&!o.materials[a.material.name]&&(o.materials[a.material.name]=a.material)}),o}function dispose($){$.dispose&&$.type!=="Scene"&&$.dispose();for(const o in $)o.dispose==null||o.dispose(),delete $[o]}function prepare($,o){const a=$;return a.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...o},$}function resolve($,o){let a=$;if(o.includes("-")){const j=o.split("-"),_e=j.pop();return a=j.reduce((et,tt)=>et[tt],$),{target:a,key:_e}}else return{target:a,key:o}}const INDEX_REGEX=/-\d+$/;function attach($,o,a){if(is.str(a)){if(INDEX_REGEX.test(a)){const et=a.replace(INDEX_REGEX,""),{target:tt,key:rt}=resolve($,et);Array.isArray(tt[rt])||(tt[rt]=[])}const{target:j,key:_e}=resolve($,a);o.__r3f.previousAttach=j[_e],j[_e]=o}else o.__r3f.previousAttach=a($,o)}function detach($,o,a){var j,_e;if(is.str(a)){const{target:et,key:tt}=resolve($,a),rt=o.__r3f.previousAttach;rt===void 0?delete et[tt]:et[tt]=rt}else(j=o.__r3f)==null||j.previousAttach==null||j.previousAttach($,o);(_e=o.__r3f)==null||delete _e.previousAttach}function diffProps($,{children:o,key:a,ref:j,..._e},{children:et,key:tt,ref:rt,...nt}={},it=!1){var ot;const st=(ot=$==null?void 0:$.__r3f)!=null?ot:{},ct=Object.entries(_e),ut=[];if(it){const ft=Object.keys(nt);for(let ht=0;ht<ft.length;ht++)_e.hasOwnProperty(ft[ht])||ct.unshift([ft[ht],DEFAULT+"remove"])}ct.forEach(([ft,ht])=>{var pt;if((pt=$.__r3f)!=null&&pt.primitive&&ft==="object"||is.equ(ht,nt[ft]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(ft))return ut.push([ft,ht,!0,[]]);let yt=[];ft.includes("-")&&(yt=ft.split("-")),ut.push([ft,ht,!1,yt]);for(const gt in _e){const xt=_e[gt];gt.startsWith(`${ft}-`)&&ut.push([gt,xt,!1,gt.split("-")])}});const dt={..._e};return st.memoizedProps&&st.memoizedProps.args&&(dt.args=st.memoizedProps.args),st.memoizedProps&&st.memoizedProps.attach&&(dt.attach=st.memoizedProps.attach),{memoized:dt,changes:ut}}const __DEV__=typeof process<"u"&&!1;function applyProps$1($,o){var a,j,_e;const et=(a=$.__r3f)!=null?a:{},tt=et.root,rt=(j=tt==null||tt.getState==null?void 0:tt.getState())!=null?j:{},{memoized:nt,changes:it}=isDiffSet(o)?o:diffProps($,o),ot=et.eventCount;$.__r3f&&($.__r3f.memoizedProps=nt);for(let ct=0;ct<it.length;ct++){let[ut,dt,ft,ht]=it[ct];if(hasColorSpace($)){const xt="srgb",wt="srgb-linear";ut==="encoding"?(ut="colorSpace",dt=dt===3001?xt:wt):ut==="outputEncoding"&&(ut="outputColorSpace",dt=dt===3001?xt:wt)}let pt=$,yt=pt[ut];if(ht.length&&(yt=ht.reduce((gt,xt)=>gt[xt],$),!(yt&&yt.set))){const[gt,...xt]=ht.reverse();pt=xt.reverse().reduce((wt,Mt)=>wt[Mt],$),ut=gt}if(dt===DEFAULT+"remove")if(pt.constructor){let gt=DEFAULTS.get(pt.constructor);gt||(gt=new pt.constructor,DEFAULTS.set(pt.constructor,gt)),dt=gt[ut]}else dt=0;if(ft)dt?et.handlers[ut]=dt:delete et.handlers[ut],et.eventCount=Object.keys(et.handlers).length;else if(yt&&yt.set&&(yt.copy||yt instanceof Layers)){if(Array.isArray(dt))yt.fromArray?yt.fromArray(dt):yt.set(...dt);else if(yt.copy&&dt&&dt.constructor&&(__DEV__?yt.constructor.name===dt.constructor.name:yt.constructor===dt.constructor))yt.copy(dt);else if(dt!==void 0){const gt=yt instanceof Color;!gt&&yt.setScalar?yt.setScalar(dt):yt instanceof Layers&&dt instanceof Layers?yt.mask=dt.mask:yt.set(dt),!getColorManagement()&&!rt.linear&&gt&&yt.convertSRGBToLinear()}}else if(pt[ut]=dt,pt[ut]instanceof Texture&&pt[ut].format===RGBAFormat&&pt[ut].type===UnsignedByteType){const gt=pt[ut];hasColorSpace(gt)&&hasColorSpace(rt.gl)?gt.colorSpace=rt.gl.outputColorSpace:gt.encoding=rt.gl.outputEncoding}invalidateInstance($)}if(et.parent&&$.raycast&&ot!==et.eventCount){const ct=findInitialRoot($).getState().internal,ut=ct.interaction.indexOf($);ut>-1&&ct.interaction.splice(ut,1),et.eventCount&&ct.interaction.push($)}return!(it.length===1&&it[0][0]==="onUpdate")&&it.length&&(_e=$.__r3f)!=null&&_e.parent&&updateInstance($),$}function invalidateInstance($){var o,a;const j=(o=$.__r3f)==null||(a=o.root)==null||a.getState==null?void 0:a.getState();j&&j.internal.frames===0&&j.invalidate()}function updateInstance($){$.onUpdate==null||$.onUpdate($)}function updateCamera($,o){$.manual||(isOrthographicCamera($)?($.left=o.width/-2,$.right=o.width/2,$.top=o.height/2,$.bottom=o.height/-2):$.aspect=o.width/o.height,$.updateProjectionMatrix(),$.updateMatrixWorld())}function makeId($){return($.eventObject||$.object).uuid+"/"+$.index+$.instanceId}function getEventPriority(){var $;const o=typeof self<"u"&&self||typeof window<"u"&&window;if(!o)return constantsExports.DefaultEventPriority;switch(($=o.event)==null?void 0:$.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture($,o,a,j){const _e=a.get(o);_e&&(a.delete(o),a.size===0&&($.delete(j),_e.target.releasePointerCapture(j)))}function removeInteractivity($,o){const{internal:a}=$.getState();a.interaction=a.interaction.filter(j=>j!==o),a.initialHits=a.initialHits.filter(j=>j!==o),a.hovered.forEach((j,_e)=>{(j.eventObject===o||j.object===o)&&a.hovered.delete(_e)}),a.capturedMap.forEach((j,_e)=>{releaseInternalPointerCapture(a.capturedMap,o,j,_e)})}function createEvents($){function o(nt){const{internal:it}=$.getState(),ot=nt.offsetX-it.initialClick[0],st=nt.offsetY-it.initialClick[1];return Math.round(Math.sqrt(ot*ot+st*st))}function a(nt){return nt.filter(it=>["Move","Over","Enter","Out","Leave"].some(ot=>{var st;return(st=it.__r3f)==null?void 0:st.handlers["onPointer"+ot]}))}function j(nt,it){const ot=$.getState(),st=new Set,ct=[],ut=it?it(ot.internal.interaction):ot.internal.interaction;for(let pt=0;pt<ut.length;pt++){const yt=getRootState(ut[pt]);yt&&(yt.raycaster.camera=void 0)}ot.previousRoot||ot.events.compute==null||ot.events.compute(nt,ot);function dt(pt){const yt=getRootState(pt);if(!yt||!yt.events.enabled||yt.raycaster.camera===null)return[];if(yt.raycaster.camera===void 0){var gt;yt.events.compute==null||yt.events.compute(nt,yt,(gt=yt.previousRoot)==null?void 0:gt.getState()),yt.raycaster.camera===void 0&&(yt.raycaster.camera=null)}return yt.raycaster.camera?yt.raycaster.intersectObject(pt,!0):[]}let ft=ut.flatMap(dt).sort((pt,yt)=>{const gt=getRootState(pt.object),xt=getRootState(yt.object);return!gt||!xt?pt.distance-yt.distance:xt.events.priority-gt.events.priority||pt.distance-yt.distance}).filter(pt=>{const yt=makeId(pt);return st.has(yt)?!1:(st.add(yt),!0)});ot.events.filter&&(ft=ot.events.filter(ft,ot));for(const pt of ft){let yt=pt.object;for(;yt;){var ht;(ht=yt.__r3f)!=null&&ht.eventCount&&ct.push({...pt,eventObject:yt}),yt=yt.parent}}if("pointerId"in nt&&ot.internal.capturedMap.has(nt.pointerId))for(let pt of ot.internal.capturedMap.get(nt.pointerId).values())st.has(makeId(pt.intersection))||ct.push(pt.intersection);return ct}function _e(nt,it,ot,st){const ct=$.getState();if(nt.length){const ut={stopped:!1};for(const dt of nt){const ft=getRootState(dt.object)||ct,{raycaster:ht,pointer:pt,camera:yt,internal:gt}=ft,xt=new Vector3(pt.x,pt.y,0).unproject(yt),wt=Ut=>{var jt,Xt;return(jt=(Xt=gt.capturedMap.get(Ut))==null?void 0:Xt.has(dt.eventObject))!=null?jt:!1},Mt=Ut=>{const jt={intersection:dt,target:it.target};gt.capturedMap.has(Ut)?gt.capturedMap.get(Ut).set(dt.eventObject,jt):gt.capturedMap.set(Ut,new Map([[dt.eventObject,jt]])),it.target.setPointerCapture(Ut)},It=Ut=>{const jt=gt.capturedMap.get(Ut);jt&&releaseInternalPointerCapture(gt.capturedMap,dt.eventObject,jt,Ut)};let Tt={};for(let Ut in it){let jt=it[Ut];typeof jt!="function"&&(Tt[Ut]=jt)}let Dt={...dt,...Tt,pointer:pt,intersections:nt,stopped:ut.stopped,delta:ot,unprojectedPoint:xt,ray:ht.ray,camera:yt,stopPropagation(){const Ut="pointerId"in it&&gt.capturedMap.get(it.pointerId);if((!Ut||Ut.has(dt.eventObject))&&(Dt.stopped=ut.stopped=!0,gt.hovered.size&&Array.from(gt.hovered.values()).find(jt=>jt.eventObject===dt.eventObject))){const jt=nt.slice(0,nt.indexOf(dt));et([...jt,dt])}},target:{hasPointerCapture:wt,setPointerCapture:Mt,releasePointerCapture:It},currentTarget:{hasPointerCapture:wt,setPointerCapture:Mt,releasePointerCapture:It},nativeEvent:it};if(st(Dt),ut.stopped===!0)break}}return nt}function et(nt){const{internal:it}=$.getState();for(const ot of it.hovered.values())if(!nt.length||!nt.find(st=>st.object===ot.object&&st.index===ot.index&&st.instanceId===ot.instanceId)){const ct=ot.eventObject.__r3f,ut=ct==null?void 0:ct.handlers;if(it.hovered.delete(makeId(ot)),ct!=null&&ct.eventCount){const dt={...ot,intersections:nt};ut.onPointerOut==null||ut.onPointerOut(dt),ut.onPointerLeave==null||ut.onPointerLeave(dt)}}}function tt(nt,it){for(let ot=0;ot<it.length;ot++){const st=it[ot].__r3f;st==null||st.handlers.onPointerMissed==null||st.handlers.onPointerMissed(nt)}}function rt(nt){switch(nt){case"onPointerLeave":case"onPointerCancel":return()=>et([]);case"onLostPointerCapture":return it=>{const{internal:ot}=$.getState();"pointerId"in it&&ot.capturedMap.has(it.pointerId)&&requestAnimationFrame(()=>{ot.capturedMap.has(it.pointerId)&&(ot.capturedMap.delete(it.pointerId),et([]))})}}return function(ot){const{onPointerMissed:st,internal:ct}=$.getState();ct.lastEvent.current=ot;const ut=nt==="onPointerMove",dt=nt==="onClick"||nt==="onContextMenu"||nt==="onDoubleClick",ht=j(ot,ut?a:void 0),pt=dt?o(ot):0;nt==="onPointerDown"&&(ct.initialClick=[ot.offsetX,ot.offsetY],ct.initialHits=ht.map(gt=>gt.eventObject)),dt&&!ht.length&&pt<=2&&(tt(ot,ct.interaction),st&&st(ot)),ut&&et(ht);function yt(gt){const xt=gt.eventObject,wt=xt.__r3f,Mt=wt==null?void 0:wt.handlers;if(wt!=null&&wt.eventCount)if(ut){if(Mt.onPointerOver||Mt.onPointerEnter||Mt.onPointerOut||Mt.onPointerLeave){const It=makeId(gt),Tt=ct.hovered.get(It);Tt?Tt.stopped&&gt.stopPropagation():(ct.hovered.set(It,gt),Mt.onPointerOver==null||Mt.onPointerOver(gt),Mt.onPointerEnter==null||Mt.onPointerEnter(gt))}Mt.onPointerMove==null||Mt.onPointerMove(gt)}else{const It=Mt[nt];It?(!dt||ct.initialHits.includes(xt))&&(tt(ot,ct.interaction.filter(Tt=>!ct.initialHits.includes(Tt))),It(gt)):dt&&ct.initialHits.includes(xt)&&tt(ot,ct.interaction.filter(Tt=>!ct.initialHits.includes(Tt)))}}_e(ht,ot,pt,yt)}}return{handlePointer:rt}}const isRenderer=$=>!!($!=null&&$.render),context$1=reactExports.createContext(null),createStore=($,o)=>{const a=create((rt,nt)=>{const it=new Vector3,ot=new Vector3,st=new Vector3;function ct(pt=nt().camera,yt=ot,gt=nt().size){const{width:xt,height:wt,top:Mt,left:It}=gt,Tt=xt/wt;yt instanceof Vector3?st.copy(yt):st.set(...yt);const Dt=pt.getWorldPosition(it).distanceTo(st);if(isOrthographicCamera(pt))return{width:xt/pt.zoom,height:wt/pt.zoom,top:Mt,left:It,factor:1,distance:Dt,aspect:Tt};{const Ut=pt.fov*Math.PI/180,jt=2*Math.tan(Ut/2)*Dt,Xt=jt*(xt/wt);return{width:Xt,height:jt,top:Mt,left:It,factor:xt/Xt,distance:Dt,aspect:Tt}}}let ut;const dt=pt=>rt(yt=>({performance:{...yt.performance,current:pt}})),ft=new Vector2;return{set:rt,get:nt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(pt=1)=>$(nt(),pt),advance:(pt,yt)=>o(pt,yt,nt()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:ft,mouse:ft,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const pt=nt();ut&&clearTimeout(ut),pt.performance.current!==pt.performance.min&&dt(pt.performance.min),ut=setTimeout(()=>dt(nt().performance.max),pt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ct},setEvents:pt=>rt(yt=>({...yt,events:{...yt.events,...pt}})),setSize:(pt,yt,gt,xt,wt)=>{const Mt=nt().camera,It={width:pt,height:yt,top:xt||0,left:wt||0,updateStyle:gt};rt(Tt=>({size:It,viewport:{...Tt.viewport,...ct(Mt,ot,It)}}))},setDpr:pt=>rt(yt=>{const gt=calculateDpr(pt);return{viewport:{...yt.viewport,dpr:gt,initialDpr:yt.viewport.initialDpr||gt}}}),setFrameloop:(pt="always")=>{const yt=nt().clock;yt.stop(),yt.elapsedTime=0,pt!=="never"&&(yt.start(),yt.elapsedTime=0),rt(()=>({frameloop:pt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(pt,yt,gt)=>{const xt=nt().internal;return xt.priority=xt.priority+(yt>0?1:0),xt.subscribers.push({ref:pt,priority:yt,store:gt}),xt.subscribers=xt.subscribers.sort((wt,Mt)=>wt.priority-Mt.priority),()=>{const wt=nt().internal;wt!=null&&wt.subscribers&&(wt.priority=wt.priority-(yt>0?1:0),wt.subscribers=wt.subscribers.filter(Mt=>Mt.ref!==pt))}}}}}),j=a.getState();let _e=j.size,et=j.viewport.dpr,tt=j.camera;return a.subscribe(()=>{const{camera:rt,size:nt,viewport:it,gl:ot,set:st}=a.getState();if(nt.width!==_e.width||nt.height!==_e.height||it.dpr!==et){var ct;_e=nt,et=it.dpr,updateCamera(rt,nt),ot.setPixelRatio(it.dpr);const ut=(ct=nt.updateStyle)!=null?ct:typeof HTMLCanvasElement<"u"&&ot.domElement instanceof HTMLCanvasElement;ot.setSize(nt.width,nt.height,ut)}rt!==tt&&(tt=rt,st(ut=>({viewport:{...ut.viewport,...ut.viewport.getCurrentViewport(rt)}})))}),a.subscribe(rt=>$(rt)),a};let i$1,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run($,o){if($.size)for(const{callback:a}of $.values())a(o)}function flushGlobalEffects($,o){switch($){case"before":return run(globalEffects,o);case"after":return run(globalAfterEffects,o);case"tail":return run(globalTailEffects,o)}}let subscribers,subscription;function render$1($,o,a){let j=o.clock.getDelta();for(o.frameloop==="never"&&typeof $=="number"&&(j=$-o.clock.elapsedTime,o.clock.oldTime=o.clock.elapsedTime,o.clock.elapsedTime=$),subscribers=o.internal.subscribers,i$1=0;i$1<subscribers.length;i$1++)subscription=subscribers[i$1],subscription.ref.current(subscription.store.getState(),j,a);return!o.internal.priority&&o.gl.render&&o.gl.render(o.scene,o.camera),o.internal.frames=Math.max(0,o.internal.frames-1),o.frameloop==="always"?1:o.internal.frames}function createLoop($){let o=!1,a=!1,j,_e,et;function tt(it){_e=requestAnimationFrame(tt),o=!0,j=0,flushGlobalEffects("before",it),a=!0;for(const st of $.values()){var ot;et=st.store.getState(),et.internal.active&&(et.frameloop==="always"||et.internal.frames>0)&&!((ot=et.gl.xr)!=null&&ot.isPresenting)&&(j+=render$1(it,et))}if(a=!1,flushGlobalEffects("after",it),j===0)return flushGlobalEffects("tail",it),o=!1,cancelAnimationFrame(_e)}function rt(it,ot=1){var st;if(!it)return $.forEach(ct=>rt(ct.store.getState(),ot));(st=it.gl.xr)!=null&&st.isPresenting||!it.internal.active||it.frameloop==="never"||(ot>1?it.internal.frames=Math.min(60,it.internal.frames+ot):a?it.internal.frames=2:it.internal.frames=1,o||(o=!0,requestAnimationFrame(tt)))}function nt(it,ot=!0,st,ct){if(ot&&flushGlobalEffects("before",it),st)render$1(it,st,ct);else for(const ut of $.values())render$1(it,ut.store.getState());ot&&flushGlobalEffects("after",it)}return{loop:tt,invalidate:rt,advance:nt}}function useStore(){const $=reactExports.useContext(context$1);if(!$)throw new Error("R3F: Hooks can only be used within the Canvas component!");return $}function useThree($=a=>a,o){return useStore()($,o)}function useFrame($,o=0){const a=useStore(),j=a.getState().internal.subscribe,_e=useMutableCallback($);return useIsomorphicLayoutEffect(()=>j(_e,o,a),[o,j,a]),null}const memoizedLoaders=new WeakMap;function loadingFn($,o){return function(a,...j){let _e=memoizedLoaders.get(a);return _e||(_e=new a,memoizedLoaders.set(a,_e)),$&&$(_e),Promise.all(j.map(et=>new Promise((tt,rt)=>_e.load(et,nt=>{nt.scene&&Object.assign(nt,buildGraph(nt.scene)),tt(nt)},o,nt=>rt(new Error(`Could not load ${et}: ${nt==null?void 0:nt.message}`))))))}}function useLoader($,o,a,j){const _e=Array.isArray(o)?o:[o],et=suspend(loadingFn(a,j),[$,..._e],{equal:is.equ});return Array.isArray(o)?et:et[0]}useLoader.preload=function($,o,a){const j=Array.isArray(o)?o:[o];return preload(loadingFn(a),[$,...j])};useLoader.clear=function($,o){const a=Array.isArray(o)?o:[o];return clear([$,...a])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=($,o)=>{const a=typeof $=="function"?$(o):$;return isRenderer(a)?a:new WebGLRenderer({powerPreference:"high-performance",canvas:o,antialias:!0,alpha:!0,...$})};function computeInitialSize($,o){const a=typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement;if(o){const{width:j,height:_e,top:et,left:tt,updateStyle:rt=a}=o;return{width:j,height:_e,top:et,left:tt,updateStyle:rt}}else if(typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement&&$.parentElement){const{width:j,height:_e,top:et,left:tt}=$.parentElement.getBoundingClientRect();return{width:j,height:_e,top:et,left:tt,updateStyle:a}}else if(typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas)return{width:$.width,height:$.height,top:0,left:0,updateStyle:a};return{width:0,height:0,top:0,left:0}}function createRoot($){const o=roots.get($),a=o==null?void 0:o.fiber,j=o==null?void 0:o.store;o&&console.warn("R3F.createRoot should only be called once!");const _e=typeof reportError=="function"?reportError:console.error,et=j||createStore(invalidate,advance),tt=a||reconciler.createContainer(et,constantsExports.ConcurrentRoot,null,!1,null,"",_e,null);o||roots.set($,{fiber:tt,store:et});let rt,nt=!1,it;return{configure(ot={}){let{gl:st,size:ct,scene:ut,events:dt,onCreated:ft,shadows:ht=!1,linear:pt=!1,flat:yt=!1,legacy:gt=!1,orthographic:xt=!1,frameloop:wt="always",dpr:Mt=[1,2],performance:It,raycaster:Tt,camera:Dt,onPointerMissed:Ut}=ot,jt=et.getState(),Xt=jt.gl;jt.gl||jt.set({gl:Xt=createRendererInstance(st,$)});let kt=jt.raycaster;kt||jt.set({raycaster:kt=new Raycaster});const{params:vt,...Et}=Tt||{};if(is.equ(Et,kt,shallowLoose)||applyProps(kt,{...Et}),is.equ(vt,kt.params,shallowLoose)||applyProps(kt,{params:{...kt.params,...vt}}),!jt.camera||jt.camera===it&&!is.equ(it,Dt,shallowLoose)){it=Dt;const Vt=Dt instanceof Camera,$t=Vt?Dt:xt?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);Vt||($t.position.z=5,Dt&&applyProps($t,Dt),!jt.camera&&!(Dt!=null&&Dt.rotation)&&$t.lookAt(0,0,0)),jt.set({camera:$t}),kt.camera=$t}if(!jt.scene){let Vt;ut instanceof Scene?Vt=ut:(Vt=new Scene,ut&&applyProps(Vt,ut)),jt.set({scene:prepare(Vt)})}if(!jt.xr){var Lt;const Vt=(Ht,ar)=>{const Rt=et.getState();Rt.frameloop!=="never"&&advance(Ht,!0,Rt,ar)},$t=()=>{const Ht=et.getState();Ht.gl.xr.enabled=Ht.gl.xr.isPresenting,Ht.gl.xr.setAnimationLoop(Ht.gl.xr.isPresenting?Vt:null),Ht.gl.xr.isPresenting||invalidate(Ht)},At={connect(){const Ht=et.getState().gl;Ht.xr.addEventListener("sessionstart",$t),Ht.xr.addEventListener("sessionend",$t)},disconnect(){const Ht=et.getState().gl;Ht.xr.removeEventListener("sessionstart",$t),Ht.xr.removeEventListener("sessionend",$t)}};typeof((Lt=Xt.xr)==null?void 0:Lt.addEventListener)=="function"&&At.connect(),jt.set({xr:At})}if(Xt.shadowMap){const Vt=Xt.shadowMap.enabled,$t=Xt.shadowMap.type;if(Xt.shadowMap.enabled=!!ht,is.boo(ht))Xt.shadowMap.type=PCFSoftShadowMap;else if(is.str(ht)){var Ot;const At={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};Xt.shadowMap.type=(Ot=At[ht])!=null?Ot:PCFSoftShadowMap}else is.obj(ht)&&Object.assign(Xt.shadowMap,ht);(Vt!==Xt.shadowMap.enabled||$t!==Xt.shadowMap.type)&&(Xt.shadowMap.needsUpdate=!0)}const Pt=getColorManagement();Pt&&("enabled"in Pt?Pt.enabled=!gt:"legacyMode"in Pt&&(Pt.legacyMode=gt)),nt||applyProps(Xt,{outputEncoding:pt?3e3:3001,toneMapping:yt?NoToneMapping:ACESFilmicToneMapping}),jt.legacy!==gt&&jt.set(()=>({legacy:gt})),jt.linear!==pt&&jt.set(()=>({linear:pt})),jt.flat!==yt&&jt.set(()=>({flat:yt})),st&&!is.fun(st)&&!isRenderer(st)&&!is.equ(st,Xt,shallowLoose)&&applyProps(Xt,st),dt&&!jt.events.handlers&&jt.set({events:dt(et)});const zt=computeInitialSize($,ct);return is.equ(zt,jt.size,shallowLoose)||jt.setSize(zt.width,zt.height,zt.updateStyle,zt.top,zt.left),Mt&&jt.viewport.dpr!==calculateDpr(Mt)&&jt.setDpr(Mt),jt.frameloop!==wt&&jt.setFrameloop(wt),jt.onPointerMissed||jt.set({onPointerMissed:Ut}),It&&!is.equ(It,jt.performance,shallowLoose)&&jt.set(Vt=>({performance:{...Vt.performance,...It}})),rt=ft,nt=!0,this},render(ot){return nt||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:et,children:ot,onCreated:rt,rootElement:$}),tt,null,()=>{}),et},unmount(){unmountComponentAtNode($)}}}function Provider({store:$,children:o,onCreated:a,rootElement:j}){return useIsomorphicLayoutEffect(()=>{const _e=$.getState();_e.set(et=>({internal:{...et.internal,active:!0}})),a&&a(_e),$.getState().events.connected||_e.events.connect==null||_e.events.connect(j)},[]),reactExports.createElement(context$1.Provider,{value:$},o)}function unmountComponentAtNode($,o){const a=roots.get($),j=a==null?void 0:a.fiber;if(j){const _e=a==null?void 0:a.store.getState();_e&&(_e.internal.active=!1),reconciler.updateContainer(null,j,null,()=>{_e&&setTimeout(()=>{try{var et,tt,rt,nt;_e.events.disconnect==null||_e.events.disconnect(),(et=_e.gl)==null||(tt=et.renderLists)==null||tt.dispose==null||tt.dispose(),(rt=_e.gl)==null||rt.forceContextLoss==null||rt.forceContextLoss(),(nt=_e.gl)!=null&&nt.xr&&_e.xr.disconnect(),dispose(_e),roots.delete($),o&&o($)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function debounce($,o,a){var j,_e,et,tt,rt;o==null&&(o=100);function nt(){var ot=Date.now()-tt;ot<o&&ot>=0?j=setTimeout(nt,o-ot):(j=null,a||(rt=$.apply(et,_e),et=_e=null))}var it=function(){et=this,_e=arguments,tt=Date.now();var ot=a&&!j;return j||(j=setTimeout(nt,o)),ot&&(rt=$.apply(et,_e),et=_e=null),rt};return it.clear=function(){j&&(clearTimeout(j),j=null)},it.flush=function(){j&&(rt=$.apply(et,_e),et=_e=null,clearTimeout(j),j=null)},it}debounce.debounce=debounce;var debounce_1=debounce;const createDebounce=getDefaultExportFromCjs(debounce_1);function useMeasure($){let{debounce:o,scroll:a,polyfill:j,offsetSize:_e}=$===void 0?{debounce:0,scroll:!1,offsetSize:!1}:$;const et=j||(typeof window>"u"?class{}:window.ResizeObserver);if(!et)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[tt,rt]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),nt=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:tt}),it=o?typeof o=="number"?o:o.scroll:null,ot=o?typeof o=="number"?o:o.resize:null,st=reactExports.useRef(!1);reactExports.useEffect(()=>(st.current=!0,()=>void(st.current=!1)));const[ct,ut,dt]=reactExports.useMemo(()=>{const yt=()=>{if(!nt.current.element)return;const{left:gt,top:xt,width:wt,height:Mt,bottom:It,right:Tt,x:Dt,y:Ut}=nt.current.element.getBoundingClientRect(),jt={left:gt,top:xt,width:wt,height:Mt,bottom:It,right:Tt,x:Dt,y:Ut};nt.current.element instanceof HTMLElement&&_e&&(jt.height=nt.current.element.offsetHeight,jt.width=nt.current.element.offsetWidth),Object.freeze(jt),st.current&&!areBoundsEqual(nt.current.lastBounds,jt)&&rt(nt.current.lastBounds=jt)};return[yt,ot?createDebounce(yt,ot):yt,it?createDebounce(yt,it):yt]},[rt,_e,it,ot]);function ft(){nt.current.scrollContainers&&(nt.current.scrollContainers.forEach(yt=>yt.removeEventListener("scroll",dt,!0)),nt.current.scrollContainers=null),nt.current.resizeObserver&&(nt.current.resizeObserver.disconnect(),nt.current.resizeObserver=null)}function ht(){nt.current.element&&(nt.current.resizeObserver=new et(dt),nt.current.resizeObserver.observe(nt.current.element),a&&nt.current.scrollContainers&&nt.current.scrollContainers.forEach(yt=>yt.addEventListener("scroll",dt,{capture:!0,passive:!0})))}const pt=yt=>{!yt||yt===nt.current.element||(ft(),nt.current.element=yt,nt.current.scrollContainers=findScrollContainers(yt),ht())};return useOnWindowScroll(dt,!!a),useOnWindowResize(ut),reactExports.useEffect(()=>{ft(),ht()},[a,dt,ut]),reactExports.useEffect(()=>ft,[]),[pt,tt,ct]}function useOnWindowResize($){reactExports.useEffect(()=>{const o=$;return window.addEventListener("resize",o),()=>void window.removeEventListener("resize",o)},[$])}function useOnWindowScroll($,o){reactExports.useEffect(()=>{if(o){const a=$;return window.addEventListener("scroll",a,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",a,!0)}},[$,o])}function findScrollContainers($){const o=[];if(!$||$===document.body)return o;const{overflow:a,overflowX:j,overflowY:_e}=window.getComputedStyle($);return[a,j,_e].some(et=>et==="auto"||et==="scroll")&&o.push($),[...o,...findScrollContainers($.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=($,o)=>keys.every(a=>$[a]===o[a]);var __defProp$1=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$1=($,o,a)=>o in $?__defProp$1($,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):$[o]=a,__spreadValues=($,o)=>{for(var a in o||(o={}))__hasOwnProp.call(o,a)&&__defNormalProp$1($,a,o[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(o))__propIsEnum.call(o,a)&&__defNormalProp$1($,a,o[a]);return $},__spreadProps=($,o)=>__defProps($,__getOwnPropDescs(o)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber($,o,a){if(!$)return;if(a($)===!0)return $;let j=o?$.return:$.child;for(;j;){const _e=traverseFiber(j,o,a);if(_e)return _e;j=o?null:j.sibling}}function wrapContext($){try{return Object.defineProperties($,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return $}}const error=console.error;console.error=function(){const $=[...arguments].join("");if($!=null&&$.startsWith("Warning:")&&$.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const $=reactExports.useContext(FiberContext);if($===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const o=reactExports.useId();return reactExports.useMemo(()=>{for(const j of[$,$==null?void 0:$.alternate]){if(!j)continue;const _e=traverseFiber(j,!1,et=>{let tt=et.memoizedState;for(;tt;){if(tt.memoizedState===o)return!0;tt=tt.next}});if(_e)return _e}},[$,o])}function useContextMap(){const $=useFiber(),[o]=reactExports.useState(()=>new Map);o.clear();let a=$;for(;a;){if(a.type&&typeof a.type=="object"){const _e=a.type._context===void 0&&a.type.Provider===a.type?a.type:a.type._context;_e&&_e!==FiberContext&&!o.has(_e)&&o.set(_e,reactExports.useContext(wrapContext(_e)))}a=a.return}return o}function useContextBridge(){const $=useContextMap();return reactExports.useMemo(()=>Array.from($.keys()).reduce((o,a)=>j=>reactExports.createElement(o,null,reactExports.createElement(a.Provider,__spreadProps(__spreadValues({},j),{value:$.get(a)}))),o=>reactExports.createElement(FiberProvider,__spreadValues({},o))),[$])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents($){const{handlePointer:o}=createEvents($);return{priority:1,enabled:!0,compute(a,j,_e){j.pointer.set(a.offsetX/j.size.width*2-1,-(a.offsetY/j.size.height)*2+1),j.raycaster.setFromCamera(j.pointer,j.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((a,j)=>({...a,[j]:o(j)}),{}),update:()=>{var a;const{events:j,internal:_e}=$.getState();(a=_e.lastEvent)!=null&&a.current&&j.handlers&&j.handlers.onPointerMove(_e.lastEvent.current)},connect:a=>{var j;const{set:_e,events:et}=$.getState();et.disconnect==null||et.disconnect(),_e(tt=>({events:{...tt.events,connected:a}})),Object.entries((j=et.handlers)!=null?j:[]).forEach(([tt,rt])=>{const[nt,it]=DOM_EVENTS[tt];a.addEventListener(nt,rt,{passive:it})})},disconnect:()=>{const{set:a,events:j}=$.getState();if(j.connected){var _e;Object.entries((_e=j.handlers)!=null?_e:[]).forEach(([et,tt])=>{if(j&&j.connected instanceof HTMLElement){const[rt]=DOM_EVENTS[et];j.connected.removeEventListener(rt,tt)}}),a(et=>({events:{...et.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function $({children:o,fallback:a,resize:j,style:_e,gl:et,events:tt=createPointerEvents,eventSource:rt,eventPrefix:nt,shadows:it,linear:ot,flat:st,legacy:ct,orthographic:ut,frameloop:dt,dpr:ft,performance:ht,raycaster:pt,camera:yt,scene:gt,onPointerMissed:xt,onCreated:wt,...Mt},It){reactExports.useMemo(()=>extend(THREE),[]);const Tt=useContextBridge(),[Dt,Ut]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...j}),jt=reactExports.useRef(null),Xt=reactExports.useRef(null);reactExports.useImperativeHandle(It,()=>jt.current);const kt=useMutableCallback(xt),[vt,Et]=reactExports.useState(!1),[Lt,Ot]=reactExports.useState(!1);if(vt)throw vt;if(Lt)throw Lt;const Pt=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const Vt=jt.current;Ut.width>0&&Ut.height>0&&Vt&&(Pt.current||(Pt.current=createRoot(Vt)),Pt.current.configure({gl:et,events:tt,shadows:it,linear:ot,flat:st,legacy:ct,orthographic:ut,frameloop:dt,dpr:ft,performance:ht,raycaster:pt,camera:yt,scene:gt,size:Ut,onPointerMissed:(...$t)=>kt.current==null?void 0:kt.current(...$t),onCreated:$t=>{$t.events.connect==null||$t.events.connect(rt?isRef(rt)?rt.current:rt:Xt.current),nt&&$t.setEvents({compute:(At,Ht)=>{const ar=At[nt+"X"],Rt=At[nt+"Y"];Ht.pointer.set(ar/Ht.size.width*2-1,-(Rt/Ht.size.height)*2+1),Ht.raycaster.setFromCamera(Ht.pointer,Ht.camera)}}),wt==null||wt($t)}}),Pt.current.render(reactExports.createElement(Tt,null,reactExports.createElement(ErrorBoundary,{set:Ot},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:Et})},o)))))}),reactExports.useEffect(()=>{const Vt=jt.current;if(Vt)return()=>unmountComponentAtNode(Vt)},[]);const zt=rt?"none":"auto";return reactExports.createElement("div",_extends$2({ref:Xt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:zt,..._e}},Mt),reactExports.createElement("div",{ref:Dt,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:jt,style:{display:"block"}},a)))}),Canvas=reactExports.forwardRef(function $(o,a){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends$2({},o,{ref:a})))}),v1=new Vector3,v2=new Vector3,v3=new Vector3,v4=new Vector2;function defaultCalculatePosition($,o,a){const j=v1.setFromMatrixPosition($.matrixWorld);j.project(o);const _e=a.width/2,et=a.height/2;return[j.x*_e+_e,-(j.y*et)+et]}function isObjectBehindCamera($,o){const a=v1.setFromMatrixPosition($.matrixWorld),j=v2.setFromMatrixPosition(o.matrixWorld),_e=a.sub(j),et=o.getWorldDirection(v3);return _e.angleTo(et)>Math.PI/2}function isObjectVisible($,o,a,j){const _e=v1.setFromMatrixPosition($.matrixWorld),et=_e.clone();et.project(o),v4.set(et.x,et.y),a.setFromCamera(v4,o);const tt=a.intersectObjects(j,!0);if(tt.length){const rt=tt[0].distance;return _e.distanceTo(a.ray.origin)<rt}return!0}function objectScale($,o){if(o instanceof OrthographicCamera)return o.zoom;if(o instanceof PerspectiveCamera){const a=v1.setFromMatrixPosition($.matrixWorld),j=v2.setFromMatrixPosition(o.matrixWorld),_e=o.fov*Math.PI/180,et=a.distanceTo(j);return 1/(2*Math.tan(_e/2)*et)}else return 1}function objectZIndex($,o,a){if(o instanceof PerspectiveCamera||o instanceof OrthographicCamera){const j=v1.setFromMatrixPosition($.matrixWorld),_e=v2.setFromMatrixPosition(o.matrixWorld),et=j.distanceTo(_e),tt=(a[1]-a[0])/(o.far-o.near),rt=a[1]-tt*o.far;return Math.round(tt*et+rt)}}const epsilon=$=>Math.abs($)<1e-10?0:$;function getCSSMatrix($,o,a=""){let j="matrix3d(";for(let _e=0;_e!==16;_e++)j+=epsilon(o[_e]*$.elements[_e])+(_e!==15?",":")");return a+j}const getCameraCSSMatrix=($=>o=>getCSSMatrix(o,$))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=($=>(o,a)=>getCSSMatrix(o,$(a),"translate(-50%,-50%)"))($=>[1/$,1/$,1/$,1,-1/$,-1/$,-1/$,-1,1/$,1/$,1/$,1,1,1,1,1]);function isRefObject($){return $&&typeof $=="object"&&"current"in $}const Html=reactExports.forwardRef(({children:$,eps:o=.001,style:a,className:j,prepend:_e,center:et,fullscreen:tt,portal:rt,distanceFactor:nt,sprite:it=!1,transform:ot=!1,occlude:st,onOcclude:ct,castShadow:ut,receiveShadow:dt,material:ft,geometry:ht,zIndexRange:pt=[16777271,0],calculatePosition:yt=defaultCalculatePosition,as:gt="div",wrapperClass:xt,pointerEvents:wt="auto",...Mt},It)=>{const{gl:Tt,camera:Dt,scene:Ut,size:jt,raycaster:Xt,events:kt,viewport:vt}=useThree(),[Et]=reactExports.useState(()=>document.createElement(gt)),Lt=reactExports.useRef(),Ot=reactExports.useRef(null),Pt=reactExports.useRef(0),zt=reactExports.useRef([0,0]),Vt=reactExports.useRef(null),$t=reactExports.useRef(null),At=(rt==null?void 0:rt.current)||kt.connected||Tt.domElement.parentNode,Ht=reactExports.useRef(null),ar=reactExports.useRef(!1),Rt=reactExports.useMemo(()=>st&&st!=="blending"||Array.isArray(st)&&st.length&&isRefObject(st[0]),[st]);reactExports.useLayoutEffect(()=>{const _r=Tt.domElement;st&&st==="blending"?(_r.style.zIndex=`${Math.floor(pt[0]/2)}`,_r.style.position="absolute",_r.style.pointerEvents="none"):(_r.style.zIndex=null,_r.style.position=null,_r.style.pointerEvents=null)},[st]),reactExports.useLayoutEffect(()=>{if(Ot.current){const _r=Lt.current=createRoot$1(Et);if(Ut.updateMatrixWorld(),ot)Et.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const fr=yt(Ot.current,Dt,jt);Et.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${fr[0]}px,${fr[1]}px,0);transform-origin:0 0;`}return At&&(_e?At.prepend(Et):At.appendChild(Et)),()=>{At&&At.removeChild(Et),_r.unmount()}}},[At,ot]),reactExports.useLayoutEffect(()=>{xt&&(Et.className=xt)},[xt]);const Zt=reactExports.useMemo(()=>ot?{position:"absolute",top:0,left:0,width:jt.width,height:jt.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:et?"translate3d(-50%,-50%,0)":"none",...tt&&{top:-jt.height/2,left:-jt.width/2,width:jt.width,height:jt.height},...a},[a,et,tt,jt,ot]),ir=reactExports.useMemo(()=>({position:"absolute",pointerEvents:wt}),[wt]);reactExports.useLayoutEffect(()=>{if(ar.current=!1,ot){var _r;(_r=Lt.current)==null||_r.render(reactExports.createElement("div",{ref:Vt,style:Zt},reactExports.createElement("div",{ref:$t,style:ir},reactExports.createElement("div",{ref:It,className:j,style:a,children:$}))))}else{var fr;(fr=Lt.current)==null||fr.render(reactExports.createElement("div",{ref:It,style:Zt,className:j,children:$}))}});const sr=reactExports.useRef(!0);useFrame(_r=>{if(Ot.current){Dt.updateMatrixWorld(),Ot.current.updateWorldMatrix(!0,!1);const fr=ot?zt.current:yt(Ot.current,Dt,jt);if(ot||Math.abs(Pt.current-Dt.zoom)>o||Math.abs(zt.current[0]-fr[0])>o||Math.abs(zt.current[1]-fr[1])>o){const nr=isObjectBehindCamera(Ot.current,Dt);let lr=!1;Rt&&(Array.isArray(st)?lr=st.map(Dr=>Dr.current):st!=="blending"&&(lr=[Ut]));const cr=sr.current;if(lr){const Dr=isObjectVisible(Ot.current,Dt,Xt,lr);sr.current=Dr&&!nr}else sr.current=!nr;cr!==sr.current&&(ct?ct(!sr.current):Et.style.display=sr.current?"block":"none");const Ar=Math.floor(pt[0]/2),kr=st?Rt?[pt[0],Ar]:[Ar-1,0]:pt;if(Et.style.zIndex=`${objectZIndex(Ot.current,Dt,kr)}`,ot){const[Dr,Lr]=[jt.width/2,jt.height/2],Ur=Dt.projectionMatrix.elements[5]*Lr,{isOrthographicCamera:Or,top:Nr,left:Jt,bottom:Wt,right:ur}=Dt,Pr=getCameraCSSMatrix(Dt.matrixWorldInverse),Tr=Or?`scale(${Ur})translate(${epsilon(-(ur+Jt)/2)}px,${epsilon((Nr+Wt)/2)}px)`:`translateZ(${Ur}px)`;let Ft=Ot.current.matrixWorld;it&&(Ft=Dt.matrixWorldInverse.clone().transpose().copyPosition(Ft).scale(Ot.current.scale),Ft.elements[3]=Ft.elements[7]=Ft.elements[11]=0,Ft.elements[15]=1),Et.style.width=jt.width+"px",Et.style.height=jt.height+"px",Et.style.perspective=Or?"":`${Ur}px`,Vt.current&&$t.current&&(Vt.current.style.transform=`${Tr}${Pr}translate(${Dr}px,${Lr}px)`,$t.current.style.transform=getObjectCSSMatrix(Ft,1/((nt||10)/400)))}else{const Dr=nt===void 0?1:objectScale(Ot.current,Dt)*nt;Et.style.transform=`translate3d(${fr[0]}px,${fr[1]}px,0) scale(${Dr})`}zt.current=fr,Pt.current=Dt.zoom}}if(!Rt&&Ht.current&&!ar.current)if(ot){if(Vt.current){const fr=Vt.current.children[0];if(fr!=null&&fr.clientWidth&&fr!=null&&fr.clientHeight){const{isOrthographicCamera:nr}=Dt;if(nr||ht)Mt.scale&&(Array.isArray(Mt.scale)?Mt.scale instanceof Vector3?Ht.current.scale.copy(Mt.scale.clone().divideScalar(1)):Ht.current.scale.set(1/Mt.scale[0],1/Mt.scale[1],1/Mt.scale[2]):Ht.current.scale.setScalar(1/Mt.scale));else{const lr=(nt||10)/400,cr=fr.clientWidth*lr,Ar=fr.clientHeight*lr;Ht.current.scale.set(cr,Ar,1)}ar.current=!0}}}else{const fr=Et.children[0];if(fr!=null&&fr.clientWidth&&fr!=null&&fr.clientHeight){const nr=1/vt.factor,lr=fr.clientWidth*nr,cr=fr.clientHeight*nr;Ht.current.scale.set(lr,cr,1),ar.current=!0}Ht.current.lookAt(_r.camera.position)}});const pr=reactExports.useMemo(()=>({vertexShader:ot?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[ot]);return reactExports.createElement("group",_extends$2({},Mt,{ref:Ot}),st&&!Rt&&reactExports.createElement("mesh",{castShadow:ut,receiveShadow:dt,ref:Ht},ht||reactExports.createElement("planeGeometry",null),ft||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:pr.vertexShader,fragmentShader:pr.fragmentShader})))});let saveLastTotalLoaded=0;const useProgress=create($=>(DefaultLoadingManager.onStart=(o,a,j)=>{$({active:!0,item:o,loaded:a,total:j,progress:(a-saveLastTotalLoaded)/(j-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{$({active:!1})},DefaultLoadingManager.onError=o=>$(a=>({errors:[...a.errors,o]})),DefaultLoadingManager.onProgress=(o,a,j)=>{a===j&&(saveLastTotalLoaded=j),$({active:!0,item:o,loaded:a,total:j,progress:(a-saveLastTotalLoaded)/(j-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function toTrianglesDrawMode($,o){if(o===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),$;if(o===TriangleFanDrawMode||o===TriangleStripDrawMode){let a=$.getIndex();if(a===null){const tt=[],rt=$.getAttribute("position");if(rt!==void 0){for(let nt=0;nt<rt.count;nt++)tt.push(nt);$.setIndex(tt),a=$.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),$}const j=a.count-2,_e=[];if(a)if(o===TriangleFanDrawMode)for(let tt=1;tt<=j;tt++)_e.push(a.getX(0)),_e.push(a.getX(tt)),_e.push(a.getX(tt+1));else for(let tt=0;tt<j;tt++)tt%2===0?(_e.push(a.getX(tt)),_e.push(a.getX(tt+1)),_e.push(a.getX(tt+2))):(_e.push(a.getX(tt+2)),_e.push(a.getX(tt+1)),_e.push(a.getX(tt)));_e.length/3!==j&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const et=$.clone();return et.setIndex(_e),et.clearGroups(),et}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",o),$}const version$1=parseInt(REVISION.replace(/\D+/g,""));var __defProp=Object.defineProperty,__defNormalProp=($,o,a)=>o in $?__defProp($,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):$[o]=a,__publicField=($,o,a)=>(__defNormalProp($,typeof o!="symbol"?o+"":o,a),a);const _ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*(Math.PI/180)),moduloWrapAround=($,o)=>($%o+o)%o;let OrbitControls$1=class extends EventDispatcher{constructor(o,a){super(),__publicField(this,"object"),__publicField(this,"domElement"),__publicField(this,"enabled",!0),__publicField(this,"target",new Vector3),__publicField(this,"minDistance",0),__publicField(this,"maxDistance",1/0),__publicField(this,"minZoom",0),__publicField(this,"maxZoom",1/0),__publicField(this,"minPolarAngle",0),__publicField(this,"maxPolarAngle",Math.PI),__publicField(this,"minAzimuthAngle",-1/0),__publicField(this,"maxAzimuthAngle",1/0),__publicField(this,"enableDamping",!1),__publicField(this,"dampingFactor",.05),__publicField(this,"enableZoom",!0),__publicField(this,"zoomSpeed",1),__publicField(this,"enableRotate",!0),__publicField(this,"rotateSpeed",1),__publicField(this,"enablePan",!0),__publicField(this,"panSpeed",1),__publicField(this,"screenSpacePanning",!0),__publicField(this,"keyPanSpeed",7),__publicField(this,"zoomToCursor",!1),__publicField(this,"autoRotate",!1),__publicField(this,"autoRotateSpeed",2),__publicField(this,"reverseOrbit",!1),__publicField(this,"reverseHorizontalOrbit",!1),__publicField(this,"reverseVerticalOrbit",!1),__publicField(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField(this,"target0"),__publicField(this,"position0"),__publicField(this,"zoom0"),__publicField(this,"_domElementKeyEvents",null),__publicField(this,"getPolarAngle"),__publicField(this,"getAzimuthalAngle"),__publicField(this,"setPolarAngle"),__publicField(this,"setAzimuthalAngle"),__publicField(this,"getDistance"),__publicField(this,"listenToKeyEvents"),__publicField(this,"stopListenToKeyEvents"),__publicField(this,"saveState"),__publicField(this,"reset"),__publicField(this,"update"),__publicField(this,"connect"),__publicField(this,"dispose"),this.object=o,this.domElement=a,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>ot.phi,this.getAzimuthalAngle=()=>ot.theta,this.setPolarAngle=Yt=>{let br=moduloWrapAround(Yt,2*Math.PI),Rr=ot.phi;Rr<0&&(Rr+=2*Math.PI),br<0&&(br+=2*Math.PI);let tr=Math.abs(br-Rr);2*Math.PI-tr<tr&&(br<Rr?br+=2*Math.PI:Rr+=2*Math.PI),st.phi=br-Rr,j.update()},this.setAzimuthalAngle=Yt=>{let br=moduloWrapAround(Yt,2*Math.PI),Rr=ot.theta;Rr<0&&(Rr+=2*Math.PI),br<0&&(br+=2*Math.PI);let tr=Math.abs(br-Rr);2*Math.PI-tr<tr&&(br<Rr?br+=2*Math.PI:Rr+=2*Math.PI),st.theta=br-Rr,j.update()},this.getDistance=()=>j.object.position.distanceTo(j.target),this.listenToKeyEvents=Yt=>{Yt.addEventListener("keydown",St),this._domElementKeyEvents=Yt},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",St),this._domElementKeyEvents=null},this.saveState=()=>{j.target0.copy(j.target),j.position0.copy(j.object.position),j.zoom0=j.object.zoom},this.reset=()=>{j.target.copy(j.target0),j.object.position.copy(j.position0),j.object.zoom=j.zoom0,j.object.updateProjectionMatrix(),j.dispatchEvent(_e),j.update(),nt=rt.NONE},this.update=(()=>{const Yt=new Vector3,br=new Vector3(0,1,0),Rr=new Quaternion().setFromUnitVectors(o.up,br),tr=Rr.clone().invert(),xr=new Vector3,Er=new Quaternion,Ir=2*Math.PI;return function(){const Xr=j.object.position;Rr.setFromUnitVectors(o.up,br),tr.copy(Rr).invert(),Yt.copy(Xr).sub(j.target),Yt.applyQuaternion(Rr),ot.setFromVector3(Yt),j.autoRotate&&nt===rt.NONE&&vt(Xt()),j.enableDamping?(ot.theta+=st.theta*j.dampingFactor,ot.phi+=st.phi*j.dampingFactor):(ot.theta+=st.theta,ot.phi+=st.phi);let qr=j.minAzimuthAngle,dn=j.maxAzimuthAngle;isFinite(qr)&&isFinite(dn)&&(qr<-Math.PI?qr+=Ir:qr>Math.PI&&(qr-=Ir),dn<-Math.PI?dn+=Ir:dn>Math.PI&&(dn-=Ir),qr<=dn?ot.theta=Math.max(qr,Math.min(dn,ot.theta)):ot.theta=ot.theta>(qr+dn)/2?Math.max(qr,ot.theta):Math.min(dn,ot.theta)),ot.phi=Math.max(j.minPolarAngle,Math.min(j.maxPolarAngle,ot.phi)),ot.makeSafe(),j.enableDamping===!0?j.target.addScaledVector(ut,j.dampingFactor):j.target.add(ut),j.zoomToCursor&&Dt||j.object.isOrthographicCamera?ot.radius=At(ot.radius):ot.radius=At(ot.radius*ct),Yt.setFromSpherical(ot),Yt.applyQuaternion(tr),Xr.copy(j.target).add(Yt),j.object.matrixAutoUpdate||j.object.updateMatrix(),j.object.lookAt(j.target),j.enableDamping===!0?(st.theta*=1-j.dampingFactor,st.phi*=1-j.dampingFactor,ut.multiplyScalar(1-j.dampingFactor)):(st.set(0,0,0),ut.set(0,0,0));let rn=!1;if(j.zoomToCursor&&Dt){let Qr=null;if(j.object instanceof PerspectiveCamera&&j.object.isPerspectiveCamera){const _n=Yt.length();Qr=At(_n*ct);const on=_n-Qr;j.object.position.addScaledVector(It,on),j.object.updateMatrixWorld()}else if(j.object.isOrthographicCamera){const _n=new Vector3(Tt.x,Tt.y,0);_n.unproject(j.object),j.object.zoom=Math.max(j.minZoom,Math.min(j.maxZoom,j.object.zoom/ct)),j.object.updateProjectionMatrix(),rn=!0;const on=new Vector3(Tt.x,Tt.y,0);on.unproject(j.object),j.object.position.sub(on).add(_n),j.object.updateMatrixWorld(),Qr=Yt.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),j.zoomToCursor=!1;Qr!==null&&(j.screenSpacePanning?j.target.set(0,0,-1).transformDirection(j.object.matrix).multiplyScalar(Qr).add(j.object.position):(_ray.origin.copy(j.object.position),_ray.direction.set(0,0,-1).transformDirection(j.object.matrix),Math.abs(j.object.up.dot(_ray.direction))<TILT_LIMIT?o.lookAt(j.target):(_plane.setFromNormalAndCoplanarPoint(j.object.up,j.target),_ray.intersectPlane(_plane,j.target))))}else j.object instanceof OrthographicCamera&&j.object.isOrthographicCamera&&(rn=ct!==1,rn&&(j.object.zoom=Math.max(j.minZoom,Math.min(j.maxZoom,j.object.zoom/ct)),j.object.updateProjectionMatrix()));return ct=1,Dt=!1,rn||xr.distanceToSquared(j.object.position)>it||8*(1-Er.dot(j.object.quaternion))>it?(j.dispatchEvent(_e),xr.copy(j.object.position),Er.copy(j.object.quaternion),rn=!1,!0):!1}})(),this.connect=Yt=>{Yt===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),j.domElement=Yt,j.domElement.style.touchAction="none",j.domElement.addEventListener("contextmenu",Qt),j.domElement.addEventListener("pointerdown",Nr),j.domElement.addEventListener("pointercancel",ur),j.domElement.addEventListener("wheel",Ft)},this.dispose=()=>{var Yt,br,Rr,tr,xr,Er;(Yt=j.domElement)==null||Yt.removeEventListener("contextmenu",Qt),(br=j.domElement)==null||br.removeEventListener("pointerdown",Nr),(Rr=j.domElement)==null||Rr.removeEventListener("pointercancel",ur),(tr=j.domElement)==null||tr.removeEventListener("wheel",Ft),(xr=j.domElement)==null||xr.ownerDocument.removeEventListener("pointermove",Jt),(Er=j.domElement)==null||Er.ownerDocument.removeEventListener("pointerup",Wt),j._domElementKeyEvents!==null&&j._domElementKeyEvents.removeEventListener("keydown",St)};const j=this,_e={type:"change"},et={type:"start"},tt={type:"end"},rt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let nt=rt.NONE;const it=1e-6,ot=new Spherical,st=new Spherical;let ct=1;const ut=new Vector3,dt=new Vector2,ft=new Vector2,ht=new Vector2,pt=new Vector2,yt=new Vector2,gt=new Vector2,xt=new Vector2,wt=new Vector2,Mt=new Vector2,It=new Vector3,Tt=new Vector2;let Dt=!1;const Ut=[],jt={};function Xt(){return 2*Math.PI/60/60*j.autoRotateSpeed}function kt(){return Math.pow(.95,j.zoomSpeed)}function vt(Yt){j.reverseOrbit||j.reverseHorizontalOrbit?st.theta+=Yt:st.theta-=Yt}function Et(Yt){j.reverseOrbit||j.reverseVerticalOrbit?st.phi+=Yt:st.phi-=Yt}const Lt=(()=>{const Yt=new Vector3;return function(Rr,tr){Yt.setFromMatrixColumn(tr,0),Yt.multiplyScalar(-Rr),ut.add(Yt)}})(),Ot=(()=>{const Yt=new Vector3;return function(Rr,tr){j.screenSpacePanning===!0?Yt.setFromMatrixColumn(tr,1):(Yt.setFromMatrixColumn(tr,0),Yt.crossVectors(j.object.up,Yt)),Yt.multiplyScalar(Rr),ut.add(Yt)}})(),Pt=(()=>{const Yt=new Vector3;return function(Rr,tr){const xr=j.domElement;if(xr&&j.object instanceof PerspectiveCamera&&j.object.isPerspectiveCamera){const Er=j.object.position;Yt.copy(Er).sub(j.target);let Ir=Yt.length();Ir*=Math.tan(j.object.fov/2*Math.PI/180),Lt(2*Rr*Ir/xr.clientHeight,j.object.matrix),Ot(2*tr*Ir/xr.clientHeight,j.object.matrix)}else xr&&j.object instanceof OrthographicCamera&&j.object.isOrthographicCamera?(Lt(Rr*(j.object.right-j.object.left)/j.object.zoom/xr.clientWidth,j.object.matrix),Ot(tr*(j.object.top-j.object.bottom)/j.object.zoom/xr.clientHeight,j.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),j.enablePan=!1)}})();function zt(Yt){j.object instanceof PerspectiveCamera&&j.object.isPerspectiveCamera||j.object instanceof OrthographicCamera&&j.object.isOrthographicCamera?ct/=Yt:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),j.enableZoom=!1)}function Vt(Yt){j.object instanceof PerspectiveCamera&&j.object.isPerspectiveCamera||j.object instanceof OrthographicCamera&&j.object.isOrthographicCamera?ct*=Yt:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),j.enableZoom=!1)}function $t(Yt){if(!j.zoomToCursor||!j.domElement)return;Dt=!0;const br=j.domElement.getBoundingClientRect(),Rr=Yt.clientX-br.left,tr=Yt.clientY-br.top,xr=br.width,Er=br.height;Tt.x=Rr/xr*2-1,Tt.y=-(tr/Er)*2+1,It.set(Tt.x,Tt.y,1).unproject(j.object).sub(j.object.position).normalize()}function At(Yt){return Math.max(j.minDistance,Math.min(j.maxDistance,Yt))}function Ht(Yt){dt.set(Yt.clientX,Yt.clientY)}function ar(Yt){$t(Yt),xt.set(Yt.clientX,Yt.clientY)}function Rt(Yt){pt.set(Yt.clientX,Yt.clientY)}function Zt(Yt){ft.set(Yt.clientX,Yt.clientY),ht.subVectors(ft,dt).multiplyScalar(j.rotateSpeed);const br=j.domElement;br&&(vt(2*Math.PI*ht.x/br.clientHeight),Et(2*Math.PI*ht.y/br.clientHeight)),dt.copy(ft),j.update()}function ir(Yt){wt.set(Yt.clientX,Yt.clientY),Mt.subVectors(wt,xt),Mt.y>0?zt(kt()):Mt.y<0&&Vt(kt()),xt.copy(wt),j.update()}function sr(Yt){yt.set(Yt.clientX,Yt.clientY),gt.subVectors(yt,pt).multiplyScalar(j.panSpeed),Pt(gt.x,gt.y),pt.copy(yt),j.update()}function pr(Yt){$t(Yt),Yt.deltaY<0?Vt(kt()):Yt.deltaY>0&&zt(kt()),j.update()}function _r(Yt){let br=!1;switch(Yt.code){case j.keys.UP:Pt(0,j.keyPanSpeed),br=!0;break;case j.keys.BOTTOM:Pt(0,-j.keyPanSpeed),br=!0;break;case j.keys.LEFT:Pt(j.keyPanSpeed,0),br=!0;break;case j.keys.RIGHT:Pt(-j.keyPanSpeed,0),br=!0;break}br&&(Yt.preventDefault(),j.update())}function fr(){if(Ut.length==1)dt.set(Ut[0].pageX,Ut[0].pageY);else{const Yt=.5*(Ut[0].pageX+Ut[1].pageX),br=.5*(Ut[0].pageY+Ut[1].pageY);dt.set(Yt,br)}}function nr(){if(Ut.length==1)pt.set(Ut[0].pageX,Ut[0].pageY);else{const Yt=.5*(Ut[0].pageX+Ut[1].pageX),br=.5*(Ut[0].pageY+Ut[1].pageY);pt.set(Yt,br)}}function lr(){const Yt=Ut[0].pageX-Ut[1].pageX,br=Ut[0].pageY-Ut[1].pageY,Rr=Math.sqrt(Yt*Yt+br*br);xt.set(0,Rr)}function cr(){j.enableZoom&&lr(),j.enablePan&&nr()}function Ar(){j.enableZoom&&lr(),j.enableRotate&&fr()}function kr(Yt){if(Ut.length==1)ft.set(Yt.pageX,Yt.pageY);else{const Rr=Br(Yt),tr=.5*(Yt.pageX+Rr.x),xr=.5*(Yt.pageY+Rr.y);ft.set(tr,xr)}ht.subVectors(ft,dt).multiplyScalar(j.rotateSpeed);const br=j.domElement;br&&(vt(2*Math.PI*ht.x/br.clientHeight),Et(2*Math.PI*ht.y/br.clientHeight)),dt.copy(ft)}function Dr(Yt){if(Ut.length==1)yt.set(Yt.pageX,Yt.pageY);else{const br=Br(Yt),Rr=.5*(Yt.pageX+br.x),tr=.5*(Yt.pageY+br.y);yt.set(Rr,tr)}gt.subVectors(yt,pt).multiplyScalar(j.panSpeed),Pt(gt.x,gt.y),pt.copy(yt)}function Lr(Yt){const br=Br(Yt),Rr=Yt.pageX-br.x,tr=Yt.pageY-br.y,xr=Math.sqrt(Rr*Rr+tr*tr);wt.set(0,xr),Mt.set(0,Math.pow(wt.y/xt.y,j.zoomSpeed)),zt(Mt.y),xt.copy(wt)}function Ur(Yt){j.enableZoom&&Lr(Yt),j.enablePan&&Dr(Yt)}function Or(Yt){j.enableZoom&&Lr(Yt),j.enableRotate&&kr(Yt)}function Nr(Yt){var br,Rr;j.enabled!==!1&&(Ut.length===0&&((br=j.domElement)==null||br.ownerDocument.addEventListener("pointermove",Jt),(Rr=j.domElement)==null||Rr.ownerDocument.addEventListener("pointerup",Wt)),rr(Yt),Yt.pointerType==="touch"?Ct(Yt):Pr(Yt))}function Jt(Yt){j.enabled!==!1&&(Yt.pointerType==="touch"?Gt(Yt):Tr(Yt))}function Wt(Yt){var br,Rr,tr;er(Yt),Ut.length===0&&((br=j.domElement)==null||br.releasePointerCapture(Yt.pointerId),(Rr=j.domElement)==null||Rr.ownerDocument.removeEventListener("pointermove",Jt),(tr=j.domElement)==null||tr.ownerDocument.removeEventListener("pointerup",Wt)),j.dispatchEvent(tt),nt=rt.NONE}function ur(Yt){er(Yt)}function Pr(Yt){let br;switch(Yt.button){case 0:br=j.mouseButtons.LEFT;break;case 1:br=j.mouseButtons.MIDDLE;break;case 2:br=j.mouseButtons.RIGHT;break;default:br=-1}switch(br){case MOUSE.DOLLY:if(j.enableZoom===!1)return;ar(Yt),nt=rt.DOLLY;break;case MOUSE.ROTATE:if(Yt.ctrlKey||Yt.metaKey||Yt.shiftKey){if(j.enablePan===!1)return;Rt(Yt),nt=rt.PAN}else{if(j.enableRotate===!1)return;Ht(Yt),nt=rt.ROTATE}break;case MOUSE.PAN:if(Yt.ctrlKey||Yt.metaKey||Yt.shiftKey){if(j.enableRotate===!1)return;Ht(Yt),nt=rt.ROTATE}else{if(j.enablePan===!1)return;Rt(Yt),nt=rt.PAN}break;default:nt=rt.NONE}nt!==rt.NONE&&j.dispatchEvent(et)}function Tr(Yt){if(j.enabled!==!1)switch(nt){case rt.ROTATE:if(j.enableRotate===!1)return;Zt(Yt);break;case rt.DOLLY:if(j.enableZoom===!1)return;ir(Yt);break;case rt.PAN:if(j.enablePan===!1)return;sr(Yt);break}}function Ft(Yt){j.enabled===!1||j.enableZoom===!1||nt!==rt.NONE&&nt!==rt.ROTATE||(Yt.preventDefault(),j.dispatchEvent(et),pr(Yt),j.dispatchEvent(tt))}function St(Yt){j.enabled===!1||j.enablePan===!1||_r(Yt)}function Ct(Yt){switch(Cr(Yt),Ut.length){case 1:switch(j.touches.ONE){case TOUCH.ROTATE:if(j.enableRotate===!1)return;fr(),nt=rt.TOUCH_ROTATE;break;case TOUCH.PAN:if(j.enablePan===!1)return;nr(),nt=rt.TOUCH_PAN;break;default:nt=rt.NONE}break;case 2:switch(j.touches.TWO){case TOUCH.DOLLY_PAN:if(j.enableZoom===!1&&j.enablePan===!1)return;cr(),nt=rt.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(j.enableZoom===!1&&j.enableRotate===!1)return;Ar(),nt=rt.TOUCH_DOLLY_ROTATE;break;default:nt=rt.NONE}break;default:nt=rt.NONE}nt!==rt.NONE&&j.dispatchEvent(et)}function Gt(Yt){switch(Cr(Yt),nt){case rt.TOUCH_ROTATE:if(j.enableRotate===!1)return;kr(Yt),j.update();break;case rt.TOUCH_PAN:if(j.enablePan===!1)return;Dr(Yt),j.update();break;case rt.TOUCH_DOLLY_PAN:if(j.enableZoom===!1&&j.enablePan===!1)return;Ur(Yt),j.update();break;case rt.TOUCH_DOLLY_ROTATE:if(j.enableZoom===!1&&j.enableRotate===!1)return;Or(Yt),j.update();break;default:nt=rt.NONE}}function Qt(Yt){j.enabled!==!1&&Yt.preventDefault()}function rr(Yt){Ut.push(Yt)}function er(Yt){delete jt[Yt.pointerId];for(let br=0;br<Ut.length;br++)if(Ut[br].pointerId==Yt.pointerId){Ut.splice(br,1);return}}function Cr(Yt){let br=jt[Yt.pointerId];br===void 0&&(br=new Vector2,jt[Yt.pointerId]=br),br.set(Yt.pageX,Yt.pageY)}function Br(Yt){const br=Yt.pointerId===Ut[0].pointerId?Ut[1]:Ut[0];return jt[br.pointerId]}a!==void 0&&this.connect(a),this.update()}};class GLTFLoader extends Loader{constructor(o){super(o),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(a){return new GLTFMaterialsClearcoatExtension(a)}),this.register(function(a){return new GLTFTextureBasisUExtension(a)}),this.register(function(a){return new GLTFTextureWebPExtension(a)}),this.register(function(a){return new GLTFTextureAVIFExtension(a)}),this.register(function(a){return new GLTFMaterialsSheenExtension(a)}),this.register(function(a){return new GLTFMaterialsTransmissionExtension(a)}),this.register(function(a){return new GLTFMaterialsVolumeExtension(a)}),this.register(function(a){return new GLTFMaterialsIorExtension(a)}),this.register(function(a){return new GLTFMaterialsEmissiveStrengthExtension(a)}),this.register(function(a){return new GLTFMaterialsSpecularExtension(a)}),this.register(function(a){return new GLTFMaterialsIridescenceExtension(a)}),this.register(function(a){return new GLTFMaterialsAnisotropyExtension(a)}),this.register(function(a){return new GLTFLightsExtension(a)}),this.register(function(a){return new GLTFMeshoptCompression(a)}),this.register(function(a){return new GLTFMeshGpuInstancing(a)})}load(o,a,j,_e){const et=this;let tt;this.resourcePath!==""?tt=this.resourcePath:this.path!==""?tt=this.path:tt=LoaderUtils.extractUrlBase(o),this.manager.itemStart(o);const rt=function(it){_e?_e(it):console.error(it),et.manager.itemError(o),et.manager.itemEnd(o)},nt=new FileLoader(this.manager);nt.setPath(this.path),nt.setResponseType("arraybuffer"),nt.setRequestHeader(this.requestHeader),nt.setWithCredentials(this.withCredentials),nt.load(o,function(it){try{et.parse(it,tt,function(ot){a(ot),et.manager.itemEnd(o)},rt)}catch(ot){rt(ot)}},j,rt)}setDRACOLoader(o){return this.dracoLoader=o,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(o){return this.ktx2Loader=o,this}setMeshoptDecoder(o){return this.meshoptDecoder=o,this}register(o){return this.pluginCallbacks.indexOf(o)===-1&&this.pluginCallbacks.push(o),this}unregister(o){return this.pluginCallbacks.indexOf(o)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(o),1),this}parse(o,a,j,_e){let et;const tt={},rt={};if(typeof o=="string")et=JSON.parse(o);else if(o instanceof ArrayBuffer)if(LoaderUtils.decodeText(new Uint8Array(o.slice(0,4)))===BINARY_EXTENSION_HEADER_MAGIC){try{tt[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(o)}catch(ot){_e&&_e(ot);return}et=JSON.parse(tt[EXTENSIONS.KHR_BINARY_GLTF].content)}else et=JSON.parse(LoaderUtils.decodeText(new Uint8Array(o)));else et=o;if(et.asset===void 0||et.asset.version[0]<2){_e&&_e(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const nt=new GLTFParser(et,{path:a||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});nt.fileLoader.setRequestHeader(this.requestHeader);for(let it=0;it<this.pluginCallbacks.length;it++){const ot=this.pluginCallbacks[it](nt);rt[ot.name]=ot,tt[ot.name]=!0}if(et.extensionsUsed)for(let it=0;it<et.extensionsUsed.length;++it){const ot=et.extensionsUsed[it],st=et.extensionsRequired||[];switch(ot){case EXTENSIONS.KHR_MATERIALS_UNLIT:tt[ot]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:tt[ot]=new GLTFDracoMeshCompressionExtension(et,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:tt[ot]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:tt[ot]=new GLTFMeshQuantizationExtension;break;default:st.indexOf(ot)>=0&&rt[ot]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+ot+'".')}}nt.setExtensions(tt),nt.setPlugins(rt),nt.parse(j,_e)}parseAsync(o,a){const j=this;return new Promise(function(_e,et){j.parse(o,a,_e,et)})}}function GLTFRegistry(){let $={};return{get:function(o){return $[o]},add:function(o,a){$[o]=a},remove:function(o){delete $[o]},removeAll:function(){$={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const o=this.parser,a=this.parser.json.nodes||[];for(let j=0,_e=a.length;j<_e;j++){const et=a[j];et.extensions&&et.extensions[this.name]&&et.extensions[this.name].light!==void 0&&o._addNodeRef(this.cache,et.extensions[this.name].light)}}_loadLight(o){const a=this.parser,j="light:"+o;let _e=a.cache.get(j);if(_e)return _e;const et=a.json,nt=((et.extensions&&et.extensions[this.name]||{}).lights||[])[o];let it;const ot=new Color(16777215);nt.color!==void 0&&ot.fromArray(nt.color);const st=nt.range!==void 0?nt.range:0;switch(nt.type){case"directional":it=new DirectionalLight(ot),it.target.position.set(0,0,-1),it.add(it.target);break;case"point":it=new PointLight(ot),it.distance=st;break;case"spot":it=new SpotLight(ot),it.distance=st,nt.spot=nt.spot||{},nt.spot.innerConeAngle=nt.spot.innerConeAngle!==void 0?nt.spot.innerConeAngle:0,nt.spot.outerConeAngle=nt.spot.outerConeAngle!==void 0?nt.spot.outerConeAngle:Math.PI/4,it.angle=nt.spot.outerConeAngle,it.penumbra=1-nt.spot.innerConeAngle/nt.spot.outerConeAngle,it.target.position.set(0,0,-1),it.add(it.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+nt.type)}return it.position.set(0,0,0),it.decay=2,assignExtrasToUserData(it,nt),nt.intensity!==void 0&&(it.intensity=nt.intensity),it.name=a.createUniqueName(nt.name||"light_"+o),_e=Promise.resolve(it),a.cache.add(j,_e),_e}getDependency(o,a){if(o==="light")return this._loadLight(a)}createNodeAttachment(o){const a=this,j=this.parser,et=j.json.nodes[o],rt=(et.extensions&&et.extensions[this.name]||{}).light;return rt===void 0?null:this._loadLight(rt).then(function(nt){return j._getNodeRef(a.cache,rt,nt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(o,a,j){const _e=[];o.color=new Color(1,1,1),o.opacity=1;const et=a.pbrMetallicRoughness;if(et){if(Array.isArray(et.baseColorFactor)){const tt=et.baseColorFactor;o.color.fromArray(tt),o.opacity=tt[3]}et.baseColorTexture!==void 0&&_e.push(j.assignTexture(o,"map",et.baseColorTexture,3001))}return Promise.all(_e)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(o,a){const _e=this.parser.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=_e.extensions[this.name].emissiveStrength;return et!==void 0&&(a.emissiveIntensity=et),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];if(tt.clearcoatFactor!==void 0&&(a.clearcoat=tt.clearcoatFactor),tt.clearcoatTexture!==void 0&&et.push(j.assignTexture(a,"clearcoatMap",tt.clearcoatTexture)),tt.clearcoatRoughnessFactor!==void 0&&(a.clearcoatRoughness=tt.clearcoatRoughnessFactor),tt.clearcoatRoughnessTexture!==void 0&&et.push(j.assignTexture(a,"clearcoatRoughnessMap",tt.clearcoatRoughnessTexture)),tt.clearcoatNormalTexture!==void 0&&(et.push(j.assignTexture(a,"clearcoatNormalMap",tt.clearcoatNormalTexture)),tt.clearcoatNormalTexture.scale!==void 0)){const rt=tt.clearcoatNormalTexture.scale;a.clearcoatNormalScale=new Vector2(rt,rt)}return Promise.all(et)}}class GLTFMaterialsIridescenceExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];return tt.iridescenceFactor!==void 0&&(a.iridescence=tt.iridescenceFactor),tt.iridescenceTexture!==void 0&&et.push(j.assignTexture(a,"iridescenceMap",tt.iridescenceTexture)),tt.iridescenceIor!==void 0&&(a.iridescenceIOR=tt.iridescenceIor),a.iridescenceThicknessRange===void 0&&(a.iridescenceThicknessRange=[100,400]),tt.iridescenceThicknessMinimum!==void 0&&(a.iridescenceThicknessRange[0]=tt.iridescenceThicknessMinimum),tt.iridescenceThicknessMaximum!==void 0&&(a.iridescenceThicknessRange[1]=tt.iridescenceThicknessMaximum),tt.iridescenceThicknessTexture!==void 0&&et.push(j.assignTexture(a,"iridescenceThicknessMap",tt.iridescenceThicknessTexture)),Promise.all(et)}}class GLTFMaterialsSheenExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[];a.sheenColor=new Color(0,0,0),a.sheenRoughness=0,a.sheen=1;const tt=_e.extensions[this.name];return tt.sheenColorFactor!==void 0&&a.sheenColor.fromArray(tt.sheenColorFactor),tt.sheenRoughnessFactor!==void 0&&(a.sheenRoughness=tt.sheenRoughnessFactor),tt.sheenColorTexture!==void 0&&et.push(j.assignTexture(a,"sheenColorMap",tt.sheenColorTexture,3001)),tt.sheenRoughnessTexture!==void 0&&et.push(j.assignTexture(a,"sheenRoughnessMap",tt.sheenRoughnessTexture)),Promise.all(et)}}class GLTFMaterialsTransmissionExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];return tt.transmissionFactor!==void 0&&(a.transmission=tt.transmissionFactor),tt.transmissionTexture!==void 0&&et.push(j.assignTexture(a,"transmissionMap",tt.transmissionTexture)),Promise.all(et)}}class GLTFMaterialsVolumeExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];a.thickness=tt.thicknessFactor!==void 0?tt.thicknessFactor:0,tt.thicknessTexture!==void 0&&et.push(j.assignTexture(a,"thicknessMap",tt.thicknessTexture)),a.attenuationDistance=tt.attenuationDistance||1/0;const rt=tt.attenuationColor||[1,1,1];return a.attenuationColor=new Color(rt[0],rt[1],rt[2]),Promise.all(et)}}class GLTFMaterialsIorExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const _e=this.parser.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=_e.extensions[this.name];return a.ior=et.ior!==void 0?et.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];a.specularIntensity=tt.specularFactor!==void 0?tt.specularFactor:1,tt.specularTexture!==void 0&&et.push(j.assignTexture(a,"specularIntensityMap",tt.specularTexture));const rt=tt.specularColorFactor||[1,1,1];return a.specularColor=new Color(rt[0],rt[1],rt[2]),tt.specularColorTexture!==void 0&&et.push(j.assignTexture(a,"specularColorMap",tt.specularColorTexture,3001)),Promise.all(et)}}class GLTFMaterialsAnisotropyExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];return tt.anisotropyStrength!==void 0&&(a.anisotropy=tt.anisotropyStrength),tt.anisotropyRotation!==void 0&&(a.anisotropyRotation=tt.anisotropyRotation),tt.anisotropyTexture!==void 0&&et.push(j.assignTexture(a,"anisotropyMap",tt.anisotropyTexture)),Promise.all(et)}}class GLTFTextureBasisUExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(o){const a=this.parser,j=a.json,_e=j.textures[o];if(!_e.extensions||!_e.extensions[this.name])return null;const et=_e.extensions[this.name],tt=a.options.ktx2Loader;if(!tt){if(j.extensionsRequired&&j.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return a.loadTextureImage(o,et.source,tt)}}class GLTFTextureWebPExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(o){const a=this.name,j=this.parser,_e=j.json,et=_e.textures[o];if(!et.extensions||!et.extensions[a])return null;const tt=et.extensions[a],rt=_e.images[tt.source];let nt=j.textureLoader;if(rt.uri){const it=j.options.manager.getHandler(rt.uri);it!==null&&(nt=it)}return this.detectSupport().then(function(it){if(it)return j.loadTextureImage(o,tt.source,nt);if(_e.extensionsRequired&&_e.extensionsRequired.indexOf(a)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return j.loadTexture(o)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(o){const a=new Image;a.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",a.onload=a.onerror=function(){o(a.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(o){const a=this.name,j=this.parser,_e=j.json,et=_e.textures[o];if(!et.extensions||!et.extensions[a])return null;const tt=et.extensions[a],rt=_e.images[tt.source];let nt=j.textureLoader;if(rt.uri){const it=j.options.manager.getHandler(rt.uri);it!==null&&(nt=it)}return this.detectSupport().then(function(it){if(it)return j.loadTextureImage(o,tt.source,nt);if(_e.extensionsRequired&&_e.extensionsRequired.indexOf(a)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return j.loadTexture(o)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(o){const a=new Image;a.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",a.onload=a.onerror=function(){o(a.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(o){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=o}loadBufferView(o){const a=this.parser.json,j=a.bufferViews[o];if(j.extensions&&j.extensions[this.name]){const _e=j.extensions[this.name],et=this.parser.getDependency("buffer",_e.buffer),tt=this.parser.options.meshoptDecoder;if(!tt||!tt.supported){if(a.extensionsRequired&&a.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return et.then(function(rt){const nt=_e.byteOffset||0,it=_e.byteLength||0,ot=_e.count,st=_e.byteStride,ct=new Uint8Array(rt,nt,it);return tt.decodeGltfBufferAsync?tt.decodeGltfBufferAsync(ot,st,ct,_e.mode,_e.filter).then(function(ut){return ut.buffer}):tt.ready.then(function(){const ut=new ArrayBuffer(ot*st);return tt.decodeGltfBuffer(new Uint8Array(ut),ot,st,ct,_e.mode,_e.filter),ut})})}else return null}}class GLTFMeshGpuInstancing{constructor(o){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=o}createNodeMesh(o){const a=this.parser.json,j=a.nodes[o];if(!j.extensions||!j.extensions[this.name]||j.mesh===void 0)return null;const _e=a.meshes[j.mesh];for(const it of _e.primitives)if(it.mode!==WEBGL_CONSTANTS.TRIANGLES&&it.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&it.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&it.mode!==void 0)return null;const tt=j.extensions[this.name].attributes,rt=[],nt={};for(const it in tt)rt.push(this.parser.getDependency("accessor",tt[it]).then(ot=>(nt[it]=ot,nt[it])));return rt.length<1?null:(rt.push(this.parser.createNodeMesh(o)),Promise.all(rt).then(it=>{const ot=it.pop(),st=ot.isGroup?ot.children:[ot],ct=it[0].count,ut=[];for(const dt of st){const ft=new Matrix4,ht=new Vector3,pt=new Quaternion,yt=new Vector3(1,1,1),gt=new InstancedMesh(dt.geometry,dt.material,ct);for(let xt=0;xt<ct;xt++)nt.TRANSLATION&&ht.fromBufferAttribute(nt.TRANSLATION,xt),nt.ROTATION&&pt.fromBufferAttribute(nt.ROTATION,xt),nt.SCALE&&yt.fromBufferAttribute(nt.SCALE,xt),gt.setMatrixAt(xt,ft.compose(ht,pt,yt));for(const xt in nt)xt!=="TRANSLATION"&&xt!=="ROTATION"&&xt!=="SCALE"&&dt.geometry.setAttribute(xt,nt[xt]);Object3D.prototype.copy.call(gt,dt),this.parser.assignFinalMaterial(gt),ut.push(gt)}return ot.isGroup?(ot.clear(),ot.add(...ut),ot):ut[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(o){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const a=new DataView(o,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils.decodeText(new Uint8Array(o.slice(0,4))),version:a.getUint32(4,!0),length:a.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const j=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,_e=new DataView(o,BINARY_EXTENSION_HEADER_LENGTH);let et=0;for(;et<j;){const tt=_e.getUint32(et,!0);et+=4;const rt=_e.getUint32(et,!0);if(et+=4,rt===BINARY_EXTENSION_CHUNK_TYPES.JSON){const nt=new Uint8Array(o,BINARY_EXTENSION_HEADER_LENGTH+et,tt);this.content=LoaderUtils.decodeText(nt)}else if(rt===BINARY_EXTENSION_CHUNK_TYPES.BIN){const nt=BINARY_EXTENSION_HEADER_LENGTH+et;this.body=o.slice(nt,nt+tt)}et+=tt}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(o,a){if(!a)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=o,this.dracoLoader=a,this.dracoLoader.preload()}decodePrimitive(o,a){const j=this.json,_e=this.dracoLoader,et=o.extensions[this.name].bufferView,tt=o.extensions[this.name].attributes,rt={},nt={},it={};for(const ot in tt){const st=ATTRIBUTES[ot]||ot.toLowerCase();rt[st]=tt[ot]}for(const ot in o.attributes){const st=ATTRIBUTES[ot]||ot.toLowerCase();if(tt[ot]!==void 0){const ct=j.accessors[o.attributes[ot]],ut=WEBGL_COMPONENT_TYPES[ct.componentType];it[st]=ut.name,nt[st]=ct.normalized===!0}}return a.getDependency("bufferView",et).then(function(ot){return new Promise(function(st){_e.decodeDracoFile(ot,function(ct){for(const ut in ct.attributes){const dt=ct.attributes[ut],ft=nt[ut];ft!==void 0&&(dt.normalized=ft)}st(ct)},rt,it)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(o,a){return(a.texCoord===void 0||a.texCoord===o.channel)&&a.offset===void 0&&a.rotation===void 0&&a.scale===void 0||(o=o.clone(),a.texCoord!==void 0&&(o.channel=a.texCoord),a.offset!==void 0&&o.offset.fromArray(a.offset),a.rotation!==void 0&&(o.rotation=a.rotation),a.scale!==void 0&&o.repeat.fromArray(a.scale),o.needsUpdate=!0),o}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e)}copySampleValue_(o){const a=this.resultBuffer,j=this.sampleValues,_e=this.valueSize,et=o*_e*3+_e;for(let tt=0;tt!==_e;tt++)a[tt]=j[et+tt];return a}interpolate_(o,a,j,_e){const et=this.resultBuffer,tt=this.sampleValues,rt=this.valueSize,nt=rt*2,it=rt*3,ot=_e-a,st=(j-a)/ot,ct=st*st,ut=ct*st,dt=o*it,ft=dt-it,ht=-2*ut+3*ct,pt=ut-ct,yt=1-ht,gt=pt-ct+st;for(let xt=0;xt!==rt;xt++){const wt=tt[ft+xt+rt],Mt=tt[ft+xt+nt]*ot,It=tt[dt+xt+rt],Tt=tt[dt+xt]*ot;et[xt]=yt*wt+gt*Mt+ht*It+pt*Tt}return et}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(o,a,j,_e){const et=super.interpolate_(o,a,j,_e);return _q.fromArray(et).normalize().toArray(et),et}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...version$1>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial($){return $.DefaultMaterial===void 0&&($.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),$.DefaultMaterial}function addUnknownExtensionsToUserData($,o,a){for(const j in a.extensions)$[j]===void 0&&(o.userData.gltfExtensions=o.userData.gltfExtensions||{},o.userData.gltfExtensions[j]=a.extensions[j])}function assignExtrasToUserData($,o){o.extras!==void 0&&(typeof o.extras=="object"?Object.assign($.userData,o.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+o.extras))}function addMorphTargets($,o,a){let j=!1,_e=!1,et=!1;for(let it=0,ot=o.length;it<ot;it++){const st=o[it];if(st.POSITION!==void 0&&(j=!0),st.NORMAL!==void 0&&(_e=!0),st.COLOR_0!==void 0&&(et=!0),j&&_e&&et)break}if(!j&&!_e&&!et)return Promise.resolve($);const tt=[],rt=[],nt=[];for(let it=0,ot=o.length;it<ot;it++){const st=o[it];if(j){const ct=st.POSITION!==void 0?a.getDependency("accessor",st.POSITION):$.attributes.position;tt.push(ct)}if(_e){const ct=st.NORMAL!==void 0?a.getDependency("accessor",st.NORMAL):$.attributes.normal;rt.push(ct)}if(et){const ct=st.COLOR_0!==void 0?a.getDependency("accessor",st.COLOR_0):$.attributes.color;nt.push(ct)}}return Promise.all([Promise.all(tt),Promise.all(rt),Promise.all(nt)]).then(function(it){const ot=it[0],st=it[1],ct=it[2];return j&&($.morphAttributes.position=ot),_e&&($.morphAttributes.normal=st),et&&($.morphAttributes.color=ct),$.morphTargetsRelative=!0,$})}function updateMorphTargets($,o){if($.updateMorphTargets(),o.weights!==void 0)for(let a=0,j=o.weights.length;a<j;a++)$.morphTargetInfluences[a]=o.weights[a];if(o.extras&&Array.isArray(o.extras.targetNames)){const a=o.extras.targetNames;if($.morphTargetInfluences.length===a.length){$.morphTargetDictionary={};for(let j=0,_e=a.length;j<_e;j++)$.morphTargetDictionary[a[j]]=j}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey($){let o;const a=$.extensions&&$.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(a?o="draco:"+a.bufferView+":"+a.indices+":"+createAttributesKey(a.attributes):o=$.indices+":"+createAttributesKey($.attributes)+":"+$.mode,$.targets!==void 0)for(let j=0,_e=$.targets.length;j<_e;j++)o+=":"+createAttributesKey($.targets[j]);return o}function createAttributesKey($){let o="";const a=Object.keys($).sort();for(let j=0,_e=a.length;j<_e;j++)o+=a[j]+":"+$[a[j]]+";";return o}function getNormalizedComponentScale($){switch($){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType($){return $.search(/\.jpe?g($|\?)/i)>0||$.search(/^data\:image\/jpeg/)===0?"image/jpeg":$.search(/\.webp($|\?)/i)>0||$.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(o={},a={}){this.json=o,this.extensions={},this.plugins={},this.options=a,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let j=!1,_e=!1,et=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(j=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,_e=navigator.userAgent.indexOf("Firefox")>-1,et=_e?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||j||_e&&et<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(o){this.extensions=o}setPlugins(o){this.plugins=o}parse(o,a){const j=this,_e=this.json,et=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(tt){return tt._markDefs&&tt._markDefs()}),Promise.all(this._invokeAll(function(tt){return tt.beforeRoot&&tt.beforeRoot()})).then(function(){return Promise.all([j.getDependencies("scene"),j.getDependencies("animation"),j.getDependencies("camera")])}).then(function(tt){const rt={scene:tt[0][_e.scene||0],scenes:tt[0],animations:tt[1],cameras:tt[2],asset:_e.asset,parser:j,userData:{}};addUnknownExtensionsToUserData(et,rt,_e),assignExtrasToUserData(rt,_e),Promise.all(j._invokeAll(function(nt){return nt.afterRoot&&nt.afterRoot(rt)})).then(function(){o(rt)})}).catch(a)}_markDefs(){const o=this.json.nodes||[],a=this.json.skins||[],j=this.json.meshes||[];for(let _e=0,et=a.length;_e<et;_e++){const tt=a[_e].joints;for(let rt=0,nt=tt.length;rt<nt;rt++)o[tt[rt]].isBone=!0}for(let _e=0,et=o.length;_e<et;_e++){const tt=o[_e];tt.mesh!==void 0&&(this._addNodeRef(this.meshCache,tt.mesh),tt.skin!==void 0&&(j[tt.mesh].isSkinnedMesh=!0)),tt.camera!==void 0&&this._addNodeRef(this.cameraCache,tt.camera)}}_addNodeRef(o,a){a!==void 0&&(o.refs[a]===void 0&&(o.refs[a]=o.uses[a]=0),o.refs[a]++)}_getNodeRef(o,a,j){if(o.refs[a]<=1)return j;const _e=j.clone(),et=(tt,rt)=>{const nt=this.associations.get(tt);nt!=null&&this.associations.set(rt,nt);for(const[it,ot]of tt.children.entries())et(ot,rt.children[it])};return et(j,_e),_e.name+="_instance_"+o.uses[a]++,_e}_invokeOne(o){const a=Object.values(this.plugins);a.push(this);for(let j=0;j<a.length;j++){const _e=o(a[j]);if(_e)return _e}return null}_invokeAll(o){const a=Object.values(this.plugins);a.unshift(this);const j=[];for(let _e=0;_e<a.length;_e++){const et=o(a[_e]);et&&j.push(et)}return j}getDependency(o,a){const j=o+":"+a;let _e=this.cache.get(j);if(!_e){switch(o){case"scene":_e=this.loadScene(a);break;case"node":_e=this._invokeOne(function(et){return et.loadNode&&et.loadNode(a)});break;case"mesh":_e=this._invokeOne(function(et){return et.loadMesh&&et.loadMesh(a)});break;case"accessor":_e=this.loadAccessor(a);break;case"bufferView":_e=this._invokeOne(function(et){return et.loadBufferView&&et.loadBufferView(a)});break;case"buffer":_e=this.loadBuffer(a);break;case"material":_e=this._invokeOne(function(et){return et.loadMaterial&&et.loadMaterial(a)});break;case"texture":_e=this._invokeOne(function(et){return et.loadTexture&&et.loadTexture(a)});break;case"skin":_e=this.loadSkin(a);break;case"animation":_e=this._invokeOne(function(et){return et.loadAnimation&&et.loadAnimation(a)});break;case"camera":_e=this.loadCamera(a);break;default:if(_e=this._invokeOne(function(et){return et!=this&&et.getDependency&&et.getDependency(o,a)}),!_e)throw new Error("Unknown type: "+o);break}this.cache.add(j,_e)}return _e}getDependencies(o){let a=this.cache.get(o);if(!a){const j=this,_e=this.json[o+(o==="mesh"?"es":"s")]||[];a=Promise.all(_e.map(function(et,tt){return j.getDependency(o,tt)})),this.cache.add(o,a)}return a}loadBuffer(o){const a=this.json.buffers[o],j=this.fileLoader;if(a.type&&a.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+a.type+" buffer type is not supported.");if(a.uri===void 0&&o===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const _e=this.options;return new Promise(function(et,tt){j.load(LoaderUtils.resolveURL(a.uri,_e.path),et,void 0,function(){tt(new Error('THREE.GLTFLoader: Failed to load buffer "'+a.uri+'".'))})})}loadBufferView(o){const a=this.json.bufferViews[o];return this.getDependency("buffer",a.buffer).then(function(j){const _e=a.byteLength||0,et=a.byteOffset||0;return j.slice(et,et+_e)})}loadAccessor(o){const a=this,j=this.json,_e=this.json.accessors[o];if(_e.bufferView===void 0&&_e.sparse===void 0){const tt=WEBGL_TYPE_SIZES[_e.type],rt=WEBGL_COMPONENT_TYPES[_e.componentType],nt=_e.normalized===!0,it=new rt(_e.count*tt);return Promise.resolve(new BufferAttribute(it,tt,nt))}const et=[];return _e.bufferView!==void 0?et.push(this.getDependency("bufferView",_e.bufferView)):et.push(null),_e.sparse!==void 0&&(et.push(this.getDependency("bufferView",_e.sparse.indices.bufferView)),et.push(this.getDependency("bufferView",_e.sparse.values.bufferView))),Promise.all(et).then(function(tt){const rt=tt[0],nt=WEBGL_TYPE_SIZES[_e.type],it=WEBGL_COMPONENT_TYPES[_e.componentType],ot=it.BYTES_PER_ELEMENT,st=ot*nt,ct=_e.byteOffset||0,ut=_e.bufferView!==void 0?j.bufferViews[_e.bufferView].byteStride:void 0,dt=_e.normalized===!0;let ft,ht;if(ut&&ut!==st){const pt=Math.floor(ct/ut),yt="InterleavedBuffer:"+_e.bufferView+":"+_e.componentType+":"+pt+":"+_e.count;let gt=a.cache.get(yt);gt||(ft=new it(rt,pt*ut,_e.count*ut/ot),gt=new InterleavedBuffer(ft,ut/ot),a.cache.add(yt,gt)),ht=new InterleavedBufferAttribute(gt,nt,ct%ut/ot,dt)}else rt===null?ft=new it(_e.count*nt):ft=new it(rt,ct,_e.count*nt),ht=new BufferAttribute(ft,nt,dt);if(_e.sparse!==void 0){const pt=WEBGL_TYPE_SIZES.SCALAR,yt=WEBGL_COMPONENT_TYPES[_e.sparse.indices.componentType],gt=_e.sparse.indices.byteOffset||0,xt=_e.sparse.values.byteOffset||0,wt=new yt(tt[1],gt,_e.sparse.count*pt),Mt=new it(tt[2],xt,_e.sparse.count*nt);rt!==null&&(ht=new BufferAttribute(ht.array.slice(),ht.itemSize,ht.normalized));for(let It=0,Tt=wt.length;It<Tt;It++){const Dt=wt[It];if(ht.setX(Dt,Mt[It*nt]),nt>=2&&ht.setY(Dt,Mt[It*nt+1]),nt>=3&&ht.setZ(Dt,Mt[It*nt+2]),nt>=4&&ht.setW(Dt,Mt[It*nt+3]),nt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return ht})}loadTexture(o){const a=this.json,j=this.options,et=a.textures[o].source,tt=a.images[et];let rt=this.textureLoader;if(tt.uri){const nt=j.manager.getHandler(tt.uri);nt!==null&&(rt=nt)}return this.loadTextureImage(o,et,rt)}loadTextureImage(o,a,j){const _e=this,et=this.json,tt=et.textures[o],rt=et.images[a],nt=(rt.uri||rt.bufferView)+":"+tt.sampler;if(this.textureCache[nt])return this.textureCache[nt];const it=this.loadImageSource(a,j).then(function(ot){ot.flipY=!1,ot.name=tt.name||rt.name||"",ot.name===""&&typeof rt.uri=="string"&&rt.uri.startsWith("data:image/")===!1&&(ot.name=rt.uri);const ct=(et.samplers||{})[tt.sampler]||{};return ot.magFilter=WEBGL_FILTERS[ct.magFilter]||LinearFilter,ot.minFilter=WEBGL_FILTERS[ct.minFilter]||LinearMipmapLinearFilter,ot.wrapS=WEBGL_WRAPPINGS[ct.wrapS]||RepeatWrapping,ot.wrapT=WEBGL_WRAPPINGS[ct.wrapT]||RepeatWrapping,_e.associations.set(ot,{textures:o}),ot}).catch(function(){return null});return this.textureCache[nt]=it,it}loadImageSource(o,a){const j=this,_e=this.json,et=this.options;if(this.sourceCache[o]!==void 0)return this.sourceCache[o].then(st=>st.clone());const tt=_e.images[o],rt=self.URL||self.webkitURL;let nt=tt.uri||"",it=!1;if(tt.bufferView!==void 0)nt=j.getDependency("bufferView",tt.bufferView).then(function(st){it=!0;const ct=new Blob([st],{type:tt.mimeType});return nt=rt.createObjectURL(ct),nt});else if(tt.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+o+" is missing URI and bufferView");const ot=Promise.resolve(nt).then(function(st){return new Promise(function(ct,ut){let dt=ct;a.isImageBitmapLoader===!0&&(dt=function(ft){const ht=new Texture(ft);ht.needsUpdate=!0,ct(ht)}),a.load(LoaderUtils.resolveURL(st,et.path),dt,void 0,ut)})}).then(function(st){return it===!0&&rt.revokeObjectURL(nt),st.userData.mimeType=tt.mimeType||getImageURIMimeType(tt.uri),st}).catch(function(st){throw console.error("THREE.GLTFLoader: Couldn't load texture",nt),st});return this.sourceCache[o]=ot,ot}assignTexture(o,a,j,_e){const et=this;return this.getDependency("texture",j.index).then(function(tt){if(!tt)return null;if(j.texCoord!==void 0&&j.texCoord>0&&(tt=tt.clone(),tt.channel=j.texCoord),et.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const rt=j.extensions!==void 0?j.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(rt){const nt=et.associations.get(tt);tt=et.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(tt,rt),et.associations.set(tt,nt)}}return _e!==void 0&&("colorSpace"in tt?tt.colorSpace=_e===3001?"srgb":"srgb-linear":tt.encoding=_e),o[a]=tt,tt})}assignFinalMaterial(o){const a=o.geometry;let j=o.material;const _e=a.attributes.tangent===void 0,et=a.attributes.color!==void 0,tt=a.attributes.normal===void 0;if(o.isPoints){const rt="PointsMaterial:"+j.uuid;let nt=this.cache.get(rt);nt||(nt=new PointsMaterial,Material.prototype.copy.call(nt,j),nt.color.copy(j.color),nt.map=j.map,nt.sizeAttenuation=!1,this.cache.add(rt,nt)),j=nt}else if(o.isLine){const rt="LineBasicMaterial:"+j.uuid;let nt=this.cache.get(rt);nt||(nt=new LineBasicMaterial,Material.prototype.copy.call(nt,j),nt.color.copy(j.color),nt.map=j.map,this.cache.add(rt,nt)),j=nt}if(_e||et||tt){let rt="ClonedMaterial:"+j.uuid+":";_e&&(rt+="derivative-tangents:"),et&&(rt+="vertex-colors:"),tt&&(rt+="flat-shading:");let nt=this.cache.get(rt);nt||(nt=j.clone(),et&&(nt.vertexColors=!0),tt&&(nt.flatShading=!0),_e&&(nt.normalScale&&(nt.normalScale.y*=-1),nt.clearcoatNormalScale&&(nt.clearcoatNormalScale.y*=-1)),this.cache.add(rt,nt),this.associations.set(nt,this.associations.get(j))),j=nt}o.material=j}getMaterialType(){return MeshStandardMaterial}loadMaterial(o){const a=this,j=this.json,_e=this.extensions,et=j.materials[o];let tt;const rt={},nt=et.extensions||{},it=[];if(nt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const st=_e[EXTENSIONS.KHR_MATERIALS_UNLIT];tt=st.getMaterialType(),it.push(st.extendParams(rt,et,a))}else{const st=et.pbrMetallicRoughness||{};if(rt.color=new Color(1,1,1),rt.opacity=1,Array.isArray(st.baseColorFactor)){const ct=st.baseColorFactor;rt.color.fromArray(ct),rt.opacity=ct[3]}st.baseColorTexture!==void 0&&it.push(a.assignTexture(rt,"map",st.baseColorTexture,3001)),rt.metalness=st.metallicFactor!==void 0?st.metallicFactor:1,rt.roughness=st.roughnessFactor!==void 0?st.roughnessFactor:1,st.metallicRoughnessTexture!==void 0&&(it.push(a.assignTexture(rt,"metalnessMap",st.metallicRoughnessTexture)),it.push(a.assignTexture(rt,"roughnessMap",st.metallicRoughnessTexture))),tt=this._invokeOne(function(ct){return ct.getMaterialType&&ct.getMaterialType(o)}),it.push(Promise.all(this._invokeAll(function(ct){return ct.extendMaterialParams&&ct.extendMaterialParams(o,rt)})))}et.doubleSided===!0&&(rt.side=DoubleSide);const ot=et.alphaMode||ALPHA_MODES.OPAQUE;if(ot===ALPHA_MODES.BLEND?(rt.transparent=!0,rt.depthWrite=!1):(rt.transparent=!1,ot===ALPHA_MODES.MASK&&(rt.alphaTest=et.alphaCutoff!==void 0?et.alphaCutoff:.5)),et.normalTexture!==void 0&&tt!==MeshBasicMaterial&&(it.push(a.assignTexture(rt,"normalMap",et.normalTexture)),rt.normalScale=new Vector2(1,1),et.normalTexture.scale!==void 0)){const st=et.normalTexture.scale;rt.normalScale.set(st,st)}return et.occlusionTexture!==void 0&&tt!==MeshBasicMaterial&&(it.push(a.assignTexture(rt,"aoMap",et.occlusionTexture)),et.occlusionTexture.strength!==void 0&&(rt.aoMapIntensity=et.occlusionTexture.strength)),et.emissiveFactor!==void 0&&tt!==MeshBasicMaterial&&(rt.emissive=new Color().fromArray(et.emissiveFactor)),et.emissiveTexture!==void 0&&tt!==MeshBasicMaterial&&it.push(a.assignTexture(rt,"emissiveMap",et.emissiveTexture,3001)),Promise.all(it).then(function(){const st=new tt(rt);return et.name&&(st.name=et.name),assignExtrasToUserData(st,et),a.associations.set(st,{materials:o}),et.extensions&&addUnknownExtensionsToUserData(_e,st,et),st})}createUniqueName(o){const a=PropertyBinding.sanitizeNodeName(o||"");return a in this.nodeNamesUsed?a+"_"+ ++this.nodeNamesUsed[a]:(this.nodeNamesUsed[a]=0,a)}loadGeometries(o){const a=this,j=this.extensions,_e=this.primitiveCache;function et(rt){return j[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(rt,a).then(function(nt){return addPrimitiveAttributes(nt,rt,a)})}const tt=[];for(let rt=0,nt=o.length;rt<nt;rt++){const it=o[rt],ot=createPrimitiveKey(it),st=_e[ot];if(st)tt.push(st.promise);else{let ct;it.extensions&&it.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?ct=et(it):ct=addPrimitiveAttributes(new BufferGeometry,it,a),_e[ot]={primitive:it,promise:ct},tt.push(ct)}}return Promise.all(tt)}loadMesh(o){const a=this,j=this.json,_e=this.extensions,et=j.meshes[o],tt=et.primitives,rt=[];for(let nt=0,it=tt.length;nt<it;nt++){const ot=tt[nt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",tt[nt].material);rt.push(ot)}return rt.push(a.loadGeometries(tt)),Promise.all(rt).then(function(nt){const it=nt.slice(0,nt.length-1),ot=nt[nt.length-1],st=[];for(let ut=0,dt=ot.length;ut<dt;ut++){const ft=ot[ut],ht=tt[ut];let pt;const yt=it[ut];if(ht.mode===WEBGL_CONSTANTS.TRIANGLES||ht.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||ht.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||ht.mode===void 0)pt=et.isSkinnedMesh===!0?new SkinnedMesh(ft,yt):new Mesh(ft,yt),pt.isSkinnedMesh===!0&&pt.normalizeSkinWeights(),ht.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?pt.geometry=toTrianglesDrawMode(pt.geometry,TriangleStripDrawMode):ht.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(pt.geometry=toTrianglesDrawMode(pt.geometry,TriangleFanDrawMode));else if(ht.mode===WEBGL_CONSTANTS.LINES)pt=new LineSegments(ft,yt);else if(ht.mode===WEBGL_CONSTANTS.LINE_STRIP)pt=new Line(ft,yt);else if(ht.mode===WEBGL_CONSTANTS.LINE_LOOP)pt=new LineLoop(ft,yt);else if(ht.mode===WEBGL_CONSTANTS.POINTS)pt=new Points$1(ft,yt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+ht.mode);Object.keys(pt.geometry.morphAttributes).length>0&&updateMorphTargets(pt,et),pt.name=a.createUniqueName(et.name||"mesh_"+o),assignExtrasToUserData(pt,et),ht.extensions&&addUnknownExtensionsToUserData(_e,pt,ht),a.assignFinalMaterial(pt),st.push(pt)}for(let ut=0,dt=st.length;ut<dt;ut++)a.associations.set(st[ut],{meshes:o,primitives:ut});if(st.length===1)return et.extensions&&addUnknownExtensionsToUserData(_e,st[0],et),st[0];const ct=new Group;et.extensions&&addUnknownExtensionsToUserData(_e,ct,et),a.associations.set(ct,{meshes:o});for(let ut=0,dt=st.length;ut<dt;ut++)ct.add(st[ut]);return ct})}loadCamera(o){let a;const j=this.json.cameras[o],_e=j[j.type];if(!_e){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return j.type==="perspective"?a=new PerspectiveCamera(MathUtils.radToDeg(_e.yfov),_e.aspectRatio||1,_e.znear||1,_e.zfar||2e6):j.type==="orthographic"&&(a=new OrthographicCamera(-_e.xmag,_e.xmag,_e.ymag,-_e.ymag,_e.znear,_e.zfar)),j.name&&(a.name=this.createUniqueName(j.name)),assignExtrasToUserData(a,j),Promise.resolve(a)}loadSkin(o){const a=this.json.skins[o],j=[];for(let _e=0,et=a.joints.length;_e<et;_e++)j.push(this._loadNodeShallow(a.joints[_e]));return a.inverseBindMatrices!==void 0?j.push(this.getDependency("accessor",a.inverseBindMatrices)):j.push(null),Promise.all(j).then(function(_e){const et=_e.pop(),tt=_e,rt=[],nt=[];for(let it=0,ot=tt.length;it<ot;it++){const st=tt[it];if(st){rt.push(st);const ct=new Matrix4;et!==null&&ct.fromArray(et.array,it*16),nt.push(ct)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',a.joints[it])}return new Skeleton(rt,nt)})}loadAnimation(o){const j=this.json.animations[o],_e=j.name?j.name:"animation_"+o,et=[],tt=[],rt=[],nt=[],it=[];for(let ot=0,st=j.channels.length;ot<st;ot++){const ct=j.channels[ot],ut=j.samplers[ct.sampler],dt=ct.target,ft=dt.node,ht=j.parameters!==void 0?j.parameters[ut.input]:ut.input,pt=j.parameters!==void 0?j.parameters[ut.output]:ut.output;dt.node!==void 0&&(et.push(this.getDependency("node",ft)),tt.push(this.getDependency("accessor",ht)),rt.push(this.getDependency("accessor",pt)),nt.push(ut),it.push(dt))}return Promise.all([Promise.all(et),Promise.all(tt),Promise.all(rt),Promise.all(nt),Promise.all(it)]).then(function(ot){const st=ot[0],ct=ot[1],ut=ot[2],dt=ot[3],ft=ot[4],ht=[];for(let pt=0,yt=st.length;pt<yt;pt++){const gt=st[pt],xt=ct[pt],wt=ut[pt],Mt=dt[pt],It=ft[pt];if(gt===void 0)continue;gt.updateMatrix();let Tt;switch(PATH_PROPERTIES[It.path]){case PATH_PROPERTIES.weights:Tt=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:Tt=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:Tt=VectorKeyframeTrack;break}const Dt=gt.name?gt.name:gt.uuid,Ut=Mt.interpolation!==void 0?INTERPOLATION[Mt.interpolation]:InterpolateLinear,jt=[];PATH_PROPERTIES[It.path]===PATH_PROPERTIES.weights?gt.traverse(function(kt){kt.morphTargetInfluences&&jt.push(kt.name?kt.name:kt.uuid)}):jt.push(Dt);let Xt=wt.array;if(wt.normalized){const kt=getNormalizedComponentScale(Xt.constructor),vt=new Float32Array(Xt.length);for(let Et=0,Lt=Xt.length;Et<Lt;Et++)vt[Et]=Xt[Et]*kt;Xt=vt}for(let kt=0,vt=jt.length;kt<vt;kt++){const Et=new Tt(jt[kt]+"."+PATH_PROPERTIES[It.path],xt.array,Xt,Ut);Mt.interpolation==="CUBICSPLINE"&&(Et.createInterpolant=function(Ot){const Pt=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new Pt(this.times,this.values,this.getValueSize()/3,Ot)},Et.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),ht.push(Et)}}return new AnimationClip(_e,void 0,ht)})}createNodeMesh(o){const a=this.json,j=this,_e=a.nodes[o];return _e.mesh===void 0?null:j.getDependency("mesh",_e.mesh).then(function(et){const tt=j._getNodeRef(j.meshCache,_e.mesh,et);return _e.weights!==void 0&&tt.traverse(function(rt){if(rt.isMesh)for(let nt=0,it=_e.weights.length;nt<it;nt++)rt.morphTargetInfluences[nt]=_e.weights[nt]}),tt})}loadNode(o){const a=this.json,j=this,_e=a.nodes[o],et=j._loadNodeShallow(o),tt=[],rt=_e.children||[];for(let it=0,ot=rt.length;it<ot;it++)tt.push(j.getDependency("node",rt[it]));const nt=_e.skin===void 0?Promise.resolve(null):j.getDependency("skin",_e.skin);return Promise.all([et,Promise.all(tt),nt]).then(function(it){const ot=it[0],st=it[1],ct=it[2];ct!==null&&ot.traverse(function(ut){ut.isSkinnedMesh&&ut.bind(ct,_identityMatrix)});for(let ut=0,dt=st.length;ut<dt;ut++)ot.add(st[ut]);return ot})}_loadNodeShallow(o){const a=this.json,j=this.extensions,_e=this;if(this.nodeCache[o]!==void 0)return this.nodeCache[o];const et=a.nodes[o],tt=et.name?_e.createUniqueName(et.name):"",rt=[],nt=_e._invokeOne(function(it){return it.createNodeMesh&&it.createNodeMesh(o)});return nt&&rt.push(nt),et.camera!==void 0&&rt.push(_e.getDependency("camera",et.camera).then(function(it){return _e._getNodeRef(_e.cameraCache,et.camera,it)})),_e._invokeAll(function(it){return it.createNodeAttachment&&it.createNodeAttachment(o)}).forEach(function(it){rt.push(it)}),this.nodeCache[o]=Promise.all(rt).then(function(it){let ot;if(et.isBone===!0?ot=new Bone:it.length>1?ot=new Group:it.length===1?ot=it[0]:ot=new Object3D,ot!==it[0])for(let st=0,ct=it.length;st<ct;st++)ot.add(it[st]);if(et.name&&(ot.userData.name=et.name,ot.name=tt),assignExtrasToUserData(ot,et),et.extensions&&addUnknownExtensionsToUserData(j,ot,et),et.matrix!==void 0){const st=new Matrix4;st.fromArray(et.matrix),ot.applyMatrix4(st)}else et.translation!==void 0&&ot.position.fromArray(et.translation),et.rotation!==void 0&&ot.quaternion.fromArray(et.rotation),et.scale!==void 0&&ot.scale.fromArray(et.scale);return _e.associations.has(ot)||_e.associations.set(ot,{}),_e.associations.get(ot).nodes=o,ot}),this.nodeCache[o]}loadScene(o){const a=this.extensions,j=this.json.scenes[o],_e=this,et=new Group;j.name&&(et.name=_e.createUniqueName(j.name)),assignExtrasToUserData(et,j),j.extensions&&addUnknownExtensionsToUserData(a,et,j);const tt=j.nodes||[],rt=[];for(let nt=0,it=tt.length;nt<it;nt++)rt.push(_e.getDependency("node",tt[nt]));return Promise.all(rt).then(function(nt){for(let ot=0,st=nt.length;ot<st;ot++)et.add(nt[ot]);const it=ot=>{const st=new Map;for(const[ct,ut]of _e.associations)(ct instanceof Material||ct instanceof Texture)&&st.set(ct,ut);return ot.traverse(ct=>{const ut=_e.associations.get(ct);ut!=null&&st.set(ct,ut)}),st};return _e.associations=it(et),et})}}function computeBounds($,o,a){const j=o.attributes,_e=new Box3;if(j.POSITION!==void 0){const rt=a.json.accessors[j.POSITION],nt=rt.min,it=rt.max;if(nt!==void 0&&it!==void 0){if(_e.set(new Vector3(nt[0],nt[1],nt[2]),new Vector3(it[0],it[1],it[2])),rt.normalized){const ot=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[rt.componentType]);_e.min.multiplyScalar(ot),_e.max.multiplyScalar(ot)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const et=o.targets;if(et!==void 0){const rt=new Vector3,nt=new Vector3;for(let it=0,ot=et.length;it<ot;it++){const st=et[it];if(st.POSITION!==void 0){const ct=a.json.accessors[st.POSITION],ut=ct.min,dt=ct.max;if(ut!==void 0&&dt!==void 0){if(nt.setX(Math.max(Math.abs(ut[0]),Math.abs(dt[0]))),nt.setY(Math.max(Math.abs(ut[1]),Math.abs(dt[1]))),nt.setZ(Math.max(Math.abs(ut[2]),Math.abs(dt[2]))),ct.normalized){const ft=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[ct.componentType]);nt.multiplyScalar(ft)}rt.max(nt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}_e.expandByVector(rt)}$.boundingBox=_e;const tt=new Sphere;_e.getCenter(tt.center),tt.radius=_e.min.distanceTo(_e.max)/2,$.boundingSphere=tt}function addPrimitiveAttributes($,o,a){const j=o.attributes,_e=[];function et(tt,rt){return a.getDependency("accessor",tt).then(function(nt){$.setAttribute(rt,nt)})}for(const tt in j){const rt=ATTRIBUTES[tt]||tt.toLowerCase();rt in $.attributes||_e.push(et(j[tt],rt))}if(o.indices!==void 0&&!$.index){const tt=a.getDependency("accessor",o.indices).then(function(rt){$.setIndex(rt)});_e.push(tt)}return assignExtrasToUserData($,o),computeBounds($,o,a),Promise.all(_e).then(function(){return o.targets!==void 0?addMorphTargets($,o.targets,a):$})}const _taskCache=new WeakMap;class DRACOLoader extends Loader{constructor(o){super(o),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(o){return this.decoderPath=o,this}setDecoderConfig(o){return this.decoderConfig=o,this}setWorkerLimit(o){return this.workerLimit=o,this}load(o,a,j,_e){const et=new FileLoader(this.manager);et.setPath(this.path),et.setResponseType("arraybuffer"),et.setRequestHeader(this.requestHeader),et.setWithCredentials(this.withCredentials),et.load(o,tt=>{const rt={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(tt,rt).then(a).catch(_e)},j,_e)}decodeDracoFile(o,a,j,_e){const et={attributeIDs:j||this.defaultAttributeIDs,attributeTypes:_e||this.defaultAttributeTypes,useUniqueIDs:!!j};this.decodeGeometry(o,et).then(a)}decodeGeometry(o,a){for(const nt in a.attributeTypes){const it=a.attributeTypes[nt];it.BYTES_PER_ELEMENT!==void 0&&(a.attributeTypes[nt]=it.name)}const j=JSON.stringify(a);if(_taskCache.has(o)){const nt=_taskCache.get(o);if(nt.key===j)return nt.promise;if(o.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let _e;const et=this.workerNextTaskID++,tt=o.byteLength,rt=this._getWorker(et,tt).then(nt=>(_e=nt,new Promise((it,ot)=>{_e._callbacks[et]={resolve:it,reject:ot},_e.postMessage({type:"decode",id:et,taskConfig:a,buffer:o},[o])}))).then(nt=>this._createGeometry(nt.geometry));return rt.catch(()=>!0).then(()=>{_e&&et&&this._releaseTask(_e,et)}),_taskCache.set(o,{key:j,promise:rt}),rt}_createGeometry(o){const a=new BufferGeometry;o.index&&a.setIndex(new BufferAttribute(o.index.array,1));for(let j=0;j<o.attributes.length;j++){const _e=o.attributes[j],et=_e.name,tt=_e.array,rt=_e.itemSize;a.setAttribute(et,new BufferAttribute(tt,rt))}return a}_loadLibrary(o,a){const j=new FileLoader(this.manager);return j.setPath(this.decoderPath),j.setResponseType(a),j.setWithCredentials(this.withCredentials),new Promise((_e,et)=>{j.load(o,_e,void 0,et)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const o=typeof WebAssembly!="object"||this.decoderConfig.type==="js",a=[];return o?a.push(this._loadLibrary("draco_decoder.js","text")):(a.push(this._loadLibrary("draco_wasm_wrapper.js","text")),a.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(a).then(j=>{const _e=j[0];o||(this.decoderConfig.wasmBinary=j[1]);const et=DRACOWorker.toString(),tt=["/* draco decoder */",_e,"","/* worker */",et.substring(et.indexOf("{")+1,et.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([tt]))}),this.decoderPending}_getWorker(o,a){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const _e=new Worker(this.workerSourceURL);_e._callbacks={},_e._taskCosts={},_e._taskLoad=0,_e.postMessage({type:"init",decoderConfig:this.decoderConfig}),_e.onmessage=function(et){const tt=et.data;switch(tt.type){case"decode":_e._callbacks[tt.id].resolve(tt);break;case"error":_e._callbacks[tt.id].reject(tt);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+tt.type+'"')}},this.workerPool.push(_e)}else this.workerPool.sort(function(_e,et){return _e._taskLoad>et._taskLoad?-1:1});const j=this.workerPool[this.workerPool.length-1];return j._taskCosts[o]=a,j._taskLoad+=a,j})}_releaseTask(o,a){o._taskLoad-=o._taskCosts[a],delete o._callbacks[a],delete o._taskCosts[a]}debug(){console.log("Task load: ",this.workerPool.map(o=>o._taskLoad))}dispose(){for(let o=0;o<this.workerPool.length;++o)this.workerPool[o].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let $,o;onmessage=function(tt){const rt=tt.data;switch(rt.type){case"init":$=rt.decoderConfig,o=new Promise(function(ot){$.onModuleLoaded=function(st){ot({draco:st})},DracoDecoderModule($)});break;case"decode":const nt=rt.buffer,it=rt.taskConfig;o.then(ot=>{const st=ot.draco,ct=new st.Decoder,ut=new st.DecoderBuffer;ut.Init(new Int8Array(nt),nt.byteLength);try{const dt=a(st,ct,ut,it),ft=dt.attributes.map(ht=>ht.array.buffer);dt.index&&ft.push(dt.index.array.buffer),self.postMessage({type:"decode",id:rt.id,geometry:dt},ft)}catch(dt){console.error(dt),self.postMessage({type:"error",id:rt.id,error:dt.message})}finally{st.destroy(ut),st.destroy(ct)}});break}};function a(tt,rt,nt,it){const ot=it.attributeIDs,st=it.attributeTypes;let ct,ut;const dt=rt.GetEncodedGeometryType(nt);if(dt===tt.TRIANGULAR_MESH)ct=new tt.Mesh,ut=rt.DecodeBufferToMesh(nt,ct);else if(dt===tt.POINT_CLOUD)ct=new tt.PointCloud,ut=rt.DecodeBufferToPointCloud(nt,ct);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!ut.ok()||ct.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+ut.error_msg());const ft={index:null,attributes:[]};for(const ht in ot){const pt=self[st[ht]];let yt,gt;if(it.useUniqueIDs)gt=ot[ht],yt=rt.GetAttributeByUniqueId(ct,gt);else{if(gt=rt.GetAttributeId(ct,tt[ot[ht]]),gt===-1)continue;yt=rt.GetAttribute(ct,gt)}ft.attributes.push(_e(tt,rt,ct,ht,pt,yt))}return dt===tt.TRIANGULAR_MESH&&(ft.index=j(tt,rt,ct)),tt.destroy(ct),ft}function j(tt,rt,nt){const ot=nt.num_faces()*3,st=ot*4,ct=tt._malloc(st);rt.GetTrianglesUInt32Array(nt,st,ct);const ut=new Uint32Array(tt.HEAPF32.buffer,ct,ot).slice();return tt._free(ct),{array:ut,itemSize:1}}function _e(tt,rt,nt,it,ot,st){const ct=st.num_components(),dt=nt.num_points()*ct,ft=dt*ot.BYTES_PER_ELEMENT,ht=et(tt,ot),pt=tt._malloc(ft);rt.GetAttributeDataArrayForAllPoints(nt,st,ht,ft,pt);const yt=new ot(tt.HEAPF32.buffer,pt,dt).slice();return tt._free(pt),{name:it,array:yt,itemSize:ct}}function et(tt,rt){switch(rt){case Float32Array:return tt.DT_FLOAT32;case Int8Array:return tt.DT_INT8;case Int16Array:return tt.DT_INT16;case Int32Array:return tt.DT_INT32;case Uint8Array:return tt.DT_UINT8;case Uint16Array:return tt.DT_UINT16;case Uint32Array:return tt.DT_UINT32}}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const $="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",o="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",a=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),j=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let _e=$;WebAssembly.validate(a)&&(_e=o);let et;const tt=WebAssembly.instantiate(rt(_e),{}).then(st=>{et=st.instance,et.exports.__wasm_call_ctors()});function rt(st){const ct=new Uint8Array(st.length);for(let dt=0;dt<st.length;++dt){const ft=st.charCodeAt(dt);ct[dt]=ft>96?ft-71:ft>64?ft-65:ft>47?ft+4:ft>46?63:62}let ut=0;for(let dt=0;dt<st.length;++dt)ct[ut++]=ct[dt]<60?j[ct[dt]]:(ct[dt]-60)*64+ct[++dt];return ct.buffer.slice(0,ut)}function nt(st,ct,ut,dt,ft,ht){const pt=et.exports.sbrk,yt=ut+3&-4,gt=pt(yt*dt),xt=pt(ft.length),wt=new Uint8Array(et.exports.memory.buffer);wt.set(ft,xt);const Mt=st(gt,ut,dt,xt,ft.length);if(Mt===0&&ht&&ht(gt,yt,dt),ct.set(wt.subarray(gt,gt+ut*dt)),pt(gt-pt(0)),Mt!==0)throw new Error(`Malformed buffer data: ${Mt}`)}const it={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ot={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:tt,supported:!0,decodeVertexBuffer(st,ct,ut,dt,ft){nt(et.exports.meshopt_decodeVertexBuffer,st,ct,ut,dt,et.exports[it[ft]])},decodeIndexBuffer(st,ct,ut,dt){nt(et.exports.meshopt_decodeIndexBuffer,st,ct,ut,dt)},decodeIndexSequence(st,ct,ut,dt){nt(et.exports.meshopt_decodeIndexSequence,st,ct,ut,dt)},decodeGltfBuffer(st,ct,ut,dt,ft,ht){nt(et.exports[ot[ft]],st,ct,ut,dt,et.exports[it[ht]])}},generated},getVersion=()=>parseInt(REVISION.replace(/\D+/g,"")),version=getVersion();let dracoLoader=null,decoderPath="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function extensions($,o,a){return j=>{a&&a(j),$&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof $=="string"?$:decoderPath),j.setDRACOLoader(dracoLoader)),o&&j.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF($,o=!0,a=!0,j){return useLoader(GLTFLoader,$,extensions(o,a,j))}useGLTF.preload=($,o=!0,a=!0,j)=>useLoader.preload(GLTFLoader,$,extensions(o,a,j));useGLTF.clear=$=>useLoader.clear(GLTFLoader,$);useGLTF.setDecoderPath=$=>{decoderPath=$};const OrbitControls=reactExports.forwardRef(({makeDefault:$,camera:o,regress:a,domElement:j,enableDamping:_e=!0,keyEvents:et=!1,onChange:tt,onStart:rt,onEnd:nt,...it},ot)=>{const st=useThree(Mt=>Mt.invalidate),ct=useThree(Mt=>Mt.camera),ut=useThree(Mt=>Mt.gl),dt=useThree(Mt=>Mt.events),ft=useThree(Mt=>Mt.setEvents),ht=useThree(Mt=>Mt.set),pt=useThree(Mt=>Mt.get),yt=useThree(Mt=>Mt.performance),gt=o||ct,xt=j||dt.connected||ut.domElement,wt=reactExports.useMemo(()=>new OrbitControls$1(gt),[gt]);return useFrame(()=>{wt.enabled&&wt.update()},-1),reactExports.useEffect(()=>(et&&wt.connect(et===!0?xt:et),wt.connect(xt),()=>void wt.dispose()),[et,xt,a,wt,st]),reactExports.useEffect(()=>{const Mt=Dt=>{st(),a&&yt.regress(),tt&&tt(Dt)},It=Dt=>{rt&&rt(Dt)},Tt=Dt=>{nt&&nt(Dt)};return wt.addEventListener("change",Mt),wt.addEventListener("start",It),wt.addEventListener("end",Tt),()=>{wt.removeEventListener("start",It),wt.removeEventListener("end",Tt),wt.removeEventListener("change",Mt)}},[tt,rt,nt,wt,st,ft]),reactExports.useEffect(()=>{if($){const Mt=pt().controls;return ht({controls:wt}),()=>ht({controls:Mt})}},[$,wt]),reactExports.createElement("primitive",_extends$2({ref:ot,object:wt,enableDamping:_e},it))}),opaque_fragment=version>=154?"opaque_fragment":"output_fragment";class PointMaterialImpl extends PointsMaterial{constructor(o){super(o),this.onBeforeCompile=(a,j)=>{const{isWebGL2:_e}=j.capabilities;a.fragmentShader=a.fragmentShader.replace(`#include <${opaque_fragment}>`,`
        ${_e?`#include <${opaque_fragment}>`:`#extension GL_OES_standard_derivatives : enable
#include <${opaque_fragment}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${version>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const PointMaterial=reactExports.forwardRef(($,o)=>{const[a]=reactExports.useState(()=>new PointMaterialImpl(null));return reactExports.createElement("primitive",_extends$2({},$,{object:a,ref:o,attach:"material"}))});let i,positionRef;const context=reactExports.createContext(null),parentMatrix=new Matrix4,position=new Vector3,PointsInstances=reactExports.forwardRef(({children:$,range:o,limit:a=1e3,...j},_e)=>{const et=reactExports.useRef(null);reactExports.useImperativeHandle(_e,()=>et.current,[]);const[tt,rt]=reactExports.useState([]),[[nt,it,ot]]=reactExports.useState(()=>[new Float32Array(a*3),Float32Array.from({length:a*3},()=>1),Float32Array.from({length:a},()=>1)]);reactExports.useEffect(()=>{et.current.geometry.attributes.position.needsUpdate=!0}),useFrame(()=>{for(et.current.updateMatrix(),et.current.updateMatrixWorld(),parentMatrix.copy(et.current.matrixWorld).invert(),et.current.geometry.drawRange.count=Math.min(a,o!==void 0?o:a,tt.length),i=0;i<tt.length;i++)positionRef=tt[i].current,positionRef.getWorldPosition(position).applyMatrix4(parentMatrix),position.toArray(nt,i*3),et.current.geometry.attributes.position.needsUpdate=!0,positionRef.matrixWorldNeedsUpdate=!0,positionRef.color.toArray(it,i*3),et.current.geometry.attributes.color.needsUpdate=!0,ot.set([positionRef.size],i),et.current.geometry.attributes.size.needsUpdate=!0});const st=reactExports.useMemo(()=>({getParent:()=>et,subscribe:ct=>(rt(ut=>[...ut,ct]),()=>rt(ut=>ut.filter(dt=>dt.current!==ct.current)))}),[]);return reactExports.createElement("points",_extends$2({userData:{instances:tt},matrixAutoUpdate:!1,ref:et,raycast:()=>null},j),reactExports.createElement("bufferGeometry",null,reactExports.createElement("bufferAttribute",{attach:"attributes-position",count:nt.length/3,array:nt,itemSize:3,usage:DynamicDrawUsage}),reactExports.createElement("bufferAttribute",{attach:"attributes-color",count:it.length/3,array:it,itemSize:3,usage:DynamicDrawUsage}),reactExports.createElement("bufferAttribute",{attach:"attributes-size",count:ot.length,array:ot,itemSize:1,usage:DynamicDrawUsage})),reactExports.createElement(context.Provider,{value:st},$))}),PointsBuffer=reactExports.forwardRef(({children:$,positions:o,colors:a,sizes:j,stride:_e=3,...et},tt)=>{const rt=reactExports.useRef(null);return reactExports.useImperativeHandle(tt,()=>rt.current,[]),useFrame(()=>{const nt=rt.current.geometry.attributes;nt.position.needsUpdate=!0,a&&(nt.color.needsUpdate=!0),j&&(nt.size.needsUpdate=!0)}),reactExports.createElement("points",_extends$2({ref:rt},et),reactExports.createElement("bufferGeometry",null,reactExports.createElement("bufferAttribute",{attach:"attributes-position",count:o.length/_e,array:o,itemSize:_e,usage:DynamicDrawUsage}),a&&reactExports.createElement("bufferAttribute",{attach:"attributes-color",count:a.length/_e,array:a,itemSize:3,usage:DynamicDrawUsage}),j&&reactExports.createElement("bufferAttribute",{attach:"attributes-size",count:j.length/_e,array:j,itemSize:1,usage:DynamicDrawUsage})),$)}),Points=reactExports.forwardRef(($,o)=>$.positions instanceof Float32Array?reactExports.createElement(PointsBuffer,_extends$2({},$,{ref:o})):reactExports.createElement(PointsInstances,_extends$2({},$,{ref:o})));function Preload({all:$,scene:o,camera:a}){const j=useThree(({gl:tt})=>tt),_e=useThree(({camera:tt})=>tt),et=useThree(({scene:tt})=>tt);return reactExports.useLayoutEffect(()=>{const tt=[];$&&(o||et).traverse(it=>{it.visible===!1&&(tt.push(it),it.visible=!0)}),j.compile(o||et,a||_e);const rt=new WebGLCubeRenderTarget(128);new CubeCamera(.01,1e5,rt).update(j,o||et),rt.dispose(),tt.forEach(it=>it.visible=!1)},[]),null}const CanvasLoader=()=>{const{progress:$}=useProgress();return jsxs(Html,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[jsx("span",{className:"canvas-loader"}),jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[$.toFixed(2),"%"]})]})},Earth=()=>{const $=useGLTF("./planet/scene.gltf");return jsx("primitive",{object:$.scene,scale:3.5,"position-y":0,"rotation-y":0})},EarthCanvas=()=>jsx("div",{className:"earth",children:jsx(Canvas,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:jsxs(reactExports.Suspense,{fallback:jsx(CanvasLoader,{}),children:[jsx(OrbitControls,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),jsx(Earth,{}),jsx(Preload,{all:!0})]})})});function _defineProperty($,o,a){return o in $?Object.defineProperty($,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):$[o]=a,$}function ownKeys($,o){var a=Object.keys($);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols($);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor($,_e).enumerable})),a.push.apply(a,j)}return a}function _objectSpread2($){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(a),!0).forEach(function(j){_defineProperty($,j,a[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(j){Object.defineProperty($,j,Object.getOwnPropertyDescriptor(a,j))})}return $}function _classCallCheck($,o){if(!($ instanceof o))throw new TypeError("Cannot call a class as a function")}new Vector2;new Vector2;var Grad=function $(o,a,j){var _e=this;_classCallCheck(this,$),_defineProperty(this,"dot2",function(et,tt){return _e.x*et+_e.y*tt}),_defineProperty(this,"dot3",function(et,tt,rt){return _e.x*et+_e.y*tt+_e.z*rt}),this.x=o,this.y=a,this.z=j},grad3=[new Grad(1,1,0),new Grad(-1,1,0),new Grad(1,-1,0),new Grad(-1,-1,0),new Grad(1,0,1),new Grad(-1,0,1),new Grad(1,0,-1),new Grad(-1,0,-1),new Grad(0,1,1),new Grad(0,-1,1),new Grad(0,1,-1),new Grad(0,-1,-1)],p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],perm=new Array(512),gradP=new Array(512),seed=function $(o){o>0&&o<1&&(o*=65536),o=Math.floor(o),o<256&&(o|=o<<8);for(var a=0;a<256;a++){var j;a&1?j=p[a]^o&255:j=p[a]^o>>8&255,perm[a]=perm[a+256]=j,gradP[a]=gradP[a+256]=grad3[j%12]}};seed(0);function normalizeSeed($){if(typeof $=="number")$=Math.abs($);else if(typeof $=="string"){var o=$;$=0;for(var a=0;a<o.length;a++)$=($+(a+1)*(o.charCodeAt(a)%96))%2147483647}return $===0&&($=311),$}function lcgRandom($){var o=normalizeSeed($);return function(){var a=o*48271%2147483647;return o=a,a/2147483647}}var Generator=function $(o){var a=this;_classCallCheck(this,$),_defineProperty(this,"seed",0),_defineProperty(this,"init",function(j){a.seed=j,a.value=lcgRandom(j)}),_defineProperty(this,"value",lcgRandom(this.seed)),this.init(o)},defaultGen=new Generator(Math.random()),defaultSphere={radius:1,center:[0,0,0]};function inSphere($,o){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultGen,j=_objectSpread2(_objectSpread2({},defaultSphere),o),_e=j.radius,et=j.center,tt=0;tt<$.length;tt+=3){var rt=Math.pow(a.value(),.3333333333333333),nt=a.value()*2-1,it=a.value()*2-1,ot=a.value()*2-1,st=Math.sqrt(nt*nt+it*it+ot*ot);nt=rt*nt/st,it=rt*it/st,ot=rt*ot/st,$[tt]=nt*_e+et[0],$[tt+1]=it*_e+et[1],$[tt+2]=ot*_e+et[2]}return $}const Stars=$=>{const o=reactExports.useRef(),[a]=reactExports.useState(()=>inSphere(new Float32Array(5e3),{radius:1.2}));return useFrame((j,_e)=>{o.current.rotation.x-=_e/10,o.current.rotation.y-=_e/15}),jsx("group",{rotation:[0,0,Math.PI/4],children:jsx(Points,{ref:o,positions:a,stride:3,frustumCulled:!0,...$,children:jsx(PointMaterial,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},StarsCanvas=()=>jsx("div",{className:"w-full h-auto absolute inset-0 z-[-1] stars",children:jsxs(Canvas,{camera:{position:[0,0,1]},children:[jsx(reactExports.Suspense,{fallback:null,children:jsx(Stars,{})}),jsx(Preload,{all:!0})]})});function Home(){const[$,o]=reactExports.useState(!1),[a,j]=reactExports.useState(""),[_e,et]=reactExports.useState(""),[tt,rt]=reactExports.useState([]),nt=async()=>{const st=new Web3Provider(window.ethereum),ct=st.getSigner();try{await st.send("eth_requestAccounts",[]);const ut=await ct.getAddress();j(ut),o(!0)}catch(ut){console.log(ut.error)}},it=async()=>{const ct=new Web3Provider(window.ethereum).getSigner(),dt=await new Contract(contractAddress,abi,ct).see_record(a);for(var ft=0;ft<dt.length;ft++)console.log(dt[ft].url);rt(dt)},ot=async()=>{const ct=new Web3Provider(window.ethereum).getSigner(),ut=new Contract(contractAddress,abi,ct);try{await ut.add_record(Date.now(),_e),alert("Please wait for the transaction to be confirmed"),et("")}catch(dt){alert(dt.error)}};return jsxs("div",{className:"parent",children:[jsx("div",{className:"child1",children:jsxs(Stack$1,{sx:{alignItems:"center"},children:[jsx(StarsCanvas,{}),jsxs(Stack$1,{sx:{mt:1},children:[jsx(Stack$1,{}),jsxs(Stack$1,{children:[jsx(Typography$1,{sx:{fontSize:50,fontWeight:"bold"},id:"home-head",children:"MedicHQ"}),jsx("br",{}),jsx("br",{}),jsxs(Typography$1,{sx:{fontSize:25,fontFamily:"cursive"},children:["A decentralised healthcare system to preserve and exchange patient data ",jsx("br",{})," between hospitals, laboratories, pharmacies and physicians"]}),jsx("br",{}),a!==""?jsx(TextField$1,{id:"text1",value:a,sx:{width:450,mt:2},label:"Your Address"}):jsx(Button$1,{variant:"contained",sx:{width:200,mt:2},onClick:()=>{nt()},children:"Connect Metamask"})]}),jsxs(Stack$1,{sx:{mt:10},children:[jsx(Typography$1,{sx:{fontSize:40,fontWeight:"bold"},children:"Features:"}),jsx("br",{}),jsxs(Stack$1,{sx:{flexDirection:"row"},children:[jsxs(Stack$1,{sx:{width:200,textAlign:"center",mr:6},children:[jsx("img",{src:"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/143cdc64702723.5ae00a2ba8cd0.gif",style:{width:200,height:200,borderRadius:100}}),jsx(Typography$1,{sx:{m:.5},children:"Built on top of Blockcahin Technology"})]}),jsxs(Stack$1,{sx:{width:200,textAlign:"center",mr:6},children:[jsx("img",{src:feature2,style:{width:200}}),jsx(Typography$1,{sx:{m:.5},children:"Share medical records in the health care system"})]}),jsxs(Stack$1,{sx:{width:200,textAlign:"center"},children:[jsx("img",{src:feature3,style:{width:200}}),jsx(Typography$1,{sx:{m:.5},children:"To make sure patients receive fastest treatment"})]})]})]}),jsx(Stack$1,{sx:{mt:10},children:a!=""?jsxs(Stack$1,{children:[jsx(Typography$1,{sx:{fontSize:40,fontWeight:"bold"},children:"Add Your Reports :"}),jsx(Upload,{}),jsxs(Stack$1,{sx:{flexDirection:"row"},children:[jsx(TextField$1,{variant:"filled",id:"text2",label:"URL of prescription/data",sx:{width:500,mr:2},value:_e,onChange:st=>{et(st.target.value)}}),jsx(Button$1,{variant:"contained",sx:{width:80},onClick:()=>{ot()},children:"Submit"})]})]}):jsx(Stack$1,{sx:{color:"black",backgroundColor:"white",alignItems:"center",borderRadius:2},id:"bar",children:jsx(Typography$1,{sx:{m:1,fontSize:20},children:"! Please connect to metamask to upload your report"})})}),jsxs(Stack$1,{sx:{mt:10},children:[jsx(Typography$1,{sx:{fontSize:40,fontWeight:"bold"},children:"Check your reports:"}),jsx("br",{}),a!=""?jsx(Button$1,{variant:"contained",sx:{width:300},onClick:()=>{it()},children:"Get all your data"}):jsx(Stack$1,{sx:{color:"black",backgroundColor:"white",alignItems:"center",borderRadius:2},id:"bar",children:jsx(Typography$1,{sx:{m:1,fontSize:20},children:"! Please connect to metamask to check your report"})}),jsx(Stack$1,{sx:{alignItems:"center",flexDirection:"row",mt:5,display:"flex",flexWrap:"wrap",width:1e3},children:tt.map((st,ct)=>{var ut=formatUnits(st.timestamp,0),dt=new Date(+ut);return console.log(new Date(+ut)),jsxs(Stack$1,{sx:{width:200,textAlign:"center",m:1},children:[jsx("img",{src:st.url}),jsxs(Stack$1,{sx:{flexDirection:"row"},children:[jsxs(Typography$1,{children:["Date:",dt.getDate(),".",dt.getMonth(),".",dt.getFullYear()]}),jsx("a",{href:st.url,target:"_blank",children:jsx("img",{src:"https://static.thenounproject.com/png/196595-200.png",style:{width:20,marginLeft:10}})})]})]},ct)})})]})]})]})}),jsx("div",{className:"child2",id:"earth-home",children:jsx(EarthCanvas,{})})]})}const Firm=()=>{const[$,o]=reactExports.useState(!1),[a,j]=reactExports.useState([]),[_e,et]=reactExports.useState(""),[tt,rt]=reactExports.useState(""),nt=async()=>{try{const st=new Web3Provider(window.ethereum),ct=st.getSigner();await st.send("eth_requestAccounts",[]);const ut=await ct.getAddress();et(ut),o(!0)}catch{alert("Please Install Metamask")}},it=async()=>{const ct=new Web3Provider(window.ethereum).getSigner(),dt=await new Contract(contractAddress,abi,ct).see_record(tt);for(var ft=0;ft<dt.length;ft++)console.log(dt[ft].url);j(dt)},ot=()=>{tt!=""?it():alert("please enter correct address")};return jsxs("div",{className:"contain",children:[jsx(StarsCanvas,{}),jsxs("div",{className:"parent-firm",children:[jsx("div",{className:"child1-firm",children:jsxs(Stack$1,{sx:{alignItems:"center"},className:"parent-firm",children:[jsxs(Stack$1,{sx:{mt:1,width:1e3},children:[jsx(Stack$1,{}),jsxs(Stack$1,{children:[jsx(Typography$1,{sx:{fontSize:50,fontWeight:"bold"},children:"MedicHQ Firm"}),jsx("br",{}),_e!==""?jsx(TextField$1,{label:"Firm Address",value:_e,style:{border:"1px solid white",borderRadius:"5px"},id:"text",sx:{width:450,mt:2}}):jsx(Button$1,{variant:"contained",sx:{width:200,mt:2},onClick:()=>{nt()},children:"Connect Metamask"})]})]}),jsxs(Stack$1,{sx:{mt:10},children:[_e!==""?jsxs(Stack$1,{sx:{flexDirection:"row"},children:[jsx(TextField$1,{className:"placeh",placeholder:"Enter patients address",id:"text",style:{border:"1px solid white",color:"white",borderRadius:"5px"},sx:{width:450},value:tt,onChange:st=>{rt(st.target.value)}}),jsx(Button$1,{variant:"contained",sx:{width:50,ml:2},onClick:()=>{ot()},children:"Find"})]}):"Please Connect Metamask first",jsx(Stack$1,{sx:{alignItems:"center",flexDirection:"row",mt:5,diaplay:"flex",flexWrap:"wrap",width:1e3},children:a.map((st,ct)=>{var ut=formatUnits(st.timestamp,0),dt=new Date(+ut);return console.log(new Date(+ut)),jsx(Stack$1,{sx:{m:1},children:jsx(Card$1,{sx:{width:300},children:jsxs(CardActionArea$1,{href:st.url,target:"_blank",children:[jsx(CardMedia$1,{component:"img",image:st.url,height:300}),jsx(CardContent$1,{sx:{backgroundColor:"#939393"},children:jsxs(Typography$1,{sx:{color:"#fff",fontWeight:"bold"},children:["Date:",dt.getDate(),".",dt.getMonth(),".",dt.getFullYear()]})})]})})},ct)})}),jsx(Stack$1,{sx:{mt:10,flexDirection:"row",alignItems:"center",backgroundColor:"#EBEAF0",justifyContent:"center",borderRadius:10,color:"black"}})]})]})}),jsx("div",{className:"child2-firm",children:jsx(Stack$1,{children:jsx(EarthCanvas,{})})})]})]})},reports="/assets/reports-4c03dc45.gif",NewHome=()=>{let $=useNavigate();return jsxs("div",{className:"newhome relative z-0 bg-black",children:[jsx("div",{children:jsx("h2",{className:"heading",children:"Welcome To MedicHQ"})}),jsxs("div",{className:"subheading",children:["A decentralised healthcare system to preserve and exchange patient data ",jsx("br",{})," between hospitals, laboratories, pharmacies and physicians"]}),jsxs("div",{className:"relative second parent",children:[jsxs("div",{className:"container child1",children:[jsxs("div",{className:"patient ",children:[jsx("h2",{style:{fontFamily:'"Roboto","Helvetica","Arial",sans-serif'},children:"Patients Portal"}),jsx("img",{src:reports,width:"300",height:"200"}),jsx("p",{style:{fontFamily:"cursive"},children:"Want to upload your records ⁉️"}),jsx("div",{className:"btn-center",children:jsx("button",{className:"btn-main",onClick:()=>{$("main")},children:"Click Here"})})]}),jsxs("div",{className:"doctor",children:[jsx("h2",{style:{fontFamily:'"Roboto","Helvetica","Arial",sans-serif'},children:"Doctors Portal"}),jsx("img",{src:"https://media2.giphy.com/media/LHtQ0EcqJCAU6kX2Zk/giphy.gif",alt:"doctor gif",height:"200"}),jsx("br",{}),jsx("p",{style:{fontFamily:"cursive"},children:"Want to view patient's record ⁉️"}),jsx("div",{className:"btn-center",children:jsx("button",{className:"btn-main",onClick:()=>{$("firm")},children:"Click Here"})})]})]}),jsx("div",{className:"earth-box child2",children:jsx("div",{className:"h-full earth-canvas",children:jsx(EarthCanvas,{})})})]}),jsx("div",{className:"w-full h-full absolute inset-0",children:jsx(StarsCanvas,{})})]})};function App(){return jsxs(Routes,{children:[jsx(Route,{path:"/",exact:!0,element:jsx(NewHome,{})}),jsx(Route,{path:"/main",exact:!0,element:jsx(Home,{})}),jsx(Route,{path:"/firm",exact:!0,element:jsx(Firm,{})})]})}client$1.createRoot(document.getElementById("root")).render(jsx(BrowserRouter,{children:jsx(App,{})}));
